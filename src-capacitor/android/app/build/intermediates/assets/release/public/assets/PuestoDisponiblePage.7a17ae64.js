import{d as D,R as k,c as u,a0 as I,h as P,_ as S,t as b,v as f,x as _,z as a,F as h,bf as z,y as e,I as B,G as y,H as Q,a5 as E,K as p,Q as x,B as V,O as M,D as N}from"./index.b8e09611.js";import{Q as $}from"./QImg.95754b62.js";import{r as j,e as L}from"./es.edeb524b.js";import{d as v}from"./dayjs.min.80d1628b.js";import{B as A,C as F}from"./ComportamientoModalesVacanteDisponible.a449a216.js";import{M as R}from"./ModalEntidad.54c9ab3a.js";import{S as O,x as T}from"./utils.9344cd7e.js";import{V as U}from"./VacanteController.3771904c.js";import{u as Z}from"./vacante.f63822c2.js";import"./_commonjsHelpers.8402d862.js";import"./ComponenteModal.domain.92aacded.js";import"./QBadge.89898cd2.js";import"./QChip.f8f308fa.js";import"./VisorImagen.29457a6f.js";import"./QPage.e6f8825d.js";import"./extend.4a22771d.js";import"./QToolbar.afeb6de9.js";import"./position-engine.799c9136.js";import"./configuracion_general.1d29d94f.js";import"./ConfiguracionController.a136b041.js";import"./format.8ac60962.js";import"./Vacante.373e1abf.js";import"./entidadAuditable.75a46700.js";var G=D({name:"PuestoDisponiblePage",components:{BasicContainer:A,ModalEntidad:R},setup(){const s=new O,{notificarError:i}=k(),r=u(),l=u([]),n=u(),c=new F,d=Z(),m=I();P(()=>{const t=m.currentRoute.value.query.id;t&&(d.idVacante=t),m.currentRoute.value.query.showModal=="1"&&c.abrirModalEntidad("VisualizarVacantePage")}),v.extend(j),v.locale(L),s.cargarConsulta(async()=>await o());async function o(){try{const t=(await new U().listar({activo:1,es_completada:0})).result;l.value=t,n.value=t}catch{i("Error al obtener las vacantes disponibles")}}async function g(t){d.idVacante=t,c.abrirModalEntidad("VisualizarVacantePage")}function w(){if(r.value===""){n.value=l.value;return}const t=r.value.toLowerCase(),q=l.value.filter(C=>C.nombre.toLowerCase().indexOf(t)>-1);n.value=q}return{search:r,vacantesDisponibles:n,dayjs:v,expanded:u(!1),modales:c,visualizarVacante:g,getShortDescription:T,filtrarVacantes:w}}});const H={class:"row q-col-gutter-sm q-pa-md flex flex-center"},K={class:"col-12 col-md-6 col-sm-12"},J={class:"row q-col-gutter-sm q-py-md q-mx-sm"},W={class:"my-custom-card"},X={class:"row",style:{"min-height":"70%","max-height":"72%"}},Y={class:"col-6 h-100"},ee={class:"col-6"},se={class:"column"},oe={class:"col-9 block q-px-xs text-caption text-grey text-justify"},te={class:"row q-pa-sm",style:{"min-height":"10%","max-height":"15%"}},ae={class:"col-6"},ie={class:"q-px-sm"},ne={class:"col-6"},re={class:"q-px-sm"},le={class:"q-py-sm",style:{"min-height":"10%","max-height":"15%"}};function ce(s,i,r,l,n,c){const d=b("basic-container"),m=b("modal-entidad");return f(),_(y,null,[a(d,null,{contenido:h(()=>[a(z,null,{default:h(()=>[i[1]||(i[1]=e("div",{class:"text-h5 q-mt-sm q-mb-xs text-center text-bold"}," Nuestros Puestos de Trabajo ",-1)),e("div",H,[e("div",K,[a(B,{modelValue:s.search,"onUpdate:modelValue":[i[0]||(i[0]=o=>s.search=o),s.filtrarVacantes],placeholder:"Buscar por puesto o palabra clave...",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])])])]),_:1}),e("div",J,[(f(!0),_(y,null,Q(s.vacantesDisponibles,o=>(f(),_("div",{class:"col-12 col-md-4 col-sm-6",key:o.id},[e("div",W,[e("div",X,[e("div",Y,[a($,{class:"rounded-borders",loading:"lazy",src:o.imagen_referencia,height:"25vh",fit:"contain"},null,8,["src"])]),e("div",ee,[e("div",se,[e("div",{class:E(["col-3 block text-h6 screen--subtitle2 text-center text-bold overflow-hidden",s.$q.screen.lg?"text-h6":"text-subtitle2"]),style:{overflow:"hidden","text-overflow":"ellipsis"}},p(o.nombre),3),e("div",oe,[e("p",null,p(s.getShortDescription(s.$q,o.descripcion)),1)])])])]),a(x),e("div",te,[e("div",ae,[a(V,{class:"bi-clock-fill"}),e("strong",ie,p(s.dayjs()>s.dayjs(o.fecha_caducidad)?"FINALIZADO":"FINALIZA "+s.dayjs().to(o.fecha_caducidad).toUpperCase()),1)]),e("div",ne,[a(V,{class:"bi-geo-alt-fill"}),e("strong",re,p(o.canton),1)])]),a(x),e("div",le,[a(M,{unelevated:"",glossy:"",rounded:"",color:"primary",onClick:g=>s.visualizarVacante(o.id),class:"flex block full-width"},{default:h(()=>i[2]||(i[2]=[N("Visualizar")])),_:2},1032,["onClick"])])])]))),128))])]),_:1}),a(m,{comportamiento:s.modales,persistente:!1},null,8,["comportamiento"])],64)}var Qe=S(G,[["render",ce],["__scopeId","data-v-33e15466"]]);export{Qe as default};
