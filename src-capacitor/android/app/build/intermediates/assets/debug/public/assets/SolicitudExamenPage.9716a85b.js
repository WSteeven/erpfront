import{y as x,a as y,O,H as w}from"./EssentialTable.00c17e97.js";import{S as T}from"./utils.521b98f3.js";import{r as A}from"./i18n-validators.29e2545c.js";import{u as L}from"./index.490dde02.js";import{d as M,E as F,c as l,e as $,q as k,_ as B,t as E,v as D,P as I,F as V,y as q,z}from"./index.6449c167.js";import{F as H,S as N,a as P}from"./FormularioSolicitudExamen.e0084707.js";import{T as R}from"./TabLayoutFilterTabs2.5e702525.js";import{M as j}from"./ModalEntidad.168b465e.js";import{C as G}from"./ContenedorSimpleMixin.09c9bed5.js";import{E as J,c as K}from"./ExamenSolicitado.a72f3d28.js";import{E as Q}from"./Empleado.20234ba0.js";import{u as U}from"./DetallePaciente.b09d5be6.js";import"./QSelect.6ce302d7.js";import"./QChip.95469f73.js";import"./QItemSection.9a955ec6.js";import"./position-engine.70d0a89f.js";import"./format.8ac60962.js";import"./QToolbar.8dbe891b.js";import"./use-fullscreen.a7661f85.js";import"./QBadge.e6f320cd.js";import"./QPopupProxy.72ff1d6d.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.fd079679.js";import"./QFile.90d9394a.js";import"./VisorImagen.75b3c53f.js";import"./logo.4781eea2.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./index.0198dd12.js";import"./entidadAuditable.75a46700.js";import"./SimpleLayout.3a4276ec.js";import"./buttonSubmits.fe817da3.js";import"./LaboratorioClinicoController.cad94168.js";import"./filtrosListadosGenerales.c3aa2da3.js";import"./EmpleadoPermisosController.f2fe35f7.js";import"./QTabs.6c234f27.js";import"./QResizeObserver.9af84680.js";import"./QTabPanels.49d2362a.js";import"./touch.9135741d.js";import"./QPage.5d173a8a.js";import"./EssentialTableTabs.586dbdfc.js";import"./EssentialTablePagination.d5c1010a.js";import"./configuracion_general.37a05c0a.js";import"./ConfiguracionController.c50d9536.js";function W(o){return{btnAprobar:{titulo:"Aprobar",icono:"bi-cash-coin",color:"positive",visible:()=>o.value===x.SOLICITADO.value,accion:()=>{}}}}var X=M({components:{TabLayoutTabs:R,Estado:y,ModalesEntidad:j,FormularioSolicitudExamen:H},setup(){const o=U(),e=new G(N,new P),{entidad:t,accion:p}=e.useReferencias(),{setValidador:d,listar:u}=e.useComportamiento(),{onConsultado:m}=e.useHooks(),c=new F,s=l(x.SOLICITADO.value),f=$(new Q),n=new T,S=l(),h=l(),{btnAprobar:v}=W(s),g=i=>{n.activar();try{s.value=i;const a={estado_solicitud_examen:s.value,registro_empleado_examen_id:o.idRegistroEmpleadoExamen};u(a)}catch(a){console.log(a)}finally{n.desactivar()}},C=async i=>{n.activar();const a={campos:"id,foto_url,nombres,apellidos,identificacion,nombre_canton,email,fecha_nacimiento,tipo_sangre,genero,telefono,area_info,nombre_cargo,fecha_ingreso,canton,jefe_inmediato,edad"};try{const{result:r}=await c.consultar(i,a);f.hydrate(r)}catch(r){console.log(r)}finally{n.desactivar()}},_=L({registro_empleado_examen:{required:A}},t);return d(_.value),m(async()=>{t.empleado_id&&C(t.empleado_id),t.examenes_solicitados=t.examenes_solicitados.map(i=>{var r,b;const a=new J;return a.hydrate(i),a.fecha_asistencia=((r=i.fecha_hora_asistencia)==null?void 0:r.split(" ")[0])||null,a.hora_asistencia=((b=i.fecha_hora_asistencia)==null?void 0:b.split(" ")[1])||null,a})}),{v$:_,mixin:e,solicitudExamen:t,configuracionColumnasSolicitudExamen:K,tabSolicitud:s,filtrarSolicitudes:g,tabOptionsEstadosSolicitudExamen:O,empleado:f,estadosCitaMedica:w,maskFecha:k,fecha_cita_medica:S,hora_cita_medica:h,accion:p,btnAprobar:v}}});const Y={class:"q-pa-md"};function Z(o,e,t,p,d,u){const m=E("formulario-solicitud-examen"),c=E("tab-layout-tabs");return D(),I(c,{mixin:o.mixin,configuracionColumnas:o.configuracionColumnasSolicitudExamen,full:!0,tabOptions:o.tabOptionsEstadosSolicitudExamen,filtrar:o.filtrarSolicitudes,tabDefecto:o.tabSolicitud,forzarListar:!0,"permitir-consultar":!0,"permitir-editar":!0,"mostrar-button-submits":!!o.empleado.id},{formulario:V(()=>[q("div",Y,[z(m,{mixin:o.mixin,empleado:o.empleado},null,8,["mixin","empleado"])])]),_:1},8,["mixin","configuracionColumnas","tabOptions","filtrar","tabDefecto","mostrar-button-submits"])}var Go=B(X,[["render",Z]]);export{Go as default};
