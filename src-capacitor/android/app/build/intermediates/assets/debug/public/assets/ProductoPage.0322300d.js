var N=Object.defineProperty;var U=(e,a,n)=>a in e?N(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n;var u=(e,a,n)=>(U(e,typeof a!="symbol"?a+"":a,n),n);import{Q as V,a as w}from"./QItemSection.9a955ec6.js";import{Q}from"./QSelect.6ce302d7.js";import{d as D,c as C,v as d,x as m,z as i,F as r,B as I,j as L,b0 as _,G as g,m as A,bx as B,ct as j,_ as E,t as T,P as R,y as s,H as v,D as P,I as O,J as z,a4 as G,K as $}from"./index.6449c167.js";import{k as H}from"./EssentialTable.00c17e97.js";import{Q as J}from"./QForm.ca56f146.js";import{c as K}from"./configuracionColumnasProductos.4f52212a.js";import{r as y}from"./i18n-validators.29e2545c.js";import{u as W}from"./index.490dde02.js";import{T as X}from"./TabLayout.0bce4313.js";import{Q as Y}from"./QFile.90d9394a.js";import{Q as Z}from"./QImg.fd079679.js";import{L as x}from"./LabelAbrirModal.12abdec4.js";import{M as ee}from"./ModalEntidad.168b465e.js";import{C as oe}from"./ContenedorSimpleMixin.09c9bed5.js";import{E as ae}from"./entidadAuditable.75a46700.js";import{P as re}from"./ProductoController.5697e6d7.js";import{C as ie}from"./CategoriaController.c970bebf.js";import{b as le}from"./utils.521b98f3.js";import{U as se}from"./UnidadMedidaController.198e0928.js";import"./QChip.95469f73.js";import"./position-engine.70d0a89f.js";import"./format.8ac60962.js";import"./QToolbar.8dbe891b.js";import"./use-fullscreen.a7661f85.js";import"./QBadge.e6f320cd.js";import"./QPopupProxy.72ff1d6d.js";import"./_commonjsHelpers.8402d862.js";import"./VisorImagen.75b3c53f.js";import"./logo.4781eea2.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./index.0198dd12.js";import"./QTabs.6c234f27.js";import"./QResizeObserver.9af84680.js";import"./QTabPanels.49d2362a.js";import"./touch.9135741d.js";import"./QPage.5d173a8a.js";import"./buttonSubmits.fe817da3.js";import"./EssentialTablePagination.d5c1010a.js";import"./configuracion_general.37a05c0a.js";import"./ConfiguracionController.c50d9536.js";const te=[{name:"descripcion",field:"descripcion",label:"Descripci\xF3n",align:"left",sortable:!0},{name:"modelo_id",field:"modelo_id",label:"Modelo",align:"left",sortable:!0},{name:"serial",field:"serial",label:"Serial",align:"left",sortable:!0},{name:"precio_compra",field:"precio_compra",label:"P. Compra",align:"left",sortable:!0},{name:"computadora",field:"computadora",label:"Caracteristicas",align:"left",sortable:!0},{name:"fibra",field:"fibra",label:"Fibra",align:"left",sortable:!0},{name:"puntas",field:"puntas",label:"Detalles Fibra",align:"left",sortable:!0}],ne=D({__name:"SelectorImagenMultiple",props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:a}){const n=a,p=C(),t=C(),f=o=>{if(o!=null){const l=new FileReader;l.readAsDataURL(o),l.onload=()=>{t.value=l.result,n("update:modelValue",t.value)}}else p.value=o};function c(){t.value=null,n("update:modelValue",t.value)}return(o,l)=>(d(),m(g,null,[i(Y,{modelValue:p.value,"onUpdate:modelValue":[l[0]||(l[0]=b=>p.value=b),f],dense:"",outlined:"",class:"q-mb-sm",clearable:"",multiple:"","use-chips":"",onClear:l[1]||(l[1]=b=>c())},{prepend:r(()=>[i(I,{name:"attach_file"})]),_:1},8,["modelValue"]),L(i(Z,{src:t.value,style:{"max-width":"100%",height:"150px"},fit:"cover"},null,8,["src"]),[[_,t.value]])],64))}});var de=ne;class me extends ae{constructor(){super();u(this,"nombre");u(this,"categoria");u(this,"unidad_medida");u(this,"cantidad");u(this,"codigo");u(this,"tipo");u(this,"detalles");this.nombre=null,this.categoria=null,this.tipo=null,this.unidad_medida=null,this.cantidad=null,this.codigo=null,this.detalles=null}}var ue=D({components:{TabLayout:X,SelectorImagenMultiple:de,LabelAbrirModal:x,ModalesEntidad:ee},setup(){const e=new oe(me,new re),{entidad:a,disabled:n,accion:p,listadosAuxiliares:t}=e.useReferencias(),{setValidador:f,obtenerListados:c,cargarVista:o}=e.useComportamiento(),l=C([]),b=C([]);o(async()=>{c({categorias:{controller:new ie,params:{campos:"id,nombre"}},unidades_medidas:new se})});const F={nombre:{required:y},categoria:{required:y},unidad_medida:{required:y},tipo:{required:y}};le().setQuasar(A());const h=W(F,a);return f(h.value),l.value=t.categorias,b.value=t.unidades_medidas,{mixin:e,producto:a,disabled:n,accion:p,v$:h,configuracionColumnas:K,acciones:B,configuracionColumnasDetallesProductos:te,opciones:l,unidades_medidas:b,tiposProductos:j,filterFn(k,q){if(k===""){q(()=>{l.value=t.categorias});return}q(()=>{const M=k.toLowerCase();l.value=t.categorias.filter(S=>S.nombre.toLowerCase().indexOf(M)>-1)})}}}});const pe={class:"row q-col-gutter-sm q-py-md"},ce={class:"col-12 col-md-3 q-mb-md"},be={class:"error-msg"},ge={class:"col-12 col-md-3 q-mb-md"},fe={class:"error-msg"},ve={class:"col-12 col-md-3 q-mb-md"},$e={class:"error-msg"},ye={class:"col-12 col-md-3 q-mb-md"},Ce={class:"error-msg"},Ve={key:0,class:"col-12 col-md-12 q-mt-xl"};function we(e,a,n,p,t,f){const c=T("tab-layout");return d(),R(c,{mixin:e.mixin,configuracionColumnas:e.configuracionColumnas,"titulo-pagina":"Productos"},{formulario:r(()=>[i(J,{onSubmit:a[4]||(a[4]=G(()=>{},["prevent"]))},{default:r(()=>[s("div",pe,[s("div",ce,[a[6]||(a[6]=s("label",{class:"q-mb-sm block"},"Tipo",-1)),i(Q,{modelValue:e.producto.tipo,"onUpdate:modelValue":a[0]||(a[0]=o=>e.producto.tipo=o),options:e.tiposProductos,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"",disable:e.disabled,error:!!e.v$.tipo.$errors.length,"error-message":"Debes seleccionar un tipo ","option-value":o=>o.value,"option-label":o=>o.label,"emit-value":"","map-options":""},{error:r(()=>[(d(!0),m(g,null,v(e.v$.tipo.$errors,o=>(d(),m("div",{key:o.$uid},[s("div",be,$(o.$message),1)]))),128))]),"no-option":r(()=>[i(V,null,{default:r(()=>[i(w,{class:"text-grey"},{default:r(()=>a[5]||(a[5]=[P(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","error","option-value","option-label"])]),s("div",ge,[a[8]||(a[8]=s("label",{class:"q-mb-sm block"},"Categoria",-1)),i(Q,{modelValue:e.producto.categoria,"onUpdate:modelValue":a[1]||(a[1]=o=>e.producto.categoria=o),options:e.opciones,hint:"Agregue elementos desde el panel de categor\xEDas","transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"",disable:e.disabled,readonly:e.disabled,error:!!e.v$.categoria.$errors.length,"error-message":"Debes seleccionar una categor\xEDa","use-input":"","input-debounce":"0",onFilter:e.filterFn,"option-value":o=>o.id,"option-label":o=>o.nombre,"emit-value":"","map-options":""},{error:r(()=>[(d(!0),m(g,null,v(e.v$.categoria.$errors,o=>(d(),m("div",{key:o.$uid},[s("div",fe,$(o.$message),1)]))),128))]),"no-option":r(()=>[i(V,null,{default:r(()=>[i(w,{class:"text-grey"},{default:r(()=>a[7]||(a[7]=[P(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","readonly","error","onFilter","option-value","option-label"])]),s("div",ve,[a[10]||(a[10]=s("label",{class:"q-mb-sm block"},"Unidad de medida",-1)),i(Q,{modelValue:e.producto.unidad_medida,"onUpdate:modelValue":a[2]||(a[2]=o=>e.producto.unidad_medida=o),options:e.unidades_medidas,hint:"Agregue elementos desde el panel de unidades de medida","options-dense":"",dense:"",outlined:"",disable:e.disabled,readonly:e.disabled,error:!!e.v$.unidad_medida.$errors.length,"error-message":"Debes seleccionar una unidad de medida","option-value":o=>o.id,"option-label":o=>o.nombre+" ("+o.simbolo+")","emit-value":"","map-options":""},{error:r(()=>[(d(!0),m(g,null,v(e.v$.unidad_medida.$errors,o=>(d(),m("div",{key:o.$uid},[s("div",$e,$(o.$message),1)]))),128))]),"no-option":r(()=>[i(V,null,{default:r(()=>[i(w,{class:"text-grey"},{default:r(()=>a[9]||(a[9]=[P(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","readonly","error","option-value","option-label"])]),s("div",ye,[a[11]||(a[11]=s("label",{class:"q-mb-sm block"},"Nombre",-1)),i(O,{modelValue:e.producto.nombre,"onUpdate:modelValue":a[3]||(a[3]=o=>e.producto.nombre=o),placeholder:"Obligatorio",readonly:e.disabled,disable:e.disabled,error:!!e.v$.nombre.$errors.length,outlined:"",dense:""},{error:r(()=>[(d(!0),m(g,null,v(e.v$.nombre.$errors,o=>(d(),m("div",{key:o.$uid},[s("div",Ce,$(o.$message),1)]))),128))]),_:1},8,["modelValue","readonly","disable","error"])]),e.accion===e.acciones.consultar?(d(),m("div",Ve,[i(H,{bordered:"",title:"Detalles",rows:e.producto.detalles,columns:e.configuracionColumnasDetallesProductos,"row-key":"id",pagination:{rowsPerPage:10},dense:""},null,8,["rows","columns"])])):z("",!0)])]),_:1})]),_:1},8,["mixin","configuracionColumnas"])}var uo=E(ue,[["render",we]]);export{uo as default};
