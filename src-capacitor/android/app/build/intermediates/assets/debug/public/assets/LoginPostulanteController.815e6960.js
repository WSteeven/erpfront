var a=Object.defineProperty;var i=(r,t,e)=>t in r?a(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var s=(r,t,e)=>(i(r,typeof t!="symbol"?t+"":t,e),e);import{Y as n,Z as c,$ as u,bD as h}from"./index.6449c167.js";class w{constructor(){s(this,"store",n());s(this,"Router",c());s(this,"route",u())}async login(t){try{const e=this.route.query.redirect||"/puestos-disponibles",o=await this.store.login(t);return await this.Router.replace(e),o}catch(e){if(e instanceof h)switch(e.status){case 412:await this.Router.replace({name:"ResetearContrasena"}),this.store.setNombreusuario(t.name);break}throw e}}async loginterceros(t){try{await this.store.loginTerceros(t)}catch(e){throw e}}async obtenerSesionUser(){try{const t=this.store.obtenerSesion();this.store.setUser(t),await this.Router.replace({name:"puestos_disponibles"})}catch(t){throw t}}async logout(){return this.store.logout().then(()=>{this.Router.replace({name:"Login"})}).catch(t=>alert(t))}}export{w as L};
