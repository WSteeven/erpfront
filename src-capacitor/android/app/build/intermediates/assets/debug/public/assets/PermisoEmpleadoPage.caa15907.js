var Oe=Object.defineProperty;var Ye=(e,o,b)=>o in e?Oe(e,o,{enumerable:!0,configurable:!0,writable:!0,value:b}):e[o]=b;var m=(e,o,b)=>(Ye(e,typeof o!="symbol"?o+"":o,b),b);import{Q as re,a as le}from"./QItemSection.9a955ec6.js";import{Q as ne}from"./QSelect.6ce302d7.js";import{bw as pe,s as W,d as Ie,u as Qe,c as g,f as P,a1 as Be,E as Le,cR as Te,dv as ze,bx as te,q as Re,dw as Ge,dx as $,dy as R,_ as Je,t as de,v as d,P as Ke,F as n,z as s,a4 as We,y as r,x as u,G as _,H as V,K as k,D as me,I as f,B as H,j as S,O as N,L as O,J as h}from"./index.6449c167.js";import{Q as Y,a as I,C as Q}from"./QPopupProxy.72ff1d6d.js";import{Q as G}from"./QTime.7304fb66.js";import{Q as Xe}from"./QForm.ca56f146.js";import{u as Ze}from"./index.490dde02.js";import{A as xe}from"./ArchivoSeguimiento.982c5761.js";import{T as eo}from"./TabLayoutFilterTabs2.5e702525.js";import{G as oo}from"./GestorDocumentos.59a805e5.js";import{C as ue}from"./ContenedorSimpleMixin.09c9bed5.js";import{E as ao}from"./entidadAuditable.75a46700.js";import{N as B,A as io,O as so,x as ro,H as J,I as lo}from"./utils.521b98f3.js";import{r as L,a as K}from"./i18n-validators.29e2545c.js";import{M as no}from"./MotivoPermisoEmpleadoController.65b87105.js";import{A as to}from"./Archivo.c26f5472.js";import{u as mo}from"./filtrosListadosGenerales.c3aa2da3.js";import"./QChip.95469f73.js";import"./position-engine.70d0a89f.js";import"./format.8ac60962.js";import"./TouchPan.5bc050d4.js";import"./touch.9135741d.js";import"./QUploader.cca1b7bd.js";import"./QCircularProgress.b24a7ee9.js";import"./QFile.90d9394a.js";import"./configuracionColumnasArchivoSubtarea.215f4ffd.js";import"./EssentialTable.00c17e97.js";import"./QToolbar.8dbe891b.js";import"./use-fullscreen.a7661f85.js";import"./QBadge.e6f320cd.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.fd079679.js";import"./VisorImagen.75b3c53f.js";import"./logo.4781eea2.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./QTabs.6c234f27.js";import"./QResizeObserver.9af84680.js";import"./QTabPanels.49d2362a.js";import"./QPage.5d173a8a.js";import"./EssentialTableTabs.586dbdfc.js";import"./EssentialTablePagination.d5c1010a.js";import"./buttonSubmits.fe817da3.js";import"./index.0198dd12.js";const uo=[{name:"justificacion",field:"justificacion",label:"Juatificacion",align:"left",sortable:!0},{name:"estado_permiso_info",field:"estado_permiso_info",label:"Estado",align:"left",sortable:!0},{name:"fecha_hora_inicio",field:"fecha_hora_inicio",label:"Inicio",align:"left",sortable:!0},{name:"fecha_hora_fin",field:"fecha_hora_fin",label:"Fin",align:"left",sortable:!0},{name:"empleado_info",field:"empleado_info",label:"Empleado",align:"left",sortable:!0},{name:"observacion",field:"observacion",label:"Sugerencias",align:"left",sortable:!0},{name:"fecha_hora_reagendamiento",field:"fecha_hora_reagendamiento",label:"Fcha Sugerida de Permiso",align:"left",sortable:!0}];class po extends pe{constructor(){super(W.permiso_empleado)}}class co extends ao{constructor(){super();m(this,"id");m(this,"empleado");m(this,"empleado_info");m(this,"tipo_permiso");m(this,"tipo_permiso_info");m(this,"estado");m(this,"estado_permiso_info");m(this,"fecha_hora_inicio");m(this,"fecha_hora_fin");m(this,"fecha_recuperacion");m(this,"hora_recuperacion");m(this,"dias_permiso");m(this,"justificacion");m(this,"documento");m(this,"observacion");m(this,"departamento");m(this,"fecha_hora_solicitud");m(this,"fecha_hora_reagendamiento");m(this,"id_jefe_inmediato");m(this,"jefe_inmediato");m(this,"suguiere_fecha");m(this,"recupero");m(this,"tieneDocumento");m(this,"cargo_vacaciones");m(this,"aceptar_sugerencia");this.id=null,this.empleado=null,this.empleado_info=null,this.tipo_permiso=null,this.tipo_permiso_info=null,this.estado=null,this.estado_permiso_info=null,this.fecha_hora_inicio=null,this.fecha_hora_fin=null,this.fecha_recuperacion=null,this.hora_recuperacion=null,this.dias_permiso=null,this.justificacion=null,this.documento=null,this.observacion=null,this.departamento=null,this.fecha_hora_solicitud=null,this.fecha_hora_reagendamiento=null,this.id_jefe_inmediato=null,this.jefe_inmediato=null,this.recupero=!1,this.suguiere_fecha=!1,this.tieneDocumento=null,this.cargo_vacaciones=!1,this.aceptar_sugerencia=!1}}class fo extends pe{constructor(){super(W.archivo_permiso_empleado)}}var ho=Ie({components:{TabLayoutFilterTabs2:eo,GestorDocumentos:oo,ArchivoSeguimiento:xe},emits:["cerrar-modal"],setup(e,{emit:o}){const b=new ue(co,new po),X=new ue(to,new fo),{entidad:l,disabled:Z,accion:q,listadosAuxiliares:y}=b.useReferencias(),{setValidador:a,consultar:ce,cargarVista:fe,obtenerListados:he,listar:C}=b.useComportamiento(),{onBeforeGuardar:be,onGuardado:ve,onBeforeModificar:ge,onConsultado:_e,onReestablecer:Ve}=b.useHooks(),j=Qe(),x=g([]),{empleados:ee,filtrarEmpleados:ke}=mo(y),oe=g(),ae=g(),w=g(),ie=g(),ye=j.esRecursosHumanos,T=g(!1),D=8,E=17,F=1e3*60*60,we=[0,15,30,45],M="YYYY-MM-DD HH:mm",De=P(()=>j.can("puede.ver.campo.empleado")),$e=P(()=>q.value==="NUEVO"),U=P(()=>{if(l.fecha_hora_inicio!=null&&l.fecha_hora_fin!=null){const i=B(l.fecha_hora_inicio,M),p=B(l.fecha_hora_fin,M);let c=0;const t=i;let v;for(;t<p;)t.getHours()>=D&&t.getHours()<E&&c++,t.setTime(t.getTime()+F);return c>8?v=c/9:v=c<8?0:c/8,Math.round(v)}else return 0}),qe=P(()=>{if(l.fecha_hora_inicio!=null&&l.fecha_hora_fin!=null){const i=B(l.fecha_hora_inicio,M),p=B(l.fecha_hora_fin,M);if(i>=p)return"La fecha de inicio debe ser anterior a la fecha de fin.";let c=0;const t=new Date(i);for(;t<p;){if((t.getHours()<D||t.getHours()===D&&t.getMinutes()<0)&&(t.setHours(D),t.setMinutes(0)),t.getHours()>=E||t.getHours()===E&&t.getMinutes()>=0){t.setDate(t.getDate()+1),t.setHours(D),t.setMinutes(0);continue}let A=new Date(t);A.setHours(E),A.setMinutes(0),A>p&&(A=new Date(p)),c+=A.getTime()-t.getTime(),t.setDate(t.getDate()+1),t.setHours(D),t.setMinutes(0)}const v=Math.floor(c/F)>8?Math.floor(c/F/9*8):Math.floor(c/F),z=Math.floor(c%F/(1e3*60));return`${v} horas ${z} minutos`}else return 0});Be(()=>{l.cargo_vacaciones=U.value==1}),be(()=>{l.tieneDocumento=w.value.tamanioListado>0}),ge(()=>{l.tieneDocumento=!0}),ve(i=>{je(i),o("cerrar-modal")});async function je(i){await w.value.subir({permiso_id:i})}_e(()=>{T.value=j.user.id==l.id_jefe_inmediato,oe.value=l.fecha_hora_inicio==null?"":l.fecha_hora_inicio,ae.value=l.fecha_hora_fin==null?"":l.fecha_hora_fin,setTimeout(()=>{w.value.listarArchivos({permiso_id:l.id}),w.value.esConsultado=!0},2e3)});const Fe=()=>{const i=w.value;i.limpiarListado(),i.quiero_subir_archivos=!1,i.esConsultado=!1,requestAnimationFrame(()=>{i.quiero_subir_archivos=!0})};Ve(()=>{setTimeout(Fe,50)}),fe(async()=>{await he({tipos_permisos:new no,empleados:{controller:new Le,params:{campos:"id,nombres,apellidos",estado:1}},autorizaciones:{controller:new Te,params:{campos:"id,nombre",es_validado:!1,es_modulo_rhh:!0}}}),ee.value=y.empleados,x.value=y.tipos_permisos,ie.value=y.autorizaciones.filter(i=>i.id!==ze.VALIDADO)});function Me(i){const p=so(ro(),0,0,-15,"YYYY/MM/DD");return i>=p&&new Date(i).getDay()<$.sabado&&new Date(i).getDay()>$.domingo}function Ae(i){const p=J(new Date(R(l.fecha_hora_inicio)),"YYYY/MM/DD");return i>=p&&new Date(i).getDay()<$.sabado&&new Date(i).getDay()>$.domingo}function Ce(i){const p=l.suguiere_fecha?new Date(l.fecha_hora_reagendamiento||Date.now()):new Date(l.fecha_hora_fin?R(l.fecha_hora_fin):Date.now());return i>J(lo(p,U.value>0?U.value-1:0),"YYYY/MM/DD")&&new Date(i).getDay()<$.sabado&&new Date(i).getDay()>$.domingo}function Ee(i){var c;const p=(c=l.fecha_hora_fin)==null?void 0:c.split(" ");return i>J(p[0],"YYYY/MM/DD")}const Ue={tipo_permiso:{required:L},fecha_hora_inicio:{required:L},fecha_hora_fin:{required:L},fecha_recuperacion:{required:K(()=>l.recupero==!0)},hora_recuperacion:{required:K(()=>l.recupero==!0)},justificacion:{required:L},observacion:{required:K(()=>T.value)}},se=Ze(Ue,l);a(se.value);const Pe=g("1");function He(i){switch(i){case"1":C({estado_permiso_id:i});break;case"2":C({estado_permiso_id:i,recupero:0});break;case"3":C({estado_permiso_id:i,recupero:0});break;default:C({recupero:1})}Pe.value=i}const Se={titulo:" ",icono:"bi-pencil-square",color:"secondary",visible:()=>j.can("puede.editar.permiso_nomina"),accion:({entidad:i})=>{q.value=te.editar,ce(i)}};function Ne(){if(l.fecha_hora_inicio=oe.value,l.fecha_hora_fin=ae.value,l.aceptar_sugerencia){l.fecha_hora_inicio=l.fecha_hora_reagendamiento;const i=R(l.fecha_hora_reagendamiento);i.setHours(i.getHours()+1);const p=i.getFullYear(),c=String(i.getMonth()+1).padStart(2,"0"),t=String(i.getDate()).padStart(2,"0"),v=String(i.getHours()).padStart(2,"0"),z=String(i.getMinutes()).padStart(2,"0");l.fecha_hora_fin=t+"-"+c+"-"+p+" "+v+":"+z+":00"}}return{removeAccents:io,mixin:b,permiso:l,optionsFecha:Ae,minuteOptions:we,filtrarEmpleados:ke,filtrarPermisoEmpleado:He,optionsFechaInicio:Me,optionsFechaRecuperacion:Ce,optionsFechaSugerida:Ee,cambiar_fecha:Ne,editarPermiso:Se,esAutorizador:T,esRecursosHumanos:ye,esNuevo:$e,verEmpleado:De,refArchivoPrestamoEmpresarial:w,mixinArchivoPrestamoEmpleado:X,endpoint:W.archivo_permiso_empleado,tipos_permisos:x,dias_permiso:U,horas_permisos:qe,empleados:ee,autorizaciones:ie,accion:q,acciones:te,maskFecha:Re,store:j,v$:se,disabled:Z,tabOptionsPermiso:Ge,configuracionColumnas:uo,mask:M}}});const bo={class:"row q-col-gutter-sm q-mb-md q-mt-md q-mx-md q-py-sm"},vo={class:"col-12 col-md-3 q-mb-md"},go={class:"error-msg"},_o={class:"col-12 col-md-3"},Vo={class:"q-gutter-md row items-start"},ko={class:"row items-center justify-end"},yo={class:"error-msg"},wo={class:"col-12 col-md-3"},Do={class:"q-gutter-md row items-start"},$o={class:"row items-center justify-end"},qo={class:"error-msg"},jo={key:0,class:"col-12 col-md-3"},Fo={key:1,class:"col-12 col-md-3"},Mo={key:2,class:"col-12 col-md-3"},Ao={class:"q-gutter-md row items-start"},Co={class:"row items-center justify-end"},Eo={class:"col-12 col-md-3"},Uo={class:"error-msg"},Po={key:3,class:"col-12 col-md-3"},Ho={key:4,class:"col-12 col-md-3"},So={key:5,class:"col-12 col-md-3"},No={key:6,class:"col-12 col-md-3"},Oo={key:7,class:"col-12 col-md-3"},Yo={class:"error-msg"},Io={class:"col-12 col-md-3 border-grey rounded-4"},Qo={key:8,class:"col-12 col-md-3"},Bo={key:9,class:"col-12 col-md-3"},Lo={class:"row items-center justify-end"},To={class:"error-msg"},zo={key:10,class:"col-12 col-md-3"},Ro={class:"error-msg"},Go={class:"col-12 col-md-3"},Jo={class:"col-12 col-md-3"},Ko={class:"col-12 col-md-3"},Wo={key:11,class:"col-12 col-md-3"};function Xo(e,o,b,X,l,Z){const q=de("gestor-documentos"),y=de("tab-layout-filter-tabs2");return d(),Ke(y,{mixin:e.mixin,configuracionColumnas:e.configuracionColumnas,tabOptions:e.tabOptionsPermiso,full:!0,ajustarCeldas:"",accion1:e.editarPermiso,permitirEditar:!1,permitirEliminar:!1,mostrarButtonSubmits:!0,filtrar:e.filtrarPermisoEmpleado,tabDefecto:"1"},{formulario:n(()=>[s(Xe,{onSubmit:o[27]||(o[27]=We(()=>{},["prevent"]))},{default:n(()=>[r("div",bo,[r("div",vo,[o[29]||(o[29]=r("label",{class:"q-mb-sm block"},"Tipo",-1)),s(ne,{modelValue:e.permiso.tipo_permiso,"onUpdate:modelValue":o[0]||(o[0]=a=>e.permiso.tipo_permiso=a),options:e.tipos_permisos,"transition-show":"jump-up","transition-hide":"jump-down",disable:!e.esNuevo,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"","option-value":a=>a.id,"option-label":a=>a.nombre,"emit-value":"","map-options":""},{error:n(()=>[(d(!0),u(_,null,V(e.v$.tipo_permiso.$errors,a=>(d(),u("div",{key:a.$uid},[r("div",go,k(a.$message),1)]))),128))]),"no-option":n(()=>[s(re,null,{default:n(()=>[s(le,{class:"text-grey"},{default:n(()=>o[28]||(o[28]=[me(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","option-value","option-label"])]),r("div",_o,[o[30]||(o[30]=r("label",{class:"q-mb-sm block"},"Fecha Inicio",-1)),s(f,{modelValue:e.permiso.fecha_hora_inicio,"onUpdate:modelValue":o[3]||(o[3]=a=>e.permiso.fecha_hora_inicio=a),placeholder:"Obligatorio",error:!!e.v$.fecha_hora_inicio.$errors.length,disable:e.permiso.id_jefe_inmediato!==e.store.user.id&&[e.acciones.consultar,e.acciones.editar].includes(e.accion),onBlur:e.v$.fecha_hora_inicio.$touch,readonly:"",outlined:"",dense:""},{append:n(()=>[s(H,{name:"event",class:"cursor-pointer"},{default:n(()=>[s(Y,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[r("div",Vo,[s(I,{modelValue:e.permiso.fecha_hora_inicio,"onUpdate:modelValue":o[1]||(o[1]=a=>e.permiso.fecha_hora_inicio=a),mask:e.mask,options:e.optionsFechaInicio,"today-btn":""},{default:n(()=>[r("div",ko,[S(s(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[Q]])])]),_:1},8,["modelValue","mask","options"]),s(G,{modelValue:e.permiso.fecha_hora_inicio,"onUpdate:modelValue":o[2]||(o[2]=a=>e.permiso.fecha_hora_inicio=a),"minute-options":e.minuteOptions,mask:e.mask,color:"primary"},null,8,["modelValue","minute-options","mask"])])]),_:1})]),_:1})]),error:n(()=>[(d(!0),u(_,null,V(e.v$.fecha_hora_inicio.$errors,a=>(d(),u("div",{key:a.$uid},[r("div",yo,k(a.$message),1)]))),128))]),_:1},8,["modelValue","error","disable","onBlur"])]),r("div",wo,[o[31]||(o[31]=r("label",{class:"q-mb-sm block"},"Fecha Fin",-1)),s(f,{modelValue:e.permiso.fecha_hora_fin,"onUpdate:modelValue":o[6]||(o[6]=a=>e.permiso.fecha_hora_fin=a),placeholder:"Obligatorio",error:!!e.v$.fecha_hora_fin.$errors.length,disable:e.permiso.id_jefe_inmediato!==e.store.user.id&&[e.acciones.consultar,e.acciones.editar].includes(e.accion),onBlur:e.v$.fecha_hora_fin.$touch,readonly:"",outlined:"",dense:""},{append:n(()=>[s(H,{name:"event",class:"cursor-pointer"},{default:n(()=>[s(Y,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[r("div",Do,[s(I,{modelValue:e.permiso.fecha_hora_fin,"onUpdate:modelValue":o[4]||(o[4]=a=>e.permiso.fecha_hora_fin=a),mask:e.mask,options:e.optionsFecha,"today-btn":""},{default:n(()=>[r("div",$o,[S(s(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[Q]])])]),_:1},8,["modelValue","mask","options"]),s(G,{modelValue:e.permiso.fecha_hora_fin,"onUpdate:modelValue":o[5]||(o[5]=a=>e.permiso.fecha_hora_fin=a),mask:e.mask,color:"primary","minute-options":e.minuteOptions},null,8,["modelValue","mask","minute-options"])])]),_:1})]),_:1})]),error:n(()=>[(d(!0),u(_,null,V(e.v$.fecha_hora_fin.$errors,a=>(d(),u("div",{key:a.$uid},[r("div",qo,k(a.$message),1)]))),128))]),_:1},8,["modelValue","error","disable","onBlur"]),o[32]||(o[32]=r("div",{class:"q-gutter-md row items-start"},null,-1))]),e.permiso.id_jefe_inmediato!=null&&e.permiso.id_jefe_inmediato===e.store.user.id?(d(),u("div",jo,[s(O,{class:"q-mt-lg q-pt-md",modelValue:e.permiso.suguiere_fecha,"onUpdate:modelValue":o[7]||(o[7]=a=>e.permiso.suguiere_fecha=a),label:"Sugerir Fecha",disable:e.permiso.id_jefe_inmediato==null&&e.permiso.estado!=1||e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):h("",!0),e.permiso.empleado===e.store.user.id&&e.permiso.suguiere_fecha?(d(),u("div",Fo,[s(O,{class:"q-mt-lg q-pt-md",modelValue:e.permiso.aceptar_sugerencia,"onUpdate:modelValue":[o[8]||(o[8]=a=>e.permiso.aceptar_sugerencia=a),e.cambiar_fecha],label:"Aceptar Sugerencia",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable","onUpdate:modelValue"])])):h("",!0),e.permiso.suguiere_fecha?(d(),u("div",Mo,[o[33]||(o[33]=r("label",{class:"q-mb-sm block"},"Fecha y hora sugerida",-1)),s(f,{modelValue:e.permiso.fecha_hora_reagendamiento,"onUpdate:modelValue":o[11]||(o[11]=a=>e.permiso.fecha_hora_reagendamiento=a),placeholder:"Obligatorio",disable:e.permiso.id_jefe_inmediato!==e.store.user.id&&[e.acciones.consultar,e.acciones.editar].includes(e.accion),readonly:"",outlined:"",dense:""},{append:n(()=>[s(H,{name:"event",class:"cursor-pointer"},{default:n(()=>[s(Y,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[r("div",Ao,[s(I,{modelValue:e.permiso.fecha_hora_reagendamiento,"onUpdate:modelValue":o[9]||(o[9]=a=>e.permiso.fecha_hora_reagendamiento=a),mask:e.mask,options:e.optionsFechaSugerida,"today-btn":""},{default:n(()=>[r("div",Co,[S(s(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[Q]])])]),_:1},8,["modelValue","mask","options"]),s(G,{modelValue:e.permiso.fecha_hora_reagendamiento,"onUpdate:modelValue":o[10]||(o[10]=a=>e.permiso.fecha_hora_reagendamiento=a),mask:e.mask,color:"primary"},null,8,["modelValue","mask"])])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"]),o[34]||(o[34]=r("div",{class:"q-gutter-md row items-start"},null,-1))])):h("",!0),r("div",Eo,[o[35]||(o[35]=r("label",{class:"q-mb-sm block"},"Justificativo",-1)),s(f,{autogrow:"",modelValue:e.permiso.justificacion,"onUpdate:modelValue":[o[12]||(o[12]=a=>e.permiso.justificacion=a),o[13]||(o[13]=a=>e.permiso.justificacion=e.removeAccents(a))],placeholder:"Obligatorio",disable:!e.esNuevo,error:!!e.v$.justificacion.$errors.length,outlined:"",dense:""},{error:n(()=>[(d(!0),u(_,null,V(e.v$.justificacion.$errors,a=>(d(),u("div",{key:a.$uid},[r("div",Uo,k(a.$message),1)]))),128))]),_:1},8,["modelValue","disable","error"])]),e.esNuevo?h("",!0):(d(),u("div",Po,[o[36]||(o[36]=r("label",{class:"q-mb-sm block"},"Empleado",-1)),s(f,{modelValue:e.permiso.empleado_info,"onUpdate:modelValue":o[14]||(o[14]=a=>e.permiso.empleado_info=a),disable:!e.esNuevo,outlined:"",autogrow:"",dense:""},null,8,["modelValue","disable"])])),e.esNuevo?h("",!0):(d(),u("div",Ho,[o[37]||(o[37]=r("label",{class:"q-mb-sm block"},"Departamento",-1)),s(f,{modelValue:e.permiso.departamento,"onUpdate:modelValue":o[15]||(o[15]=a=>e.permiso.departamento=a),disable:!e.esNuevo,outlined:"",dense:""},null,8,["modelValue","disable"])])),e.esNuevo?h("",!0):(d(),u("div",So,[o[38]||(o[38]=r("label",{class:"q-mb-sm block"},"Fecha y hora de la solicitud",-1)),s(f,{modelValue:e.permiso.fecha_hora_solicitud,"onUpdate:modelValue":o[16]||(o[16]=a=>e.permiso.fecha_hora_solicitud=a),disable:!e.esNuevo,readonly:"",outlined:"",dense:""},null,8,["modelValue","disable"])])),e.esNuevo?h("",!0):(d(),u("div",No,[o[39]||(o[39]=r("label",{class:"q-mb-sm block"},"Jefe Inmediato",-1)),s(f,{modelValue:e.permiso.jefe_inmediato,"onUpdate:modelValue":o[17]||(o[17]=a=>e.permiso.jefe_inmediato=a),disable:!e.esNuevo,outlined:"",autogrow:"",dense:""},null,8,["modelValue","disable"])])),e.esAutorizador?(d(),u("div",Oo,[o[40]||(o[40]=r("label",{class:"q-mb-sm block"},"Observacion",-1)),s(f,{modelValue:e.permiso.observacion,"onUpdate:modelValue":o[18]||(o[18]=a=>e.permiso.observacion=a),placeholder:"Obligatorio",disable:!e.esAutorizador,error:!!e.v$.observacion.$errors.length,outlined:"",dense:""},{error:n(()=>[(d(!0),u(_,null,V(e.v$.observacion.$errors,a=>(d(),u("div",{key:a.$uid},[r("div",Yo,k(a.$message),1)]))),128))]),_:1},8,["modelValue","disable","error"])])):h("",!0),r("div",Io,[o[41]||(o[41]=r("label",{class:"q-mb-sm block"},"Soporte",-1)),s(q,{ref:"refArchivoPrestamoEmpresarial",mixin:e.mixinArchivoPrestamoEmpleado,endpoint:e.endpoint,disable:!e.esNuevo,"permitir-eliminar":!1,"listar-al-guardar":!1,esMultiple:!1},null,8,["mixin","endpoint","disable"])]),e.permiso.id_jefe_inmediato&&e.permiso.estado==2&&!e.permiso.cargo_vacaciones?(d(),u("div",Qo,[s(O,{class:"q-mt-lg q-pt-md",modelValue:e.permiso.recupero,"onUpdate:modelValue":o[19]||(o[19]=a=>e.permiso.recupero=a),label:"Recupero Horas de Trabajo",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):h("",!0),e.permiso.recupero?(d(),u("div",Bo,[o[42]||(o[42]=r("label",{class:"q-mb-sm block"},"Fecha de Recuperacion",-1)),s(f,{modelValue:e.permiso.fecha_recuperacion,"onUpdate:modelValue":o[21]||(o[21]=a=>e.permiso.fecha_recuperacion=a),placeholder:"Obligatorio",error:!!e.v$.fecha_recuperacion.$errors.length,readonly:"",disable:e.permiso.id_jefe_inmediato==null&&e.permiso.estado!=1||e.disabled,onBlur:e.v$.fecha_recuperacion.$touch,outlined:"",dense:""},{append:n(()=>[s(H,{name:"event",class:"cursor-pointer"},{default:n(()=>[s(Y,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[s(I,{modelValue:e.permiso.fecha_recuperacion,"onUpdate:modelValue":o[20]||(o[20]=a=>e.permiso.fecha_recuperacion=a),mask:e.maskFecha,options:e.optionsFechaRecuperacion,"today-btn":""},{default:n(()=>[r("div",Lo,[S(s(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[Q]])])]),_:1},8,["modelValue","mask","options"])]),_:1})]),_:1})]),error:n(()=>[(d(!0),u(_,null,V(e.v$.fecha_recuperacion.$errors,a=>(d(),u("div",{key:a.$uid},[r("div",To,k(a.$message),1)]))),128))]),_:1},8,["modelValue","error","disable","onBlur"])])):h("",!0),e.permiso.recupero?(d(),u("div",zo,[o[43]||(o[43]=r("label",{class:"q-mb-sm block"},"Hora de Recuperacion (24 horas)",-1)),s(f,{modelValue:e.permiso.hora_recuperacion,"onUpdate:modelValue":o[22]||(o[22]=a=>e.permiso.hora_recuperacion=a),error:!!e.v$.hora_recuperacion.$errors.length,type:"time",disable:e.permiso.id_jefe_inmediato==null&&e.permiso.estado!=1||e.disabled,hint:"Obligatorio","stack-label":"",outlined:"",clearable:"",dense:""},{error:n(()=>[(d(!0),u(_,null,V(e.v$.hora_recuperacion.$errors,a=>(d(),u("div",{key:a.$uid},[r("div",Ro,k(a.$message),1)]))),128))]),_:1},8,["modelValue","error","disable"])])):h("",!0),r("div",Go,[s(O,{class:"q-mt-lg q-pt-md",modelValue:e.permiso.cargo_vacaciones,"onUpdate:modelValue":o[23]||(o[23]=a=>e.permiso.cargo_vacaciones=a),label:"Cargo a Vacaciones",disable:!e.esNuevo,outlined:"",dense:""},null,8,["modelValue","disable"])]),r("div",Jo,[o[44]||(o[44]=r("label",{class:"q-mb-sm block"},"Dias de permiso",-1)),s(f,{modelValue:e.dias_permiso,"onUpdate:modelValue":o[24]||(o[24]=a=>e.dias_permiso=a),placeholder:"Obligatorio",disable:"",outlined:"",dense:""},null,8,["modelValue"])]),r("div",Ko,[o[45]||(o[45]=r("label",{class:"q-mb-sm block"},"Horas de permiso",-1)),s(f,{modelValue:e.horas_permisos,"onUpdate:modelValue":o[25]||(o[25]=a=>e.horas_permisos=a),autogrow:"",placeholder:"Obligatorio",disable:"",outlined:"",dense:""},null,8,["modelValue"])]),e.accion==e.acciones.editar&&e.esAutorizador?(d(),u("div",Wo,[o[47]||(o[47]=r("label",{class:"q-mb-sm block"},"Autorizacion",-1)),s(ne,{modelValue:e.permiso.estado,"onUpdate:modelValue":o[26]||(o[26]=a=>e.permiso.estado=a),options:e.autorizaciones,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"",disable:e.disabled,readonly:e.disabled,"use-input":"","input-debounce":"0","option-value":a=>a.id,"option-label":a=>a.nombre,"emit-value":"","map-options":""},{"no-option":n(()=>[s(re,null,{default:n(()=>[s(le,{class:"text-grey"},{default:n(()=>o[46]||(o[46]=[me(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","readonly","option-value","option-label"])])):h("",!0)])]),_:1})]),_:1},8,["mixin","configuracionColumnas","tabOptions","accion1","filtrar"])}var La=Je(ho,[["render",Xo]]);export{La as default};
