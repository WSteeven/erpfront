import{Q as d}from"./QPage.e6f8825d.js";import{E as f}from"./EssentialTable.23af6cc8.js";import{N as u,a as C,u as N}from"./notificationRealtime.f88c233f.js";import{C as b}from"./ContenedorSimpleMixin.4e22246b.js";import{d as g,R as v,f as _,p as E,_ as L,t as x,v as B,P as h,F as M,z as w}from"./index.b8e09611.js";import"./QSelect.b920278b.js";import"./QChip.f8f308fa.js";import"./QItemSection.ec4cc512.js";import"./QMenu.b3fb639b.js";import"./position-engine.799c9136.js";import"./format.8ac60962.js";import"./QFile.c79664c6.js";import"./QTable.c4bfb038.js";import"./use-fullscreen.37810a50.js";import"./QToolbar.afeb6de9.js";import"./QBtnGroup.7d38eecd.js";import"./QBadge.89898cd2.js";import"./utils.9344cd7e.js";import"./QPopupProxy.685eacb5.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.95754b62.js";import"./VisorImagen.29457a6f.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.3c1fc91c.js";import"./i18n-validators.06abe774.js";import"./index.ea415f98.js";import"./entidadAuditable.75a46700.js";const P=[{name:"mensaje",field:"mensaje",label:"Notificaci\xF3n",align:"left",sortable:!0},{name:"leida",field:"leida",label:"Le\xEDdo",align:"left",sortable:!0}];var T=g({components:{EssentialTable:f},setup(){const o=new b(u,new C),{entidad:t,disabled:n,accion:r,listado:a}=o.useReferencias(),{listar:s}=o.useComportamiento(),{notificarCorrecto:e}=v();s();const m=_(()=>a.value.filter(i=>!i.leida).length),c=N();return{mixin:o,notificacion:t,disabled:n,accion:r,listado:a,configuracionColumnas:P,accionesTabla:E,BotonMarcarLeido:{titulo:"Marcar como le\xEDdo",color:"positive",icono:"bi-check-circle-fill",visible:({entidad:i})=>!i.leida,accion:async({entidad:i,posicion:p})=>{c.idNotificacion=i.id;const l=await c.marcarLeida();l&&(e("Notificaci\xF3n marcada como le\xEDda"),a.value.splice(p,1,l))}},totalNoLeidas:m}}});function $(o,t,n,r,a,s){const e=x("essential-table");return B(),h(d,{padding:""},{default:M(()=>[w(e,{titulo:"Tiene "+o.totalNoLeidas+" notificaciones pendientes de leer.",configuracionColumnas:[...o.configuracionColumnas,o.accionesTabla],datos:o.listado,permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,mostrarBotones:!1,accion1:o.BotonMarcarLeido,ajustarCeldas:""},null,8,["titulo","configuracionColumnas","datos","accion1"])]),_:1})}var no=L(T,[["render",$]]);export{no as default};
