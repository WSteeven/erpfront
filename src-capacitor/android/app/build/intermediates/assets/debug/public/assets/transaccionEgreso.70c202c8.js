import{a as S,S as I,n as l,B as L}from"./utils.521b98f3.js";import{l as R,e as j,c as p,bx as B,A as r,s as t,bE as u,bD as f}from"./index.6449c167.js";import{T as m}from"./Transaccion.ef293505.js";const U=R("transaccionEgreso",()=>{const c=j(new m),E=new m,i=p(),w=p(!1),v=B.nuevo,g=S(),e=new I;async function y(n){e.activar();const s=r.getInstance(),a=s.getEndpoint(t.transacciones_ingresos)+"/"+n,o=await s.get(a);return e.desactivar(),o.data.modelo}async function x(n){const s=await y(n);c.hydrate(s)}async function A(){const n=r.getInstance(),s=n.getEndpoint(t.transacciones_egresos)+"/show-preview/"+i.value,a=await n.get(s);c.hydrate(a.data.modelo)}function T(){c.hydrate(E)}async function _(n){try{e.activar();const s=r.getInstance(),a=u.URL_BASE+"/"+s.getEndpoint(t.comprobantes_filtrados)+"?estado="+n;return console.log(a),(await s.get(a)).data.results}catch(s){const o=new f(s).erroresValidacion;await l(o,g)}finally{e.desactivar()}}async function h(n,s=!1){try{e.activar();const a=r.getInstance(),o=s?a.getEndpoint(t.egresos_filtrados)+"?estado="+n+"&paginate=1":a.getEndpoint(t.egresos_filtrados)+"?estado="+n,d=await a.get(o);return console.log(d),d.data.results}catch(a){const d=new f(a).erroresValidacion;await l(d,g)}finally{e.desactivar()}}async function b(){const n=r.getInstance(),s=u.URL_BASE+"/"+n.getEndpoint(t.transacciones_egresos)+"/imprimir/"+i.value,a="egreso_"+i.value+"_"+Date.now();await L(s,"GET","blob","pdf",a),console.log("Egreso impreso con \xE9xito.")}return{transaccion:c,accionTransaccion:v,estadoPendiente:w,cargarTransaccion:x,resetearTransaccion:T,idTransaccion:i,showPreview:A,filtrarEgresosComprobantes:_,filtrarTransaccionesEgresos:h,imprimirEgreso:b}});export{U as u};
