import{s as x,a as y,I as w,z as O}from"./EssentialTable.23af6cc8.js";import{S as T}from"./utils.9344cd7e.js";import{r as A}from"./i18n-validators.06abe774.js";import{u as L}from"./index.70965bc7.js";import{d as M,E as F,c as l,e as I,q as $,_ as k,t as E,v as B,P as D,F as V,y as q,z}from"./index.b8e09611.js";import{F as N,S as P,a as R}from"./FormularioSolicitudExamen.ca073ae7.js";import{T as j}from"./TabLayoutFilterTabs2.6bbaa932.js";import{M as H}from"./ModalEntidad.54c9ab3a.js";import{C as G}from"./ContenedorSimpleMixin.4e22246b.js";import{E as J,c as K}from"./ExamenSolicitado.a72f3d28.js";import{E as Q}from"./Empleado.20234ba0.js";import{u as U}from"./DetallePaciente.201416e2.js";import"./QSelect.b920278b.js";import"./QChip.f8f308fa.js";import"./QItemSection.ec4cc512.js";import"./QMenu.b3fb639b.js";import"./position-engine.799c9136.js";import"./format.8ac60962.js";import"./QFile.c79664c6.js";import"./QTable.c4bfb038.js";import"./use-fullscreen.37810a50.js";import"./QToolbar.afeb6de9.js";import"./QBtnGroup.7d38eecd.js";import"./QBadge.89898cd2.js";import"./QPopupProxy.685eacb5.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.95754b62.js";import"./VisorImagen.29457a6f.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.3c1fc91c.js";import"./index.ea415f98.js";import"./entidadAuditable.75a46700.js";import"./SimpleLayout.97ee66fd.js";import"./buttonSubmits.f2d72caa.js";import"./LaboratorioClinicoController.3a5d7b72.js";import"./filtrosListadosGenerales.87fcb144.js";import"./EmpleadoPermisosController.1af79390.js";import"./QTabs.1ee2fae1.js";import"./QResizeObserver.1422c274.js";import"./QTabPanels.1776fc83.js";import"./touch.9135741d.js";import"./QPage.e6f8825d.js";import"./EssentialTableTabs.03c27e34.js";import"./EssentialTablePagination.ce808cac.js";import"./configuracion_general.1d29d94f.js";import"./ConfiguracionController.a136b041.js";function W(o){return{btnAprobar:{titulo:"Aprobar",icono:"bi-cash-coin",color:"positive",visible:()=>o.value===x.SOLICITADO.value,accion:()=>{}}}}var X=M({components:{TabLayoutTabs:j,Estado:y,ModalesEntidad:H,FormularioSolicitudExamen:N},setup(){const o=U(),e=new G(P,new R),{entidad:t,accion:p}=e.useReferencias(),{setValidador:d,listar:u}=e.useComportamiento(),{onConsultado:m}=e.useHooks(),c=new F,s=l(x.SOLICITADO.value),f=I(new Q),n=new T,S=l(),h=l(),{btnAprobar:v}=W(s),g=i=>{n.activar();try{s.value=i;const a={estado_solicitud_examen:s.value,registro_empleado_examen_id:o.idRegistroEmpleadoExamen};u(a)}catch(a){console.log(a)}finally{n.desactivar()}},C=async i=>{n.activar();const a={campos:"id,foto_url,nombres,apellidos,identificacion,nombre_canton,email,fecha_nacimiento,tipo_sangre,genero,telefono,area_info,nombre_cargo,fecha_ingreso,canton,jefe_inmediato,edad"};try{const{result:r}=await c.consultar(i,a);f.hydrate(r)}catch(r){console.log(r)}finally{n.desactivar()}},_=L({registro_empleado_examen:{required:A}},t);return d(_.value),m(async()=>{t.empleado_id&&C(t.empleado_id),t.examenes_solicitados=t.examenes_solicitados.map(i=>{var r,b;const a=new J;return a.hydrate(i),a.fecha_asistencia=((r=i.fecha_hora_asistencia)==null?void 0:r.split(" ")[0])||null,a.hora_asistencia=((b=i.fecha_hora_asistencia)==null?void 0:b.split(" ")[1])||null,a})}),{v$:_,mixin:e,solicitudExamen:t,configuracionColumnasSolicitudExamen:K,tabSolicitud:s,filtrarSolicitudes:g,tabOptionsEstadosSolicitudExamen:w,empleado:f,estadosCitaMedica:O,maskFecha:$,fecha_cita_medica:S,hora_cita_medica:h,accion:p,btnAprobar:v}}});const Y={class:"q-pa-md"};function Z(o,e,t,p,d,u){const m=E("formulario-solicitud-examen"),c=E("tab-layout-tabs");return B(),D(c,{mixin:o.mixin,configuracionColumnas:o.configuracionColumnasSolicitudExamen,full:!0,tabOptions:o.tabOptionsEstadosSolicitudExamen,filtrar:o.filtrarSolicitudes,tabDefecto:o.tabSolicitud,forzarListar:!0,"permitir-consultar":!0,"permitir-editar":!0,"mostrar-button-submits":!!o.empleado.id},{formulario:V(()=>[q("div",Y,[z(m,{mixin:o.mixin,empleado:o.empleado},null,8,["mixin","empleado"])])]),_:1},8,["mixin","configuracionColumnas","tabOptions","filtrar","tabDefecto","mostrar-button-submits"])}var Qo=k(X,[["render",Z]]);export{Qo as default};
