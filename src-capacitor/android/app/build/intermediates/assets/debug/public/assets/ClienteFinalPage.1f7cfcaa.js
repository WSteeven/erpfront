import{Q as F,a as g}from"./QItemSection.9a955ec6.js";import{Q as $}from"./QSelect.6ce302d7.js";import{d as G,cS as H,m as M,c as k,f as K,_ as j,t as J,v as m,P as W,F as a,z as n,a4 as X,y as i,D as q,x as u,G as w,H as y,K as O,I as r,a7 as Y}from"./index.6449c167.js";import{Q as Z}from"./QExpansionItem.e36a6702.js";import{Q as h}from"./QForm.ca56f146.js";import{b as x}from"./utils.521b98f3.js";import{r as P}from"./i18n-validators.29e2545c.js";import{u as _}from"./index.490dde02.js";import{T as ee}from"./TabLayout.0bce4313.js";import{E as le}from"./EssentialTable.00c17e97.js";import{C as oe}from"./ContenedorSimpleMixin.09c9bed5.js";import{C as ie}from"./ClienteController.33eca86a.js";import{P as ne}from"./ProvinciaController.5b942896.js";import{C as ae,a as se}from"./ClienteFinalController.a0477f5f.js";import"./QChip.95469f73.js";import"./position-engine.70d0a89f.js";import"./format.8ac60962.js";import"./index.0198dd12.js";import"./QTabs.6c234f27.js";import"./QResizeObserver.9af84680.js";import"./QTabPanels.49d2362a.js";import"./touch.9135741d.js";import"./QPopupProxy.72ff1d6d.js";import"./QPage.5d173a8a.js";import"./buttonSubmits.fe817da3.js";import"./EssentialTablePagination.d5c1010a.js";import"./QToolbar.8dbe891b.js";import"./use-fullscreen.a7661f85.js";import"./QBadge.e6f320cd.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.fd079679.js";import"./QFile.90d9394a.js";import"./VisorImagen.75b3c53f.js";import"./logo.4781eea2.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./entidadAuditable.75a46700.js";const te=[{name:"id_cliente_final",field:"id_cliente_final",label:"ID Cliente",align:"left"},{name:"cliente",field:"cliente",label:"Cliente corporativo",align:"left"},{name:"nombres",field:"nombres",label:"Nombres",align:"left"},{name:"apellidos",field:"apellidos",label:"Apellidos",align:"left"},{name:"celular",field:"celular",label:"Celular",align:"left"},{name:"provincia",field:"provincia",label:"Provincia",align:"left"},{name:"canton",field:"canton",label:"Canton",align:"left"},{name:"activo",field:"activo",label:"Activo",align:"left"}];var re=G({components:{TabLayout:ee,EssentialTable:le},emits:["guardado","cerrar-modal"],setup(l,{emit:e}){const p=new oe(ae,new se),{entidad:v,disabled:U,accion:Q,listadosAuxiliares:s}=p.useReferencias(),{cargarVista:o,obtenerListados:I,setValidador:A}=p.useComportamiento(),{onGuardado:L}=p.useHooks();o(async()=>{await I({clientes:new ie,provincias:new ne,cantones:new H}),V.value=s.clientes,b.value=s.cantones,C.value=s.provincias});const N={cliente:{required:P},id_cliente_final:{required:P},nombres:{required:P}};x().setQuasar(M());const B=_(N,v);A(B.value);const V=k();function S(t,d){if(t===""){d(()=>{V.value=s.clientes});return}d(()=>{const c=t.toLowerCase();V.value=s.clientes.filter(f=>f.razon_social.toLowerCase().indexOf(c)>-1)})}const C=k();function T(t,d){if(t===""){d(()=>{C.value=s.provincias});return}d(()=>{const c=t.toLowerCase();C.value=s.provincias.filter(f=>f.provincia.toLowerCase().indexOf(c)>-1)})}const b=k([]);function D(t,d){if(t===""){d(()=>{b.value=s.cantones});return}d(()=>{const c=t.toLowerCase();b.value=s.cantones.filter(f=>f.canton.toLowerCase().indexOf(c)>-1)})}const E=K(()=>b.value.filter(t=>t.provincia_id===v.provincia)),R=[{label:"Fibra",value:"FIBRA"},{label:"Radio",value:"RADIO"}],z=[{label:"Visto",value:"VISTO"},{label:"Canaleta",value:"CANALETA"}];return L(()=>{e("cerrar-modal"),e("guardado","ClienteFinalPage")}),{mediosTransmision:R,tendidosInteriorCable:z,mixin:p,clienteFinal:v,disabled:U,accion:Q,listadosAuxiliares:s,v$:B,configuracionColumnasClienteFinal:te,clientes:V,cantones:b,filtrarClientes:S,filtrarCantones:D,filtrarProvincias:T,cantonesPorProvincia:E}}});const de={class:"row q-col-gutter-sm q-pa-md"},me={class:"col-12 col-md-6"},ue={class:"error-msg"},pe={class:"col-12 col-md-3"},be={class:"error-msg"},ce={class:"col-12 col-md-3"},fe={class:"col-12 col-md-3"},ve={class:"error-msg"},Ve={class:"col-12 col-md-3"},Ce={class:"col-12 col-md-3"},Fe={class:"col-12 col-md-3"},ge={class:"col-12 col-md-3"},$e={class:"col-12 col-md-3"},ke={class:"col-12 col-md-3"},qe={class:"col-12 col-md-3"},we={class:"col-12 col-md-3"},ye={class:"col-12 col-md-3"},Oe={class:"col-12 col-md-3"};function Pe(l,e,p,v,U,Q){const s=J("tab-layout");return m(),W(s,{mixin:l.mixin,configuracionColumnas:l.configuracionColumnasClienteFinal,"titulo-pagina":"Proyectos","permitir-eliminar":!1},{formulario:a(()=>[n(h,{onSubmit:e[14]||(e[14]=X(()=>{},["prevent"]))},{default:a(()=>[n(Z,{class:"overflow-hidden q-mb-md expansion",label:"1. Informaci\xF3n general","header-class":"bg-header-collapse","default-opened":""},{default:a(()=>[i("div",de,[i("div",me,[e[16]||(e[16]=i("label",{class:"q-mb-sm block"},"Cliente corporativo",-1)),n($,{modelValue:l.clienteFinal.cliente,"onUpdate:modelValue":e[0]||(e[0]=o=>l.clienteFinal.cliente=o),options:l.clientes,onFilter:l.filtrarClientes,onBlur:l.v$.cliente.$touch,disable:l.disabled,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":o=>o.razon_social,"option-value":o=>o.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":"",error:!!l.v$.cliente.$errors.length},{"no-option":a(()=>[n(F,null,{default:a(()=>[n(g,{class:"text-grey"},{default:a(()=>e[15]||(e[15]=[q(" No hay resultados ")])),_:1})]),_:1})]),error:a(()=>[(m(!0),u(w,null,y(l.v$.cliente.$errors,o=>(m(),u("div",{key:o.$uid},[i("div",ue,O(o.$message),1)]))),128))]),_:1},8,["modelValue","options","onFilter","onBlur","disable","option-label","option-value","error"])]),i("div",pe,[e[17]||(e[17]=i("label",{class:"q-mb-sm block"},"ID/C\xF3digo de cliente final",-1)),n(r,{modelValue:l.clienteFinal.id_cliente_final,"onUpdate:modelValue":e[1]||(e[1]=o=>l.clienteFinal.id_cliente_final=o),error:!!l.v$.id_cliente_final.$errors.length,onBlur:l.v$.id_cliente_final.$touch,placeholder:"Obligatorio",disable:l.disabled,autofocus:"",outlined:"",dense:""},{error:a(()=>[(m(!0),u(w,null,y(l.v$.id_cliente_final.$errors,o=>(m(),u("div",{key:o.$uid},[i("div",be,O(o.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur","disable"])]),i("div",ce,[e[18]||(e[18]=i("label",{class:"q-mb-sm block"},"C\xE9dula",-1)),n(r,{modelValue:l.clienteFinal.cedula,"onUpdate:modelValue":e[2]||(e[2]=o=>l.clienteFinal.cedula=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",fe,[e[19]||(e[19]=i("label",{class:"q-mb-sm block"},"Nombres",-1)),n(r,{modelValue:l.clienteFinal.nombres,"onUpdate:modelValue":e[3]||(e[3]=o=>l.clienteFinal.nombres=o),error:!!l.v$.nombres.$errors.length,onBlur:l.v$.nombres.$touch,placeholder:"Obligatorio",disable:l.disabled,outlined:"",dense:""},{error:a(()=>[(m(!0),u(w,null,y(l.v$.nombres.$errors,o=>(m(),u("div",{key:o.$uid},[i("div",ve,O(o.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur","disable"])]),i("div",Ve,[e[20]||(e[20]=i("label",{class:"q-mb-sm block"},"Apellidos",-1)),n(r,{modelValue:l.clienteFinal.apellidos,"onUpdate:modelValue":e[4]||(e[4]=o=>l.clienteFinal.apellidos=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",Ce,[e[21]||(e[21]=i("label",{class:"q-mb-sm block"},"Correo",-1)),n(r,{modelValue:l.clienteFinal.correo,"onUpdate:modelValue":e[5]||(e[5]=o=>l.clienteFinal.correo=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",Fe,[e[22]||(e[22]=i("label",{class:"q-mb-sm block"},"Celular",-1)),n(r,{modelValue:l.clienteFinal.celular,"onUpdate:modelValue":e[6]||(e[6]=o=>l.clienteFinal.celular=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",ge,[e[24]||(e[24]=i("label",{class:"q-mb-sm block"},"Provincias",-1)),n($,{modelValue:l.clienteFinal.provincia,"onUpdate:modelValue":e[7]||(e[7]=o=>l.clienteFinal.provincia=o),options:l.listadosAuxiliares.provincias,disable:l.disabled,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":o=>o.provincia,"option-value":o=>o.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":""},{"no-option":a(()=>[n(F,null,{default:a(()=>[n(g,{class:"text-grey"},{default:a(()=>e[23]||(e[23]=[q(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","option-label","option-value"])]),i("div",$e,[e[26]||(e[26]=i("label",{class:"q-mb-sm block"},"Canton",-1)),n($,{modelValue:l.clienteFinal.canton,"onUpdate:modelValue":e[8]||(e[8]=o=>l.clienteFinal.canton=o),options:l.cantonesPorProvincia,disable:l.disabled,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":o=>o.canton,"option-value":o=>o.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":""},{"no-option":a(()=>[n(F,null,{default:a(()=>[n(g,{class:"text-grey"},{default:a(()=>e[25]||(e[25]=[q(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","option-label","option-value"])]),i("div",ke,[e[27]||(e[27]=i("label",{class:"q-mb-sm block"},"Parroquia/Barrio",-1)),n(r,{modelValue:l.clienteFinal.parroquia,"onUpdate:modelValue":e[9]||(e[9]=o=>l.clienteFinal.parroquia=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",qe,[e[28]||(e[28]=i("label",{class:"q-mb-sm block"},"Direcci\xF3n",-1)),n(r,{modelValue:l.clienteFinal.direccion,"onUpdate:modelValue":e[10]||(e[10]=o=>l.clienteFinal.direccion=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",we,[e[29]||(e[29]=i("label",{class:"q-mb-sm block"},"Referencia",-1)),n(r,{modelValue:l.clienteFinal.referencia,"onUpdate:modelValue":e[11]||(e[11]=o=>l.clienteFinal.referencia=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",ye,[e[30]||(e[30]=i("label",{class:"q-mb-sm block"},"Coordenadas",-1)),n(r,{modelValue:l.clienteFinal.coordenadas,"onUpdate:modelValue":e[12]||(e[12]=o=>l.clienteFinal.coordenadas=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",Oe,[e[31]||(e[31]=i("br",null,null,-1)),n(Y,{modelValue:l.clienteFinal.activo,"onUpdate:modelValue":e[13]||(e[13]=o=>l.clienteFinal.activo=o),"checked-icon":"check",label:"Activo",color:"positive",disable:l.disabled},null,8,["modelValue","disable"])])])]),_:1})]),_:1})]),_:1},8,["mixin","configuracionColumnas"])}var ml=j(re,[["render",Pe]]);export{ml as default};
