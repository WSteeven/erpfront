var k=Object.defineProperty;var x=(a,e,t)=>e in a?k(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var n=(a,e,t)=>(x(a,typeof e!="symbol"?e+"":e,t),t);import{v as _,y as P,S as M,H as j,B as o,G as s,bi as f,bV as S,c as I,u as z,p as v,be as Y,e as C,g as H,q as L,x as E,M as T,D as m,R as O,F as K}from"./index.976e8f3c.js";import{Q as D}from"./QPage.ed5d79ca.js";import{u as U}from"./trabajoAsignado.f9b7ddcf.js";import{h as J}from"./tareas.utils.309e0dff.js";import{u as W,K as X}from"./utils.30e08aa2.js";import{C as Z}from"./ConfirmarDialog.7e84f025.js";import{E as aa}from"./EssentialTableTabs.c7e98bba.js";import{M as ea}from"./ModalEntidad.84100166.js";import{C as oa}from"./CausaIntervencionController.c3a3e470.js";import{M as ta}from"./MotivoSuspendidoController.4bcef12b.js";import{T as ia}from"./TrabajoAsignadoController.d407914d.js";import{M as ra}from"./MotivoPausaController.1f4be3ba.js";import{C as g,a as na}from"./ComponenteModal.domain.22ea4557.js";import sa from"./DetalleTrabajoAsignadoPage.658fb1a8.js";import{S as la,u as da}from"./BotonesTablaSubtarea.89944c3b.js";import{C as ma}from"./ContenedorSimpleMixin.5a0b06ab.js";import{u as ua}from"./notificationRealtime.cf45dfec.js";import{S as ca}from"./Subtarea.3371ad54.js";import"./format.8ac60962.js";import"./QToolbar.cff7174f.js";import"./position-engine.2f1d750c.js";import"./EssentialTable.d8e6954a.js";import"./QSelect.a8f2bfb2.js";import"./QChip.334d746c.js";import"./QItemSection.c6f2640c.js";import"./QMenu.410ae527.js";import"./QFile.e27868da.js";import"./QTable.048b8be8.js";import"./use-fullscreen.0ccd26e6.js";import"./QBtnGroup.7d0835e4.js";import"./QBadge.1ddeabfd.js";import"./QPopupProxy.d8ef7a42.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e0fb285c.js";import"./VisorImagen.e7965569.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.b482e77d.js";import"./i18n-validators.06eef631.js";import"./index.95f5a0db.js";import"./QTabs.3c726b04.js";import"./QResizeObserver.6ec10d95.js";import"./EssentialTablePagination.f449a738.js";import"./configuracion_general.ef04b031.js";import"./ConfiguracionController.65de3fc5.js";import"./QExpansionItem.558e637e.js";import"./configuracionColumnasEmpleadoGrupo.222e165b.js";import"./tarea.48d6bf90.js";import"./entidadAuditable.75a46700.js";import"./TipoTrabajoController.af9c1888.js";import"./ClienteFinalController.9a19dd2d.js";import"./ProvinciaController.710213fc.js";import"./GrupoController.9c11e3c7.js";import"./SubtareaController.f9fcde99.js";import"./ArchivoSubtareaController.256dbdc3.js";import"./configuracionColumnasArchivoSubtarea.215f4ffd.js";import"./QTabPanels.1c8c4baa.js";import"./touch.9135741d.js";import"./ArchivoSeguimiento.c473f5d7.js";import"./QUploader.43bbdad9.js";import"./QCircularProgress.4d1a2735.js";import"./BotonesTablaTicket.8eaa0146.js";import"./index.ed676411.js";import"./DepartamentoController.6b5e308b.js";import"./FiltrosListadosTicket.4901916f.js";import"./filtrosListadosGenerales.31e9eb2c.js";import"./QScrollArea.f0584ddf.js";import"./QScrollObserver.cb4b92b2.js";import"./TouchPan.60cc61dc.js";import"./es.5c829d48.js";import"./dayjs.min.7780de8a.js";import"./TablaFilasDinamicas.262857b3.js";import"./buttonSubmits.2eb37d38.js";import"./Archivo.c26f5472.js";import"./use-slider.d34561e4.js";import"./TicketController.af9c2ba9.js";import"./CategoriaTipoTicketController.76f1a755.js";import"./TipoTicketController.d5ce7c3f.js";import"./MotivoCanceladoTicketController.b353f34a.js";import"./ComportamientoModalesTicketAsignado.4be2d82b.js";import"./FiltroMiBodegaEmpleado.020f4a2d.js";import"./ClienteMaterialEmpleadoController.fcdf149e.js";import"./listadoMaterialesDevolucion.5ce4073a.js";import"./FiltroMiBodegaProyecto.782f312c.js";import"./EtapaController.9ea539ef.js";import"./ProyectoController.29ab1934.js";import"./movilizacionSubtarea.7b909866.js";const pa=[{name:"codigo_subtarea",field:"codigo_subtarea",label:"C\xF3d. Subtarea",align:"left",sortable:!0},{name:"titulo",field:"titulo",label:"T\xEDtulo",align:"left",sortable:!0},{name:"tipo_trabajo",field:"tipo_trabajo",label:"Tipo de trabajo",align:"left"},{name:"estado",field:"estado",label:"Estado",align:"left",sortable:!0},{name:"empleado",field:"empleado",label:"Empleado designado",align:"left"},{name:"grupo",field:"grupo",label:"Grupo designado",align:"left"},{name:"coordinador",field:"coordinador",label:"Coordinador",align:"left"},{name:"fecha_hora_agendado",field:"fecha_hora_agendado",label:"Fecha hora agendado",align:"left",sortable:!0},{name:"es_ventana",field:"es_ventana",label:"Es ventana",align:"left"},{name:"fecha_inicio_trabajo",field:"fecha_inicio_trabajo",label:"Fecha inicio de trabajo",align:"left"},{name:"hora_inicio_trabajo",field:"hora_inicio_trabajo",label:"Hora inicio de trabajo",align:"left"},{name:"hora_fin_trabajo",field:"hora_fin_trabajo",label:"Hora fin de trabajo",align:"left"},{name:"subtarea_dependiente",field:"subtarea_dependiente",label:"Depende de",align:"left"},{name:"proyecto",field:"proyecto",label:"Proyecto",align:"left",sortable:!0},{name:"etapa",field:"etapa",label:"Etapa",align:"left",sortable:!0},{name:"cliente_final",field:"cliente_final",label:"Cliente final",align:"left",sortable:!0}],ba={};function fa(a,e){return P(),M(D,null,{default:j(()=>e[0]||(e[0]=[o("p",null,[s(" Al iniciar sesi\xF3n lo primero que el t\xE9cnico ve en la pantalla, es la tabla de trabajos agendados. La tabla consta de los siguientes estados. "),o("ul",null,[o("li",null,[o("b",null,"Agendado:"),s(" El coordinador crea la subtarea, y se la agenda al t\xE9cnico responsable. Aqu\xED se muestran las subtareas que se deben ejecutar en el d\xEDa actual y las atrasadas. El t\xE9cnico puede: consultar m\xE1s detalles para informaci\xF3n m\xE1s completa, ejecutar y/o suspender la subtarea. ")]),o("li",null,[o("b",null,"Ejecutando:"),s(" el responsable t\xE9cnico ejecuta la subtarea. En este estado se le habilitan los botones: seguimiento, pausar, suspender, realizado.")]),o("li",null,[o("b",null,"Pausado:"),s(" Cuando el t\xE9cnico no puede continuar con una tarea puede pausarla temporalmente. En cada pausa el t\xE9cnico debe seleccionar el motivo por el que se va a dar la pausa. Al momento de retornar el t\xE9cnico puede reanudar la subtarea. ")]),o("li",null,[o("b",null,"Pr\xF3ximos trabajos:"),s(" aqu\xED se detallan los trabajos agendados y que se deben ejecutar a futuro.")])])],-1)])),_:1})}var ga=_(ba,[["render",fa]]);class ja{constructor(){n(this,"DetalleTrabajoAsignadoPage");n(this,"SeguimientoSubtareaPage");n(this,"GuiaSubtareasPage");this.DetalleTrabajoAsignadoPage=f(new g("Detalles del trabajo",sa)),this.SeguimientoSubtareaPage=f(new g("Seguimiento",la)),this.GuiaSubtareasPage=f(new g("\xBFC\xF3mo funcionan los estados de las subtareas?",ga))}}class Sa extends na{constructor(){super(new ja)}}class ha{constructor(e,t){n(this,"accion");n(this,"puedeEjecutar");this.accion=e,this.puedeEjecutar=t}start(){const e=ua().pusher,t=this.accion,l=this.puedeEjecutar;e.subscribe("subtareas-tracker"),e.bind("subtarea-event",function(){l.value&&t(S.AGENDADO)})}}var Aa=I({components:{EssentialTableTabs:aa,ModalesEntidad:ea,ConfirmarDialog:Z},setup(){const a=U(),e=z();W().setQuasar(v()),Y().setQuasar(v());const t=new ma(ca,new ia),{listado:l,listadosAuxiliares:h}=t.useReferencias(),{listar:A,cargarVista:u,obtenerListados:c}=t.useComportamiento();u(async()=>{await c({motivosPausas:new ra,motivosSuspendidos:new ta,causasIntervenciones:new oa})});const p=C(!1),i=new Sa,b=C(),{btnIniciar:w,btnPausar:y,btnReanudar:q,btnRealizar:G,btnSeguimiento:B,btnSuspender:N,setFiltrarTrabajoAsignado:R}=da(l,i,h);R(d);const F=H(()=>b.value===S.AGENDADO);new ha(d,F).start();const Q={titulo:"M\xE1s detalles",icono:"bi-eye",accion:async({entidad:r})=>{a.idSubtareaSeleccionada=r.id,i.abrirModalEntidad("DetalleTrabajoAsignadoPage")}};async function d(r){A({estado:r}),b.value=r}d(S.AGENDADO),i.getModales();function V(r){p.value=!1,i.abrirModalEntidad(r)}function $(){i.abrirModalEntidad("GuiaSubtareasPage")}return{mixin:t,listado:l,configuracionColumnasTrabajoAsignado:pa,btnIniciar:w,botonVer:Q,tabTrabajoAsignado:J,filtrarTrabajoAsignado:d,accionesTabla:L,modales:i,mostrarDialogPlantilla:p,plantillaSeleccionada:V,btnPausar:y,btnReanudar:q,btnSeguimiento:B,btnSuspender:N,btnRealizar:G,tabActual:b,abrirGuia:$,fecha:X.formatDate(Date.now(),"dddd, DD MMMM YYYY"),authenticationStore:e}}});const va={class:"text-center q-my-md"},Ca={class:"q-mb-mdd"},Ea={class:"block q-mb-md"};function Ta(a,e,t,l,h,A){const u=E("essential-table-tabs"),c=E("modales-entidad");return P(),M(D,{padding:""},{default:j(()=>[o("div",va,[o("div",Ca,[e[1]||(e[1]=s(" Bienvenido, ")),o("strong",null,T(a.authenticationStore.nombreUsuario),1)]),o("small",Ea,T(a.fecha),1),m(O,{color:"transparent",class:"q-px-md text-positive","no-caps":"",dense:"",unelevated:"",rounded:"",onClick:e[0]||(e[0]=p=>a.abrirGuia())},{default:j(()=>[m(K,{name:"bi-info-circle-fill",size:"xs",class:"q-mr-sm",color:"primary"}),e[2]||(e[2]=o("span",{class:"text-primary"}," \xBFC\xF3mo funcionan los estados de las subtareas? ",-1))]),_:1})]),m(u,{titulo:"Tienes "+a.listado.length+" subtarea(s) en estado "+a.tabActual,configuracionColumnas:[...a.configuracionColumnasTrabajoAsignado,a.accionesTabla],datos:a.listado,accion1:a.botonVer,accion2:a.btnIniciar,accion3:a.btnSeguimiento,accion4:a.btnPausar,accion5:a.btnReanudar,accion6:a.btnSuspender,accion7:a.btnRealizar,permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,permitirBuscar:!1,"mostrar-botones":!1,"tab-options":a.tabTrabajoAsignado,onTabSeleccionado:a.filtrarTrabajoAsignado,"tab-defecto":a.tabActual,"permitir-buscar":!0,class:"borde rounded custom-shadow"},null,8,["titulo","configuracionColumnas","datos","accion1","accion2","accion3","accion4","accion5","accion6","accion7","tab-options","onTabSeleccionado","tab-defecto"]),m(c,{comportamiento:a.modales,"mixin-modal":a.mixin,"confirmar-cerrar":!1,persistente:!1},null,8,["comportamiento","mixin-modal"])]),_:1})}var ro=_(Aa,[["render",Ta]]);export{ro as default};
