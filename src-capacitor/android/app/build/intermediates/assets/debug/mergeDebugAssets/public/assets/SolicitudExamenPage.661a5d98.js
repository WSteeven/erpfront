import{s as x,a as y,I as w,z as O}from"./EssentialTable.d8e6954a.js";import{S as T}from"./utils.30e08aa2.js";import{r as A}from"./i18n-validators.06eef631.js";import{u as L}from"./index.ed676411.js";import{c as M,E as B,e as l,f as D,s as I,v as $,x as E,y as k,S as F,H as V,B as q,D as z}from"./index.976e8f3c.js";import{F as H,S as N,a as R}from"./FormularioSolicitudExamen.6b1f16ad.js";import{T as j}from"./TabLayoutFilterTabs2.f1a01a4e.js";import{M as P}from"./ModalEntidad.84100166.js";import{C as G}from"./ContenedorSimpleMixin.5a0b06ab.js";import{E as J,c as K}from"./ExamenSolicitado.a72f3d28.js";import{E as Q}from"./Empleado.20234ba0.js";import{u as U}from"./DetallePaciente.c22aedbd.js";import"./QSelect.a8f2bfb2.js";import"./QChip.334d746c.js";import"./QItemSection.c6f2640c.js";import"./QMenu.410ae527.js";import"./position-engine.2f1d750c.js";import"./format.8ac60962.js";import"./QFile.e27868da.js";import"./QTable.048b8be8.js";import"./use-fullscreen.0ccd26e6.js";import"./QToolbar.cff7174f.js";import"./QBtnGroup.7d0835e4.js";import"./QBadge.1ddeabfd.js";import"./QPopupProxy.d8ef7a42.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e0fb285c.js";import"./VisorImagen.e7965569.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.b482e77d.js";import"./index.95f5a0db.js";import"./entidadAuditable.75a46700.js";import"./SimpleLayout.0978ce6a.js";import"./buttonSubmits.2eb37d38.js";import"./LaboratorioClinicoController.c565aa29.js";import"./filtrosListadosGenerales.31e9eb2c.js";import"./EmpleadoPermisosController.f86af0cf.js";import"./QTabs.3c726b04.js";import"./QResizeObserver.6ec10d95.js";import"./QTabPanels.1c8c4baa.js";import"./touch.9135741d.js";import"./QPage.ed5d79ca.js";import"./EssentialTableTabs.c7e98bba.js";import"./EssentialTablePagination.f449a738.js";import"./configuracion_general.ef04b031.js";import"./ConfiguracionController.65de3fc5.js";function W(o){return{btnAprobar:{titulo:"Aprobar",icono:"bi-cash-coin",color:"positive",visible:()=>o.value===x.SOLICITADO.value,accion:()=>{}}}}var X=M({components:{TabLayoutTabs:j,Estado:y,ModalesEntidad:P,FormularioSolicitudExamen:H},setup(){const o=U(),e=new G(N,new R),{entidad:t,accion:p}=e.useReferencias(),{setValidador:d,listar:u}=e.useComportamiento(),{onConsultado:m}=e.useHooks(),c=new B,s=l(x.SOLICITADO.value),f=D(new Q),n=new T,S=l(),h=l(),{btnAprobar:v}=W(s),g=i=>{n.activar();try{s.value=i;const a={estado_solicitud_examen:s.value,registro_empleado_examen_id:o.idRegistroEmpleadoExamen};u(a)}catch(a){console.log(a)}finally{n.desactivar()}},C=async i=>{n.activar();const a={campos:"id,foto_url,nombres,apellidos,identificacion,nombre_canton,email,fecha_nacimiento,tipo_sangre,genero,telefono,area_info,nombre_cargo,fecha_ingreso,canton,jefe_inmediato,edad"};try{const{result:r}=await c.consultar(i,a);f.hydrate(r)}catch(r){console.log(r)}finally{n.desactivar()}},_=L({registro_empleado_examen:{required:A}},t);return d(_.value),m(async()=>{t.empleado_id&&C(t.empleado_id),t.examenes_solicitados=t.examenes_solicitados.map(i=>{var r,b;const a=new J;return a.hydrate(i),a.fecha_asistencia=((r=i.fecha_hora_asistencia)==null?void 0:r.split(" ")[0])||null,a.hora_asistencia=((b=i.fecha_hora_asistencia)==null?void 0:b.split(" ")[1])||null,a})}),{v$:_,mixin:e,solicitudExamen:t,configuracionColumnasSolicitudExamen:K,tabSolicitud:s,filtrarSolicitudes:g,tabOptionsEstadosSolicitudExamen:w,empleado:f,estadosCitaMedica:O,maskFecha:I,fecha_cita_medica:S,hora_cita_medica:h,accion:p,btnAprobar:v}}});const Y={class:"q-pa-md"};function Z(o,e,t,p,d,u){const m=E("formulario-solicitud-examen"),c=E("tab-layout-tabs");return k(),F(c,{mixin:o.mixin,configuracionColumnas:o.configuracionColumnasSolicitudExamen,full:!0,tabOptions:o.tabOptionsEstadosSolicitudExamen,filtrar:o.filtrarSolicitudes,tabDefecto:o.tabSolicitud,forzarListar:!0,"permitir-consultar":!0,"permitir-editar":!0,"mostrar-button-submits":!!o.empleado.id},{formulario:V(()=>[q("div",Y,[z(m,{mixin:o.mixin,empleado:o.empleado},null,8,["mixin","empleado"])])]),_:1},8,["mixin","configuracionColumnas","tabOptions","filtrar","tabDefecto","mostrar-button-submits"])}var Qo=$(X,[["render",Z]]);export{Qo as default};
