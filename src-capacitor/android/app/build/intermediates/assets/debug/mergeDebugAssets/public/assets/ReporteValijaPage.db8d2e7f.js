import{c as S,be as j,p as v,f as q,s as E,A as F,bH as b,t as h,v as P,x as A,y as B,S as x,H as r,D as o,bf as U,bg as V,B as i,K as g,F as p,k as _,R as f,Q as D,c8 as I,G as C}from"./index.976e8f3c.js";import{Q as $,a as k,C as w}from"./QPopupProxy.d8ef7a42.js";import{Q as N}from"./QPage.ed5d79ca.js";import{C as O}from"./ContenedorSimpleMixin.5a0b06ab.js";import{V as H}from"./Valija.55ae864d.js";import{V as T}from"./ValijaController.cf116cb8.js";import{u as z}from"./index.ed676411.js";import{r as Q}from"./i18n-validators.06eef631.js";import{E as G}from"./ErrorComponent.b482e77d.js";import{u as L,A as y}from"./utils.30e08aa2.js";import"./format.8ac60962.js";import"./QMenu.410ae527.js";import"./position-engine.2f1d750c.js";import"./entidadAuditable.75a46700.js";import"./index.95f5a0db.js";var K=S({components:{ErrorComponent:G},setup(){const a=new O(H,new T),{disabled:e}=a.useReferencias(),{setValidador:m}=a.useComportamiento();j().setQuasar(v()),L().setQuasar(v());const l=q({fecha_inicio:"",fecha_fin:""}),t=z({fecha_inicio:{required:Q},fecha_fin:{required:Q}},l);m(t.value);async function n(s){if(await t.value.$validate()){const c=F.getInstance();let d;const u="Reporte de valija de "+l.fecha_inicio+" al "+l.fecha_fin;switch(s){case"excel":d=b.URL_BASE+"/"+c.getEndpoint(h.reporte_valijas)+"excel",await y(d,"POST","blob","xlsx",u,l);break;default:d=b.URL_BASE+"/"+c.getEndpoint(h.reporte_valijas)+"pdf",await y(d,"POST","blob","pdf",u,l)}}}return{reporte:l,disabled:e,v$:t,maskFecha:E,generarReporte:n}}});const M={class:"col-6 col-md-3"},J={class:"row items-center justify-end"},W={class:"col-6 col-md-3"},X={class:"row items-center justify-end"},Y={class:"col-md-6"},Z={class:"col-md-6"};function ee(a,e,m,l,R,t){const n=A("error-component");return B(),x(N,{padding:"",class:"flex flex-center"},{default:r(()=>[o(U,{flat:"",bordered:"",class:"my-card bg-desenfoque"},{default:r(()=>[o(V,null,{default:r(()=>e[6]||(e[6]=[i("div",{class:"row items-center no-wrap"},[i("div",{class:"col"},[i("div",{class:"text-h6"},"Generar Reporte de Env\xEDo de Valijas")])],-1)])),_:1}),o(V,null,{default:r(()=>[i("div",M,[e[7]||(e[7]=i("label",{class:"q-mb-sm block"},"Fecha Inicio:",-1)),o(g,{modelValue:a.reporte.fecha_inicio,"onUpdate:modelValue":e[1]||(e[1]=s=>a.reporte.fecha_inicio=s),placeholder:"Obligatorio",error:!!a.v$.fecha_inicio.$errors.length,disable:a.disabled,outlined:"",dense:""},{append:r(()=>[o(p,{name:"event",class:"cursor-pointer"},{default:r(()=>[o($,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[o(k,{modelValue:a.reporte.fecha_inicio,"onUpdate:modelValue":e[0]||(e[0]=s=>a.reporte.fecha_inicio=s),mask:a.maskFecha,"today-btn":""},{default:r(()=>[i("div",J,[_(o(f,{label:"Cerrar",color:"primary",flat:""},null,512),[[w]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:r(()=>[o(n,{clave:"fecha_inicio",v$:a.v$},null,8,["v$"])]),_:1},8,["modelValue","error","disable"])]),i("div",W,[e[8]||(e[8]=i("label",{class:"q-mb-sm block"},"Fecha Fin:",-1)),o(g,{modelValue:a.reporte.fecha_fin,"onUpdate:modelValue":e[3]||(e[3]=s=>a.reporte.fecha_fin=s),placeholder:"Obligatorio",error:!!a.v$.fecha_fin.$errors.length,disable:a.disabled,outlined:"",dense:""},{append:r(()=>[o(p,{name:"event",class:"cursor-pointer"},{default:r(()=>[o($,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[o(k,{modelValue:a.reporte.fecha_fin,"onUpdate:modelValue":e[2]||(e[2]=s=>a.reporte.fecha_fin=s),mask:a.maskFecha,"today-btn":""},{default:r(()=>[i("div",X,[_(o(f,{label:"Cerrar",color:"primary",flat:""},null,512),[[w]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:r(()=>[o(n,{clave:"fecha_fin",v$:a.v$},null,8,["v$"])]),_:1},8,["modelValue","error","disable"])])]),_:1}),o(D),o(I,{align:"around",class:"row q-col-gutter-xs"},{default:r(()=>[i("div",Y,[o(f,{color:"positive",onClick:e[4]||(e[4]=s=>a.generarReporte("excel")),class:"full-width",unelevated:"",square:""},{default:r(()=>[o(p,{name:"bi-file-earmark-excel-fill",size:"xs",class:"q-mr-sm"}),e[9]||(e[9]=C("Excel"))]),_:1})]),i("div",Z,[o(f,{color:"negative",onClick:e[5]||(e[5]=s=>a.generarReporte("pdf")),class:"full-width",unelevated:"",square:""},{default:r(()=>[o(p,{name:"bi-file-earmark-pdf-fill",size:"xs",class:"q-mr-sm"}),e[10]||(e[10]=C("PDF"))]),_:1})])]),_:1})]),_:1})]),_:1})}var be=P(K,[["render",ee]]);export{be as default};
