var k=Object.defineProperty;var S=(e,o,i)=>o in e?k(e,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[o]=i;var s=(e,o,i)=>(S(e,typeof o!="symbol"?o+"":o,i),i);import{c as q,cy as w,u as E,e as O,v as T,x as v,y as h,S as L,H as t,D as r,B as n,K as c,aa as N,a7 as B}from"./index.976e8f3c.js";import{Q as I}from"./QSelect.a8f2bfb2.js";import{Q}from"./QForm.ed6f6690.js";import{r as f,n as U,a as z}from"./i18n-validators.06eef631.js";import{u as A}from"./index.ed676411.js";import{T as F}from"./TabLayout.d6dcc414.js";import{E as P}from"./ErrorComponent.b482e77d.js";import{N as j}from"./NoOptionComponent.ffe820c8.js";import{C as M}from"./ContenedorSimpleMixin.5a0b06ab.js";import{E as D}from"./entidadAuditable.75a46700.js";import{C as H}from"./ClienteController.f53ff018.js";import{l as K}from"./utils.30e08aa2.js";import"./QChip.334d746c.js";import"./QItemSection.c6f2640c.js";import"./QMenu.410ae527.js";import"./position-engine.2f1d750c.js";import"./format.8ac60962.js";import"./index.95f5a0db.js";import"./QTabs.3c726b04.js";import"./QResizeObserver.6ec10d95.js";import"./QTabPanels.1c8c4baa.js";import"./touch.9135741d.js";import"./QPopupProxy.d8ef7a42.js";import"./QPage.ed5d79ca.js";import"./buttonSubmits.2eb37d38.js";import"./EssentialTable.d8e6954a.js";import"./QFile.e27868da.js";import"./QTable.048b8be8.js";import"./use-fullscreen.0ccd26e6.js";import"./QToolbar.cff7174f.js";import"./QBtnGroup.7d0835e4.js";import"./QBadge.1ddeabfd.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e0fb285c.js";import"./VisorImagen.e7965569.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./EssentialTablePagination.f449a738.js";const R=[{name:"id",field:"id",label:"N\xB0",align:"left",sortable:!0},{name:"lugar",field:"lugar",label:"Lugar",align:"left",sortable:!0},{name:"telefono",field:"telefono",label:"Telefono",align:"left",sortable:!0},{name:"correo",field:"correo",label:"Correo",align:"left",sortable:!0},{name:"cliente",field:"cliente",label:"Propietario",align:"left",sortable:!0},{name:"extension",field:"extension",label:"Extensi\xF3n",align:"left",sortable:!0},{name:"activo",field:"activo",label:"Estado",align:"left",sortable:!0}];class G extends D{constructor(){super();s(this,"lugar");s(this,"telefono");s(this,"correo");s(this,"extension");s(this,"cliente");s(this,"cliente_id");s(this,"activo");this.lugar=null,this.telefono=null,this.correo=null,this.extension=null,this.cliente=null,this.cliente_id=null,this.activo=!0}}var J=q({components:{NoOptionComponent:j,ErrorComponent:P,TabLayout:F},setup(){const e=new M(G,new w),{entidad:o,disabled:i,listadosAuxiliares:m}=e.useReferencias(),{setValidador:g,cargarVista:C,obtenerListados:u}=e.useComportamiento(),b=E(),a=O([]);C(async()=>{await u({clientes:{controller:new H,params:{requiere_bodega:1}}})});const l={lugar:{required:f},telefono:{required:f},correo:{required:f},cliente:{required:f},extension:{numeric:U,requiredIfExtension:z(o.extension!==null)}},$=A(l,o);return g($.value),a.value=m.clientes,{mixin:e,sucursal:o,v$:$,disabled:i,configuracionColumnas:R,clientes:a,filtroClientes(d,p){if(d===""){p(()=>{a.value=m.clientes});return}p(()=>{const V=d.toLowerCase();a.value=m.clientes.filter(y=>y.razon_social.toLowerCase().indexOf(V)>-1)})},ordenarClientes(){b.esBodegueroTelconet?a.value=a.value.filter(d=>d.razon_social.indexOf("TELCONET")>-1):a.value.sort((d,p)=>K(d.razon_social,p.razon_social))}}}});const W={class:"row q-col-gutter-sm q-py-md"},X={class:"col-12 col-md-4"},Y={class:"col-12 col-md-4"},Z={class:"col-12 col-md-4"},x={class:"col-12 col-md-4"},_={class:"col-12 col-md-4"},ee={class:"col-12 col-md-3 col-sm-3"};function oe(e,o,i,m,g,C){const u=v("error-component"),b=v("no-option-component"),a=v("tab-layout");return h(),L(a,{mixin:e.mixin,configuracionColumnas:e.configuracionColumnas,"titulo-pagina":"Sucursales",ajustarCeldas:"",paginate:!1},{formulario:t(()=>[r(Q,{onSubmit:o[6]||(o[6]=B(()=>{},["prevent"]))},{default:t(()=>[n("div",W,[n("div",X,[o[7]||(o[7]=n("label",{class:"q-mb-sm block"},"Lugar/ciudad",-1)),r(c,{modelValue:e.sucursal.lugar,"onUpdate:modelValue":o[0]||(o[0]=l=>e.sucursal.lugar=l),placeholder:"Obligatorio",readonly:e.disabled,error:!!e.v$.lugar.$errors.length,outlined:"",dense:""},{error:t(()=>[r(u,{clave:"lugar",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","readonly","error"])]),n("div",Y,[o[8]||(o[8]=n("label",{class:"q-mb-sm block"},"Telefono",-1)),r(c,{modelValue:e.sucursal.telefono,"onUpdate:modelValue":o[1]||(o[1]=l=>e.sucursal.telefono=l),placeholder:"Obligatorio",readonly:e.disabled,error:!!e.v$.telefono.$errors.length,outlined:"",dense:"",type:"tel",mask:"### ### ####","unmasked-value":""},{error:t(()=>[r(u,{clave:"telefono",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","readonly","error"])]),n("div",Z,[o[9]||(o[9]=n("label",{class:"q-mb-sm block"},"Correo",-1)),r(c,{modelValue:e.sucursal.correo,"onUpdate:modelValue":o[2]||(o[2]=l=>e.sucursal.correo=l),placeholder:"Obligatorio",readonly:e.disabled,error:!!e.v$.correo.$errors.length,outlined:"",dense:"",type:"email"},{error:t(()=>[r(u,{clave:"correo",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","readonly","error"])]),n("div",x,[o[10]||(o[10]=n("label",{class:"q-mb-sm block"},"Extensi\xF3n",-1)),r(c,{modelValue:e.sucursal.extension,"onUpdate:modelValue":o[3]||(o[3]=l=>e.sucursal.extension=l),type:"number",placeholder:"Opcional",readonly:e.disabled,error:!!e.v$.extension.$errors.length,outlined:"",dense:""},{error:t(()=>[r(u,{clave:"extension",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","readonly","error"])]),n("div",_,[o[11]||(o[11]=n("label",{class:"q-mb-sm block"},"Cliente propietario",-1)),r(I,{modelValue:e.sucursal.cliente,"onUpdate:modelValue":o[4]||(o[4]=l=>e.sucursal.cliente=l),options:e.clientes,"transition-show":"jump-up","transition-hide":"jump-up","options-dense":"",dense:"",outlined:"","use-input":"","input-debounce":"0",hint:"Este campo es obligatorio",error:!!e.v$.cliente.$errors.length,onFilter:e.filtroClientes,onPopupShow:e.ordenarClientes,disable:e.disabled,"option-label":l=>l.razon_social,"option-value":l=>l.id,"emit-value":"","map-options":""},{"no-option":t(()=>[r(b)]),error:t(()=>[r(u,{clave:"cliente",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","options","error","onFilter","onPopupShow","disable","option-label","option-value"])]),n("div",ee,[o[12]||(o[12]=n("label",{class:"q-mb-sm block"},"Estado",-1)),r(N,{label:e.sucursal.activo?"ACTIVO":"INACTIVO",modelValue:e.sucursal.activo,"onUpdate:modelValue":o[5]||(o[5]=l=>e.sucursal.activo=l),color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:e.disabled},null,8,["label","modelValue","disable"])])])]),_:1})]),_:1},8,["mixin","configuracionColumnas"])}var je=T(J,[["render",oe]]);export{je as default};
