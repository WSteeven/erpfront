import{Q as g,a as F}from"./QItemSection.c6f2640c.js";import{Q as $}from"./QSelect.a8f2bfb2.js";import{c as M,cv as G,be as H,p as J,e as k,g as K,v as j,x as W,y as m,S as X,H as a,D as n,a7 as Y,B as i,G as q,z as u,I as w,J as y,M as O,K as r,aa as Z}from"./index.976e8f3c.js";import{Q as h}from"./QExpansionItem.558e637e.js";import{Q as x}from"./QForm.ed6f6690.js";import{r as U}from"./i18n-validators.06eef631.js";import{u as _}from"./index.ed676411.js";import{T as ee}from"./TabLayout.d6dcc414.js";import{E as le}from"./EssentialTable.d8e6954a.js";import{C as oe}from"./ContenedorSimpleMixin.5a0b06ab.js";import{C as ie}from"./ClienteController.f53ff018.js";import{P as ne}from"./ProvinciaController.710213fc.js";import{C as ae,a as se}from"./ClienteFinalController.9a19dd2d.js";import"./QChip.334d746c.js";import"./QMenu.410ae527.js";import"./position-engine.2f1d750c.js";import"./format.8ac60962.js";import"./index.95f5a0db.js";import"./QTabs.3c726b04.js";import"./QResizeObserver.6ec10d95.js";import"./QTabPanels.1c8c4baa.js";import"./touch.9135741d.js";import"./QPopupProxy.d8ef7a42.js";import"./utils.30e08aa2.js";import"./QPage.ed5d79ca.js";import"./buttonSubmits.2eb37d38.js";import"./EssentialTablePagination.f449a738.js";import"./QTable.048b8be8.js";import"./use-fullscreen.0ccd26e6.js";import"./QToolbar.cff7174f.js";import"./QBtnGroup.7d0835e4.js";import"./QBadge.1ddeabfd.js";import"./QFile.e27868da.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e0fb285c.js";import"./VisorImagen.e7965569.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.b482e77d.js";import"./entidadAuditable.75a46700.js";const te=[{name:"id_cliente_final",field:"id_cliente_final",label:"ID Cliente",align:"left"},{name:"cliente",field:"cliente",label:"Cliente corporativo",align:"left"},{name:"nombres",field:"nombres",label:"Nombres",align:"left"},{name:"apellidos",field:"apellidos",label:"Apellidos",align:"left"},{name:"celular",field:"celular",label:"Celular",align:"left"},{name:"provincia",field:"provincia",label:"Provincia",align:"left"},{name:"canton",field:"canton",label:"Canton",align:"left"},{name:"activo",field:"activo",label:"Activo",align:"left"}];var re=M({components:{TabLayout:ee,EssentialTable:le},emits:["guardado","cerrar-modal"],setup(l,{emit:e}){const p=new oe(ae,new se),{entidad:f,disabled:B,accion:P,listadosAuxiliares:s}=p.useReferencias(),{cargarVista:o,obtenerListados:I,setValidador:A}=p.useComportamiento(),{onGuardado:L}=p.useHooks();o(async()=>{await I({clientes:new ie,provincias:new ne,cantones:new G}),V.value=s.clientes,b.value=s.cantones,C.value=s.provincias});const N={cliente:{required:U},id_cliente_final:{required:U},nombres:{required:U}};H().setQuasar(J());const Q=_(N,f);A(Q.value);const V=k();function S(t,d){if(t===""){d(()=>{V.value=s.clientes});return}d(()=>{const c=t.toLowerCase();V.value=s.clientes.filter(v=>v.razon_social.toLowerCase().indexOf(c)>-1)})}const C=k();function T(t,d){if(t===""){d(()=>{C.value=s.provincias});return}d(()=>{const c=t.toLowerCase();C.value=s.provincias.filter(v=>v.provincia.toLowerCase().indexOf(c)>-1)})}const b=k([]);function D(t,d){if(t===""){d(()=>{b.value=s.cantones});return}d(()=>{const c=t.toLowerCase();b.value=s.cantones.filter(v=>v.canton.toLowerCase().indexOf(c)>-1)})}const E=K(()=>b.value.filter(t=>t.provincia_id===f.provincia)),R=[{label:"Fibra",value:"FIBRA"},{label:"Radio",value:"RADIO"}],z=[{label:"Visto",value:"VISTO"},{label:"Canaleta",value:"CANALETA"}];return L(()=>{e("cerrar-modal"),e("guardado","ClienteFinalPage")}),{mediosTransmision:R,tendidosInteriorCable:z,mixin:p,clienteFinal:f,disabled:B,accion:P,listadosAuxiliares:s,v$:Q,configuracionColumnasClienteFinal:te,clientes:V,cantones:b,filtrarClientes:S,filtrarCantones:D,filtrarProvincias:T,cantonesPorProvincia:E}}});const de={class:"row q-col-gutter-sm q-pa-md"},me={class:"col-12 col-md-6"},ue={class:"error-msg"},pe={class:"col-12 col-md-3"},be={class:"error-msg"},ce={class:"col-12 col-md-3"},ve={class:"col-12 col-md-3"},fe={class:"error-msg"},Ve={class:"col-12 col-md-3"},Ce={class:"col-12 col-md-3"},ge={class:"col-12 col-md-3"},Fe={class:"col-12 col-md-3"},$e={class:"col-12 col-md-3"},ke={class:"col-12 col-md-3"},qe={class:"col-12 col-md-3"},we={class:"col-12 col-md-3"},ye={class:"col-12 col-md-3"},Oe={class:"col-12 col-md-3"};function Ue(l,e,p,f,B,P){const s=W("tab-layout");return m(),X(s,{mixin:l.mixin,configuracionColumnas:l.configuracionColumnasClienteFinal,"titulo-pagina":"Proyectos","permitir-eliminar":!1},{formulario:a(()=>[n(x,{onSubmit:e[14]||(e[14]=Y(()=>{},["prevent"]))},{default:a(()=>[n(h,{class:"overflow-hidden q-mb-md expansion",label:"1. Informaci\xF3n general","header-class":"bg-header-collapse","default-opened":""},{default:a(()=>[i("div",de,[i("div",me,[e[16]||(e[16]=i("label",{class:"q-mb-sm block"},"Cliente corporativo",-1)),n($,{modelValue:l.clienteFinal.cliente,"onUpdate:modelValue":e[0]||(e[0]=o=>l.clienteFinal.cliente=o),options:l.clientes,onFilter:l.filtrarClientes,onBlur:l.v$.cliente.$touch,disable:l.disabled,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":o=>o.razon_social,"option-value":o=>o.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":"",error:!!l.v$.cliente.$errors.length},{"no-option":a(()=>[n(g,null,{default:a(()=>[n(F,{class:"text-grey"},{default:a(()=>e[15]||(e[15]=[q(" No hay resultados ")])),_:1})]),_:1})]),error:a(()=>[(m(!0),u(w,null,y(l.v$.cliente.$errors,o=>(m(),u("div",{key:o.$uid},[i("div",ue,O(o.$message),1)]))),128))]),_:1},8,["modelValue","options","onFilter","onBlur","disable","option-label","option-value","error"])]),i("div",pe,[e[17]||(e[17]=i("label",{class:"q-mb-sm block"},"ID/C\xF3digo de cliente final",-1)),n(r,{modelValue:l.clienteFinal.id_cliente_final,"onUpdate:modelValue":e[1]||(e[1]=o=>l.clienteFinal.id_cliente_final=o),error:!!l.v$.id_cliente_final.$errors.length,onBlur:l.v$.id_cliente_final.$touch,placeholder:"Obligatorio",disable:l.disabled,autofocus:"",outlined:"",dense:""},{error:a(()=>[(m(!0),u(w,null,y(l.v$.id_cliente_final.$errors,o=>(m(),u("div",{key:o.$uid},[i("div",be,O(o.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur","disable"])]),i("div",ce,[e[18]||(e[18]=i("label",{class:"q-mb-sm block"},"C\xE9dula",-1)),n(r,{modelValue:l.clienteFinal.cedula,"onUpdate:modelValue":e[2]||(e[2]=o=>l.clienteFinal.cedula=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",ve,[e[19]||(e[19]=i("label",{class:"q-mb-sm block"},"Nombres",-1)),n(r,{modelValue:l.clienteFinal.nombres,"onUpdate:modelValue":e[3]||(e[3]=o=>l.clienteFinal.nombres=o),error:!!l.v$.nombres.$errors.length,onBlur:l.v$.nombres.$touch,placeholder:"Obligatorio",disable:l.disabled,outlined:"",dense:""},{error:a(()=>[(m(!0),u(w,null,y(l.v$.nombres.$errors,o=>(m(),u("div",{key:o.$uid},[i("div",fe,O(o.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur","disable"])]),i("div",Ve,[e[20]||(e[20]=i("label",{class:"q-mb-sm block"},"Apellidos",-1)),n(r,{modelValue:l.clienteFinal.apellidos,"onUpdate:modelValue":e[4]||(e[4]=o=>l.clienteFinal.apellidos=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",Ce,[e[21]||(e[21]=i("label",{class:"q-mb-sm block"},"Correo",-1)),n(r,{modelValue:l.clienteFinal.correo,"onUpdate:modelValue":e[5]||(e[5]=o=>l.clienteFinal.correo=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",ge,[e[22]||(e[22]=i("label",{class:"q-mb-sm block"},"Celular",-1)),n(r,{modelValue:l.clienteFinal.celular,"onUpdate:modelValue":e[6]||(e[6]=o=>l.clienteFinal.celular=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",Fe,[e[24]||(e[24]=i("label",{class:"q-mb-sm block"},"Provincias",-1)),n($,{modelValue:l.clienteFinal.provincia,"onUpdate:modelValue":e[7]||(e[7]=o=>l.clienteFinal.provincia=o),options:l.listadosAuxiliares.provincias,disable:l.disabled,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":o=>o.provincia,"option-value":o=>o.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":""},{"no-option":a(()=>[n(g,null,{default:a(()=>[n(F,{class:"text-grey"},{default:a(()=>e[23]||(e[23]=[q(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","option-label","option-value"])]),i("div",$e,[e[26]||(e[26]=i("label",{class:"q-mb-sm block"},"Canton",-1)),n($,{modelValue:l.clienteFinal.canton,"onUpdate:modelValue":e[8]||(e[8]=o=>l.clienteFinal.canton=o),options:l.cantonesPorProvincia,disable:l.disabled,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":o=>o.canton,"option-value":o=>o.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":""},{"no-option":a(()=>[n(g,null,{default:a(()=>[n(F,{class:"text-grey"},{default:a(()=>e[25]||(e[25]=[q(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","option-label","option-value"])]),i("div",ke,[e[27]||(e[27]=i("label",{class:"q-mb-sm block"},"Parroquia/Barrio",-1)),n(r,{modelValue:l.clienteFinal.parroquia,"onUpdate:modelValue":e[9]||(e[9]=o=>l.clienteFinal.parroquia=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",qe,[e[28]||(e[28]=i("label",{class:"q-mb-sm block"},"Direcci\xF3n",-1)),n(r,{modelValue:l.clienteFinal.direccion,"onUpdate:modelValue":e[10]||(e[10]=o=>l.clienteFinal.direccion=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",we,[e[29]||(e[29]=i("label",{class:"q-mb-sm block"},"Referencia",-1)),n(r,{modelValue:l.clienteFinal.referencia,"onUpdate:modelValue":e[11]||(e[11]=o=>l.clienteFinal.referencia=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",ye,[e[30]||(e[30]=i("label",{class:"q-mb-sm block"},"Coordenadas",-1)),n(r,{modelValue:l.clienteFinal.coordenadas,"onUpdate:modelValue":e[12]||(e[12]=o=>l.clienteFinal.coordenadas=o),placeholder:"Opcional",disable:l.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",Oe,[e[31]||(e[31]=i("br",null,null,-1)),n(Z,{modelValue:l.clienteFinal.activo,"onUpdate:modelValue":e[13]||(e[13]=o=>l.clienteFinal.activo=o),"checked-icon":"check",label:"Activo",color:"positive",disable:l.disabled},null,8,["modelValue","disable"])])])]),_:1})]),_:1})]),_:1},8,["mixin","configuracionColumnas"])}var bl=j(re,[["render",Ue]]);export{bl as default};
