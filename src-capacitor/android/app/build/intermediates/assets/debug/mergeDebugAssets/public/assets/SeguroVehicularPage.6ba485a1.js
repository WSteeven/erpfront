var w=Object.defineProperty;var F=(e,a,s)=>a in e?w(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s;var n=(e,a,s)=>(F(e,typeof a!="symbol"?a+"":a,s),s);import{bz as Q,t as q,c as O,s as u,v as P,x as T,y as i,S as B,H as l,D as d,a7 as N,B as r,K as f,z as t,I as g,J as h,M as v,F as I,k as D,R as E,aa as U}from"./index.976e8f3c.js";import{Q as j,a as A,C as M}from"./QPopupProxy.d8ef7a42.js";import{Q as H}from"./QForm.ed6f6690.js";import{r as V}from"./i18n-validators.06eef631.js";import{u as L}from"./index.ed676411.js";import{T as R}from"./TabLayoutFilterTabs2.f1a01a4e.js";import{C as G}from"./ContenedorSimpleMixin.5a0b06ab.js";import{E as J}from"./entidadAuditable.75a46700.js";import{a as K}from"./vehiculos.utils.c31e027d.js";import{v as m,Q as _}from"./utils.30e08aa2.js";const W=[{name:"nombre",field:"nombre",label:"Nombre",align:"left",sortable:!0},{name:"num_poliza",field:"num_poliza",label:"N\xB0 P\xF3liza",align:"left",sortable:!0,editable:!1},{name:"fecha_caducidad",field:"fecha_caducidad",label:"Fecha Caducidad",align:"left",sortable:!0},{name:"estado",field:"estado",label:"Estado",align:"left",sortable:!0}];class X extends J{constructor(){super();n(this,"nombre");n(this,"num_poliza");n(this,"fecha_caducidad");n(this,"estado");this.nombre=null,this.num_poliza=null,this.fecha_caducidad=null,this.estado=!0}}class Y extends Q{constructor(){super(q.seguros)}}var Z=O({components:{TabLayoutFilterTabs2:R},setup(e,{emit:a}){const s=new G(X,new Y),{entidad:c,disabled:$,accion:k}=s.useReferencias(),{setValidador:b,listar:o}=s.useComportamiento(),{onGuardado:C}=s.useHooks();C((p,z)=>{a("cerrar-modal",!1),a("guardado",{formulario:"SeguroVehicularPage",id:p,modelo:z.modelo})});const y=L({nombre:{required:V},num_poliza:{required:V},fecha_caducidad:{required:V}},c);b(y.value);async function S(p){switch(p){case"1":await o({"fecha_caducidad[operator]":">=","fecha_caducidad[value]":_(m(),0,0,15,u)});break;case"2":await o({"fecha_caducidad[start]":m(u),"fecha_caducidad[end]":_(m(),0,0,15,u)});break;case"3":await o({"fecha_caducidad[operator]":"<","fecha_caducidad[value]":m(u)});break;default:await o()}}return{mixin:s,seguro:c,disabled:$,accion:k,v$:y,configuracionColumnas:W,maskFecha:u,tabOptionsSeguros:K,filtrarSeguros:S}}});const x={class:"row q-col-gutter-sm q-py-md"},ee={class:"col-12 col-md-3 q-mb-md"},ae={class:"error-msg"},oe={class:"col-12 col-md-3 q-mb-md"},re={class:"error-msg"},se={class:"col-6 col-md-3"},le={class:"row items-center justify-end"},de={class:"error-msg"},ie={class:"col-12 col-md-3"};function te(e,a,s,c,$,k){const b=T("tab-layout-filter-tabs2");return i(),B(b,{mixin:e.mixin,configuracionColumnas:e.configuracionColumnas,ajustarCeldas:!0,"tab-options":e.tabOptionsSeguros,tabDefecto:"1",filtrar:e.filtrarSeguros,"titulo-pagina":"Seguros Vehiculares"},{formulario:l(()=>[d(H,{onSubmit:a[5]||(a[5]=N(()=>{},["prevent"]))},{default:l(()=>[r("div",x,[r("div",ee,[a[6]||(a[6]=r("label",{class:"q-mb-sm block"},"Nombre",-1)),d(f,{modelValue:e.seguro.nombre,"onUpdate:modelValue":a[0]||(a[0]=o=>e.seguro.nombre=o),placeholder:"Obligatorio",readonly:e.disabled,disable:e.disabled,error:!!e.v$.nombre.$errors.length,outlined:"",dense:""},{error:l(()=>[(i(!0),t(g,null,h(e.v$.nombre.$errors,o=>(i(),t("div",{key:o.$uid},[r("div",ae,v(o.$message),1)]))),128))]),_:1},8,["modelValue","readonly","disable","error"])]),r("div",oe,[a[7]||(a[7]=r("label",{class:"q-mb-sm block"},"N\xB0 P\xF3liza",-1)),d(f,{modelValue:e.seguro.num_poliza,"onUpdate:modelValue":a[1]||(a[1]=o=>e.seguro.num_poliza=o),placeholder:"Obligatorio",readonly:e.disabled,disable:e.disabled,error:!!e.v$.num_poliza.$errors.length,outlined:"",dense:""},{error:l(()=>[(i(!0),t(g,null,h(e.v$.num_poliza.$errors,o=>(i(),t("div",{key:o.$uid},[r("div",re,v(o.$message),1)]))),128))]),_:1},8,["modelValue","readonly","disable","error"])]),r("div",se,[a[8]||(a[8]=r("label",{class:"q-mb-sm block"},"Fecha de caducidad",-1)),d(f,{modelValue:e.seguro.fecha_caducidad,"onUpdate:modelValue":a[3]||(a[3]=o=>e.seguro.fecha_caducidad=o),placeholder:"Obligatorio",error:!!e.v$.fecha_caducidad.$errors.length,disable:e.disabled,outlined:"",dense:""},{append:l(()=>[d(I,{name:"event",class:"cursor-pointer"},{default:l(()=>[d(j,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[d(A,{modelValue:e.seguro.fecha_caducidad,"onUpdate:modelValue":a[2]||(a[2]=o=>e.seguro.fecha_caducidad=o),mask:e.maskFecha,"today-btn":""},{default:l(()=>[r("div",le,[D(d(E,{label:"Cerrar",color:"primary",flat:""},null,512),[[M]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:l(()=>[(i(!0),t(g,null,h(e.v$.fecha_caducidad.$errors,o=>(i(),t("div",{key:o.$uid},[r("div",de,v(o.$message),1)]))),128))]),_:1},8,["modelValue","error","disable"])]),r("div",ie,[a[9]||(a[9]=r("label",{class:"q-mb-sm block"},"Estado",-1)),d(U,{modelValue:e.seguro.estado,"onUpdate:modelValue":a[4]||(a[4]=o=>e.seguro.estado=o),label:e.seguro.estado?"ACTIVO":"INACTIVO",color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:e.disabled},null,8,["modelValue","label","disable"])])])]),_:1})]),_:1},8,["mixin","configuracionColumnas","tab-options","filtrar"])}var ne=P(Z,[["render",te]]),ye=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}));export{ne as S,Y as a,ye as b};
