import{c as O,p as Q,u as N,e as S,g as G,i as L,bV as g,q as $,bA as k,v as H,x as C,y as Z,S as J,H as _,B as c,D as n,R as K,G as U,F as W}from"./index.976e8f3c.js";import{Q as X}from"./QPage.ed5d79ca.js";import{c as Y}from"./configuracionColumnasSubtarea.c4b6d2e2.js";import{u as x}from"./BotonesTablaSubtarea.89944c3b.js";import{S as oo}from"./Subtarea.3371ad54.js";import{t as ao}from"./tareas.utils.309e0dff.js";import{u as to}from"./ArchivoSeguimiento.c473f5d7.js";import{u as ro}from"./utils.30e08aa2.js";import{E as io}from"./EssentialTableTabs.c7e98bba.js";import{M as eo}from"./ModalEntidad.84100166.js";import{C as no}from"./CausaIntervencionController.c3a3e470.js";import{M as so}from"./MotivoSuspendidoController.4bcef12b.js";import{C as mo}from"./ComportamientoModalesSubtarea.e01b675c.js";import{M as po}from"./MotivoPausaController.1f4be3ba.js";import{C as lo}from"./ContenedorSimpleMixin.5a0b06ab.js";import{S as co}from"./SubtareaController.f9fcde99.js";import"./EssentialTable.d8e6954a.js";import"./QSelect.a8f2bfb2.js";import"./QChip.334d746c.js";import"./QItemSection.c6f2640c.js";import"./QMenu.410ae527.js";import"./position-engine.2f1d750c.js";import"./format.8ac60962.js";import"./QFile.e27868da.js";import"./QTable.048b8be8.js";import"./use-fullscreen.0ccd26e6.js";import"./QToolbar.cff7174f.js";import"./QBtnGroup.7d0835e4.js";import"./QBadge.1ddeabfd.js";import"./QPopupProxy.d8ef7a42.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e0fb285c.js";import"./VisorImagen.e7965569.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.b482e77d.js";import"./i18n-validators.06eef631.js";import"./index.95f5a0db.js";import"./BotonesTablaTicket.8eaa0146.js";import"./ComponenteModal.domain.22ea4557.js";import"./index.ed676411.js";import"./DepartamentoController.6b5e308b.js";import"./FiltrosListadosTicket.4901916f.js";import"./filtrosListadosGenerales.31e9eb2c.js";import"./QScrollArea.f0584ddf.js";import"./QResizeObserver.6ec10d95.js";import"./QScrollObserver.cb4b92b2.js";import"./TouchPan.60cc61dc.js";import"./touch.9135741d.js";import"./es.5c829d48.js";import"./dayjs.min.7780de8a.js";import"./entidadAuditable.75a46700.js";import"./TablaFilasDinamicas.262857b3.js";import"./buttonSubmits.2eb37d38.js";import"./Archivo.c26f5472.js";import"./use-slider.d34561e4.js";import"./TicketController.af9c2ba9.js";import"./CategoriaTipoTicketController.76f1a755.js";import"./TipoTicketController.d5ce7c3f.js";import"./MotivoCanceladoTicketController.b353f34a.js";import"./QTabs.3c726b04.js";import"./QTabPanels.1c8c4baa.js";import"./trabajoAsignado.f9b7ddcf.js";import"./ComportamientoModalesTicketAsignado.4be2d82b.js";import"./FiltroMiBodegaEmpleado.020f4a2d.js";import"./ClienteMaterialEmpleadoController.fcdf149e.js";import"./listadoMaterialesDevolucion.5ce4073a.js";import"./FiltroMiBodegaProyecto.782f312c.js";import"./EtapaController.9ea539ef.js";import"./ProyectoController.29ab1934.js";import"./movilizacionSubtarea.7b909866.js";import"./QUploader.43bbdad9.js";import"./QCircularProgress.4d1a2735.js";import"./configuracionColumnasArchivoSubtarea.215f4ffd.js";import"./EssentialTablePagination.f449a738.js";import"./configuracion_general.ef04b031.js";import"./ConfiguracionController.65de3fc5.js";import"./QExpansionItem.558e637e.js";import"./configuracionColumnasMovilizacionSubtarea.e610a352.js";import"./configuracionColumnasEmpleadoGrupo.222e165b.js";import"./FiltrosListadosTarea.dcb68df5.js";import"./DesignarResponsableTrabajo.16684ccc.js";import"./QBtnToggle.8d809b19.js";import"./EssentialSelectableTable.001f5242.js";import"./selector.b9804ebb.js";import"./SelectorController.62baf71e.js";import"./Empleado.20234ba0.js";import"./GrupoController.9c11e3c7.js";import"./LabelAbrirModal.367ecdc1.js";import"./TabLayout.d6dcc414.js";import"./ArchivoSubtareaController.256dbdc3.js";import"./TipoTrabajoController.af9c1888.js";import"./AlimentacionGrupoPage.0fde2cf9.js";import"./QForm.ed6f6690.js";import"./TareaController.c7f2748b.js";import"./ClienteFinalController.9a19dd2d.js";import"./MovilizacionSubtareaController.7cc348db.js";import"./ClienteFinalPage.b6c473f5.js";import"./ClienteController.f53ff018.js";import"./ProvinciaController.710213fc.js";import"./RegistroTendido.b9117dd8.js";import"./configuracionColumnasProductos.4f52212a.js";var uo=O({components:{EssentialTableTabs:io,ModalesEntidad:eo},setup(){const o=to();ro().setQuasar(Q());const a=N(),r=new lo(oo,new co),{listado:i,listadosAuxiliares:d,filtros:u}=r.useReferencias(),{filtrar:e,listar:s,cargarVista:h,obtenerListados:v}=r.useComportamiento();h(async()=>{await v({motivosSuspendidos:new so,motivosPausas:new po,causasIntervenciones:new no})});const m=new mo,{btnIniciar:M,btnPausar:j,btnReanudar:F,btnSeguimiento:A,btnReagendar:E,btnRealizar:T,btnSuspender:w,btnCancelar:V,btnFinalizar:I,btnVerAlimentacion:R,setFiltrarTrabajoAsignado:y,guardadoModalesSubtarea:P}=x(i,m,d);y(l);const b=S(),p=S(),q=G(()=>!i.value.length),z=!a.esContabilidad,B={titulo:"M\xE1s detalles",icono:"bi-eye",accion:({entidad:t})=>{o.idSubtareaSeleccionada=t.id,o.accion=k.consultar,m.abrirModalEntidad("SubtareaPage")}};function l(t){const f="id,codigo_tarea,codigo_subtarea,titulo,estado,grupo,grupo_id,empleado_responsable,empleado_responsable_id,coordinador,tipo_trabajo,cantidad_adjuntos,fecha_solicitud,es_ventana,fecha_hora_creacion,fecha_inicio_trabajo,hora_inicio_trabajo,hora_fin_trabajo,fecha_hora_asignacion,fecha_hora_agendado,fecha_hora_ejecucion,fecha_hora_realizado,fecha_hora_finalizacion,dias_ocupados,fecha_hora_suspendido,motivo_suspendido,fecha_hora_cancelado,motivo_cancelado,subtarea_dependiente,canton,cliente,cliente_id,proyecto,proyecto_id,puede_ejecutar,puede_suspender,es_responsable,tarea_id";u.fields={estado:t,campos:f},b.value=t,p.value.getSearchValue()?p.value.toSearch():s({estado:t,campos:f,paginate:!0})}L(()=>l(a.esContabilidad?g.FINALIZADO:g.AGENDADO));function D(t){e(t)}return{refTabla:p,mixin:r,tabActual:b,columnasSubtareas:[...Y,$],listado:i,tabOptionsEstadosSubtareasMonitor:ao,btnConsultarSubtarea:B,btnIniciar:M,btnPausar:j,btnReanudar:F,btnRealizar:T,modalesSubtarea:m,btnSeguimiento:A,btnReagendar:E,btnSuspender:w,btnCancelar:V,btnFinalizar:I,btnVerAlimentacion:R,filtrarSubtareas:l,filtrar:e,aplicarFiltro:D,altoFijo:q,mostrarTabs:z,guardadoModalesSubtarea:P}}});const bo={class:"column q-mb-md q-gutter-sm items-center"};function fo(o,a,r,i,d,u){const e=C("essential-table-tabs"),s=C("modales-entidad");return Z(),J(X,{padding:""},{default:_(()=>[c("div",bo,[a[2]||(a[2]=c("b",{class:"text-h5 text-bold"},"Monitor",-1)),a[3]||(a[3]=c("small",null,"Ten una visi\xF3n completa de todos los trabajos y sus estados.",-1)),n(K,{color:"primary",class:"q-px-md",to:{name:"tareas"},"no-caps":"",dense:"",square:"",unelevated:""},{default:_(()=>[a[1]||(a[1]=U("Ir a Control de tareas ")),n(W,{name:"bi-box-arrow-in-right",class:"q-ml-sm"})]),_:1})]),n(e,{ref:"refTabla",class:"custom-shadow5 borde rounded",titulo:"Existen "+o.listado.length+" subtarea(s) en estado "+o.tabActual+".",configuracionColumnas:o.columnasSubtareas,datos:o.listado,tabOptions:o.tabOptionsEstadosSubtareasMonitor,accion1:o.btnConsultarSubtarea,accion2:o.btnIniciar,accion3:o.btnPausar,accion4:o.btnReanudar,accion5:o.btnRealizar,accion6:o.btnReagendar,accion7:o.btnSeguimiento,accion8:o.btnSuspender,accion9:o.btnCancelar,accion10:o.btnFinalizar,accion11:o.btnVerAlimentacion,separador:"cell",permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,"mostrar-botones":!1,"mostrar-footer":"",permitirFiltrar:!0,onTabSeleccionado:o.filtrarSubtareas,tabDefecto:o.tabActual,altoFijo:o.altoFijo,onFiltrar:o.aplicarFiltro,onLimpiarListado:a[0]||(a[0]=()=>o.listado=[]),mostrarExportar:!0,"ajustar-celdas":"",paginate:"",mixin:o.mixin},null,8,["titulo","configuracionColumnas","datos","tabOptions","accion1","accion2","accion3","accion4","accion5","accion6","accion7","accion8","accion9","accion10","accion11","onTabSeleccionado","tabDefecto","altoFijo","onFiltrar","mixin"]),n(s,{comportamiento:o.modalesSubtarea,"mixin-modal":o.mixin,"confirmar-cerrar":!1,persistente:!1,onGuardado:o.guardadoModalesSubtarea},null,8,["comportamiento","mixin-modal","onGuardado"])]),_:1})}var lt=H(uo,[["render",fo]]);export{lt as default};
