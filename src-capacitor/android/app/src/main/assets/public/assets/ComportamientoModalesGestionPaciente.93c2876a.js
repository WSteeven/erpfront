var Ua=Object.defineProperty;var xa=(e,a,b)=>a in e?Ua(e,a,{enumerable:!0,configurable:!0,writable:!0,value:b}):e[a]=b;var s=(e,a,b)=>(xa(e,typeof a!="symbol"?a+"":a,b),b);import{C as ve,a as Da}from"./ComponenteModal.domain.22ea4557.js";import{bz as z,t as B,c as be,e as M,U as Oe,a4 as ua,g as we,bA as te,v as Ee,x as L,y as d,S as J,H as n,z as v,I as ee,J as ae,B as o,D as i,F as G,G as H,M as re,R as N,L as O,s as Re,N as wa,w as Aa,K as V,k as ce,u as Se,p as da,A as Te,bH as Ue,cP as K,f as Pa,be as Ia,cQ as Ra,q as Le,Q as ha,cR as Ma,i as Ba,Y as ze,bi as ge}from"./index.976e8f3c.js";import{S as He,u as ja,A as xe,B as Ge,C as Fe}from"./utils.30e08aa2.js";import{u as Ve}from"./DetallePaciente.c22aedbd.js";import{S as $e}from"./SimpleLayout.0978ce6a.js";import{E as Ae}from"./EssentialTable.d8e6954a.js";import{C as Ce}from"./ContenedorSimpleMixin.5a0b06ab.js";import{A as Qe}from"./ArchivoController.a69bf9a7.js";import{S as ma,a as pa,F as ka}from"./FormularioSolicitudExamen.6b1f16ad.js";import{E as Q}from"./entidadAuditable.75a46700.js";import{L as Na}from"./LaboratorioClinicoController.c565aa29.js";import{u as je}from"./filtrosListadosGenerales.31e9eb2c.js";import{C as za,a as Je,D as La}from"./DiagnosticoRecetaPage.09395968.js";import{Q as qe}from"./QSelect.a8f2bfb2.js";import{Q as ue,a as me,C as pe}from"./QPopupProxy.d8ef7a42.js";import{r as E,h as Ha}from"./i18n-validators.06eef631.js";import{G as Ye}from"./GestorArchivos.f1319a4d.js";import{u as De}from"./index.ed676411.js";import{Q as I}from"./QExpansionItem.558e637e.js";import{a as qa}from"./QToolbar.cff7174f.js";import{Q as Ga}from"./QChip.334d746c.js";import{C as Xe}from"./CargoController.cc02780b.js";import{I as Qa}from"./IdentidadGeneroController.d3be23fd.js";import{E as Ja}from"./ErrorComponent.b482e77d.js";import{O as Ya}from"./OptionGroupComponent.fd35e5c8.js";import{l as Xa}from"./lodash.44d763d7.js";import{E as Ka}from"./Empleado.20234ba0.js";const Wa=[{name:"campo",field:"campo",label:"Campo",align:"left",sortable:!0},{name:"resultado",field:"resultado",label:"Resultado",align:"left",sortable:!0,editable:!0},{name:"unidad_medida",field:"unidad_medida",label:"Unidad medida",align:"left",sortable:!0},{name:"rango_inferior",field:"rango_inferior",label:"Rango inferior",align:"left",sortable:!0},{name:"rango_superior",field:"rango_superior",label:"Rango superior",align:"left",sortable:!0},{name:"observaciones",field:"observaciones",label:"Observaciones",align:"left",placeholder:"SIN ALTERACIONES",sortable:!0,editable:!0}];class Za extends z{constructor(){super(B.configuraciones_examenes_categorias)}}class eo extends z{constructor(){super(B.resultados_examenes)}}class Va extends Q{constructor(){super();s(this,"resultado");s(this,"configuracion_examen_campo");s(this,"examen_solicitado");s(this,"observaciones");this.resultado=null,this.configuracion_examen_campo=null,this.examen_solicitado=null,this.observaciones=null}}var ao=be({name:"resultados_examenes",components:{SimpleLayout:$e,EssentialTable:Ae},emits:["cerrar-modal","guardado"],setup(e,{emit:a}){const b=Ve(),P=new He,h=M([]),R=M([]),g=M(),f=M(),u=M(),{notificarCorrecto:t}=Oe(),m=new Za,r=new eo,c=new Ce(ma,new pa,new Qe),{onGuardado:C,onModificado:l,onBeforeGuardar:F,onBeforeModificar:oe,onReestablecer:W}=c.useHooks(),{entidad:ie,accion:X}=c.useReferencias();c.useComportamiento();const Z=async()=>{try{P.activar();const{result:w}=await m.listar({registro_empleado_examen_id:b.idRegistroEmpleadoExamen});h.value=w,console.log(h.value)}catch(w){console.log(w)}finally{P.desactivar()}},se=async()=>{try{P.activar();const{result:w}=await r.listar({registro_empleado_examen_id:b.idRegistroEmpleadoExamen});R.value=w,console.log(R.value)}catch(w){console.log(w)}finally{P.desactivar()}},y=async()=>{h.value.map(w=>(console.log(w),w.categorias.map(D=>D.campos.map(_=>{var le,fe,_e;const x=R.value.find(Pe=>Pe.examen_solicitado===w.examen_solicitado&&Pe.configuracion_examen_campo===_.id);return _.resultado_examen=(le=x==null?void 0:x.id)!=null?le:null,_.resultado=(fe=x==null?void 0:x.resultado)!=null?fe:null,_.observaciones=(_e=x==null?void 0:x.observaciones)!=null?_e:null,console.log(R.value),console.log(_),_})))),X.value=te.editar},$=ua(()=>{h.value.length&&(y(),$())}),S=async()=>{R.value=[],h.value.forEach(w=>{w.categorias.forEach(D=>{D.campos.forEach(_=>{if(console.log(_),_.resultado){const x=new Va;x.resultado=_.resultado,x.configuracion_examen_campo=_.id,x.observaciones=_.observaciones,x.examen_solicitado=w.examen_solicitado,R.value.push(x)}})})});try{const{response:w}=await r.guardarListado(R.value);t(w.data.mensaje)}catch(w){console.log(w)}a("cerrar-modal")},T=async()=>{R.value=[],console.log(h.value),h.value.forEach(w=>{w.categorias.forEach(D=>{D.campos.forEach(_=>{if(console.log(_),_.resultado){const x=new Va;x.id=_.resultado_examen,x.resultado=_.resultado,x.configuracion_examen_campo=_.id,x.observaciones=_.observaciones,x.examen_solicitado=w.examen_solicitado,R.value.push(x)}})})});try{const{response:w}=await r.editarListado(R.value);t(w.data.mensaje)}catch(w){console.log(w)}a("cerrar-modal")};return W(()=>a("cerrar-modal")),Z(),se(),{mixin:c,itemsExamenes:h,refArchivo:f,idTransferencia:u,resultadosExamenes:R,configuracionColumnasCampos:Wa,observacion:g,accion:X,guardarResultadosExamenes:S,editarResultadosExamenes:T,mostrarGuardar:we(()=>X.value===te.nuevo),mostrarEditar:we(()=>X.value===te.editar)}}});const oo={key:0,class:"row rounded q-px-md"},io={class:"text-bold text-center bg-grey-3 border-grey d-inline rounded q-py-sm q-mb-sm q-mt-xl"},so={key:1};function lo(e,a,b,P,h,R){const g=L("essential-table"),f=L("simple-layout");return d(),J(f,{mixin:e.mixin,"mostrar-listado":!1,"permitir-guardar":!1,"permitir-editar":!!e.itemsExamenes.length},{formulario:n(()=>[e.itemsExamenes.length?(d(),v("div",oo,[(d(!0),v(ee,null,ae(e.itemsExamenes,u=>(d(),v("div",{key:u.examen,class:"col-12"},[o("div",io,[i(G,{name:"bi-table",class:"q-mr-sm"}),H(" "+re(u.examen),1)]),(d(!0),v(ee,null,ae(u.categorias,t=>(d(),v("div",{key:t.id,class:"col-12 text-center text-bold q-mb-xs"},[i(g,{titulo:t.categoria,configuracionColumnas:e.configuracionColumnasCampos,datos:t.campos,"alto-fijo":!1,permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,"mostrar-footer":!1,separador:"cell",permitirEditarCeldas:!0,"permitir-buscar":!1},null,8,["titulo","configuracionColumnas","datos"])]))),128))]))),128))])):(d(),v("div",so,"A\xFAn no tienes ex\xE1menes m\xE9dicos solicitados."))]),"custom-buttons":n(()=>[e.mostrarEditar?(d(),J(N,{key:0,color:"primary",push:"","no-caps":"",onClick:a[0]||(a[0]=u=>e.editarResultadosExamenes())},{default:n(()=>[i(G,{name:"bi-save",size:"xs",class:"q-mr-sm"}),a[1]||(a[1]=H(" Guardar cambios"))]),_:1})):O("",!0)]),_:1},8,["mixin","permitir-editar"])}var to=Ee(ao,[["render",lo]]),no=be({name:"solicitudes_examenes",components:{FormularioSolicitudExamen:ka,SimpleLayout:$e},emits:["guardado","cerrar-modal"],setup(e,{emit:a}){var y;const b=Ve(),P=b.empleado,h=M(P==null?void 0:P.canton),R=new He,g=new Na,f=M([]),u=new Ce(ma,new pa),{entidad:t,listadosAuxiliares:m,accion:r,disabled:c}=u.useReferencias(),{guardar:C}=u.useComportamiento(),{onReestablecer:l,onGuardado:F}=u.useHooks(),{cantones:oe,filtrarCantones:W}=je(m),ie=async $=>{try{R.activar();const{result:S}=await g.listar({canton_id:$,activo:1,campos:"id,nombre"});m.laboratoriosClinicos=S}catch(S){console.log(S)}finally{R.desactivar()}},X=($,S)=>{S===0&&(t.examenes_solicitados=t.examenes_solicitados.map(T=>(T.laboratorio_clinico=$,T)))},Z=($,S)=>{S===0&&(t.examenes_solicitados=t.examenes_solicitados.map(T=>(T.fecha_asistencia=$,T)))},se=($,S)=>{S===0&&(t.examenes_solicitados=t.examenes_solicitados.map(T=>(T.hora_asistencia=$,T)))};return F(($,S)=>{const T=S.modelo.examenes_solicitados.map(w=>w.examen);a("guardado",{page:"SolicitudExamenSolicitarPage",data:{idExamenesSolicitados:T}}),a("cerrar-modal")}),l(()=>a("cerrar-modal")),t.hydrate(b.solicitudExamen),t.registro_empleado_examen=(y=b.idRegistroEmpleadoExamen)!=null?y:null,r.value=b.accion,{mixin:u,solicitudExamen:t,empleado:P,examenes:f,listadosAuxiliares:m,maskFecha:Re,canton:h,cantones:oe,filtrarCantones:W,accion:r,disabled:c,consultarLaboratoriosClinicos:ie,guardar:C,asignarLaboratorio:X,asignarFecha:Z,asignarHora:se}}});function ro(e,a,b,P,h,R){const g=L("formulario-solicitud-examen"),f=L("simple-layout");return d(),J(f,{mixin:e.mixin},{formulario:n(()=>[i(g,{mixin:e.mixin,empleado:e.empleado},null,8,["mixin","empleado"])]),"custom-buttons":n(()=>[i(wa,{modelValue:e.solicitudExamen.generar_orden_compra,"onUpdate:modelValue":a[0]||(a[0]=u=>e.solicitudExamen.generar_orden_compra=u),label:"Generar \xF3rden de compra",disable:e.disabled},null,8,["modelValue","disable"])]),_:1},8,["mixin"])}var co=Ee(no,[["render",ro]]);const uo=[{name:"tipo_vacuna",field:"tipo_vacuna",label:"Tipo de vacuna",align:"left",sortable:!0},{name:"fecha",field:"fecha",label:"Fecha de aplicaci\xF3n",align:"left",sortable:!0},{name:"fecha_caducidad",field:"fecha_caducidad",label:"Fecha de caducidad",align:"left",sortable:!0},{name:"es_dosis_unica",field:"es_dosis_unica",label:"Es dosis \xFAnica"},{name:"observacion",field:"observacion",label:"Observaci\xF3n",align:"left",sortable:!0},{name:"responsable_vacunacion",field:"responsable_vacunacion",label:"Responsable de vacunaci\xF3n",align:"left",sortable:!0},{name:"establecimiento_salud",field:"establecimiento_salud",label:"Establecimiento de salud",align:"left",sortable:!0},{name:"lote",field:"lote",label:"Lote",align:"left",sortable:!0},{name:"archivos",field:"archivos",label:"Archivos",align:"left",sortable:!0}];class mo extends z{constructor(){super(B.tipos_vacunas)}}class po extends z{constructor(){super(B.esquemas_vacunas)}}class bo extends Q{constructor(){super();s(this,"dosis_aplicadas");s(this,"observacion");s(this,"tipo_vacuna");s(this,"tipo_vacuna_id");s(this,"paciente");s(this,"dosis_totales");s(this,"fecha");s(this,"lote");s(this,"responsable_vacunacion");s(this,"establecimiento_salud");s(this,"fecha_caducidad");s(this,"es_dosis_unica");s(this,"archivos");this.dosis_aplicadas=1,this.observacion=null,this.tipo_vacuna=null,this.tipo_vacuna_id=null,this.paciente=null,this.dosis_totales=null,this.fecha=null,this.lote=null,this.responsable_vacunacion=null,this.establecimiento_salud=null,this.fecha_caducidad=null,this.es_dosis_unica=!1,this.archivos=null}}var fo=be({name:"esquemas_vacunas",components:{SimpleLayout:$e,GestorArchivos:Ye,EssentialTable:Ae},emit:["cerrar-modal","modificado"],setup(e,{emit:a}){var w,D,_;const b=Ve(),P=new Ce(bo,new po),{entidad:h,listadosAuxiliares:R,accion:g,disabled:f,listado:u}=P.useReferencias(),{cargarVista:t,obtenerListados:m,listar:r,setValidador:c}=P.useComportamiento(),{onReestablecer:C,onGuardado:l}=P.useHooks();t(async()=>{await m({tiposVacunas:new mo})});const F=M(0),oe=M(!0),W=M(),ie=M(),X=M(!1),Z=we(()=>!!u.value.length&&g.value===te.consultar),{tiposVacunas:se,filtrarTiposVacunas:y}=je(R);async function $(){await W.value.subir(),X.value=!0}C(()=>{console.log(Z.value),Z.value&&a("cerrar-modal"),W.value.limpiarListado();const x=Aa(X,()=>{x(),a("cerrar-modal")})}),l(async(x,le)=>{ie.value=x,setTimeout(async()=>{await $()},1),a("guardado",{esquemaVacuna:le.modelo,page:"EsquemaVacunaPage"})});const T=De({tipo_vacuna:{required:E},fecha:{required:E},responsable_vacunacion:{required:E},establecimiento_salud:{required:E}},h);return c(T.value),b.esquemaVacuna&&(h.hydrate(b.esquemaVacuna),h.tipo_vacuna=h.tipo_vacuna_id,setTimeout(()=>{h.id&&W.value.listarArchivosAlmacenados(h.id)},1)),h.paciente=(D=(w=b.empleado)==null?void 0:w.id)!=null?D:null,g.value=b.accion,oe.value=b.accion===te.nuevo,g.value===te.consultar?r({paciente_id:(_=b.empleado)==null?void 0:_.id,tipo_vacuna_id:b.idTipoVacuna}):u.value=[],{v$:T,mixin:P,esquema:h,totalDosis:F,listado:u,tiposVacunas:se,filtrarTiposVacunas:y,accion:g,habilitarTipoVacuna:oe,refArchivo:W,idEsquema:ie,disabled:f,acciones:te,subirArchivos:$,maskFecha:Re,configuracionColumnasEsquemaVacunacionDetallado:uo,mostrarEsquema:Z}}});const _o={key:0,class:"bg-desenfoque rounded q-pa-md row q-mb-md q-col-gutter-x-sm"},vo={class:"col-12 col-md-3 q-mb-md"},go={class:"col-12 col-md-3 q-mb-md"},ho={class:"row items-center justify-end"},qo={class:"col-12 col-md-2 q-mb-md"},Vo={class:"col-12 col-md-1 q-mb-md"},Co={class:"col-12 col-md-3 q-mb-md"},yo={class:"row items-center justify-end"},Eo={class:"col-12 col-md-6 q-mb-md"},$o={class:"col-12 col-md-6 q-mb-md"},Fo={class:"col-12 q-mb-md"},wo={class:"col-12 q-mb-md"},Ao={class:"row"},Po={class:"col-12"};function Ro(e,a,b,P,h,R){const g=L("gestor-archivos"),f=L("essential-table"),u=L("simple-layout");return d(),J(u,{mixin:e.mixin},{formulario:n(()=>[e.mostrarEsquema?O("",!0):(d(),v("div",_o,[o("div",vo,[a[10]||(a[10]=o("label",{class:"q-mb-sm block"},"Tipo de vacuna",-1)),i(qe,{modelValue:e.esquema.tipo_vacuna,"onUpdate:modelValue":a[0]||(a[0]=t=>e.esquema.tipo_vacuna=t),options:e.tiposVacunas,onFilter:e.filtrarTiposVacunas,"transition-show":"scale","transition-hide":"scale",disable:!e.habilitarTipoVacuna,"options-dense":"",dense:"",outlined:"","option-label":t=>t.nombre,"option-value":t=>t.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":"",error:!!e.v$.tipo_vacuna.$errors.length},{error:n(()=>[(d(!0),v(ee,null,ae(e.v$.tipo_vacuna.$errors,t=>(d(),v("div",{key:t.$uid},[o("div",null,re(t.$message),1)]))),128))]),_:1},8,["modelValue","options","onFilter","disable","option-label","option-value","error"])]),o("div",go,[a[11]||(a[11]=o("label",{class:"q-mb-sm block"},"Fecha de aplicaci\xF3n",-1)),i(V,{modelValue:e.esquema.fecha,"onUpdate:modelValue":a[2]||(a[2]=t=>e.esquema.fecha=t),placeholder:"Obligatorio",outlined:"",disable:e.disabled,type:"datetime",error:!!e.v$.fecha.$errors.length,dense:""},{append:n(()=>[i(G,{name:"event",class:"cursor-pointer"},{default:n(()=>[i(ue,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[i(me,{modelValue:e.esquema.fecha,"onUpdate:modelValue":a[1]||(a[1]=t=>e.esquema.fecha=t),mask:e.maskFecha,"today-btn":""},{default:n(()=>[o("div",ho,[ce(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[pe]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:n(()=>[(d(!0),v(ee,null,ae(e.v$.fecha.$errors,t=>(d(),v("div",{key:t.$uid},[o("div",null,re(t.$message),1)]))),128))]),_:1},8,["modelValue","disable","error"])]),o("div",qo,[a[12]||(a[12]=o("label",{class:"q-mb-sm block"},"Lote",-1)),i(V,{modelValue:e.esquema.lote,"onUpdate:modelValue":a[3]||(a[3]=t=>e.esquema.lote=t),placeholder:"Opcional",outlined:"",disable:e.disabled,dense:""},null,8,["modelValue","disable"])]),o("div",Vo,[a[13]||(a[13]=o("label",{class:"q-mb-sm block"},"\xA0",-1)),i(wa,{modelValue:e.esquema.es_dosis_unica,"onUpdate:modelValue":a[4]||(a[4]=t=>e.esquema.es_dosis_unica=t),label:"Es dosis \xFAnica",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),o("div",Co,[a[14]||(a[14]=o("label",{class:"q-mb-sm block"},"Fecha de caducidad",-1)),i(V,{modelValue:e.esquema.fecha_caducidad,"onUpdate:modelValue":a[6]||(a[6]=t=>e.esquema.fecha_caducidad=t),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:n(()=>[i(G,{name:"event",class:"cursor-pointer"},{default:n(()=>[i(ue,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[i(me,{modelValue:e.esquema.fecha_caducidad,"onUpdate:modelValue":a[5]||(a[5]=t=>e.esquema.fecha_caducidad=t),mask:e.maskFecha,"today-btn":""},{default:n(()=>[o("div",yo,[ce(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[pe]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",Eo,[a[15]||(a[15]=o("label",{class:"q-mb-sm block"},"Nombres completos del responsable de la vacunaci\xF3n",-1)),i(V,{modelValue:e.esquema.responsable_vacunacion,"onUpdate:modelValue":a[7]||(a[7]=t=>e.esquema.responsable_vacunacion=t),placeholder:"Obligatorio",outlined:"",disable:e.disabled,error:!!e.v$.responsable_vacunacion.$errors.length,dense:""},{error:n(()=>[(d(!0),v(ee,null,ae(e.v$.responsable_vacunacion.$errors,t=>(d(),v("div",{key:t.$uid},[o("div",null,re(t.$message),1)]))),128))]),_:1},8,["modelValue","disable","error"])]),o("div",$o,[a[16]||(a[16]=o("label",{class:"q-mb-sm block"},"Establecimiento de salud donde se coloc\xF3 la vacuna",-1)),i(V,{modelValue:e.esquema.establecimiento_salud,"onUpdate:modelValue":a[8]||(a[8]=t=>e.esquema.establecimiento_salud=t),placeholder:"Obligatorio",outlined:"",disable:e.disabled,dense:"",error:!!e.v$.establecimiento_salud.$errors.length},{error:n(()=>[(d(!0),v(ee,null,ae(e.v$.establecimiento_salud.$errors,t=>(d(),v("div",{key:t.$uid},[o("div",null,re(t.$message),1)]))),128))]),_:1},8,["modelValue","disable","error"])]),o("div",Fo,[a[17]||(a[17]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(V,{modelValue:e.esquema.observacion,"onUpdate:modelValue":a[9]||(a[9]=t=>e.esquema.observacion=t),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:"",autogrow:"",type:"textarea"},null,8,["modelValue","disable"])]),o("div",wo,[i(g,{ref:"refArchivo",label:"Adjuntar archivos",mixin:e.mixin,disable:e.disabled,listarAlGuardar:!1,"permitir-eliminar":e.accion==e.acciones.nuevo||e.accion==e.acciones.editar,idModelo:e.idEsquema},null,8,["mixin","disable","permitir-eliminar","idModelo"])])])),o("div",Ao,[o("div",Po,[e.mostrarEsquema?(d(),J(f,{key:0,titulo:"Esquema de vacunaci\xF3n",configuracionColumnas:e.configuracionColumnasEsquemaVacunacionDetallado,datos:e.listado,"alto-fijo":!1,permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,"mostrar-footer":!1,"mostrar-botones":!1},null,8,["configuracionColumnas","datos"])):O("",!0)])])]),_:1},8,["mixin"])}var jo=Ee(fo,[["render",Ro]]);class ko extends z{constructor(){super(B.tipos_eval_medicas_retiro)}}class Oa extends z{constructor(){super(B.tipos_aptitudes_medicas_laborales)}}class Oo extends z{constructor(){super(B.fichas_aptitudes)}}class So extends Q{constructor(){super();s(this,"recomendaciones");s(this,"observaciones_aptitud_medica");s(this,"firmado_profesional_salud");s(this,"firmado_paciente");s(this,"registro_empleado_examen");s(this,"tipo_aptitud_medica_laboral");s(this,"profesional_salud");s(this,"opciones_respuestas_tipo_evaluacion_medica_retiro");s(this,"paciente");this.recomendaciones=null,this.observaciones_aptitud_medica=null,this.firmado_profesional_salud=!1,this.firmado_paciente=!1,this.registro_empleado_examen=null,this.tipo_aptitud_medica_laboral=null,this.profesional_salud=null,this.opciones_respuestas_tipo_evaluacion_medica_retiro=[],this.paciente=null}}var To=be({name:"fichas_aptitudes",components:{GestorArchivos:Ye,SimpleLayout:$e},emits:["cerrar-modal"],setup(e,{emit:a}){var w;const b=Ve(),P=Se();ja().setQuasar(da());const h=M(),R=[["SI","NO"],["PRESUNTIVA","DEFINITIVA","NO APLICA"],["SI","NO","NO APLICA"]],g=M(),f=new Ce(So,new Oo,new Qe),{entidad:u,listadosAuxiliares:t,disabled:m,accion:r}=f.useReferencias(),{setValidador:c,cargarVista:C,obtenerListados:l,consultar:F,editarParcial:oe,listar:W}=f.useComportamiento(),{onBeforeGuardar:ie,onReestablecer:X,onConsultado:Z,onGuardado:se}=f.useHooks();C(async()=>{await l({tiposEvaluacionesMedicasRetiros:new ko,tiposAptitudesMedicasLaborales:new Oa}),g.value=t.tiposEvaluacionesMedicasRetiros.map((D,_)=>({id:D.id,nombre:D.nombre,posibles_respuestas:R[_],respuesta:null})),ua(()=>{var D;g.value=(D=g.value)==null?void 0:D.map(_=>{const x=u.opciones_respuestas_tipo_evaluacion_medica_retiro.find(le=>le.tipo_evaluacion_medica_retiro===_.id);return _.respuesta=x==null?void 0:x.respuesta,_})})});const y=async()=>{const D=Te.getInstance(),_=Ue.URL_BASE+"/"+D.getEndpoint(B.fichas_aptitudes_imprimir)+"/"+u.id,x="ficha_aptitud_"+u.id+"_"+Date.now();xe(_,"GET","blob","pdf",x)},$=async()=>{u.id&&oe(u.id,{firmado_paciente:!0})};ie(()=>{u.opciones_respuestas_tipo_evaluacion_medica_retiro=g.value.map(D=>({respuesta:D.respuesta,tipo_evaluacion_medica_retiro:D.id}))}),se(D=>b.idFichaAptitud=D),X(()=>a("cerrar-modal")),Z(D=>{r.value=te.consultar,setTimeout(async()=>{await h.value.listarArchivosAlmacenados(D.id)},1)}),u.registro_empleado_examen=(w=b.idRegistroEmpleadoExamen)!=null?w:null,u.profesional_salud=P.user.id,b.idFichaAptitud&&F({id:b.idFichaAptitud});const S=async()=>{await h.value.subir()},T=we(()=>{var D;return(D=h.value)==null?void 0:D.quiero_subir_archivos});return{mixin:f,listadosAuxiliares:t,accion:r,acciones:te,refArchivo:h,subirFichaMedicaFirmada:S,quieroSubirArchivos:T,fichaAptitud:u,tiposEvaluacionesMedicasRetiros:g,descargarPdf:y,firmarPaciente:$,disabled:m,mostrarDescargarPdf:P.esMedico,mostrarFirmarPaciente:we(()=>u.paciente===P.user.id)}}});const Uo={class:"row q-pa-md"},xo={class:"col-12 q-mb-md"},Do={class:"q-gutter-sm"},Io={class:"col-12"},Mo={class:"q-pa-md"},Bo={class:"col-6"},No={class:"q-mb-sm block"},zo={class:"col-6"},Lo={class:"row q-pa-md"},Ho={class:"col-12"},Go={class:"q-pl-md"},Qo={class:"row items-center"},Jo={key:0,class:"q-mb-md q-pa-sm border-grey-6 rounded-field"},Yo={class:"row q-gutter-x-xs"};function Xo(e,a,b,P,h,R){const g=L("gestor-archivos"),f=L("simple-layout");return d(),J(f,{mixin:e.mixin},{formulario:n(()=>[i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Aptitud m\xE9dica laboral","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",Uo,[o("div",xo,[a[4]||(a[4]=o("label",{class:"q-mb-sm block"},"Despu\xE9s de la valoraci\xF3n medica ocupacional se certifica que la persona en menci\xF3n, es calificada como:",-1)),o("div",Do,[(d(!0),v(ee,null,ae(e.listadosAuxiliares.tiposAptitudesMedicasLaborales,u=>(d(),J(K,{key:u.nombre,modelValue:e.fichaAptitud.tipo_aptitud_medica_laboral,"onUpdate:modelValue":a[0]||(a[0]=t=>e.fichaAptitud.tipo_aptitud_medica_laboral=t),val:u.id,label:`${u.nombre}`,disable:e.disabled},null,8,["modelValue","val","label","disable"]))),128))])]),o("div",Io,[a[5]||(a[5]=o("label",{class:"q-mb-sm block"},"Detalle de observaciones",-1)),i(V,{modelValue:e.fichaAptitud.observaciones_aptitud_medica,"onUpdate:modelValue":a[1]||(a[1]=u=>e.fichaAptitud.observaciones_aptitud_medica=u),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:"",autogrow:"",type:"textarea"},null,8,["modelValue","disable"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Evaluaci\xF3n m\xE9dica de retiro","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",Mo,[(d(!0),v(ee,null,ae(e.tiposEvaluacionesMedicasRetiros,u=>(d(),v("div",{key:u.nombre,class:"row"},[o("div",Bo,[o("label",No,re(u.nombre),1)]),o("div",zo,[(d(!0),v(ee,null,ae(u.posibles_respuestas,t=>(d(),J(K,{key:t,modelValue:u.respuesta,"onUpdate:modelValue":m=>u.respuesta=m,val:t,label:`${t}`,disable:e.disabled},null,8,["modelValue","onUpdate:modelValue","val","label","disable"]))),128))])]))),128))])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Recomendaciones","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",Lo,[o("div",Ho,[a[6]||(a[6]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(V,{modelValue:e.fichaAptitud.recomendaciones,"onUpdate:modelValue":a[2]||(a[2]=u=>e.fichaAptitud.recomendaciones=u),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:"",autogrow:"",type:"textarea"},null,8,["modelValue","disable"])])])]),_:1}),o("div",Go,[o("div",Qo,[i(G,{name:"bi-check-circle-fill",color:e.fichaAptitud.firmado_profesional_salud?"positive":"grey",class:"q-mr-sm"},null,8,["color"]),a[7]||(a[7]=H("Firmado por el profesional m\xE9dico "))])]),[e.acciones.consultar,e.acciones.editar].includes(e.accion)?(d(),v("div",Jo,[i(g,{ref:"refArchivo",label:"Ficha aptitud firmada",mixin:e.mixin,listarAlGuardar:!0,idModelo:e.fichaAptitud.id},{"boton-subir":n(()=>[e.quieroSubirArchivos?(d(),J(N,{key:0,color:"primary",push:"","no-caps":"",class:"full-width q-mb-lg",onClick:e.subirFichaMedicaFirmada},{default:n(()=>[i(G,{name:"bi-upload",class:"q-mr-sm",size:"xs"}),a[8]||(a[8]=H(" Subir ficha m\xE9dica de Aptitud firmada "))]),_:1},8,["onClick"])):O("",!0)]),_:1},8,["mixin","idModelo"])])):O("",!0)]),"custom-buttons":n(()=>[o("div",Yo,[e.fichaAptitud.id&&e.mostrarDescargarPdf?(d(),J(N,{key:0,class:"bg-white text-pink-10","no-caps":"",push:"",onClick:a[3]||(a[3]=u=>e.descargarPdf())},{default:n(()=>[i(G,{name:"bi-file-earmark-pdf",size:"xs",class:"q-mr-sm"}),a[9]||(a[9]=H(" Descargar PDF"))]),_:1})):O("",!0)])]),_:1},8,["mixin"])}var Ko=Ee(To,[["render",Xo]]);const Wo=[{name:"examen",field:"examen",label:"Ex\xE1menes realizados",align:"left",sortable:!0},{name:"se_realizo_examen",field:"se_realizo_examen",label:"\xBFSe realizo examen?",align:"left",type:"boolean",sortable:!0,editable:!0},{name:"tiempo",field:"tiempo",label:"Fecha Realizaci\xF3n",align:"left",sortable:!0,type:"text",editable:!0},{name:"resultado",field:"resultado",label:"Resultado",align:"left",sortable:!0,type:"text",editable:!0}],Zo=[{name:"organo",field:"organo",label:"Organo sistema",align:"left",sortable:!0},{name:"descripcion",field:"descripcion",label:"Descripci\xF3n",align:"left",sortable:!0,editable:!0}],ca=[{name:"empresa",field:"empresa",label:"Empresa",align:"left",sortable:!0,editable:!0},{name:"puesto_trabajo",field:"puesto_trabajo",label:"Puesto de trabajo",align:"left",sortable:!0,editable:!0},{name:"actividades",field:"actividades",label:"Actividades que desempe\xF1aba",align:"left",sortable:!0,editable:!0},{name:"tiempo_trabajo",field:"tiempo_trabajo",label:"Tiempo de trabajo(meses)",align:"left",type:"number",sortable:!0,editable:!0},{name:"observaciones",field:"observaciones",label:"Observaciones",align:"left",type:"text",sortable:!0,editable:!0}],ei=[{name:"tipo_habito_toxico",field:"tipo_habito_toxico",label:"Consumos nocivos",align:"left",sortable:!0},{name:"consume",field:"consume",label:"\xBFEs consumidor?",align:"left",sortable:!0,type:"toggle",editable:!0},{name:"tiempo_consumo_meses",field:"tiempo_consumo_meses",label:"Tiempo de consumo(meses)",align:"left",sortable:!0,type:"text",editable:!0},{name:"cantidad",field:"cantidad",label:"Cantidad",align:"left",sortable:!0,type:"text",editable:!0},{name:"ex_consumidor",field:"ex_consumidor",label:"Ex consumidor",align:"left",sortable:!0,type:"boolean",editable:!0},{name:"tiempo_abstinencia_meses",field:"tiempo_abstinencia_meses",label:"Tiempo abstinencia(meses)",align:"left",sortable:!0,type:"text",editable:!0}],ai=[{name:"tipo_antecedente_familiar",field:"tipo_antecedente_familiar",label:"Antecedente familiar",align:"left",sortable:!0},{name:"descripcion",field:"descripcion",label:"Descripci\xF3n",align:"left",editable:!0},{name:"parentesco",field:"parentesco",label:"Parentesco",align:"left",editable:!0}],oi=[{name:"nombre",field:"nombre",label:"Medicaci\xF3n habitual",align:"left",sortable:!0,editable:!0},{name:"cantidad",field:"cantidad",label:"Cantidad(unidad)",align:"left",sortable:!0,editable:!0,type:"text"}],ii=[{name:"nombre_actividad",field:"nombre_actividad",label:"Actividad f\xEDsica",align:"left",sortable:!0,editable:!0},{name:"tiempo",field:"tiempo",label:"Tiempo(dia)",align:"left",sortable:!0,type:"text",editable:!0}];class si extends z{constructor(){super(B.categorias_examenes_fisicos)}}class li extends z{constructor(){super(B.regiones_cuerpo)}}class Ca extends Q{constructor(){super();s(this,"categoria_examen_fisico_id");s(this,"categoria_examen_fisico");s(this,"observacion");s(this,"region_cuerpo");this.observacion=null,this.categoria_examen_fisico_id=null,this.categoria_examen_fisico=null,this.region_cuerpo=null}}const ti={class:"row q-col-gutter-x-sm q-pa-md"},ni={class:"col-12 q-mb-md"},ri={class:"col-12 col-md-3"},di={class:"col-12 col-md-9 q-mb-md"},Ke=be({__name:"ExamenFisicoRegionalComponent",props:{disable:{type:Boolean,default:!1},validador:{type:Object,required:!1},datos:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:a}){const b=a,P=e,h=M([]),R=M([]),g=M([]),f=M([]),u=M([]),t=new He,m=Pa({}),r=M(!1),c=new si,C=new li,l=()=>b("update:modelValue",F()),F=()=>(g.value=Object.values(R.value[0]).filter(y=>Array.isArray(y)).flatMap(y=>y).map(y=>{var S;const $=new Ca;return $.categoria_examen_fisico=(S=u.value.find(T=>T.id===y))==null?void 0:S.nombre,$.categoria_examen_fisico_id=y,$.observacion=P.datos?X(y):null,$}),g.value),oe=async()=>{t.activar();try{const{result:y}=await c.listar();u.value=y}catch(y){console.log(y)}finally{t.desactivar()}},W=async()=>{t.activar();try{const{result:y}=await C.listar();f.value=y}catch(y){console.log(y)}finally{t.desactivar()}},ie=async()=>{await oe(),await W(),f.value.forEach(y=>{var $,S,T;h.value.push({name:($=y.nombre)!=null?$:"",field:(S=y.nombre)!=null?S:"",label:(T=y.nombre)!=null?T:"",align:"left",sortable:!0,type:"select_multiple",editable:!0,options:u.value.filter(w=>w.region_cuerpo===y.id).map(w=>({label:w.nombre,value:w.id}))})}),f.value.forEach(y=>{var $;m[($=y.nombre)!=null?$:""]=null}),await R.value.push(JSON.parse(JSON.stringify(m))),r.value=!0,se()},X=y=>{var S;const $=P.datos.find(T=>T.categoria_examen_fisico_id===y);return(S=$==null?void 0:$.observacion)!=null?S:null},Z=y=>{const $=[];Object.keys(y).forEach(S=>{const T=y[S];Array.isArray(T)&&T.forEach(w=>{var x,le,fe;const D=new Ca;D.categoria_examen_fisico_id=w,D.region_cuerpo=S,D.categoria_examen_fisico=(le=(x=u.value.find(_e=>_e.id===w))==null?void 0:x.nombre)!=null?le:"";const _=g.value.find(_e=>_e.categoria_examen_fisico_id===w);D.observacion=(fe=_==null?void 0:_.observacion)!=null?fe:"",$.push(D)})}),g.value=$,l()};ua(()=>{!Array.isArray(P.datos)||u.value.length===0||(Object.keys(m).forEach(y=>m[y]=null),P.datos.forEach(y=>{var S,T;const $=(S=y.region_cuerpo)!=null?S:"";m.hasOwnProperty($)&&(m[$]===null?m[$]=[y.categoria_examen_fisico_id]:(T=m[$])==null||T.push(y.categoria_examen_fisico_id))}),R.value=[JSON.parse(JSON.stringify(m))],g.value=P.datos.map(y=>{var $;return{categoria_examen_fisico_id:y.categoria_examen_fisico_id,categoria_examen_fisico:y.categoria_examen_fisico,region_cuerpo:y.region_cuerpo,observacion:($=y.observacion)!=null?$:""}}))}),ie();const se=()=>{Aa(we(()=>P.datos),y=>{y&&(y.forEach($=>{var T,w;const S=(T=$.region_cuerpo)!=null?T:"";m.hasOwnProperty(S)&&(m[S]===null?m[S]=[$.categoria_examen_fisico_id]:(w=m[S])==null||w.push($.categoria_examen_fisico_id))}),R.value=[m])})};return(y,$)=>(d(),v(ee,null,[o("div",ti,[o("div",ni,[r.value?(d(),J(Ae,{key:0,configuracionColumnas:h.value,datos:R.value,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!1,separador:"cell",onFilaModificada:Z,disable:e.disable},null,8,["configuracionColumnas","datos","disable"])):O("",!0)])]),(d(!0),v(ee,null,ae(g.value,(S,T)=>(d(),v("div",{key:T,class:"row"},[o("div",ri,[$[0]||($[0]=o("label",{class:"q-mb-sm block"},"Categor\xEDa examen f\xEDsico",-1)),i(Ga,null,{default:n(()=>[H(re(`${S.categoria_examen_fisico}`),1)]),_:2},1024)]),o("div",di,[$[1]||($[1]=o("label",{class:"q-mb-sm block"},"Observaciones",-1)),i(V,{modelValue:S.observacion,"onUpdate:modelValue":w=>S.observacion=w,placeholder:"Opcional",disable:e.disable,autogrow:"",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue","disable"])])]))),128))],64))}}),ci={class:"row q-pa-md"},ui={class:"col-12 q-mb-md"},mi={class:"q-gutter-sm"},pi={class:"col-12 q-mb-md"},bi={class:"col-12"},We=be({__name:"AptitudMedicaTrabajo",props:{aptitudMedica:{type:Object,required:!0},disable:{type:Boolean,default:!1},validador:{type:Object,required:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const b=a,h=Pa(e.aptitudMedica),R=new Oa,g=M([]),f=new He,u=()=>b("update:modelValue",h);return(async()=>{f.activar();try{const{result:m}=await R.listar();g.value=m,h.tipo_aptitud_id=g.value[0].id}catch(m){console.log(m)}finally{f.desactivar()}})(),(m,r)=>(d(),v("div",ci,[o("div",ui,[r[6]||(r[6]=o("label",{class:"q-mb-sm block"},"Despu\xE9s de la valoraci\xF3n medica ocupacional se certifica que la persona en menci\xF3n, es calificada como:",-1)),o("div",mi,[(d(!0),v(ee,null,ae(g.value,c=>{var C;return d(),J(K,{key:(C=c.id)!=null?C:void 0,modelValue:h.tipo_aptitud_id,"onUpdate:modelValue":[r[0]||(r[0]=l=>h.tipo_aptitud_id=l),r[1]||(r[1]=l=>u())],val:c.id,label:`${c.nombre}`,disable:e.disable},null,8,["modelValue","val","label","disable"])}),128))])]),o("div",pi,[r[7]||(r[7]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(V,{modelValue:h.observacion,"onUpdate:modelValue":[r[2]||(r[2]=c=>h.observacion=c),r[3]||(r[3]=c=>u())],placeholder:"Opcional",disable:e.disable,outlined:"",dense:"",autogrow:"",type:"textarea"},null,8,["modelValue","disable"])]),o("div",bi,[r[8]||(r[8]=o("label",{class:"q-mb-sm block"},"Limitaci\xF3n",-1)),i(V,{modelValue:h.limitacion,"onUpdate:modelValue":[r[4]||(r[4]=c=>h.limitacion=c),r[5]||(r[5]=c=>u())],placeholder:"Opcional",disable:e.disable,outlined:"",dense:"",autogrow:"",type:"textarea"},null,8,["modelValue","disable"])])]))}});class fi extends z{constructor(){super(B.fichas_preocupacionales_consultar_informacion_defecto)}}class _i extends z{constructor(){super(B.fichas_preocupacionales)}}class vi extends z{constructor(){super(B.tipos_antecedentes_familiares)}}class gi extends z{constructor(){super(B.categorias_factores_riesgos)}}class hi extends z{constructor(){super(B.orientaciones_sexuales)}}class qi extends z{constructor(){super(B.tipos_habitos_toxicos)}}class Vi extends z{constructor(){super(B.tipos_factores_riesgos)}}class Ci extends Q{constructor(){super();s(this,"tiempo");s(this,"resultado");s(this,"se_realizo_examen");s(this,"examen_id");s(this,"examen");s(this,"ficha_preocupacional");this.tiempo=null,this.resultado=null,this.examen_id=null,this.examen=null,this.se_realizo_examen=!1,this.ficha_preocupacional=null}}class yi extends Q{constructor(){super();s(this,"menarquia");s(this,"ciclos");s(this,"fecha_ultima_menstruacion");s(this,"gestas");s(this,"partos");s(this,"cesareas");s(this,"abortos");this.menarquia=null,this.ciclos=null,this.fecha_ultima_menstruacion=null,this.gestas=null,this.partos=null,this.cesareas=null,this.abortos=null}}class Ei extends Q{constructor(){super();s(this,"antecedentes_quirurgicos");s(this,"vida_sexual_activa");s(this,"tiene_metodo_planificacion_familiar");s(this,"tipo_metodo_planificacion_familiar");s(this,"hijos_vivos");s(this,"hijos_muertos");s(this,"ficha_preocupacional");this.vida_sexual_activa=!1,this.antecedentes_quirurgicos=null,this.tiene_metodo_planificacion_familiar=!1,this.tipo_metodo_planificacion_familiar=null,this.hijos_vivos=null,this.hijos_muertos=null,this.ficha_preocupacional=null}}class ya extends Q{constructor(){super();s(this,"calificado_iss");s(this,"instituto_seguridad_social");s(this,"fecha");s(this,"observacion");s(this,"tipo_descripcion_antecedente_trabajo");s(this,"ficha_preocupacional");this.calificado_iss=!1,this.instituto_seguridad_social=null,this.fecha=null,this.observacion=null,this.tipo_descripcion_antecedente_trabajo=null,this.ficha_preocupacional=null}}class ba extends Q{constructor(){super();s(this,"tipo_aptitud_id");s(this,"observacion");s(this,"limitacion");this.tipo_aptitud_id=null,this.observacion=null,this.limitacion=null}}class Ze extends Q{constructor(){super();s(this,"cargo");s(this,"aptitud_medica");s(this,"accidente_trabajo");s(this,"enfermedad_profesional");s(this,"constante_vital");s(this,"examenes_fisicos_regionales");s(this,"motivo_consulta");s(this,"registro_empleado_examen");s(this,"tiene_accidente_trabajo");s(this,"tiene_enfermedad_profesional");this.cargo=null,this.aptitud_medica=new ba,this.accidente_trabajo=new ya,this.enfermedad_profesional=new ya,this.constante_vital=new za,this.examenes_fisicos_regionales=[],this.registro_empleado_examen=null,this.motivo_consulta=null,this.tiene_accidente_trabajo=!1,this.tiene_enfermedad_profesional=!1}}class $i extends Ze{constructor(){super();s(this,"numero_archivo");s(this,"registro_empleado_examen");s(this,"empleado");s(this,"religion");s(this,"orientacion_sexual");s(this,"cargo");s(this,"identidad_genero");s(this,"lateralidad");s(this,"motivo_consulta");s(this,"grupo_sanguineo");s(this,"antecedente_clinico_quirurgico");s(this,"antecedentes_gineco_obstetricos");s(this,"antecedente_personal");s(this,"habitos_toxicos");s(this,"actividades_fisicas");s(this,"medicaciones");s(this,"antecedentes_empleos_anteriores");s(this,"antecedentes_familiares");s(this,"fr_puestos_trabajos_actuales");s(this,"actividades_extralaborales");s(this,"enfermedad_actual");s(this,"revisiones_actuales_organos_sistemas");s(this,"antecedentes_clinicos_quirurgicos");s(this,"examenes_realizados");s(this,"recomendaciones_tratamiento");s(this,"aptitud_medica");this.numero_archivo=null,this.registro_empleado_examen=null,this.religion=null,this.orientacion_sexual=null,this.identidad_genero=null,this.cargo=null,this.lateralidad=null,this.motivo_consulta=null,this.antecedente_clinico_quirurgico=null,this.antecedentes_gineco_obstetricos=new yi,this.antecedente_personal=new Ei,this.habitos_toxicos=[],this.actividades_fisicas=[],this.medicaciones=[],this.antecedentes_empleos_anteriores=[],this.antecedentes_familiares=[],this.fr_puestos_trabajos_actuales=[],this.actividades_extralaborales=null,this.enfermedad_actual=null,this.revisiones_actuales_organos_sistemas=[],this.antecedentes_clinicos_quirurgicos=null,this.examenes_realizados=[],this.recomendaciones_tratamiento=null,this.aptitud_medica=new ba}}class Fi extends z{constructor(){super(B.sistemas_organos)}}class wi extends Q{constructor(){super();s(this,"organo");s(this,"organo_id");s(this,"descripcion");s(this,"ficha_preocupacional");this.organo=null,this.organo_id=null,this.ficha_preocupacional=null,this.descripcion=null}}class Ai extends Q{constructor(){super();s(this,"empresa");s(this,"puesto_trabajo");s(this,"actividades");s(this,"tiempo_trabajo");s(this,"observaciones");s(this,"tipos_riesgos_ids");s(this,"ficha_preocupacional");this.empresa=null,this.puesto_trabajo=null,this.actividades=null,this.tiempo_trabajo=null,this.observaciones=null,this.tipos_riesgos_ids=[],this.ficha_preocupacional=null}}class Pi extends z{constructor(){super(B.religiones)}}class Ri extends Q{constructor(){super();s(this,"tiempo_consumo_meses");s(this,"tiempo_abstinencia_meses");s(this,"ficha_preocupacional");s(this,"tipo_habito_toxico");s(this,"tipo_habito_toxico_id");s(this,"consume");s(this,"ex_consumidor");s(this,"cantidad");this.tiempo_consumo_meses=null,this.cantidad=null,this.consume=!1,this.ex_consumidor=!1,this.tipo_habito_toxico=null,this.tipo_habito_toxico_id=null,this.tiempo_abstinencia_meses=null,this.ficha_preocupacional=null}}class ji extends Q{constructor(){super();s(this,"puesto_trabajo");s(this,"actividad");s(this,"medidas_preventivas");s(this,"ficha_preocupacional");s(this,"detalle_categ_factor_riesgo_fr_puesto_trab_act");this.puesto_trabajo=null,this.actividad=null,this.medidas_preventivas=null,this.detalle_categ_factor_riesgo_fr_puesto_trab_act=[],this.ficha_preocupacional=null}}class ki extends Q{constructor(){super();s(this,"tipo_antecedente_familiar");s(this,"tipo_antecedente_familiar_id");s(this,"descripcion");s(this,"parentesco");this.tipo_antecedente_familiar=null,this.tipo_antecedente_familiar_id=null,this.descripcion=null,this.parentesco=null}}class Oi extends Q{constructor(){super();s(this,"nombre");s(this,"cantidad");this.nombre=null,this.cantidad=null}}class Si extends Q{constructor(){super();s(this,"nombre_actividad");s(this,"tiempo");this.nombre_actividad=null,this.tiempo=null}}const Ea=[{name:"puesto_trabajo",field:"puesto_trabajo",label:"Puesto de trabajo / \xC1rea",align:"left",sortable:!0,editable:!0},{name:"actividad",field:"actividad",label:"Actividades",align:"left",sortable:!0,editable:!0},{name:"medidas_preventivas",field:"medidas_preventivas",label:"Medidas preventivas",align:"left",sortable:!0,editable:!0}];function Ti(e,a){const b=M(!1),P=M(!1),h=M(Ea),R=M(ca);return{mostrarTablaAntecedenteTrabajoAnteriorReactive:b,mostrarTablaFrPuestoTrabajoActualReactive:P,configuracionColumnasFrPuestoTrabajoActualReactive:h,configuracionColumnasAntecedenteTrabajoAnteriorReactive:R,configurarColumnasAntecedenteTrabajoAnterior:async()=>{R.value=[...ca],await a.tiposFactoresRiesgos.forEach(t=>{R.value.push({name:t.id+"",field:t.id+"",label:t.nombre?"R."+t.nombre:"",align:"left",type:"boolean",editable:!0})}),b.value=!0},configurarColumnasFrPuestoTrabajoActual:async()=>{h.value=[...Ea],await a.tiposFactoresRiesgos.forEach(t=>{var m,r,c;h.value.push({name:(m=t.nombre)!=null?m:"",field:(r=t.nombre)!=null?r:"",label:(c=t.nombre)!=null?c:"",align:"left",sortable:!0,type:"select_multiple",editable:!0,options:a.categoriasFactoresRiesgos.filter(C=>C.tipo_factor_riesgo===t.id).map(C=>({label:C.nombre,value:C.id}))})}),P.value=!0},transformarAntecedentesEmpleosAnteriores:t=>t.map(m=>(m.tipos_riesgos_ids=m.riesgos.map(r=>r.tipo_riesgo_id),m))}}class Ui extends z{constructor(){super(B.examenes_organos_reproductivos)}}var xi=be({name:"fichas_preocupacionales",methods:{upperCase:Xa.exports.upperCase},components:{OptionGroupComponent:Ya,ErrorComponent:Ja,GestorArchivos:Ye,SimpleLayout:$e,EssentialTable:Ae,ContantesVitales:Je,AptitudMedicaTrabajo:We,ExamenFisicoRegionalComponent:Ke},setup(e,{emit:a}){var _a,va;const b=Ve(),P=Se();Ia().setQuasar(da()),ja().setQuasar(da());const h=M(),{confirmar:R}=Oe(),g=new ji,f=new Ai,{notificarAdvertencia:u}=Oe(),t=M(),m=new fi,r=new Ce($i,new _i,new Qe),{entidad:c,listadosAuxiliares:C,disabled:l,accion:F}=r.useReferencias(),{setValidador:oe,cargarVista:W,obtenerListados:ie,consultar:X}=r.useComportamiento(),{onBeforeGuardar:Z,onReestablecer:se,onBeforeModificar:y,onConsultado:$,onGuardado:S}=r.useHooks(),{configurarColumnasFrPuestoTrabajoActual:T,configurarColumnasAntecedenteTrabajoAnterior:w,configuracionColumnasFrPuestoTrabajoActualReactive:D,configuracionColumnasAntecedenteTrabajoAnteriorReactive:_,mostrarTablaAntecedenteTrabajoAnteriorReactive:x,mostrarTablaFrPuestoTrabajoActualReactive:le,transformarAntecedentesEmpleosAnteriores:fe}=Ti(b,C);W(async()=>{var j;await ie({religiones:new Pi,orientacionesSexuales:new hi,identidadesGeneros:new Qa,tiposAntecedentes:{controller:new Ui,params:{tipo:(j=b.empleado)==null?void 0:j.genero}},tiposHabitosToxicos:new qi,tiposAntecedentesFamiliares:new vi,categoriasFactoresRiesgos:new gi,tiposFactoresRiesgos:new Vi,sistemasOrganos:new Fi,cargos:{controller:new Xe,params:{estado:1}},antecedentes_familiares:[],habitos_toxicos:[],revisiones_actuales_organos_sistemas:[],examenes_realizados:[]}),C.examenes_realizados=C.tiposAntecedentes.map((k,p)=>{const Y=new Ci;return Y.id=p,Y.examen=k.examen,Y.examen_id=k.id,Y}),C.habitos_toxicos=C.tiposHabitosToxicos.map((k,p)=>{const Y=new Ri;return Y.id=p,Y.tipo_habito_toxico=k.nombre,Y.tipo_habito_toxico_id=k.id,Y}),C.antecedentes_familiares=C.tiposAntecedentesFamiliares.map(k=>{const p=new ki;return p.tipo_antecedente_familiar=k.nombre,p.tipo_antecedente_familiar_id=k.id,p}),C.revisiones_actuales_organos_sistemas=C.sistemasOrganos.map(k=>{const p=new wi;return p.organo=k.nombre,p.organo_id=k.id,p}),await T(),await w(),q(),A(),b.idFichaPreocupacional&&await X({id:b.idFichaPreocupacional})});const _e={titulo:"",icono:"bi-x",color:"negative",accion:({posicion:j})=>R("\xBFEst\xE1 seguro de continuar?",()=>{var k;return(k=c.actividades_fisicas)==null?void 0:k.splice(j,1)})},Pe={titulo:"",icono:"bi-x",color:"negative",accion:({posicion:j})=>R("\xBFEst\xE1 seguro de continuar?",()=>{var k;return(k=c.medicaciones)==null?void 0:k.splice(j,1)})},ea={titulo:"",icono:"bi-x",color:"negative",accion:({posicion:j})=>R("\xBFEst\xE1 seguro de continuar?",()=>{var k;return(k=c.antecedentes_empleos_anteriores)==null?void 0:k.splice(j,1)})},aa={titulo:"",icono:"bi-x",color:"negative",accion:({posicion:j})=>R("\xBFEst\xE1 seguro de continuar?",()=>{var k;return(k=c.fr_puestos_trabajos_actuales)==null?void 0:k.splice(j,1)})},{cargos:oa,filtrarCargos:ia}=je(C),sa=()=>{var k;if(c.actividades_fisicas.length>0)return u("Solo puede ingresar un m\xE1ximo de una actividad");const j=new Si;j.id=(k=c.actividades_fisicas)!=null&&k.length?Fe(c.actividades_fisicas)+1:1,c.actividades_fisicas.push(j)},la=()=>{var k;if(c.medicaciones.length>2)return u("Solo puede ingresar un m\xE1ximo de tres medicamentos");const j=new Oi;j.id=(k=c.medicaciones)!=null&&k.length?Fe(c.medicaciones)+1:1,c.medicaciones.push(j)},ta=()=>{var k;const j=JSON.parse(JSON.stringify(f));j.id=(k=c.antecedentes_empleos_anteriores)!=null&&k.length?Fe(c.antecedentes_empleos_anteriores)+1:1,c.antecedentes_empleos_anteriores.push(j)},na=()=>{var k;const j=JSON.parse(JSON.stringify(g));j.id=(k=c.fr_puestos_trabajos_actuales)!=null&&k.length?Fe(c.fr_puestos_trabajos_actuales)+1:1,c.fr_puestos_trabajos_actuales.push(j)},Ie=(j,k)=>k.reduce((p,Y)=>j[Y]?[...p,...j[Y]]:p,[]),ra=async()=>{const{response:j}=await m.listar({registro_empleado_examen_id:b.idRegistroEmpleadoExamen});c.motivo_consulta=j.data.modelo.motivo_consulta,c.recomendaciones_tratamiento=j.data.modelo.recomendaciones_tratamiento,c.enfermedad_actual=j.data.modelo.enfermedad_actual,c.cargo=j.data.modelo.cargo},fa=async()=>{const j=Te.getInstance(),k=Ue.URL_BASE+"/"+j.getEndpoint(B.fichas_preocupacionales_imprimir)+"/"+c.id,p="ficha_preocupacional_"+c.id+"_"+c.empleado+"_"+Date.now();await xe(k,"GET","blob","pdf",p)},Me=j=>c.constante_vital.hydrate(j),Be=j=>c.aptitud_medica.hydrate(j),Ne=j=>t.value=j,q=()=>{C.tiposFactoresRiesgos.forEach(j=>{var k;g[(k=j.nombre)!=null?k:""]=null})},A=()=>{C.tiposFactoresRiesgos.forEach(j=>{f[j.id+""]=!1})};y(()=>{var k;c.registro_empleado_examen=(k=b.idRegistroEmpleadoExamen)!=null?k:null,c.habitos_toxicos=C.habitos_toxicos.filter(p=>p.cantidad||p.tiempo_consumo_meses||p.tiempo_abstinencia_meses),t.value!==void 0&&t.value.length>0&&(c.examenes_fisicos_regionales=t.value),c.antecedentes_familiares=[...C.antecedentes_familiares.filter(p=>p.descripcion)];const j=C.tiposFactoresRiesgos.map(p=>p.nombre);c.fr_puestos_trabajos_actuales=c.fr_puestos_trabajos_actuales.map(p=>(p.detalle_categ_factor_riesgo_fr_puesto_trab_act=Ie(p,j),p.categorias=p.detalle_categ_factor_riesgo_fr_puesto_trab_act,p)),c.revisiones_actuales_organos_sistemas=C.revisiones_actuales_organos_sistemas.filter(p=>p.descripcion).map(p=>({organo_id:p.organo_id,descripcion:p.descripcion})),c.examenes_realizados=C.examenes_realizados.filter(p=>p.tiempo||p.resultado).map(p=>p),c.antecedentes_empleos_anteriores=fe(c.antecedentes_empleos_anteriores)}),Z(()=>{var k;c.registro_empleado_examen=(k=b.idRegistroEmpleadoExamen)!=null?k:null,c.examenes_fisicos_regionales=t.value,c.antecedentes_familiares=[...C.antecedentes_familiares.filter(p=>p.descripcion)],c.examenes_realizados=C.examenes_realizados.filter(p=>p.tiempo||p.resultado).map(p=>p);const j=C.tiposFactoresRiesgos.map(p=>p.nombre);c.fr_puestos_trabajos_actuales=c.fr_puestos_trabajos_actuales.map(p=>(p.detalle_categ_factor_riesgo_fr_puesto_trab_act=Ie(p,j),p.categorias=p.detalle_categ_factor_riesgo_fr_puesto_trab_act,p)),c.revisiones_actuales_organos_sistemas=C.revisiones_actuales_organos_sistemas.filter(p=>p.descripcion).map(p=>({organo_id:p.organo_id,descripcion:p.descripcion})),c.habitos_toxicos=C.habitos_toxicos.filter(p=>p.cantidad||p.tiempo_consumo_meses||p.tiempo_abstinencia_meses),c.antecedentes_empleos_anteriores=fe(c.antecedentes_empleos_anteriores)}),se(()=>{h.value.limpiarListado(),c.numero_archivo=P.user.identificacion,a("cerrar-modal")}),$(async j=>{var k;F.value=te.consultar,C.habitos_toxicos=c.habitos_toxicos,C.revisiones_actuales_organos_sistemas=C.revisiones_actuales_organos_sistemas.map(p=>{const Y=c.revisiones_actuales_organos_sistemas.find(ye=>ye.organo_id===p.organo_id);return Y&&(p.descripcion=Y.descripcion),p}),C.antecedentes_familiares=C.antecedentes_familiares.map(p=>{const Y=c.antecedentes_familiares.find(ye=>ye.tipo_antecedente_familiar_id===p.tipo_antecedente_familiar_id);return Y&&(p.descripcion=Y.descripcion,p.parentesco=Y.parentesco),p}),c.antecedentes_empleos_anteriores=c.antecedentes_empleos_anteriores.map(p=>{const Y=p.tipos_riesgos_ids||[],ye={};return C.tiposFactoresRiesgos.forEach(Ta=>{const ga=Ta.id;ye[ga.toString()]=Y.includes(ga)}),{...p,...ye}}),setTimeout(async()=>{await h.value.listarArchivosAlmacenados(j.id)},1),c.grupo_sanguineo=(k=c.grupo_sanguineo)!=null?k:b.empleado.tipo_sangre,C.examenes_realizados=C.examenes_realizados.map(p=>{const Y=c.examenes_realizados.find(ye=>ye.examen_id===p.examen_id);return{...p,...Y}}),await T(),await w(),q(),A()}),S(j=>b.idFichaPreocupacional=j);const U={antecedentes_empleos_anteriores:{$each:Ha.forEach({empresa:{required:E},puesto_trabajo:{required:E},actividades:{required:E},tiempo_trabajo:{required:E},observaciones:{required:E}})},cargo:{required:E},religion:{required:E},orientacion_sexual:{required:E},identidad_genero:{required:E},lateralidad:{required:E},antecedente_personal:{hijos_vivos:{required:E},hijos_muertos:{required:E}},constante_vital:{presion_arterial:{required:E},temperatura:{required:E},frecuencia_cardiaca:{required:E},saturacion_oxigeno:{required:E},frecuencia_respiratoria:{required:E},peso:{required:E},talla:{required:E},indice_masa_corporal:{required:E},perimetro_abdominal:{required:E}}},ne=De(U,c);oe(ne.value),ra(),c.numero_archivo=P.user.identificacion;const de=async()=>{await h.value.subir()},he=we(()=>{var j;return(j=h.value)==null?void 0:j.quiero_subir_archivos}),ke=()=>{F.value=te.editar},Sa=()=>{u("Recuerda que no se guardar\xE1n los cambios realizados"),F.value=te.consultar};return{v$:ne,mixin:r,disabled:l,accion:F,acciones:te,refArchivo:h,subirFichaMedicaFirmada:de,quieroSubirArchivos:he,fichaPreocupacional:c,listadosAuxiliares:C,tipos_sangre:Ra,maskFecha:Re,configuracionColumnasResultadoExamenPreocupacional:Wo,configuracionColumnasResultadoHabitoToxico:ei,configuracionColumnasActividadFisica:ii,configuracionColumnasMedicacionHabitual:oi,configuracionColumnasAntecedenteTrabajoAnterior:ca,configuracionColumnasAntecedenteFamiliar:ai,configuracionColumnasFrPuestoTrabajoActualReactive:D,configuracionColumnasRevisionActualOrganoSistema:Zo,insertarFilaActividadFisica:sa,insertarFilaMedicacionHabitual:la,insertarFilaAntecedenteTrabajoAnterior:ta,mapearOptionsSelect:Ge,cargos:oa,filtrarCargos:ia,hidratarConstanteVital:Me,hidratarAptitudMedica:Be,hidratarExamenFisicoRegional:Ne,descargarPdf:fa,insertarFilaFrPuestoTrabajoActualReactive:na,btnEliminarActividadFisica:_e,btnEliminarMedicacionHabitual:Pe,btnEliminarAntecedenteTrabajoAnterior:ea,btnEliminarFrPuestoTrabajoActual:aa,accionesTabla:Le,mostrarTablaFrPuestoTrabajoActualReactive:le,mostrarTablaAntecedenteTrabajoAnteriorReactive:x,configuracionColumnasAntecedenteTrabajoAnteriorReactive:_,mostrarMasculino:((_a=b.empleado)==null?void 0:_a.genero)==="M",mostrarFemenino:((va=b.empleado)==null?void 0:va.genero)==="F",mostrarDescargarPdf:P.esMedico,btnEditarFicha:ke,btnCancelarEditarFicha:Sa}}});const Di={key:0,class:"row full-width q-col-gutter-sm justify-end"},Ii={key:0,class:"q-pl-md"},Mi={key:1},Bi={class:"row q-col-gutter-x-sm q-pa-md"},Ni={class:"col-12 col-md-3 q-mb-md"},zi={class:"q-gutter-sm"},Li={class:"col-12 col-md-3 q-mb-md"},Hi={class:"q-gutter-sm"},Gi={class:"col-12 col-md-3 q-mb-md"},Qi={class:"q-gutter-sm"},Ji={class:"col-12 col-md-3 q-mb-md"},Yi={class:"col-12 col-md-3 col-sm-3"},Xi={class:"col-12 col-md-3"},Ki={class:"col-12 col-md-3 col-sm-3"},Wi={class:"row q-col-gutter-x-sm q-pa-md"},Zi={class:"col-12"},es={class:"row q-col-gutter-x-sm q-pa-md"},as={class:"col-12 q-mb-md"},os={class:"col-12 text-bold q-mb-md"},is={key:0,class:"col-12 col-md-3 q-mb-md"},ss={key:1,class:"col-12 col-md-3 q-mb-md"},ls={key:2,class:"col-12 col-md-3 q-mb-md"},ts={class:"row items-center justify-end"},ns={key:3,class:"col-12 col-md-3 q-mb-md"},rs={key:4,class:"col-12 col-md-3 q-mb-md"},ds={key:5,class:"col-12 col-md-3 q-mb-md"},cs={key:6,class:"col-12 col-md-3 q-mb-md"},us={class:"col-12 col-md-3 q-mb-md"},ms={class:"col-12 col-md-3 q-mb-md"},ps={class:"col-12 col-md-3 q-mb-md"},bs={class:"q-gutter-sm"},fs={class:"col-12 col-md-3 q-mb-md"},_s={class:"q-gutter-sm"},vs={key:7,class:"col-12 col-md-3 q-mb-md"},gs={key:0,class:"row q-col-gutter-x-sm"},hs={class:"row col-12"},qs={class:"col-6 col-md-6 col-sm-12"},Vs={class:"col-6 col-md-6 col-sm-12"},Cs={key:0,class:"col-md-6 col-md-3 q-mb-md"},ys={key:1,class:"col-md-6 col-md-3 q-mb-md"},Es={key:8,class:"col-12 q-mb-md"},$s={key:0,class:"col-12"},Fs={key:1,class:"row q-col-gutter-x-sm"},ws={class:"row col-12"},As={class:"col-md-6 col-sm-12 col-xs-12"},Ps={class:"col-md-6 col-sm-12"},Rs={key:0,class:"col-md-6 col-md-3 q-mb-md"},js={key:1,class:"col-md-6 col-sm-12 q-mb-md"},ks={key:2,class:"col-md-6 col-sm-12 q-mb-md"},Os={key:3,class:"col-md-6 col-sm-12 q-mb-md"},Ss={key:9,class:"col-12 q-mb-md"},Ts={class:"col-12 q-mb-md"},Us={class:"col-12 q-mb-md"},xs={class:"row q-col-gutter-x-sm q-pa-md"},Ds={class:"col-12 q-mb-md"},Is={class:"col-md-12 col-xs-12"},Ms={key:0,class:"col-12 col-md-6 q-mb-md"},Bs={class:"q-gutter-sm"},Ns={key:1,class:"col-12 col-md-6 q-mb-md"},zs={key:2,class:"col-12 col-md-6 q-mb-md"},Ls={class:"row items-center justify-end"},Hs={key:3,class:"col-12 col-md-6 q-mb-md"},Gs={class:"col-md-12 col-xs-12"},Qs={key:4,class:"col-12 col-md-6 q-mb-md"},Js={class:"q-gutter-sm"},Ys={key:5,class:"col-12 col-md-6 q-mb-md"},Xs={key:6,class:"col-12 col-md-6 q-mb-md"},Ks={class:"row items-center justify-end"},Ws={key:7,class:"col-12 col-md-6 q-mb-md"},Zs={class:"row q-col-gutter-x-sm q-pa-md"},el={class:"col-12 q-mb-md"},al={class:"row q-col-gutter-x-sm q-pa-md"},ol={class:"col-12 q-mb-md"},il={class:"row q-col-gutter-x-sm q-pa-md"},sl={class:"col-12"},ll={class:"row q-col-gutter-x-sm q-pa-md"},tl={class:"col-12"},nl={class:"row q-col-gutter-x-sm q-pa-md"},rl={class:"col-12 q-mb-md"},dl={class:"q-pa-md"},cl={class:"q-pa-md"},ul={class:"row q-col-gutter-x-sm q-pa-md"},ml={class:"col-12"},pl={key:1,class:"q-mb-md q-pa-sm border-grey-6 rounded-field"},bl={class:"row q-gutter-x-xs"};function fl(e,a,b,P,h,R){const g=L("error-component"),f=L("option-group-component"),u=L("essential-table"),t=L("contantes-vitales"),m=L("examen-fisico-regional-component"),r=L("aptitud-medica-trabajo"),c=L("gestor-archivos"),C=L("simple-layout");return d(),J(C,{mixin:e.mixin},{formulario:n(()=>[(d(),v("div",Di,[e.accion==e.acciones.consultar?(d(),v("div",Ii,[i(N,{outline:"",dense:"",onClick:a[0]||(a[0]=l=>e.btnEditarFicha()),color:"secondary"},{default:n(()=>[i(qa,{class:"bg-dark"},{default:n(()=>a[47]||(a[47]=[H("Editar")])),_:1}),i(G,{class:"bi-pencil-square",size:"xs"})]),_:1})])):O("",!0),e.accion==e.acciones.editar?(d(),v("div",Mi,[i(N,{outline:"",dense:"",class:"q-pl-sm",onClick:e.btnCancelarEditarFicha,color:"negative"},{default:n(()=>[i(qa,{class:"bg-dark"},{default:n(()=>a[48]||(a[48]=[H("Cancelar Editar")])),_:1}),i(G,{class:"bi-x",size:"sm"})]),_:1},8,["onClick"])])):O("",!0)])),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Datos del empleado","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",Bi,[o("div",Ni,[a[49]||(a[49]=o("label",{class:"q-mb-md block"},"Religi\xF3n:",-1)),o("div",zi,[i(qe,{modelValue:e.fichaPreocupacional.religion,"onUpdate:modelValue":a[1]||(a[1]=l=>e.fichaPreocupacional.religion=l),options:e.mapearOptionsSelect(e.listadosAuxiliares.religiones),"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",hint:"Obligatorio","option-value":l=>l.value,"option-label":l=>l.label,"emit-value":"","map-options":"",error:!!e.v$.religion.$errors.length,onBlur:e.v$.religion.$touch},{error:n(()=>[i(g,{clave:"religion",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","options","disable","option-value","option-label","error","onBlur"])])]),o("div",Li,[a[50]||(a[50]=o("label",{class:"q-mb-sm block q-mb-md"},"Orientaciones sexuales:",-1)),o("div",Hi,[i(qe,{modelValue:e.fichaPreocupacional.orientacion_sexual,"onUpdate:modelValue":a[2]||(a[2]=l=>e.fichaPreocupacional.orientacion_sexual=l),options:e.mapearOptionsSelect(e.listadosAuxiliares.orientacionesSexuales),"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",hint:"Obligatorio","option-value":l=>l.value,"option-label":l=>l.label,"emit-value":"","map-options":"",error:!!e.v$.orientacion_sexual.$errors.length,onBlur:e.v$.orientacion_sexual.$touch},{error:n(()=>[i(g,{clave:"orientacion_sexual",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","options","disable","option-value","option-label","error","onBlur"])])]),o("div",Gi,[a[51]||(a[51]=o("label",{class:"q-mb-sm block q-mb-md"},"Identidad g\xE9nero:",-1)),o("div",Qi,[i(qe,{modelValue:e.fichaPreocupacional.identidad_genero,"onUpdate:modelValue":a[3]||(a[3]=l=>e.fichaPreocupacional.identidad_genero=l),options:e.mapearOptionsSelect(e.listadosAuxiliares.identidadesGeneros),"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",hint:"Obligatorio","option-value":l=>l.value,"option-label":l=>l.label,"emit-value":"","map-options":"",error:!!e.v$.identidad_genero.$errors.length,onBlur:e.v$.identidad_genero.$touch},{error:n(()=>[i(g,{clave:"identidad_genero",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","options","disable","option-value","option-label","error","onBlur"])])]),o("div",Ji,[a[52]||(a[52]=o("label",{class:"q-mb-sm block"},"N\xFAmero de archivo",-1)),i(V,{modelValue:e.fichaPreocupacional.numero_archivo,"onUpdate:modelValue":a[4]||(a[4]=l=>e.fichaPreocupacional.numero_archivo=l),placeholder:"Obligatorio",type:"number",disable:"",outlined:"",dense:""},null,8,["modelValue"])]),o("div",Yi,[a[53]||(a[53]=o("label",{class:"q-mb-sm block"},"Grupo sangu\xEDneo",-1)),i(qe,{modelValue:e.fichaPreocupacional.grupo_sanguineo,"onUpdate:modelValue":a[5]||(a[5]=l=>e.fichaPreocupacional.grupo_sanguineo=l),options:e.tipos_sangre,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",hint:"Opcional","option-value":l=>l.nombre,"option-label":l=>l.nombre,"emit-value":"","map-options":""},null,8,["modelValue","options","disable","option-value","option-label"])]),o("div",Xi,[a[54]||(a[54]=o("label",{class:"q-mb-sm block"},"Lateralidad",-1)),i(V,{modelValue:e.fichaPreocupacional.lateralidad,"onUpdate:modelValue":a[6]||(a[6]=l=>e.fichaPreocupacional.lateralidad=l),placeholder:"Obligatorio",disable:e.disabled,outlined:"",dense:"",error:!!e.v$.lateralidad.$errors.length,onBlur:e.v$.lateralidad.$touch},{error:n(()=>[i(g,{clave:"lateralidad",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","error","onBlur"])]),o("div",Ki,[a[55]||(a[55]=o("label",{class:"q-mb-sm block"},"Cargo",-1)),i(qe,{modelValue:e.fichaPreocupacional.cargo,"onUpdate:modelValue":a[7]||(a[7]=l=>e.fichaPreocupacional.cargo=l),options:e.cargos,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","use-input":"","input-debounce":"0",onBlur:e.v$.cargo.$touch,onFilter:e.filtrarCargos,error:!!e.v$.cargo.$errors.length,"error-message":"Debes seleccionar un cargo","option-value":l=>l.id,"option-label":l=>l.nombre,"emit-value":"","map-options":""},{error:n(()=>[i(g,{clave:"cargo",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","options","disable","onBlur","onFilter","error","option-value","option-label"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Motivo de consulta","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",Wi,[o("div",Zi,[a[56]||(a[56]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(V,{modelValue:e.fichaPreocupacional.motivo_consulta,"onUpdate:modelValue":a[8]||(a[8]=l=>e.fichaPreocupacional.motivo_consulta=l),placeholder:"Anotar la causa del problema en la versi\xF3n del informante",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Antecedentes personales","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",es,[a[84]||(a[84]=o("div",{class:"text-bold q-mb-md"}," ANTECEDENTES CL\xCDNICOS Y QUIR\xDARGICOS ",-1)),o("div",as,[a[57]||(a[57]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(V,{modelValue:e.fichaPreocupacional.antecedente_clinico_quirurgico,"onUpdate:modelValue":a[9]||(a[9]=l=>e.fichaPreocupacional.antecedente_clinico_quirurgico=l),placeholder:"Anotar la causa del problema en la versi\xF3n del informante",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),o("div",os,re(e.mostrarMasculino?"ANTECEDENTES REPRODUCTIVOS MASCULINOS":"ANTECEDENTES GINECO OBST\xC9TRICOS"),1),e.mostrarFemenino?(d(),v("div",is,[a[58]||(a[58]=o("label",{class:"q-mb-sm block"},"Menarqu\xEDa",-1)),i(V,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.menarquia,"onUpdate:modelValue":a[10]||(a[10]=l=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.menarquia=l),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):O("",!0),e.mostrarFemenino?(d(),v("div",ss,[a[59]||(a[59]=o("label",{class:"q-mb-sm block"},"Ciclos",-1)),i(V,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.ciclos,"onUpdate:modelValue":a[11]||(a[11]=l=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.ciclos=l),placeholder:"Opcional",type:"number",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):O("",!0),e.mostrarFemenino?(d(),v("div",ls,[a[60]||(a[60]=o("label",{class:"q-mb-sm block"},"Fecha de \xFAltima menstruaci\xF3n",-1)),i(V,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.fecha_ultima_menstruacion,"onUpdate:modelValue":a[13]||(a[13]=l=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.fecha_ultima_menstruacion=l),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:n(()=>[i(G,{name:"event",class:"cursor-pointer"},{default:n(()=>[i(ue,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[i(me,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.fecha_ultima_menstruacion,"onUpdate:modelValue":a[12]||(a[12]=l=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.fecha_ultima_menstruacion=l),mask:e.maskFecha,"today-btn":""},{default:n(()=>[o("div",ts,[ce(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[pe]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])])):O("",!0),e.mostrarFemenino?(d(),v("div",ns,[a[61]||(a[61]=o("label",{class:"q-mb-sm block"},"Gestas",-1)),i(V,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.gestas,"onUpdate:modelValue":a[14]||(a[14]=l=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.gestas=l),placeholder:"Opcional",type:"number",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):O("",!0),e.mostrarFemenino?(d(),v("div",rs,[a[62]||(a[62]=o("label",{class:"q-mb-sm block"},"Partos",-1)),i(V,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.partos,"onUpdate:modelValue":a[15]||(a[15]=l=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.partos=l),placeholder:"Opcional",type:"number",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):O("",!0),e.mostrarFemenino?(d(),v("div",ds,[a[63]||(a[63]=o("label",{class:"q-mb-sm block"},"Ces\xE1reas",-1)),i(V,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.cesareas,"onUpdate:modelValue":a[16]||(a[16]=l=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.cesareas=l),placeholder:"Opcional",type:"number",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):O("",!0),e.mostrarFemenino?(d(),v("div",cs,[a[64]||(a[64]=o("label",{class:"q-mb-sm block"},"Abortos",-1)),i(V,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.abortos,"onUpdate:modelValue":a[17]||(a[17]=l=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.abortos=l),placeholder:"Opcional",type:"number",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):O("",!0),o("div",us,[a[65]||(a[65]=o("label",{class:"q-mb-sm block"},"Hijos vivos",-1)),i(V,{modelValue:e.fichaPreocupacional.antecedente_personal.hijos_vivos,"onUpdate:modelValue":a[18]||(a[18]=l=>e.fichaPreocupacional.antecedente_personal.hijos_vivos=l),placeholder:"Obligatorio",type:"number",disable:e.disabled,outlined:"",dense:"",error:!!e.v$.antecedente_personal.hijos_vivos.$errors.length,onBlur:e.v$.antecedente_personal.hijos_vivos.$touch},{error:n(()=>[i(g,{clave:"antecedente_personal.hijos_vivos",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","error","onBlur"])]),o("div",ms,[a[66]||(a[66]=o("label",{class:"q-mb-sm block"},"Hijos muertos",-1)),i(V,{modelValue:e.fichaPreocupacional.antecedente_personal.hijos_muertos,"onUpdate:modelValue":a[19]||(a[19]=l=>e.fichaPreocupacional.antecedente_personal.hijos_muertos=l),placeholder:"Obligatorio",type:"number",disable:e.disabled,outlined:"",dense:"",error:!!e.v$.antecedente_personal.hijos_muertos.$errors.length,onBlur:e.v$.antecedente_personal.hijos_muertos.$touch},{error:n(()=>[i(g,{clave:"antecedente_personal.hijos_muertos",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","error","onBlur"])]),o("div",ps,[a[67]||(a[67]=o("label",{class:"q-mb-sm block"},"Vida sexual activa",-1)),o("div",bs,[i(K,{modelValue:e.fichaPreocupacional.antecedente_personal.vida_sexual_activa,"onUpdate:modelValue":a[20]||(a[20]=l=>e.fichaPreocupacional.antecedente_personal.vida_sexual_activa=l),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(K,{modelValue:e.fichaPreocupacional.antecedente_personal.vida_sexual_activa,"onUpdate:modelValue":a[21]||(a[21]=l=>e.fichaPreocupacional.antecedente_personal.vida_sexual_activa=l),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])]),o("div",fs,[a[68]||(a[68]=o("label",{class:"q-mb-sm block"},"M\xE9todo de planificaci\xF3n familiar",-1)),o("div",_s,[i(K,{modelValue:e.fichaPreocupacional.antecedente_personal.tiene_metodo_planificacion_familiar,"onUpdate:modelValue":a[22]||(a[22]=l=>e.fichaPreocupacional.antecedente_personal.tiene_metodo_planificacion_familiar=l),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(K,{modelValue:e.fichaPreocupacional.antecedente_personal.tiene_metodo_planificacion_familiar,"onUpdate:modelValue":a[23]||(a[23]=l=>e.fichaPreocupacional.antecedente_personal.tiene_metodo_planificacion_familiar=l),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])]),e.fichaPreocupacional.antecedente_personal.tiene_metodo_planificacion_familiar?(d(),v("div",vs,[a[69]||(a[69]=o("label",{class:"q-mb-sm block"},"Tipo de m\xE9todo de planificaci\xF3n familiar",-1)),i(V,{modelValue:e.fichaPreocupacional.antecedente_personal.tipo_metodo_planificacion_familiar,"onUpdate:modelValue":a[24]||(a[24]=l=>e.fichaPreocupacional.antecedente_personal.tipo_metodo_planificacion_familiar=l),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):O("",!0),(d(!0),v(ee,null,ae(e.listadosAuxiliares.examenes_realizados,l=>(d(),v("div",{key:l.id,class:"col-12 q-mb-md"},[o("div",null,[i(ha)]),[e.acciones.nuevo,e.acciones.editar].includes(e.accion)?(d(),v("div",gs,[o("div",hs,[o("div",qs,[a[70]||(a[70]=H(" Previamente me he realizado el examen: ")),o("strong",null,re(l.examen.toUpperCase()),1),a[71]||(a[71]=H("? "))]),o("div",Vs,[i(f,{modelValue:l.se_realizo_examen,"onUpdate:modelValue":F=>l.se_realizo_examen=F,disable:e.disabled},null,8,["modelValue","onUpdate:modelValue","disable"])])]),l.se_realizo_examen?(d(),v("div",Cs,[a[72]||(a[72]=o("label",{class:"q-mb-sm block"},"Fecha de realizaci\xF3n",-1)),i(V,{modelValue:l.tiempo,"onUpdate:modelValue":F=>l.tiempo=F,placeholder:"Obligatorio",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue","disable"])])):O("",!0),l.se_realizo_examen?(d(),v("div",ys,[a[73]||(a[73]=o("label",{class:"q-mb-sm block"},"Resultado",-1)),i(V,{modelValue:l.resultado,"onUpdate:modelValue":F=>l.resultado=F,placeholder:"Obligatorio",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue","disable"])])):O("",!0)])):O("",!0)]))),128)),e.accion===e.acciones.consultar?(d(),v("div",Es,[i(u,{configuracionColumnas:e.configuracionColumnasResultadoExamenPreocupacional,datos:e.listadosAuxiliares.examenes_realizados,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,disable:e.disabled,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell"},null,8,["configuracionColumnas","datos","disable"])])):O("",!0),a[85]||(a[85]=o("div",{class:"col-12 text-bold q-mb-md"},"H\xC1BITOS T\xD3XICOS",-1)),a[86]||(a[86]=o("div",{class:"text-grey-8 q-mb-md"},"(Opcional)",-1)),(d(!0),v(ee,null,ae(e.listadosAuxiliares.habitos_toxicos,l=>(d(),v("div",{key:l.id,class:"col-12 q-mb-md"},[[e.acciones.nuevo,e.acciones.editar].includes(e.accion)?(d(),v("div",$s,[i(ha)])):O("",!0),[e.acciones.nuevo,e.acciones.editar].includes(e.accion)?(d(),v("div",Fs,[o("div",ws,[o("div",As,[a[74]||(a[74]=H(" He consumido: ")),o("strong",null,re(l.tipo_habito_toxico.toUpperCase()),1),a[75]||(a[75]=H("? "))]),o("div",Ps,[i(f,{modelValue:l.consume,"onUpdate:modelValue":F=>l.consume=F,disable:e.disabled},null,8,["modelValue","onUpdate:modelValue","disable"])])]),l.consume?(d(),v("div",Rs,[a[76]||(a[76]=o("label",{class:"q-mb-sm block"},"Tiempo de consumo",-1)),i(V,{modelValue:l.tiempo_consumo_meses,"onUpdate:modelValue":F=>l.tiempo_consumo_meses=F,placeholder:"Obligatorio",hint:"Ingrese un valor en meses",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue","disable"])])):O("",!0),l.consume?(d(),v("div",js,[a[77]||(a[77]=o("label",{class:"q-mb-sm block"},"Cantidad",-1)),i(V,{modelValue:l.cantidad,"onUpdate:modelValue":F=>l.cantidad=F,placeholder:"Obligatorio",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue","disable"])])):O("",!0),l.consume?(d(),v("div",ks,[a[78]||(a[78]=H(" \xBFSoy ex-consumidor? ")),i(f,{modelValue:l.ex_consumidor,"onUpdate:modelValue":F=>l.ex_consumidor=F,disable:e.disabled},null,8,["modelValue","onUpdate:modelValue","disable"])])):O("",!0),l.ex_consumidor?(d(),v("div",Os,[a[79]||(a[79]=o("label",{class:"q-mb-sm block"},"Tiempo de abstinencia",-1)),i(V,{modelValue:l.tiempo_abstinencia_meses,"onUpdate:modelValue":F=>l.tiempo_abstinencia_meses=F,placeholder:"Obligatorio",disable:e.disabled,hint:"Ingrese un valor en meses",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue","disable"])])):O("",!0)])):O("",!0)]))),128)),e.accion===e.acciones.consultar?(d(),v("div",Ss,[i(u,{configuracionColumnas:e.configuracionColumnasResultadoHabitoToxico,datos:e.listadosAuxiliares.habitos_toxicos,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,disable:e.disabled,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,grid:!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell"},null,8,["configuracionColumnas","datos","disable"])])):O("",!0),a[87]||(a[87]=o("div",{class:"col-12 text-bold q-mb-md"},"ESTILO DE VIDA",-1)),o("div",Ts,[i(N,{color:"primary",class:"q-mb-sm q-mr-sm",icon:"bi-arrow-down",disable:e.disabled,"no-caps":"",unelevated:"",onClick:a[25]||(a[25]=l=>e.insertarFilaActividadFisica())},{default:n(()=>a[80]||(a[80]=[H("Insertar fila ")])),_:1},8,["disable"]),a[81]||(a[81]=o("span",{class:"text-grey-8"},"(Inserte un m\xE1ximo de 1 fila) (Opcional)",-1)),i(u,{configuracionColumnas:[...e.configuracionColumnasActividadFisica,e.accionesTabla],datos:e.fichaPreocupacional.actividades_fisicas,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,disable:e.disabled,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell",accion1:e.btnEliminarActividadFisica},null,8,["configuracionColumnas","datos","disable","accion1"])]),o("div",Us,[i(N,{color:"primary",class:"q-mb-sm q-mr-sm",icon:"bi-arrow-down",disable:e.disabled,"no-caps":"",unelevated:"",onClick:a[26]||(a[26]=l=>e.insertarFilaMedicacionHabitual())},{default:n(()=>a[82]||(a[82]=[H("Insertar fila ")])),_:1},8,["disable"]),a[83]||(a[83]=o("span",{class:"text-grey-8"},"(Inserte un m\xE1ximo de 3 filas) (Opcional)",-1)),i(u,{configuracionColumnas:[...e.configuracionColumnasMedicacionHabitual,e.accionesTabla],datos:e.fichaPreocupacional.medicaciones,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,disable:e.disabled,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell",accion1:e.btnEliminarMedicacionHabitual},null,8,["configuracionColumnas","datos","disable","accion1"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Antecedentes de trabajo","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",xs,[a[100]||(a[100]=o("div",{class:"col-12 text-bold q-mb-md"}," ANTECEDENTES DE EMPLEOS ANTERIORES ",-1)),o("div",Ds,[i(N,{color:"primary",class:"q-mb-sm q-mr-sm",icon:"bi-arrow-down",disable:e.disabled,"no-caps":"",unelevated:"",onClick:a[27]||(a[27]=l=>e.insertarFilaAntecedenteTrabajoAnterior())},{default:n(()=>a[88]||(a[88]=[H("Insertar fila ")])),_:1},8,["disable"]),a[89]||(a[89]=o("span",{class:"text-grey-8"},"(Opcional)",-1)),e.mostrarTablaAntecedenteTrabajoAnteriorReactive?(d(),J(u,{key:0,configuracionColumnas:[...e.configuracionColumnasAntecedenteTrabajoAnteriorReactive,e.accionesTabla],datos:e.fichaPreocupacional.antecedentes_empleos_anteriores,v$:e.v$,"key-error":"antecedentes_empleos_anteriores",permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,disable:e.disabled,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell",accion1:e.btnEliminarAntecedenteTrabajoAnterior},null,8,["configuracionColumnas","datos","v$","disable","accion1"])):O("",!0)]),a[101]||(a[101]=o("div",{class:"col-12 text-bold q-mb-md"}," ACCIDENTES DE TRABAJO (DESCRIPCI\xD3N) ",-1)),o("div",Is,[a[90]||(a[90]=o("label",null,"Ha tenido alg\xFAn accidente de trabajo?",-1)),i(f,{modelValue:e.fichaPreocupacional.tiene_accidente_trabajo,"onUpdate:modelValue":a[28]||(a[28]=l=>e.fichaPreocupacional.tiene_accidente_trabajo=l),disable:e.disabled},null,8,["modelValue","disable"])]),e.fichaPreocupacional.tiene_accidente_trabajo?(d(),v("div",Ms,[a[91]||(a[91]=o("label",{class:"q-mb-sm block"},"Fue calificado por el Instituto de Seguridad Social correspondiente",-1)),o("div",Bs,[i(K,{modelValue:e.fichaPreocupacional.accidente_trabajo.calificado_iss,"onUpdate:modelValue":a[29]||(a[29]=l=>e.fichaPreocupacional.accidente_trabajo.calificado_iss=l),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(K,{modelValue:e.fichaPreocupacional.accidente_trabajo.calificado_iss,"onUpdate:modelValue":a[30]||(a[30]=l=>e.fichaPreocupacional.accidente_trabajo.calificado_iss=l),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])])):O("",!0),e.fichaPreocupacional.accidente_trabajo.calificado_iss?(d(),v("div",Ns,[a[92]||(a[92]=o("label",{class:"q-mb-sm block"},"Especificar",-1)),i(V,{modelValue:e.fichaPreocupacional.accidente_trabajo.instituto_seguridad_social,"onUpdate:modelValue":a[31]||(a[31]=l=>e.fichaPreocupacional.accidente_trabajo.instituto_seguridad_social=l),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):O("",!0),e.fichaPreocupacional.tiene_accidente_trabajo?(d(),v("div",zs,[a[93]||(a[93]=o("label",{class:"q-mb-sm block"},"Fecha",-1)),i(V,{modelValue:e.fichaPreocupacional.accidente_trabajo.fecha,"onUpdate:modelValue":a[33]||(a[33]=l=>e.fichaPreocupacional.accidente_trabajo.fecha=l),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:n(()=>[i(G,{name:"event",class:"cursor-pointer"},{default:n(()=>[i(ue,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[i(me,{modelValue:e.fichaPreocupacional.accidente_trabajo.fecha,"onUpdate:modelValue":a[32]||(a[32]=l=>e.fichaPreocupacional.accidente_trabajo.fecha=l),mask:e.maskFecha,"today-btn":""},{default:n(()=>[o("div",Ls,[ce(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[pe]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])])):O("",!0),e.fichaPreocupacional.tiene_accidente_trabajo?(d(),v("div",Hs,[a[94]||(a[94]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(V,{modelValue:e.fichaPreocupacional.accidente_trabajo.observacion,"onUpdate:modelValue":a[34]||(a[34]=l=>e.fichaPreocupacional.accidente_trabajo.observacion=l),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):O("",!0),a[102]||(a[102]=o("div",{class:"col-12 text-bold q-mb-md"}," ENFERMEDADES PROFESIONALES (DESCRIPCI\xD3N) ",-1)),o("div",Gs,[a[95]||(a[95]=o("label",null,"Ha tenido alguna enfermedad profesional?",-1)),i(f,{modelValue:e.fichaPreocupacional.tiene_enfermedad_profesional,"onUpdate:modelValue":a[35]||(a[35]=l=>e.fichaPreocupacional.tiene_enfermedad_profesional=l),disable:e.disabled},null,8,["modelValue","disable"])]),e.fichaPreocupacional.tiene_enfermedad_profesional?(d(),v("div",Qs,[a[96]||(a[96]=o("label",{class:"q-mb-sm block"},"Fue calificado por el Instituto de Seguridad Social correspondiente",-1)),o("div",Js,[i(K,{modelValue:e.fichaPreocupacional.enfermedad_profesional.calificado_iss,"onUpdate:modelValue":a[36]||(a[36]=l=>e.fichaPreocupacional.enfermedad_profesional.calificado_iss=l),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(K,{modelValue:e.fichaPreocupacional.enfermedad_profesional.calificado_iss,"onUpdate:modelValue":a[37]||(a[37]=l=>e.fichaPreocupacional.enfermedad_profesional.calificado_iss=l),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])])):O("",!0),e.fichaPreocupacional.enfermedad_profesional.calificado_iss?(d(),v("div",Ys,[a[97]||(a[97]=o("label",{class:"q-mb-sm block"},"Especificar",-1)),i(V,{modelValue:e.fichaPreocupacional.enfermedad_profesional.instituto_seguridad_social,"onUpdate:modelValue":a[38]||(a[38]=l=>e.fichaPreocupacional.enfermedad_profesional.instituto_seguridad_social=l),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):O("",!0),e.fichaPreocupacional.tiene_enfermedad_profesional?(d(),v("div",Xs,[a[98]||(a[98]=o("label",{class:"q-mb-sm block"},"Fecha",-1)),i(V,{modelValue:e.fichaPreocupacional.enfermedad_profesional.fecha,"onUpdate:modelValue":a[40]||(a[40]=l=>e.fichaPreocupacional.enfermedad_profesional.fecha=l),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:n(()=>[i(G,{name:"event",class:"cursor-pointer"},{default:n(()=>[i(ue,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[i(me,{modelValue:e.fichaPreocupacional.enfermedad_profesional.fecha,"onUpdate:modelValue":a[39]||(a[39]=l=>e.fichaPreocupacional.enfermedad_profesional.fecha=l),mask:e.maskFecha,"today-btn":""},{default:n(()=>[o("div",Ks,[ce(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[pe]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])])):O("",!0),e.fichaPreocupacional.tiene_enfermedad_profesional?(d(),v("div",Ws,[a[99]||(a[99]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(V,{modelValue:e.fichaPreocupacional.enfermedad_profesional.observacion,"onUpdate:modelValue":a[41]||(a[41]=l=>e.fichaPreocupacional.enfermedad_profesional.observacion=l),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):O("",!0)])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Antecedentes familiares (Detallar parentesco)","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",Zs,[o("div",el,[a[103]||(a[103]=o("div",{class:"text-grey-8 q-mb-md"},"(Opcional)",-1)),i(u,{configuracionColumnas:e.configuracionColumnasAntecedenteFamiliar,datos:e.listadosAuxiliares.antecedentes_familiares,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,disable:e.disabled,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell"},null,8,["configuracionColumnas","datos","disable"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Factores de riesgo del puesto de trabajo actual","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",al,[o("div",ol,[i(N,{color:"primary",class:"q-mb-sm q-mr-sm",icon:"bi-arrow-down",disable:e.disabled,"no-caps":"",unelevated:"",onClick:a[42]||(a[42]=l=>e.insertarFilaFrPuestoTrabajoActualReactive())},{default:n(()=>a[104]||(a[104]=[H("Insertar fila ")])),_:1},8,["disable"]),a[105]||(a[105]=o("span",{class:"text-grey-8"},"(Opcional)",-1)),e.mostrarTablaFrPuestoTrabajoActualReactive?(d(),J(u,{key:0,configuracionColumnas:[...e.configuracionColumnasFrPuestoTrabajoActualReactive,e.accionesTabla],datos:e.fichaPreocupacional.fr_puestos_trabajos_actuales,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,disable:e.disabled,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!1,separador:"cell",accion1:e.btnEliminarFrPuestoTrabajoActual},null,8,["configuracionColumnas","datos","disable","accion1"])):O("",!0)])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Actividades extra laborales","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",il,[o("div",sl,[a[106]||(a[106]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(V,{modelValue:e.fichaPreocupacional.actividades_extralaborales,"onUpdate:modelValue":a[43]||(a[43]=l=>e.fichaPreocupacional.actividades_extralaborales=l),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Enfermedad actual","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",ll,[o("div",tl,[a[107]||(a[107]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(V,{modelValue:e.fichaPreocupacional.enfermedad_actual,"onUpdate:modelValue":a[44]||(a[44]=l=>e.fichaPreocupacional.enfermedad_actual=l),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Revisi\xF3n actual de \xF3rganos y sistemas","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",nl,[o("div",rl,[a[108]||(a[108]=o("div",{class:"text-grey-8 q-mb-md"},"(Opcional)",-1)),i(u,{configuracionColumnas:e.configuracionColumnasRevisionActualOrganoSistema,datos:e.listadosAuxiliares.revisiones_actuales_organos_sistemas,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,disable:e.disabled,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell"},null,8,["configuracionColumnas","datos","disable"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Constantes vitales y antropometr\xEDa","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",dl,[i(t,{"constante-vital":e.fichaPreocupacional.constante_vital,disable:e.disabled,"onUpdate:modelValue":e.hidratarConstanteVital,validador:e.v$},null,8,["constante-vital","disable","onUpdate:modelValue","validador"])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Examen f\xEDsico regional","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",cl,[i(m,{datos:e.fichaPreocupacional.examenes_fisicos_regionales,disable:e.disabled,"onUpdate:modelValue":e.hidratarExamenFisicoRegional},null,8,["datos","disable","onUpdate:modelValue"])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Aptitud m\xE9dica para el trabajo","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[i(r,{"aptitud-medica":e.fichaPreocupacional.aptitud_medica,disable:e.disabled,"onUpdate:modelValue":e.hidratarAptitudMedica},null,8,["aptitud-medica","disable","onUpdate:modelValue"])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Recomendaciones y/o tratamiento","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",ul,[o("div",ml,[a[109]||(a[109]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(V,{modelValue:e.fichaPreocupacional.recomendaciones_tratamiento,"onUpdate:modelValue":a[45]||(a[45]=l=>e.fichaPreocupacional.recomendaciones_tratamiento=l),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),[e.acciones.consultar,e.acciones.editar].includes(e.accion)?(d(),v("div",pl,[i(c,{ref:"refArchivo",label:"Ficha preocupacional firmada",mixin:e.mixin,listarAlGuardar:!0,idModelo:e.fichaPreocupacional.id},{"boton-subir":n(()=>[e.quieroSubirArchivos?(d(),J(N,{key:0,color:"primary",push:"","no-caps":"",class:"full-width q-mb-lg",onClick:e.subirFichaMedicaFirmada},{default:n(()=>[i(G,{name:"bi-upload",class:"q-mr-sm",size:"xs"}),a[110]||(a[110]=H(" Subir ficha m\xE9dica firmada "))]),_:1},8,["onClick"])):O("",!0)]),_:1},8,["mixin","idModelo"])])):O("",!0)]),"custom-buttons":n(()=>[o("div",bl,[e.fichaPreocupacional.id&&e.mostrarDescargarPdf&&e.accion==e.acciones.consultar?(d(),J(N,{key:0,class:"bg-white text-pink-10","no-caps":"",push:"",onClick:a[46]||(a[46]=l=>e.descargarPdf())},{default:n(()=>[i(G,{name:"bi-file-earmark-pdf",size:"xs",class:"q-mr-sm"}),a[111]||(a[111]=H(" Descargar PDF "))]),_:1})):O("",!0)])]),_:1},8,["mixin"])}var _l=Ee(xi,[["render",fl]]);const vl=[{name:"examen",field:"examen",label:"Ex\xE1menes realizados",align:"left",sortable:!0},{name:"tiempo",field:"tiempo",label:"Tiempo(a\xF1os)",align:"left",sortable:!0,type:"number",editable:!0},{name:"resultado",field:"resultado",label:"Resultado",align:"left",sortable:!0,type:"text",editable:!0}],gl=[{name:"organo",field:"organo",label:"Organo sistema",align:"left",sortable:!0},{name:"descripcion",field:"descripcion",label:"Descripci\xF3n",align:"left",sortable:!0,editable:!0}],$a=[{name:"empresa",field:"empresa",label:"Empresa",align:"left",sortable:!0,editable:!0},{name:"puesto_trabajo",field:"puesto_trabajo",label:"Puesto de trabajo",align:"left",sortable:!0,editable:!0},{name:"actividades",field:"actividades",label:"Actividades que desempe\xF1aba",align:"left",sortable:!0,editable:!0},{name:"tiempo_trabajo",field:"tiempo_trabajo",label:"Tiempo de trabajo(meses)",align:"left",type:"number",sortable:!0,editable:!0},{name:"observaciones",field:"observaciones",label:"Observaciones",align:"left",type:"text",sortable:!0,editable:!0}],hl=[{name:"tipo_habito_toxico",field:"tipo_habito_toxico",label:"Consumos nocivos",align:"left",sortable:!0},{name:"tiempo_consumo_meses",field:"tiempo_consumo_meses",label:"Tiempo de consumo(meses)",align:"left",sortable:!0,type:"number",editable:!0},{name:"cantidad",field:"cantidad",label:"Cantidad",align:"left",sortable:!0,type:"number",editable:!0},{name:"ex_consumidor",field:"ex_consumidor",label:"Ex consumidor",align:"left",sortable:!0,type:"boolean",editable:!0},{name:"tiempo_abstinencia_meses",field:"tiempo_abstinencia_meses",label:"Tiempo abstinencia(meses)",align:"left",sortable:!0,type:"number",editable:!0}],Fa=[{name:"puesto_trabajo",field:"puesto_trabajo",label:"Puesto de trabajo / \xC1rea",align:"left",sortable:!0,editable:!0},{name:"actividad",field:"actividad",label:"Actividades",align:"left",sortable:!0,editable:!0},{name:"medidas_preventivas",field:"medidas_preventivas",label:"Medidas preventivas",align:"left",sortable:!0,editable:!0}],ql=[{name:"tipo_antecedente_familiar",field:"tipo_antecedente_familiar",label:"Antecedente familiar",align:"left",sortable:!0},{name:"descripcion",field:"descripcion",label:"Descripci\xF3n",align:"left",editable:!0},{name:"parentesco",field:"parentesco",label:"Parentesco",align:"left",editable:!0}],Vl=[{name:"nombre",field:"nombre",label:"Medicaci\xF3n habitual",align:"left",sortable:!0,editable:!0},{name:"cantidad",field:"cantidad",label:"Cantidad(unidad)",align:"left",sortable:!0,editable:!0,type:"number"}],Cl=[{name:"nombre_actividad",field:"nombre_actividad",label:"Actividad f\xEDsica",align:"left",sortable:!0,editable:!0},{name:"tiempo",field:"tiempo",label:"Tiempo(dia)",align:"left",sortable:!0,type:"number",editable:!0}];class yl extends z{constructor(){super(B.fichas_periodicas_consultar_informacion_defecto)}}class El extends z{constructor(){super(B.tipos_antecedentes_familiares)}}class $l extends z{constructor(){super(B.categorias_factores_riesgos)}}class Fl extends z{constructor(){super(B.tipos_habitos_toxicos)}}class wl extends z{constructor(){super(B.tipos_factores_riesgos)}}class Al extends z{constructor(){super(B.fichas_periodicas)}}class Pl extends z{constructor(){super(B.sistemas_organos)}}class Rl extends Q{constructor(){super();s(this,"organo");s(this,"organo_id");s(this,"descripcion");s(this,"ficha_preocupacional");this.organo=null,this.organo_id=null,this.ficha_preocupacional=null,this.descripcion=null}}class jl extends Q{constructor(){super();s(this,"empresa");s(this,"puesto_trabajo");s(this,"actividades");s(this,"tiempo_trabajo");s(this,"observaciones");s(this,"tipos_riesgos_ids");s(this,"ficha_preocupacional");this.empresa=null,this.puesto_trabajo=null,this.actividades=null,this.tiempo_trabajo=null,this.observaciones=null,this.tipos_riesgos_ids=[],this.ficha_preocupacional=null}}class kl extends Q{constructor(){super();s(this,"tiempo_consumo_meses");s(this,"tiempo_abstinencia_meses");s(this,"ficha_preocupacional");s(this,"tipo_habito_toxico");s(this,"tipo_habito_toxico_id");s(this,"ex_consumidor");s(this,"cantidad");this.tiempo_consumo_meses=null,this.cantidad=null,this.ex_consumidor=!1,this.tipo_habito_toxico=null,this.tipo_habito_toxico_id=null,this.tiempo_abstinencia_meses=null,this.ficha_preocupacional=null}}class Ol extends Q{constructor(){super();s(this,"puesto_trabajo");s(this,"actividad");s(this,"medidas_preventivas");s(this,"ficha_preocupacional");s(this,"detalle_categ_factor_riesgo_fr_puesto_trab_act");this.puesto_trabajo=null,this.actividad=null,this.medidas_preventivas=null,this.detalle_categ_factor_riesgo_fr_puesto_trab_act=[],this.ficha_preocupacional=null}}class Sl extends Q{constructor(){super();s(this,"tipo_antecedente_familiar");s(this,"tipo_antecedente_familiar_id");s(this,"descripcion");s(this,"parentesco");this.tipo_antecedente_familiar=null,this.tipo_antecedente_familiar_id=null,this.descripcion=null,this.parentesco=null}}class Tl extends Q{constructor(){super();s(this,"nombre");s(this,"cantidad");this.nombre=null,this.cantidad=null}}class Ul extends Q{constructor(){super();s(this,"nombre_actividad");s(this,"tiempo");this.nombre_actividad=null,this.tiempo=null}}class xl extends Q{constructor(){super();s(this,"menarquia");s(this,"ciclos");s(this,"fecha_ultima_menstruacion");s(this,"gestas");s(this,"partos");s(this,"cesareas");s(this,"abortos");this.menarquia=null,this.ciclos=null,this.fecha_ultima_menstruacion=null,this.gestas=null,this.partos=null,this.cesareas=null,this.abortos=null}}class Dl extends Q{constructor(){super();s(this,"antecedentes_quirurgicos");s(this,"vida_sexual_activa");s(this,"tiene_metodo_planificacion_familiar");s(this,"tipo_metodo_planificacion_familiar");s(this,"hijos_vivos");s(this,"hijos_muertos");s(this,"ficha_preocupacional");this.vida_sexual_activa=!1,this.antecedentes_quirurgicos=null,this.tiene_metodo_planificacion_familiar=!1,this.tipo_metodo_planificacion_familiar=null,this.hijos_vivos=null,this.hijos_muertos=null,this.ficha_preocupacional=null}}class Il extends Ze{constructor(){super();s(this,"numero_archivo");s(this,"registro_empleado_examen");s(this,"religion");s(this,"orientacion_sexual");s(this,"cargo");s(this,"identidad_genero");s(this,"lateralidad");s(this,"motivo_consulta");s(this,"antecedentes_gineco_obstetricos");s(this,"antecedente_personal");s(this,"habitos_toxicos");s(this,"actividades_fisicas");s(this,"medicaciones");s(this,"antecedentes_empleos_anteriores");s(this,"antecedentes_familiares");s(this,"fr_puestos_trabajos_actuales");s(this,"actividades_extralaborales");s(this,"enfermedad_actual");s(this,"revisiones_actuales_organos_sistemas");s(this,"antecedentes_clinicos_quirurgicos");s(this,"examenes_realizados");s(this,"recomendaciones_tratamiento");s(this,"aptitud_medica");s(this,"incidentes");this.numero_archivo=null,this.registro_empleado_examen=null,this.religion=null,this.orientacion_sexual=null,this.identidad_genero=null,this.cargo=null,this.lateralidad=null,this.motivo_consulta=null,this.antecedentes_gineco_obstetricos=new xl,this.antecedente_personal=new Dl,this.habitos_toxicos=[],this.actividades_fisicas=[],this.medicaciones=[],this.antecedentes_empleos_anteriores=[],this.antecedentes_familiares=[],this.fr_puestos_trabajos_actuales=[],this.actividades_extralaborales=null,this.enfermedad_actual=null,this.revisiones_actuales_organos_sistemas=[],this.antecedentes_clinicos_quirurgicos=null,this.examenes_realizados=[],this.recomendaciones_tratamiento=null,this.aptitud_medica=new ba,this.incidentes=null}}var Ml=be({name:"fichas_periodicas",components:{SimpleLayout:$e,EssentialTable:Ae,ContantesVitales:Je,AptitudMedicaTrabajo:We,ExamenFisicoRegionalComponent:Ke},setup(e,{emit:a}){var Be,Ne;const b=Ve(),P=Se(),{confirmar:h}=Oe(),R=M(Fa),g=M($a),f=M(!1),u=M(!1),t=new Ol,{notificarAdvertencia:m}=Oe(),r=M(),c=new yl,C=new Ce(Il,new Al),{entidad:l,listadosAuxiliares:F,disabled:oe,accion:W}=C.useReferencias(),{setValidador:ie,cargarVista:X,obtenerListados:Z,consultar:se,editarParcial:y,listar:$}=C.useComportamiento(),{onBeforeGuardar:S,onReestablecer:T,onConsultado:w,onGuardado:D}=C.useHooks();X(async()=>{await Z({tiposHabitosToxicos:new Fl,tiposAntecedentesFamiliares:new El,categoriasFactoresRiesgos:new $l,tiposFactoresRiesgos:new wl,sistemasOrganos:new Pl,cargos:{controller:new Xe,params:{estado:1}},antecedentes_familiares:[],habitos_toxicos:[],revisiones_actuales_organos_sistemas:[],examenes_realizados:[]}),F.habitos_toxicos=F.tiposHabitosToxicos.map(q=>{const A=new kl;return A.tipo_habito_toxico=q.nombre,A.tipo_habito_toxico_id=q.id,A}),F.antecedentes_familiares=F.tiposAntecedentesFamiliares.map(q=>{const A=new Sl;return A.tipo_antecedente_familiar=q.nombre,A.tipo_antecedente_familiar_id=q.id,A}),F.revisiones_actuales_organos_sistemas=F.sistemasOrganos.map(q=>{const A=new Rl;return A.organo=q.nombre,A.organo_id=q.id,A}),Ie(),ra(),b.idFichaPeriodica&&se({id:b.idFichaPeriodica})});const _={titulo:"",icono:"bi-x",color:"negative",accion:({posicion:q})=>h("\xBFEst\xE1 seguro de continuar?",()=>{var A;return(A=l.actividades_fisicas)==null?void 0:A.splice(q,1)})},x={titulo:"",icono:"bi-x",color:"negative",accion:({posicion:q})=>h("\xBFEst\xE1 seguro de continuar?",()=>{var A;return(A=l.medicaciones)==null?void 0:A.splice(q,1)})},le={titulo:"",icono:"bi-x",color:"negative",accion:({posicion:q})=>h("\xBFEst\xE1 seguro de continuar?",()=>{var A;return(A=l.fr_puestos_trabajos_actuales)==null?void 0:A.splice(q,1)})},{cargos:fe,filtrarCargos:_e}=je(F),Pe=()=>{var A;if(l.actividades_fisicas.length>0)return m("Solo puede ingresar un m\xE1ximo de una actividad");const q=new Ul;q.id=(A=l.actividades_fisicas)!=null&&A.length?Fe(l.actividades_fisicas)+1:1,l.actividades_fisicas.push(q)},ea=()=>{var A;if(l.medicaciones.length>2)return m("Solo puede ingresar un m\xE1ximo de tres medicamentos");const q=new Tl;q.id=(A=l.medicaciones)!=null&&A.length?Fe(l.medicaciones)+1:1,l.medicaciones.push(q)},aa=()=>{var A;const q=JSON.parse(JSON.stringify(t));q.id=(A=l.fr_puestos_trabajos_actuales)!=null&&A.length?Fe(l.fr_puestos_trabajos_actuales)+1:1,l.fr_puestos_trabajos_actuales.push(q)},oa=(q,A)=>A.reduce((U,ne)=>q[ne]?[...U,...q[ne]]:U,[]),ia=async()=>{const{response:q}=await c.listar({registro_empleado_examen_id:b.idRegistroEmpleadoExamen});l.motivo_consulta=q.data.modelo.motivo_consulta,l.cargo=q.data.modelo.cargo,l.recomendaciones_tratamiento=q.data.modelo.recomendaciones_tratamiento,l.enfermedad_actual=q.data.modelo.enfermedad_actual},sa=async()=>{const q=Te.getInstance(),A=Ue.URL_BASE+"/"+q.getEndpoint(B.fichas_periodicas_imprimir)+"/"+l.id,U="ficha_periodica_"+l.id+"_"+Date.now();xe(A,"GET","blob","pdf",U)},la=q=>l.constante_vital.hydrate(q),ta=q=>l.aptitud_medica.hydrate(q),na=q=>r.value=q,Ie=async()=>{R.value=[...Fa],await F.tiposFactoresRiesgos.forEach(q=>{var A,U,ne;R.value.push({name:(A=q.nombre)!=null?A:"",field:(U=q.nombre)!=null?U:"",label:(ne=q.nombre)!=null?ne:"",align:"left",sortable:!0,type:"select_multiple",editable:!0,options:F.categoriasFactoresRiesgos.filter(de=>de.tipo_factor_riesgo===q.id).map(de=>({label:de.nombre,value:de.id}))})}),f.value=!0},ra=()=>{F.tiposFactoresRiesgos.forEach(q=>{var A;t[(A=q.nombre)!=null?A:""]=null})};S(()=>{var A;l.registro_empleado_examen=(A=b.idRegistroEmpleadoExamen)!=null?A:null,l.examenes_fisicos_regionales=r.value,l.antecedentes_familiares=[...F.antecedentes_familiares.filter(U=>U.descripcion)],l.examenes_realizados=F.examenes_realizados.filter(U=>U.tiempo||U.resultado).map(U=>(U.examen_id=U.examen_id,U));const q=F.tiposFactoresRiesgos.map(U=>U.nombre);l.fr_puestos_trabajos_actuales=l.fr_puestos_trabajos_actuales.map(U=>(U.detalle_categ_factor_riesgo_fr_puesto_trab_act=oa(U,q),U)),l.revisiones_actuales_organos_sistemas=F.revisiones_actuales_organos_sistemas.filter(U=>U.descripcion).map(U=>({organo_id:U.organo_id,descripcion:U.descripcion})),l.habitos_toxicos=F.habitos_toxicos.filter(U=>U.cantidad||U.tiempo_consumo_meses||U.tiempo_abstinencia_meses),l.antecedentes_empleos_anteriores=l.antecedentes_empleos_anteriores.map(U=>{const ne=[],de=new jl;for(const he in U)if(U.hasOwnProperty(he)&&!["id","created_at","updated_at"].includes(he)){const ke=U[he];typeof ke=="boolean"&&ke?ne.push(parseInt(he)):de[he]=ke}return de.tipos_riesgos_ids=ne.length?ne:[],de}),console.log(l.antecedentes_empleos_anteriores)}),T(()=>{l.numero_archivo=P.user.identificacion,a("cerrar-modal")}),w(()=>{W.value=te.consultar,F.habitos_toxicos=l.habitos_toxicos,F.revisiones_actuales_organos_sistemas=F.revisiones_actuales_organos_sistemas.map(q=>{console.log(q);const A=l.revisiones_actuales_organos_sistemas.find(U=>U.organo_id===q.organo_id);return A&&(q.descripcion=A.descripcion),q}),F.antecedentes_familiares=F.antecedentes_familiares.map(q=>{const A=l.antecedentes_familiares.find(U=>U.tipo_antecedente_familiar_id===q.tipo_antecedente_familiar_id);return A&&(q.descripcion=A.descripcion,q.parentesco=A.parentesco),q}),l.antecedentes_empleos_anteriores=l.antecedentes_empleos_anteriores.map(q=>{var ne;const A=(ne=q.tipos_riesgos_ids)==null?void 0:ne.reduce((de,he)=>(de[he.toString()]=!0,de),{}),U={...q,...A};return delete U.tipos_riesgos_ids,U})}),D(q=>b.idFichaPeriodica=q);const Me=De({cargo:{required:E},constante_vital:{presion_arterial:{required:E},temperatura:{required:E},frecuencia_cardiaca:{required:E},saturacion_oxigeno:{required:E},frecuencia_respiratoria:{required:E},peso:{required:E},talla:{required:E},indice_masa_corporal:{required:E},perimetro_abdominal:{required:E}}},l);return ie(Me.value),ia(),l.numero_archivo=P.user.identificacion,{v$:Me,mixin:C,disabled:oe,fichaPeriodica:l,listadosAuxiliares:F,tipos_sangre:Ra,maskFecha:Re,configuracionColumnasResultadoExamenPreocupacional:vl,configuracionColumnasResultadoHabitoToxico:hl,configuracionColumnasActividadFisica:Cl,configuracionColumnasMedicacionHabitual:Vl,configuracionColumnasAntecedenteTrabajoAnterior:$a,configuracionColumnasAntecedenteFamiliar:ql,configuracionColumnasFrPuestoTrabajoActualReactive:R,configuracionColumnasRevisionActualOrganoSistema:gl,insertarFilaActividadFisica:Pe,insertarFilaMedicacionHabitual:ea,mapearOptionsSelect:Ge,cargos:fe,filtrarCargos:_e,hidratarConstanteVital:la,hidratarAptitudMedica:ta,hidratarExamenFisicoRegional:na,descargarPdf:sa,insertarFilaFrPuestoTrabajoActualReactive:aa,btnEliminarActividadFisica:_,btnEliminarMedicacionHabitual:x,btnEliminarFrPuestoTrabajoActual:le,accionesTabla:Le,mostrarTablaFrPuestoTrabajoActualReactive:f,mostrarTablaAntecedenteTrabajoAnteriorReactive:u,configuracionColumnasAntecedenteTrabajoAnteriorReactive:g,mostrarMasculino:((Be=b.empleado)==null?void 0:Be.genero)==="M",mostrarFemenino:((Ne=b.empleado)==null?void 0:Ne.genero)==="F",mostrarDescargarPdf:P.esMedico}}});const Bl={class:"row q-col-gutter-x-sm q-pa-md"},Nl={class:"col-12 col-md-3 col-sm-3"},zl={class:"error-msg"},Ll={class:"row q-col-gutter-x-sm q-pa-md"},Hl={class:"col-12"},Gl={class:"row q-col-gutter-x-sm q-pa-md"},Ql={class:"col-12 q-mb-md"},Jl={class:"col-12 q-mb-md"},Yl={class:"col-12 q-mb-md"},Xl={class:"col-12 q-mb-md"},Kl={class:"col-12 q-mb-md"},Wl={class:"row q-col-gutter-x-sm q-pa-md"},Zl={class:"col-12 col-md-6 q-mb-md"},et={class:"q-gutter-sm"},at={key:0,class:"col-12 col-md-6 q-mb-md"},ot={class:"col-12 col-md-6 q-mb-md"},it={class:"row items-center justify-end"},st={class:"col-12 col-md-6 q-mb-md"},lt={class:"col-12 col-md-6 q-mb-md"},tt={class:"q-gutter-sm"},nt={key:1,class:"col-12 col-md-6 q-mb-md"},rt={class:"col-12 col-md-6 q-mb-md"},dt={class:"row items-center justify-end"},ct={class:"col-12 col-md-6 q-mb-md"},ut={class:"row q-col-gutter-x-sm q-pa-md"},mt={class:"col-12 q-mb-md"},pt={class:"row q-col-gutter-x-sm q-pa-md"},bt={class:"col-12 q-mb-md"},ft={class:"row q-col-gutter-x-sm q-pa-md"},_t={class:"col-12 q-mb-md"},vt={class:"q-pa-md"},gt={class:"q-pa-md"},ht={class:"row q-gutter-x-xs"};function qt(e,a,b,P,h,R){const g=L("essential-table"),f=L("contantes-vitales"),u=L("examen-fisico-regional-component"),t=L("aptitud-medica-trabajo"),m=L("simple-layout");return d(),J(m,{mixin:e.mixin},{formulario:n(()=>[i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Datos del usuario","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",Bl,[o("div",Nl,[a[20]||(a[20]=o("label",{class:"q-mb-sm block"},"Cargo",-1)),i(qe,{modelValue:e.fichaPeriodica.cargo,"onUpdate:modelValue":a[0]||(a[0]=r=>e.fichaPeriodica.cargo=r),options:e.cargos,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","use-input":"","input-debounce":"0",onBlur:e.v$.cargo.$touch,onFilter:e.filtrarCargos,error:!!e.v$.cargo.$errors.length,"error-message":"Debes seleccionar un cargo","option-value":r=>r.id,"option-label":r=>r.nombre,"emit-value":"","map-options":""},{error:n(()=>[(d(!0),v(ee,null,ae(e.v$.cargo.$errors,r=>(d(),v("div",{key:r.$uid},[o("div",zl,re(r.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","onBlur","onFilter","error","option-value","option-label"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Motivo de consulta","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",Ll,[o("div",Hl,[a[21]||(a[21]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(V,{modelValue:e.fichaPeriodica.motivo_consulta,"onUpdate:modelValue":a[1]||(a[1]=r=>e.fichaPeriodica.motivo_consulta=r),placeholder:"Anotar la causa del problema en la versi\xF3n del informante",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Antecedentes personales","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",Gl,[a[29]||(a[29]=o("div",{class:"text-bold q-mb-md"}," ANTECEDENTES CL\xCDNICOS Y QUIR\xDARGICOS ",-1)),o("div",Ql,[a[22]||(a[22]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(V,{modelValue:e.fichaPeriodica.antecedentes_clinicos_quirurgicos,"onUpdate:modelValue":a[2]||(a[2]=r=>e.fichaPeriodica.antecedentes_clinicos_quirurgicos=r),placeholder:"Anotar la causa del problema en la versi\xF3n del informante",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),a[30]||(a[30]=o("div",{class:"col-12 text-bold q-mb-md"},"H\xC1BITOS T\xD3XICOS",-1)),o("div",Jl,[a[23]||(a[23]=o("div",{class:"text-grey-8 q-mb-md"},"(Opcional)",-1)),i(g,{configuracionColumnas:e.configuracionColumnasResultadoHabitoToxico,datos:e.listadosAuxiliares.habitos_toxicos,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,grid:!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell"},null,8,["configuracionColumnas","datos"])]),a[31]||(a[31]=o("div",{class:"text-bold q-mb-md"},"INCIDENTES",-1)),o("div",Yl,[a[24]||(a[24]=o("label",{class:"q-mb-sm block"},"Describir los principale incidentes suscitados",-1)),i(V,{modelValue:e.fichaPeriodica.incidentes,"onUpdate:modelValue":a[3]||(a[3]=r=>e.fichaPeriodica.incidentes=r),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),a[32]||(a[32]=o("div",{class:"col-12 text-bold q-mb-md"},"ESTILO DE VIDA",-1)),o("div",Xl,[i(N,{color:"primary",class:"q-mb-sm q-mr-sm",icon:"bi-arrow-down",disable:e.disabled,"no-caps":"",unelevated:"",onClick:a[4]||(a[4]=r=>e.insertarFilaActividadFisica())},{default:n(()=>a[25]||(a[25]=[H("Insertar fila")])),_:1},8,["disable"]),a[26]||(a[26]=o("span",{class:"text-grey-8"},"(Inserte un m\xE1ximo de 1 fila) (Opcional)",-1)),i(g,{configuracionColumnas:[...e.configuracionColumnasActividadFisica,e.accionesTabla],datos:e.fichaPeriodica.actividades_fisicas,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell",accion1:e.btnEliminarActividadFisica},null,8,["configuracionColumnas","datos","accion1"])]),o("div",Kl,[i(N,{color:"primary",class:"q-mb-sm q-mr-sm",icon:"bi-arrow-down",disable:e.disabled,"no-caps":"",unelevated:"",onClick:a[5]||(a[5]=r=>e.insertarFilaMedicacionHabitual())},{default:n(()=>a[27]||(a[27]=[H("Insertar fila")])),_:1},8,["disable"]),a[28]||(a[28]=o("span",{class:"text-grey-8"},"(Inserte un m\xE1ximo de 3 filas) (Opcional)",-1)),i(g,{configuracionColumnas:[...e.configuracionColumnasMedicacionHabitual,e.accionesTabla],datos:e.fichaPeriodica.medicaciones,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell",accion1:e.btnEliminarMedicacionHabitual},null,8,["configuracionColumnas","datos","accion1"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Antecedentes de trabajo","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",Wl,[a[41]||(a[41]=o("div",{class:"col-12 text-bold q-mb-md"}," ACCIDENTES DE TRABAJO (DESCRIPCI\xD3N) ",-1)),o("div",Zl,[a[33]||(a[33]=o("label",{class:"q-mb-sm block"},"Fue calificado por el Instituto de Seguridad Social correspondiente",-1)),o("div",et,[i(K,{modelValue:e.fichaPeriodica.accidente_trabajo.calificado_iss,"onUpdate:modelValue":a[6]||(a[6]=r=>e.fichaPeriodica.accidente_trabajo.calificado_iss=r),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(K,{modelValue:e.fichaPeriodica.accidente_trabajo.calificado_iss,"onUpdate:modelValue":a[7]||(a[7]=r=>e.fichaPeriodica.accidente_trabajo.calificado_iss=r),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])]),e.fichaPeriodica.accidente_trabajo.calificado_iss?(d(),v("div",at,[a[34]||(a[34]=o("label",{class:"q-mb-sm block"},"Especificar",-1)),i(V,{modelValue:e.fichaPeriodica.accidente_trabajo.instituto_seguridad_social,"onUpdate:modelValue":a[8]||(a[8]=r=>e.fichaPeriodica.accidente_trabajo.instituto_seguridad_social=r),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):O("",!0),o("div",ot,[a[35]||(a[35]=o("label",{class:"q-mb-sm block"},"Fecha",-1)),i(V,{modelValue:e.fichaPeriodica.accidente_trabajo.fecha,"onUpdate:modelValue":a[10]||(a[10]=r=>e.fichaPeriodica.accidente_trabajo.fecha=r),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:n(()=>[i(G,{name:"event",class:"cursor-pointer"},{default:n(()=>[i(ue,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[i(me,{modelValue:e.fichaPeriodica.accidente_trabajo.fecha,"onUpdate:modelValue":a[9]||(a[9]=r=>e.fichaPeriodica.accidente_trabajo.fecha=r),mask:e.maskFecha,"today-btn":""},{default:n(()=>[o("div",it,[ce(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[pe]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",st,[a[36]||(a[36]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(V,{modelValue:e.fichaPeriodica.accidente_trabajo.observacion,"onUpdate:modelValue":a[11]||(a[11]=r=>e.fichaPeriodica.accidente_trabajo.observacion=r),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),a[42]||(a[42]=o("div",{class:"col-12 text-bold q-mb-md"}," ENFERMEDADES PROFESIONALES (DESCRIPCI\xD3N) ",-1)),o("div",lt,[a[37]||(a[37]=o("label",{class:"q-mb-sm block"},"Fue calificado por el Instituto de Seguridad Social correspondiente",-1)),o("div",tt,[i(K,{modelValue:e.fichaPeriodica.enfermedad_profesional.calificado_iss,"onUpdate:modelValue":a[12]||(a[12]=r=>e.fichaPeriodica.enfermedad_profesional.calificado_iss=r),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(K,{modelValue:e.fichaPeriodica.enfermedad_profesional.calificado_iss,"onUpdate:modelValue":a[13]||(a[13]=r=>e.fichaPeriodica.enfermedad_profesional.calificado_iss=r),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])]),e.fichaPeriodica.enfermedad_profesional.calificado_iss?(d(),v("div",nt,[a[38]||(a[38]=o("label",{class:"q-mb-sm block"},"Especificar",-1)),i(V,{modelValue:e.fichaPeriodica.enfermedad_profesional.instituto_seguridad_social,"onUpdate:modelValue":a[14]||(a[14]=r=>e.fichaPeriodica.enfermedad_profesional.instituto_seguridad_social=r),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):O("",!0),o("div",rt,[a[39]||(a[39]=o("label",{class:"q-mb-sm block"},"Fecha",-1)),i(V,{modelValue:e.fichaPeriodica.enfermedad_profesional.fecha,"onUpdate:modelValue":a[16]||(a[16]=r=>e.fichaPeriodica.enfermedad_profesional.fecha=r),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:n(()=>[i(G,{name:"event",class:"cursor-pointer"},{default:n(()=>[i(ue,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[i(me,{modelValue:e.fichaPeriodica.enfermedad_profesional.fecha,"onUpdate:modelValue":a[15]||(a[15]=r=>e.fichaPeriodica.enfermedad_profesional.fecha=r),mask:e.maskFecha,"today-btn":""},{default:n(()=>[o("div",dt,[ce(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[pe]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",ct,[a[40]||(a[40]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(V,{modelValue:e.fichaPeriodica.enfermedad_profesional.observacion,"onUpdate:modelValue":a[17]||(a[17]=r=>e.fichaPeriodica.enfermedad_profesional.observacion=r),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Antecedentes familiares (Detallar parentesco)","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",ut,[o("div",mt,[a[43]||(a[43]=o("div",{class:"text-grey-8 q-mb-md"},"(Opcional)",-1)),i(g,{configuracionColumnas:e.configuracionColumnasAntecedenteFamiliar,datos:e.listadosAuxiliares.antecedentes_familiares,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell"},null,8,["configuracionColumnas","datos"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Factores de riesgo del puesto de trabajo actual","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",pt,[o("div",bt,[i(N,{color:"primary",class:"q-mb-sm q-mr-sm",icon:"bi-arrow-down","no-caps":"",unelevated:"",onClick:a[18]||(a[18]=r=>e.insertarFilaFrPuestoTrabajoActualReactive())},{default:n(()=>a[44]||(a[44]=[H("Insertar fila")])),_:1}),a[45]||(a[45]=o("span",{class:"text-grey-8"},"(Opcional)",-1)),e.mostrarTablaFrPuestoTrabajoActualReactive?(d(),J(g,{key:0,configuracionColumnas:[...e.configuracionColumnasFrPuestoTrabajoActualReactive,e.accionesTabla],datos:e.fichaPeriodica.fr_puestos_trabajos_actuales,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!1,separador:"cell",accion1:e.btnEliminarFrPuestoTrabajoActual},null,8,["configuracionColumnas","datos","accion1"])):O("",!0)])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Revisi\xF3n actual de \xF3rganos y sistemas","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",ft,[o("div",_t,[a[46]||(a[46]=o("div",{class:"text-grey-8 q-mb-md"},"(Opcional)",-1)),i(g,{configuracionColumnas:e.configuracionColumnasRevisionActualOrganoSistema,datos:e.listadosAuxiliares.revisiones_actuales_organos_sistemas,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell"},null,8,["configuracionColumnas","datos"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Constantes vitales y antropometr\xEDa","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",vt,[i(f,{"constante-vital":e.fichaPeriodica.constante_vital,disable:e.disabled,"onUpdate:modelValue":e.hidratarConstanteVital,validador:e.v$},null,8,["constante-vital","disable","onUpdate:modelValue","validador"])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Examen f\xEDsico regional","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",gt,[i(u,{datos:e.fichaPeriodica.examenes_fisicos_regionales,disable:e.disabled,"onUpdate:modelValue":e.hidratarExamenFisicoRegional},null,8,["datos","disable","onUpdate:modelValue"])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Aptitud m\xE9dica para el trabajo","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[i(t,{"aptitud-medica":e.fichaPeriodica.aptitud_medica,disable:e.disabled,"onUpdate:modelValue":e.hidratarAptitudMedica},null,8,["aptitud-medica","disable","onUpdate:modelValue"])]),_:1})]),"custom-buttons":n(()=>[o("div",ht,[e.fichaPeriodica.id&&e.mostrarDescargarPdf?(d(),J(N,{key:0,class:"bg-white text-pink-10","no-caps":"",push:"",onClick:a[19]||(a[19]=r=>e.descargarPdf())},{default:n(()=>[i(G,{name:"bi-file-earmark-pdf",size:"xs",class:"q-mr-sm"}),a[47]||(a[47]=H(" Descargar PDF"))]),_:1})):O("",!0)])]),_:1},8,["mixin"])}var Vt=Ee(Ml,[["render",qt]]);class Ct extends Ze{constructor(){super();s(this,"fecha_ultimo_dia_laboral");s(this,"fecha_reingreso");s(this,"causa_salida");this.fecha_ultimo_dia_laboral=null,this.fecha_reingreso=null,this.causa_salida=null}}class yt extends z{constructor(){super(B.fichas_reintegro_consultar_informacion_defecto)}}class Et extends z{constructor(){super(B.fichas_reintegro)}}var $t=be({name:"fichas_periodicas",components:{SimpleLayout:$e,EssentialTable:Ae,ContantesVitales:Je,AptitudMedicaTrabajo:We,ExamenFisicoRegionalComponent:Ke},setup(e,{emit:a}){const b=Ve(),P=Se(),h=M(),R=new yt,g=new Ce(Ct,new Et),{entidad:f,listadosAuxiliares:u,disabled:t,accion:m}=g.useReferencias(),{setValidador:r,cargarVista:c,obtenerListados:C,consultar:l}=g.useComportamiento(),{onBeforeGuardar:F,onReestablecer:oe,onConsultado:W,onGuardado:ie}=g.useHooks();c(async()=>{await C({cargos:{controller:new Xe,params:{estado:1}}}),b.idFichaReintegro?l({id:b.idFichaReintegro}):se()});const{cargos:X,filtrarCargos:Z}=je(u),se=async()=>{const{response:_}=await R.listar({registro_empleado_examen_id:b.idRegistroEmpleadoExamen});f.motivo_consulta=_.data.modelo.motivo_consulta,f.cargo=_.data.modelo.cargo,f.fecha_reingreso=_.data.modelo.fecha_reingreso,f.fecha_ultimo_dia_laboral=_.data.modelo.fecha_ultimo_dia_laboral},y=async()=>{const _=Te.getInstance(),x=Ue.URL_BASE+"/"+_.getEndpoint(B.fichas_reintegro_imprimir)+"/"+f.id,le="ficha_reintegro_"+f.id+"_"+Date.now();xe(x,"GET","blob","pdf",le)},$=_=>f.constante_vital.hydrate(_),S=_=>f.aptitud_medica.hydrate(_),T=_=>h.value=_;F(()=>{var _;f.registro_empleado_examen=(_=b.idRegistroEmpleadoExamen)!=null?_:null,f.examenes_fisicos_regionales=h.value}),oe(()=>{a("cerrar-modal")}),W(()=>{m.value=te.consultar}),ie(_=>b.idFichaReintegro=_);const D=De({causa_salida:{required:E},cargo:{required:E},constante_vital:{presion_arterial:{required:E},temperatura:{required:E},frecuencia_cardiaca:{required:E},saturacion_oxigeno:{required:E},frecuencia_respiratoria:{required:E},peso:{required:E},talla:{required:E},indice_masa_corporal:{required:E},perimetro_abdominal:{required:E}}},f);return r(D.value),{mixin:g,disabled:t,fichaReintegro:f,listadosAuxiliares:u,v$:D,maskFecha:Re,accionesTabla:Le,cargos:X,filtrarCargos:Z,mapearOptionsSelect:Ge,descargarPdf:y,hidratarConstanteVital:$,hidratarAptitudMedica:S,hidratarExamenFisicoRegional:T,mostrarDescargarPdf:P.esMedico}}});const Ft={class:"row q-col-gutter-x-sm q-pa-md"},wt={class:"col-12 col-md-3 col-sm-3"},At={class:"error-msg"},Pt={class:"col-12 col-md-3 q-mb-md"},Rt={class:"row items-center justify-end"},jt={class:"col-12 col-md-3 q-mb-md"},kt={class:"row items-center justify-end"},Ot={class:"col-12 col-md-3 q-mb-md"},St={class:"error-msg"},Tt={class:"row q-col-gutter-x-sm q-pa-md"},Ut={class:"col-12"},xt={class:"q-pa-md"},Dt={class:"q-pa-md"},It={class:"row q-gutter-x-xs"};function Mt(e,a,b,P,h,R){const g=L("contantes-vitales"),f=L("examen-fisico-regional-component"),u=L("aptitud-medica-trabajo"),t=L("simple-layout");return d(),J(t,{mixin:e.mixin},{formulario:n(()=>[i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Datos del usuario","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",Ft,[o("div",wt,[a[8]||(a[8]=o("label",{class:"q-mb-sm block"},"Cargo",-1)),i(qe,{modelValue:e.fichaReintegro.cargo,"onUpdate:modelValue":a[0]||(a[0]=m=>e.fichaReintegro.cargo=m),options:e.cargos,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","use-input":"","input-debounce":"0",onFilter:e.filtrarCargos,onBlur:e.v$.cargo.$touch,error:!!e.v$.cargo.$errors.length,"error-message":"Debes seleccionar un cargo","option-value":m=>m.id,"option-label":m=>m.nombre,"emit-value":"","map-options":""},{error:n(()=>[(d(!0),v(ee,null,ae(e.v$.cargo.$errors,m=>(d(),v("div",{key:m.$uid},[o("div",At,re(m.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","onFilter","onBlur","error","option-value","option-label"])]),o("div",Pt,[a[9]||(a[9]=o("label",{class:"q-mb-sm block"},"Fecha del \xFAltimo d\xEDa laboral",-1)),i(V,{modelValue:e.fichaReintegro.fecha_ultimo_dia_laboral,"onUpdate:modelValue":a[2]||(a[2]=m=>e.fichaReintegro.fecha_ultimo_dia_laboral=m),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:n(()=>[i(G,{name:"event",class:"cursor-pointer"},{default:n(()=>[i(ue,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[i(me,{modelValue:e.fichaReintegro.fecha_ultimo_dia_laboral,"onUpdate:modelValue":a[1]||(a[1]=m=>e.fichaReintegro.fecha_ultimo_dia_laboral=m),mask:e.maskFecha,"today-btn":""},{default:n(()=>[o("div",Rt,[ce(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[pe]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",jt,[a[10]||(a[10]=o("label",{class:"q-mb-sm block"},"Fecha de reingreso",-1)),i(V,{modelValue:e.fichaReintegro.fecha_reingreso,"onUpdate:modelValue":a[4]||(a[4]=m=>e.fichaReintegro.fecha_reingreso=m),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:n(()=>[i(G,{name:"event",class:"cursor-pointer"},{default:n(()=>[i(ue,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[i(me,{modelValue:e.fichaReintegro.fecha_reingreso,"onUpdate:modelValue":a[3]||(a[3]=m=>e.fichaReintegro.fecha_reingreso=m),mask:e.maskFecha,"today-btn":""},{default:n(()=>[o("div",kt,[ce(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[pe]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",Ot,[a[11]||(a[11]=o("label",{class:"q-mb-sm block"},"Causa de salida",-1)),i(V,{modelValue:e.fichaReintegro.causa_salida,"onUpdate:modelValue":a[5]||(a[5]=m=>e.fichaReintegro.causa_salida=m),placeholder:"Obligatorio",disable:e.disabled,outlined:"",dense:"",onBlur:e.v$.causa_salida.$touch,error:!!e.v$.causa_salida.$errors.length},{error:n(()=>[(d(!0),v(ee,null,ae(e.v$.causa_salida.$errors,m=>(d(),v("div",{key:m.$uid},[o("div",St,re(m.$message),1)]))),128))]),_:1},8,["modelValue","disable","onBlur","error"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Motivo de consulta","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",Tt,[o("div",Ut,[a[12]||(a[12]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(V,{modelValue:e.fichaReintegro.motivo_consulta,"onUpdate:modelValue":a[6]||(a[6]=m=>e.fichaReintegro.motivo_consulta=m),placeholder:"Anotar la causa del problema en la versi\xF3n del informante",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Constantes vitales y antropometr\xEDa","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",xt,[i(g,{"constante-vital":e.fichaReintegro.constante_vital,disable:e.disabled,"onUpdate:modelValue":e.hidratarConstanteVital,validador:e.v$},null,8,["constante-vital","disable","onUpdate:modelValue","validador"])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Examen f\xEDsico regional","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",Dt,[i(f,{datos:e.fichaReintegro.examenes_fisicos_regionales,disable:e.disabled,"onUpdate:modelValue":e.hidratarExamenFisicoRegional},null,8,["datos","disable","onUpdate:modelValue"])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Aptitud m\xE9dica para el trabajo","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[i(u,{"aptitud-medica":e.fichaReintegro.aptitud_medica,disable:e.disabled,"onUpdate:modelValue":e.hidratarAptitudMedica},null,8,["aptitud-medica","disable","onUpdate:modelValue"])]),_:1})]),"custom-buttons":n(()=>[o("div",It,[e.fichaReintegro.id&&e.mostrarDescargarPdf?(d(),J(N,{key:0,class:"bg-white text-pink-10","no-caps":"",push:"",onClick:a[7]||(a[7]=m=>e.descargarPdf())},{default:n(()=>[i(G,{name:"bi-file-earmark-pdf",size:"xs",class:"q-mr-sm"}),a[13]||(a[13]=H(" Descargar PDF"))]),_:1})):O("",!0)])]),_:1},8,["mixin"])}var Bt=Ee($t,[["render",Mt]]);class Nt extends z{constructor(){super(B.fichas_retiro_consultar_informacion_defecto)}}class zt extends Ze{constructor(){super();s(this,"fecha_inicio_labores");s(this,"fecha_salida");s(this,"antecedentes_clinicos_quirurgicos");s(this,"se_realizo_evaluacion_medica_retiro");s(this,"observacion_evaluacion_medica_retiro");this.fecha_inicio_labores=null,this.fecha_salida=null,this.antecedentes_clinicos_quirurgicos=null,this.se_realizo_evaluacion_medica_retiro=!0,this.observacion_evaluacion_medica_retiro=null}}class Lt extends z{constructor(){super(B.fichas_retiros)}}var Ht=be({name:"fichas_retiros",components:{SimpleLayout:$e,EssentialTable:Ae,ContantesVitales:Je,AptitudMedicaTrabajo:We,ExamenFisicoRegionalComponent:Ke},setup(e,{emit:a}){const b=Ve(),P=Se(),h=M(),R=new Nt,g=new Ce(zt,new Lt),{entidad:f,listadosAuxiliares:u,disabled:t,accion:m}=g.useReferencias(),{setValidador:r,cargarVista:c,obtenerListados:C,consultar:l}=g.useComportamiento(),{onBeforeGuardar:F,onReestablecer:oe,onConsultado:W,onGuardado:ie}=g.useHooks();c(async()=>{await C({cargos:{controller:new Xe,params:{estado:1}}}),b.idFichaRetiro?l({id:b.idFichaRetiro}):se()});const{cargos:X,filtrarCargos:Z}=je(u),se=async()=>{const{response:_}=await R.listar({registro_empleado_examen_id:b.idRegistroEmpleadoExamen});f.motivo_consulta=_.data.modelo.motivo_consulta,f.cargo=_.data.modelo.cargo,f.fecha_inicio_labores=_.data.modelo.fecha_inicio_labores,f.fecha_salida=_.data.modelo.fecha_salida},y=async()=>{const _=Te.getInstance(),x=Ue.URL_BASE+"/"+_.getEndpoint(B.fichas_retiros_imprimir)+"/"+f.id,le="ficha_retiro_"+f.id+"_"+Date.now();xe(x,"GET","blob","pdf",le)},$=_=>f.constante_vital.hydrate(_),S=_=>f.aptitud_medica.hydrate(_),T=_=>h.value=_;F(()=>{var _;f.registro_empleado_examen=(_=b.idRegistroEmpleadoExamen)!=null?_:null,f.examenes_fisicos_regionales=h.value}),oe(()=>{a("cerrar-modal")}),W(()=>{m.value=te.consultar}),ie(_=>b.idFichaRetiro=_);const D=De({fecha_inicio_labores:{required:E},fecha_salida:{required:E},cargo:{required:E},constante_vital:{presion_arterial:{required:E},temperatura:{required:E},frecuencia_cardiaca:{required:E},saturacion_oxigeno:{required:E},frecuencia_respiratoria:{required:E},peso:{required:E},talla:{required:E},indice_masa_corporal:{required:E},perimetro_abdominal:{required:E}}},f);return r(D.value),{mixin:g,disabled:t,fichaRetiro:f,listadosAuxiliares:u,v$:D,maskFecha:Re,accionesTabla:Le,cargos:X,filtrarCargos:Z,mapearOptionsSelect:Ge,descargarPdf:y,hidratarConstanteVital:$,hidratarAptitudMedica:S,hidratarExamenFisicoRegional:T,mostrarDescargarPdf:P.esMedico,selectOptionsSiNo:Ma}}});const Gt={class:"row q-col-gutter-x-sm q-pa-md"},Qt={class:"col-12 col-md-3 col-sm-3"},Jt={class:"error-msg"},Yt={class:"col-12 col-md-3 q-mb-md"},Xt={class:"row items-center justify-end"},Kt={class:"col-12 col-md-3 q-mb-md"},Wt={class:"row items-center justify-end"},Zt={class:"row q-col-gutter-x-sm q-pa-md"},en={class:"col-12 q-mb-md"},an={class:"col-12 col-md-6 q-mb-md"},on={class:"q-gutter-sm"},sn={key:0,class:"col-12 col-md-6 q-mb-md"},ln={class:"col-12 col-md-6 q-mb-md"},tn={class:"row items-center justify-end"},nn={class:"col-12 col-md-6 q-mb-md"},rn={class:"col-12 col-md-6 q-mb-md"},dn={class:"q-gutter-sm"},cn={key:1,class:"col-12 col-md-6 q-mb-md"},un={class:"col-12 col-md-6 q-mb-md"},mn={class:"row items-center justify-end"},pn={class:"col-12 col-md-6 q-mb-md"},bn={class:"q-pa-md"},fn={class:"q-pa-md"},_n={class:"row q-pa-md"},vn={class:"col-12 col-md-3 q-mb-md"},gn={class:"q-gutter-sm"},hn={class:"col-12 col-md-9"},qn={class:"row q-gutter-x-xs"};function Vn(e,a,b,P,h,R){const g=L("contantes-vitales"),f=L("examen-fisico-regional-component"),u=L("simple-layout");return d(),J(u,{mixin:e.mixin},{formulario:n(()=>[i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Datos del usuario","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",Gt,[o("div",Qt,[a[21]||(a[21]=o("label",{class:"q-mb-sm block"},"Cargo",-1)),i(qe,{modelValue:e.fichaRetiro.cargo,"onUpdate:modelValue":a[0]||(a[0]=t=>e.fichaRetiro.cargo=t),options:e.cargos,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","use-input":"","input-debounce":"0",onFilter:e.filtrarCargos,onBlur:e.v$.cargo.$touch,error:!!e.v$.cargo.$errors.length,"error-message":"Debes seleccionar un cargo","option-value":t=>t.id,"option-label":t=>t.nombre,"emit-value":"","map-options":""},{error:n(()=>[(d(!0),v(ee,null,ae(e.v$.cargo.$errors,t=>(d(),v("div",{key:t.$uid},[o("div",Jt,re(t.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","onFilter","onBlur","error","option-value","option-label"])]),o("div",Yt,[a[22]||(a[22]=o("label",{class:"q-mb-sm block"},"Fecha de inicio de labores",-1)),i(V,{modelValue:e.fichaRetiro.fecha_inicio_labores,"onUpdate:modelValue":a[2]||(a[2]=t=>e.fichaRetiro.fecha_inicio_labores=t),placeholder:"Obligatorio",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:n(()=>[i(G,{name:"event",class:"cursor-pointer"},{default:n(()=>[i(ue,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[i(me,{modelValue:e.fichaRetiro.fecha_inicio_labores,"onUpdate:modelValue":a[1]||(a[1]=t=>e.fichaRetiro.fecha_inicio_labores=t),mask:e.maskFecha,"today-btn":""},{default:n(()=>[o("div",Xt,[ce(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[pe]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",Kt,[a[23]||(a[23]=o("label",{class:"q-mb-sm block"},"Fecha de salida",-1)),i(V,{modelValue:e.fichaRetiro.fecha_salida,"onUpdate:modelValue":a[4]||(a[4]=t=>e.fichaRetiro.fecha_salida=t),placeholder:"Obligatorio",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:n(()=>[i(G,{name:"event",class:"cursor-pointer"},{default:n(()=>[i(ue,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[i(me,{modelValue:e.fichaRetiro.fecha_salida,"onUpdate:modelValue":a[3]||(a[3]=t=>e.fichaRetiro.fecha_salida=t),mask:e.maskFecha,"today-btn":""},{default:n(()=>[o("div",Wt,[ce(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[pe]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Antecedentes personales","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",Zt,[a[33]||(a[33]=o("div",{class:"text-bold q-mb-md"}," ANTECEDENTES CL\xCDNICOS Y QUIR\xDARGICOS ",-1)),o("div",en,[a[24]||(a[24]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(V,{modelValue:e.fichaRetiro.antecedentes_clinicos_quirurgicos,"onUpdate:modelValue":a[5]||(a[5]=t=>e.fichaRetiro.antecedentes_clinicos_quirurgicos=t),placeholder:"Anotar la causa del problema en la versi\xF3n del informante",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),a[34]||(a[34]=o("div",{class:"col-12 text-bold q-mb-md"}," ACCIDENTES DE TRABAJO (DESCRIPCI\xD3N) ",-1)),o("div",an,[a[25]||(a[25]=o("label",{class:"q-mb-sm block"},"Fue calificado por el Instituto de Seguridad Social correspondiente",-1)),o("div",on,[i(K,{modelValue:e.fichaRetiro.accidente_trabajo.calificado_iss,"onUpdate:modelValue":a[6]||(a[6]=t=>e.fichaRetiro.accidente_trabajo.calificado_iss=t),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(K,{modelValue:e.fichaRetiro.accidente_trabajo.calificado_iss,"onUpdate:modelValue":a[7]||(a[7]=t=>e.fichaRetiro.accidente_trabajo.calificado_iss=t),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])]),e.fichaRetiro.accidente_trabajo.calificado_iss?(d(),v("div",sn,[a[26]||(a[26]=o("label",{class:"q-mb-sm block"},"Especificar",-1)),i(V,{modelValue:e.fichaRetiro.accidente_trabajo.instituto_seguridad_social,"onUpdate:modelValue":a[8]||(a[8]=t=>e.fichaRetiro.accidente_trabajo.instituto_seguridad_social=t),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):O("",!0),o("div",ln,[a[27]||(a[27]=o("label",{class:"q-mb-sm block"},"Fecha",-1)),i(V,{modelValue:e.fichaRetiro.accidente_trabajo.fecha,"onUpdate:modelValue":a[10]||(a[10]=t=>e.fichaRetiro.accidente_trabajo.fecha=t),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:n(()=>[i(G,{name:"event",class:"cursor-pointer"},{default:n(()=>[i(ue,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[i(me,{modelValue:e.fichaRetiro.accidente_trabajo.fecha,"onUpdate:modelValue":a[9]||(a[9]=t=>e.fichaRetiro.accidente_trabajo.fecha=t),mask:e.maskFecha,"today-btn":""},{default:n(()=>[o("div",tn,[ce(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[pe]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",nn,[a[28]||(a[28]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(V,{modelValue:e.fichaRetiro.accidente_trabajo.observacion,"onUpdate:modelValue":a[11]||(a[11]=t=>e.fichaRetiro.accidente_trabajo.observacion=t),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),a[35]||(a[35]=o("div",{class:"col-12 text-bold q-mb-md"}," ENFERMEDADES PROFESIONALES (DESCRIPCI\xD3N) ",-1)),o("div",rn,[a[29]||(a[29]=o("label",{class:"q-mb-sm block"},"Fue calificado por el Instituto de Seguridad Social correspondiente",-1)),o("div",dn,[i(K,{modelValue:e.fichaRetiro.enfermedad_profesional.calificado_iss,"onUpdate:modelValue":a[12]||(a[12]=t=>e.fichaRetiro.enfermedad_profesional.calificado_iss=t),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(K,{modelValue:e.fichaRetiro.enfermedad_profesional.calificado_iss,"onUpdate:modelValue":a[13]||(a[13]=t=>e.fichaRetiro.enfermedad_profesional.calificado_iss=t),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])]),e.fichaRetiro.enfermedad_profesional.calificado_iss?(d(),v("div",cn,[a[30]||(a[30]=o("label",{class:"q-mb-sm block"},"Especificar",-1)),i(V,{modelValue:e.fichaRetiro.enfermedad_profesional.instituto_seguridad_social,"onUpdate:modelValue":a[14]||(a[14]=t=>e.fichaRetiro.enfermedad_profesional.instituto_seguridad_social=t),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):O("",!0),o("div",un,[a[31]||(a[31]=o("label",{class:"q-mb-sm block"},"Fecha",-1)),i(V,{modelValue:e.fichaRetiro.enfermedad_profesional.fecha,"onUpdate:modelValue":a[16]||(a[16]=t=>e.fichaRetiro.enfermedad_profesional.fecha=t),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:n(()=>[i(G,{name:"event",class:"cursor-pointer"},{default:n(()=>[i(ue,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[i(me,{modelValue:e.fichaRetiro.enfermedad_profesional.fecha,"onUpdate:modelValue":a[15]||(a[15]=t=>e.fichaRetiro.enfermedad_profesional.fecha=t),mask:e.maskFecha,"today-btn":""},{default:n(()=>[o("div",mn,[ce(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[pe]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",pn,[a[32]||(a[32]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(V,{modelValue:e.fichaRetiro.enfermedad_profesional.observacion,"onUpdate:modelValue":a[17]||(a[17]=t=>e.fichaRetiro.enfermedad_profesional.observacion=t),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Constantes vitales y antropometr\xEDa","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",bn,[i(g,{"constante-vital":e.fichaRetiro.constante_vital,disable:e.disabled,"onUpdate:modelValue":e.hidratarConstanteVital,validador:e.v$},null,8,["constante-vital","disable","onUpdate:modelValue","validador"])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Examen f\xEDsico regional","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",fn,[i(f,{datos:e.fichaRetiro.examenes_fisicos_regionales,disable:e.disabled,"onUpdate:modelValue":e.hidratarExamenFisicoRegional},null,8,["datos","disable","onUpdate:modelValue"])])]),_:1}),i(I,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Evaluaci\xF3n m\xE9dica de retiro","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:n(()=>[o("div",_n,[o("div",vn,[a[36]||(a[36]=o("label",{class:"q-mb-sm block"},"Se realiz\xF3 la evaluaci\xF3n:",-1)),o("div",gn,[(d(!0),v(ee,null,ae(e.selectOptionsSiNo,t=>(d(),J(K,{key:t.label,modelValue:e.fichaRetiro.se_realizo_evaluacion_medica_retiro,"onUpdate:modelValue":a[18]||(a[18]=m=>e.fichaRetiro.se_realizo_evaluacion_medica_retiro=m),val:t.value,label:`${t.label}`,disable:e.disabled},null,8,["modelValue","val","label","disable"]))),128))])]),o("div",hn,[a[37]||(a[37]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(V,{modelValue:e.fichaRetiro.observacion_evaluacion_medica_retiro,"onUpdate:modelValue":a[19]||(a[19]=t=>e.fichaRetiro.observacion_evaluacion_medica_retiro=t),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1})]),"custom-buttons":n(()=>[o("div",qn,[e.fichaRetiro.id&&e.mostrarDescargarPdf?(d(),J(N,{key:0,class:"bg-white text-pink-10","no-caps":"",push:"",onClick:a[20]||(a[20]=t=>e.descargarPdf())},{default:n(()=>[i(G,{name:"bi-file-earmark-pdf",size:"xs",class:"q-mr-sm"}),a[38]||(a[38]=H(" Descargar PDF"))]),_:1})):O("",!0)])]),_:1},8,["mixin"])}var Cn=Ee(Ht,[["render",Vn]]);const yn={class:"row bg-desenfoque rounded q-pa-md"},En={class:"col-12"},$n={class:"col-12 q-mb-md"},Fn=be({__name:"SubirResultadosExamenesPage",emits:["cerrar-modal"],setup(e,{emit:a}){const b=a,P=Ve(),h=M(),R=P.empleado||new Ka,g=new Ce(ma,new pa,new Qe),{entidad:f,accion:u}=g.useReferencias();async function t(){await h.value.subir(),b("cerrar-modal")}return Ba(()=>h.value.listarArchivosAlmacenados(f.id)),f.hydrate(P.solicitudExamen),u.value=P.accion,(m,r)=>{var c;return d(),v("div",yn,[o("div",En,[i(ka,{mixin:ze(g),empleado:ze(R)},null,8,["mixin","empleado"])]),o("div",$n,[i(Ye,{ref_key:"refArchivo",ref:h,label:"Adjuntar archivos",mixin:ze(g),listarAlGuardar:!1,idModelo:(c=ze(f).id)!=null?c:void 0},{"boton-subir":n(()=>[i(N,{color:"positive",push:"","no-caps":"",class:"full-width q-mb-lg",onClick:r[0]||(r[0]=C=>t())},{default:n(()=>[i(G,{name:"bi-upload",class:"q-mr-sm",size:"xs"}),r[1]||(r[1]=H(" Subir archivos seleccionados"))]),_:1})]),_:1},8,["mixin","idModelo"])])])}}});class wn{constructor(){s(this,"ResultadosExamenPage");s(this,"SolicitudExamenSolicitarPage");s(this,"DiagnosticoRecetaPage");s(this,"EsquemaVacunacionPage");s(this,"FichaAptitudPage");s(this,"FichaPreocupacionalPage");s(this,"FichaRetiroPage");s(this,"SubirResultadosExamenesPage");s(this,"FichaPeriodicaPage");s(this,"FichaReintegroPage");this.ResultadosExamenPage=ge(new ve("Resultados de examen",to)),this.SolicitudExamenSolicitarPage=ge(new ve("Realizar solicitud de examenes m\xE9dicos",co)),this.DiagnosticoRecetaPage=ge(new ve("Diagn\xF3stico receta",La)),this.EsquemaVacunacionPage=ge(new ve("Esquema de vacunaci\xF3n",jo)),this.FichaAptitudPage=ge(new ve("Ficha de Aptitud",Ko)),this.FichaPreocupacionalPage=ge(new ve("Ficha preocupacional",_l)),this.FichaPeriodicaPage=ge(new ve("Ficha peri\xF3dica",Vt)),this.FichaReintegroPage=ge(new ve("Ficha reintegro",Bt)),this.FichaRetiroPage=ge(new ve("Ficha de retiro",Cn)),this.SubirResultadosExamenesPage=ge(new ve("Subir resultados de examenes",Fn))}}class ir extends Da{constructor(){super(new wn)}}export{ir as C,po as E,Oo as F};
