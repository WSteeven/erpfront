var R=Object.defineProperty;var A=(e,o,n)=>o in e?R(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n;var d=(e,o,n)=>(A(e,typeof o!="symbol"?o+"":o,n),n);import{a0 as E,a1 as I,bG as S,c as U,g as b,f as N,U as O,a4 as j,p as D,e as L,s as z,cI as F,v as G,y as t,S as q,H as i,B as r,z as l,D as a,a9 as k,a6 as M,L as V,a7 as T,J as m,I as c,K as v,F as B,k as H,R as C,G as J,M as p}from"./index.976e8f3c.js";import{Q as K,a as W,C as X}from"./QPopupProxy.d8ef7a42.js";import{Q as Y,a as Z}from"./QItemSection.c6f2640c.js";import{Q as x}from"./QSelect.a8f2bfb2.js";import{Q as ee}from"./QPage.ed5d79ca.js";import{S as oe,i as se,n as re}from"./utils.30e08aa2.js";import{u as ne}from"./configuracion_general.ef04b031.js";import{E as te}from"./entidadAuditable.75a46700.js";import{u as ie}from"./index.ed676411.js";import{r as f}from"./i18n-validators.06eef631.js";import{e as le}from"./index.95f5a0db.js";import"./format.8ac60962.js";import"./QMenu.410ae527.js";import"./position-engine.2f1d750c.js";import"./QChip.334d746c.js";import"./ConfiguracionController.65de3fc5.js";class ae{constructor(){d(this,"store",E());d(this,"Router",I())}async registro(o){try{const n=await this.store.registro(o);return this.Router.replace({name:"puestos_disponibles"}),n}catch(n){if(n instanceof S)switch(n.status){case 412:this.Router.replace({name:"ResetearContrasena"});break}throw n}}}class ue extends te{constructor(){super();d(this,"nombres");d(this,"apellidos");d(this,"tipo_documento_identificacion");d(this,"numero_documento_identificacion");d(this,"telefono");d(this,"email");d(this,"password");d(this,"fecha_nacimiento");this.nombres=null,this.apellidos=null,this.tipo_documento_identificacion=null,this.numero_documento_identificacion=null,this.telefono=null,this.email=null,this.password=null,this.fecha_nacimiento=null}}var de=U({name:"LoginPostulante",setup(){var y;const e=ne();(y=e.configuracion)!=null&&y.nombre_empresa||e.consultarConfiguracion();const o=b(()=>{var u;return(u=e.configuracion)==null?void 0:u.nombre_empresa}),n=N(new ue),h=new ae,$=O(),g=new oe;j(()=>{var u;return document.title=(u=o.value)!=null?u:""});const s=D(),w=ie({nombres:{required:f},apellidos:{required:f},numero_documento_identificacion:{required:f},telefono:{required:f},email:{required:f,email:le},password:{required:f},tipo_documento_identificacion:{required:f},fecha_nacimiento:{required:f}},n),_=async()=>{if(!s.loading.isActive)try{g.activar(),await w.value.$validate()&&(await h.registro(n),g.desactivar(),$.notificarCorrecto("Bienvenido a "+o.value))}catch(u){if(se(u)){const Q=u.erroresValidacion;await re(Q,$)}}finally{g.desactivar()}},P=b(()=>n.nombres==null||n.nombres==""||n.password==null||n.password=="");return{v$:w,isPwd:L(!0),postulante:n,maskFecha:z,logoClaro:b(()=>{var u;return(u=e.configuracion)==null?void 0:u.logo_claro}),logoOscuro:b(()=>{var u;return(u=e.configuracion)==null?void 0:u.logo_oscuro}),enableLoginButton:P,registro:_,tiposDocumentosIdentificaciones:F}}});const me={class:"row items-center"},ce={class:"imagen d-flex align-items-center justify-content-center"},pe=["src"],fe={class:"col-12 col-md-4 column items-center bg-body-table justify-center window-height"},ve=["src"],ge={class:"col-12 q-mb-sm"},be={class:"error-msg"},$e={class:"col-12 q-mb-sm"},he={class:"error-msg"},we={class:"col-12 q-mb-sm"},ye={class:"row items-center justify-end"},qe={class:"error-msg"},ke={class:"col-12 q-mb-sm"},Ve={class:"error-msg"},Be={class:"col-12 q-mb-sm"},Ce={class:"error-msg"},_e={class:"col-12 q-mb-sm"},Pe={class:"error-msg"},Qe={class:"col-12 q-mb-sm"},Re={class:"error-msg"},Ae={class:"col-12 q-mb-sm"},Ee={class:"error-msg"},Ie={class:"col-12"};function Se(e,o,n,h,$,g){return t(),q(ee,null,{default:i(()=>[r("div",me,[!e.$q.screen.xs&&!e.$q.screen.sm?(t(),l("div",{key:0,class:M(["col-12 col-md-8 justify-center q-pa-lg items-center row window-height",{"bg-grey-2":!e.$q.dark.isActive}])},[r("div",ce,[a(k,{square:"",size:"400px"},{default:i(()=>[r("img",{src:e.$q.dark.isActive?e.logoOscuro:e.logoClaro,alt:"logo"},null,8,pe)]),_:1})])],2)):V("",!0),r("div",fe,[e.$q.screen.xs?(t(),q(k,{key:0,square:"",size:"120px",class:"q-mx-auto block q-mb-md"},{default:i(()=>[r("img",{src:e.$q.dark.isActive?e.logoOscuro:e.logoClaro,alt:"logo"},null,8,ve)]),_:1})):V("",!0),r("form",{onSubmit:o[11]||(o[11]=T(()=>{},["prevent"])),class:"full-width q-px-lg"},[o[21]||(o[21]=r("div",{class:"q-mb-sm"},[r("h2",{class:"text-bold"},"Registro de Postulante")],-1)),o[22]||(o[22]=r("div",{class:"q-mb-sm"},[r("p",null," Que bueno volverte a ver otra vez. An\xEDmate a ser parte de nuestro equipo ")],-1)),r("div",ge,[o[12]||(o[12]=r("label",{class:"q-mb-sm block"},"Nombres",-1)),a(v,{modelValue:e.postulante.nombres,"onUpdate:modelValue":o[0]||(o[0]=s=>e.postulante.nombres=s),placeholder:"Obligatorio",error:!!e.v$.nombres.$errors.length,onBlur:e.v$.nombres.$touch,outlined:"",dense:""},{error:i(()=>[(t(!0),l(c,null,m(e.v$.nombres.$errors,s=>(t(),l("div",{key:s.$uid},[r("div",be,p(s.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])]),r("div",$e,[o[13]||(o[13]=r("label",{class:"q-mb-sm block"},"Apellidos",-1)),a(v,{modelValue:e.postulante.apellidos,"onUpdate:modelValue":o[1]||(o[1]=s=>e.postulante.apellidos=s),placeholder:"Obligatorio",error:!!e.v$.apellidos.$errors.length,onBlur:e.v$.apellidos.$touch,outlined:"",dense:""},{error:i(()=>[(t(!0),l(c,null,m(e.v$.apellidos.$errors,s=>(t(),l("div",{key:s.$uid},[r("div",he,p(s.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])]),r("div",we,[o[14]||(o[14]=r("label",{class:"q-mb-sm block"},"Fecha de nacimiento",-1)),a(v,{modelValue:e.postulante.fecha_nacimiento,"onUpdate:modelValue":o[3]||(o[3]=s=>e.postulante.fecha_nacimiento=s),placeholder:"Obligatorio",error:!!e.v$.fecha_nacimiento.$errors.length,onBlur:e.v$.fecha_nacimiento.$touch,readonly:"",outlined:"",dense:""},{append:i(()=>[a(B,{name:"event",class:"cursor-pointer"},{default:i(()=>[a(K,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[a(W,{modelValue:e.postulante.fecha_nacimiento,"onUpdate:modelValue":o[2]||(o[2]=s=>e.postulante.fecha_nacimiento=s),mask:e.maskFecha,"today-btn":""},{default:i(()=>[r("div",ye,[H(a(C,{label:"Cerrar",color:"primary",flat:""},null,512),[[X]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:i(()=>[(t(!0),l(c,null,m(e.v$.fecha_nacimiento.$errors,s=>(t(),l("div",{style:{clear:"inherit"},key:s.$uid},[r("div",qe,p(s.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])]),r("div",ke,[o[16]||(o[16]=r("label",{class:"q-mb-sm block"},"Tipo de Identificacion",-1)),a(x,{modelValue:e.postulante.tipo_documento_identificacion,"onUpdate:modelValue":o[4]||(o[4]=s=>e.postulante.tipo_documento_identificacion=s),options:e.tiposDocumentosIdentificaciones,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",error:!!e.v$.tipo_documento_identificacion.$errors.length,onBlur:e.v$.tipo_documento_identificacion.$touch,"option-value":s=>s.value,"option-label":s=>s.nombre,"emit-value":"","map-options":""},{error:i(()=>[(t(!0),l(c,null,m(e.v$.tipo_documento_identificacion.$errors,s=>(t(),l("div",{key:s.$uid},[r("div",Ve,p(s.$message),1)]))),128))]),"no-option":i(()=>[a(Y,null,{default:i(()=>[a(Z,{class:"text-grey"},{default:i(()=>o[15]||(o[15]=[J(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","onBlur","option-value","option-label"])]),r("div",Be,[o[17]||(o[17]=r("label",{class:"q-mb-sm block"},"N\xFAmero de Identificaci\xF3n",-1)),a(v,{modelValue:e.postulante.numero_documento_identificacion,"onUpdate:modelValue":o[5]||(o[5]=s=>e.postulante.numero_documento_identificacion=s),placeholder:"Obligatorio",error:!!e.v$.numero_documento_identificacion.$errors.length,onBlur:e.v$.numero_documento_identificacion.$touch,outlined:"",dense:""},{error:i(()=>[(t(!0),l(c,null,m(e.v$.numero_documento_identificacion.$errors,s=>(t(),l("div",{key:s.$uid},[r("div",Ce,p(s.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])]),r("div",_e,[o[18]||(o[18]=r("label",{class:"q-mb-sm block"},"Telefono",-1)),a(v,{modelValue:e.postulante.telefono,"onUpdate:modelValue":o[6]||(o[6]=s=>e.postulante.telefono=s),type:"tel",placeholder:"Obligatorio",error:!!e.v$.telefono.$errors.length,onBlur:e.v$.telefono.$touch,outlined:"",dense:""},{error:i(()=>[(t(!0),l(c,null,m(e.v$.telefono.$errors,s=>(t(),l("div",{key:s.$uid},[r("div",Pe,p(s.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])]),r("div",Qe,[o[19]||(o[19]=r("label",{class:"q-mb-sm block"},"Email",-1)),a(v,{modelValue:e.postulante.email,"onUpdate:modelValue":o[7]||(o[7]=s=>e.postulante.email=s),type:"email",placeholder:"Obligatorio",error:!!e.v$.email.$errors.length,onBlur:e.v$.email.$touch,outlined:"",dense:""},{error:i(()=>[(t(!0),l(c,null,m(e.v$.email.$errors,s=>(t(),l("div",{key:s.$uid},[r("div",Re,p(s.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])]),r("div",Ae,[o[20]||(o[20]=r("label",{class:"q-mb-sm block"},"Contrase\xF1a",-1)),a(v,{modelValue:e.postulante.password,"onUpdate:modelValue":o[9]||(o[9]=s=>e.postulante.password=s),outlined:"",dense:"",onBlur:e.v$.password.$touch,error:!!e.v$.password.$errors.length,type:e.isPwd?"password":"text",hint:"No comparta su contrase\xF1a con nadie"},{append:i(()=>[a(B,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:o[8]||(o[8]=s=>e.isPwd=!e.isPwd)},null,8,["name"])]),error:i(()=>[(t(!0),l(c,null,m(e.v$.password.$errors,s=>(t(),l("div",{key:s.$uid},[r("div",Ee,p(s.$message),1)]))),128))]),_:1},8,["modelValue","onBlur","error","type"])]),r("div",Ie,[a(C,{color:"primary",label:"Registrarse",class:"full-width q-mb-sm","no-caps":"",unelevated:"",disable:e.enableLoginButton,onClick:o[10]||(o[10]=s=>e.registro())},null,8,["disable"])])],32)])])]),_:1})}var xe=G(de,[["render",Se]]);export{xe as default};
