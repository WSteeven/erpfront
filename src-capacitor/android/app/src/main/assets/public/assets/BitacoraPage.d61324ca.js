var ha=Object.defineProperty;var $a=(e,a,l)=>a in e?ha(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l;var p=(e,a,l)=>($a(e,typeof a!="symbol"?a+"":a,l),l);import{f as ve,ad as Va,bB as qa,bC as _a,l as ka,c as re,e as L,g as de,y as d,z as m,B as i,M as E,D as o,H as u,I as R,J as T,R as w,F as C,K as A,bz as Fe,t as be,Y as z,X as Ca,a5 as oe,i as Aa,bA as j,v as Pe,x as q,S as K,G as S,L as B,N as ce,k as Ba,b3 as Sa,bi as wa,u as Ea,be as Fa,p as ke,U as Pa,n as Oa,w as Ce,q as La,A as Ra,a7 as Ta,Q as le,aa as Ae}from"./index.976e8f3c.js";import{Q as Oe,a as Le}from"./QItemSection.c6f2640c.js";import{a as ne}from"./QToolbar.cff7174f.js";import{Q as ue}from"./QSelect.a8f2bfb2.js";import{Q as Ia}from"./QForm.ed6f6690.js";import{c as Re}from"./configuracionColumnasEmpleadosLite.5961fbe8.js";import{u as za}from"./filtrosListadosGenerales.31e9eb2c.js";import{w as X,J as Ma,s as Ua}from"./utils.30e08aa2.js";import{r as Z,a as ae}from"./i18n-validators.06eef631.js";import{u as Te}from"./index.ed676411.js";import{i as me}from"./iconos.5bc406be.js";import{a as Be}from"./index.95f5a0db.js";import{T as ja}from"./TabLayoutFilterTabs2.f1a01a4e.js";import{T as Na}from"./TabLayoutFilterTabs.a267f3c1.js";import{M as Da}from"./MultiplePageLayout.b8f0c13d.js";import{E as Ie}from"./EssentialSelectableTable.001f5242.js";import{T as Qa}from"./TabLayout.d6dcc414.js";import{R as J,S as Ga,E as Ha}from"./EssentialTable.d8e6954a.js";import{M as Ka}from"./ModalEntidad.84100166.js";import{S as Za}from"./SolicitarArchivo.0e8db1e3.js";import{C as Ja}from"./CalloutComponent.aad0ab14.js";import{C as Se}from"./ContenedorSimpleMixin.5a0b06ab.js";import{u as ie}from"./useOrquestadorSelectorEmpleados.8099bd32.js";import{C as Xa,a as Ya}from"./ComponenteModal.domain.22ea4557.js";import{S as Wa}from"./SimpleLayout.0978ce6a.js";import{G as xa}from"./GestorArchivos.f1319a4d.js";import{E as ze}from"./entidadAuditable.75a46700.js";import{Z as we}from"./ZonaController.fdd7c7d0.js";import{B as eo,a as ao}from"./Bitacora.e93a1ffa.js";import"./position-engine.2f1d750c.js";import"./QChip.334d746c.js";import"./QMenu.410ae527.js";import"./format.8ac60962.js";import"./QTabs.3c726b04.js";import"./QResizeObserver.6ec10d95.js";import"./QTabPanels.1c8c4baa.js";import"./touch.9135741d.js";import"./QPopupProxy.d8ef7a42.js";import"./QPage.ed5d79ca.js";import"./EssentialTableTabs.c7e98bba.js";import"./QBadge.1ddeabfd.js";import"./EssentialTablePagination.f449a738.js";import"./QTable.048b8be8.js";import"./use-fullscreen.0ccd26e6.js";import"./QBtnGroup.7d0835e4.js";import"./buttonSubmits.2eb37d38.js";import"./QFile.e27868da.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e0fb285c.js";import"./VisorImagen.e7965569.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.b482e77d.js";import"./configuracion_general.ef04b031.js";import"./ConfiguracionController.65de3fc5.js";import"./selector.b9804ebb.js";import"./SelectorController.62baf71e.js";import"./QUploader.43bbdad9.js";import"./QCircularProgress.4d1a2735.js";import"./configuracionColumnasArchivoSubtarea.215f4ffd.js";const Ee=ve([{name:"fecha_hora_inicio",field:"fecha_hora_inicio",label:"Fecha y hora de inicio",align:"left",disableModal:!0},{name:"fecha_hora_fin",field:"fecha_hora_fin",label:"Fecha y hora de fin",align:"left",sortable:!0,visibleModal:!1},{name:"tipo_evento_bitacora",field:"tipo_evento_bitacora",label:"Tipo de evento",align:"left",type:"select",requerido:!0},{name:"medio_notificacion",field:"medio_notificacion",label:"Medio por el cual se notific\xF3",align:"left"},{name:"actividad",field:"actividad",label:"Actividad",align:"left",type:"voice",columnClass:"col-12 col-md-6",requerido:!0},{name:"fotografia_evidencia_1",field:"fotografia_evidencia_1",label:"Fotograf\xEDa de evidencia 1 (Opcional)",align:"left",type:"imagen",editable:!0,visible:!1},{name:"fotografia_evidencia_2",field:"fotografia_evidencia_2",label:"Fotograf\xEDa de evidencia 2 (Opcional)",align:"left",type:"imagen",editable:!0,visible:!1}]),oo=[{name:"zona",field:"zona",label:"Zona",align:"left",type:"text",operador:"like",sortable:!0},{name:"jornada",field:"jornada",label:"Jornada",align:"left",type:"text",operador:"like",sortable:!0},{name:"fecha_hora_inicio_turno",field:"fecha_hora_inicio_turno",label:"Fecha y hora de inicio de turno",align:"left",type:"date",operador:"=",sortable:!0},{name:"fecha_hora_fin_turno",field:"fecha_hora_fin_turno",label:"Fecha y hora de fin de turno",align:"left",type:"date",operador:"=",sortable:!0},{name:"agente_turno",field:"agente_turno",label:"Agente de turno",align:"left",operador:"like",sortable:!0},{name:"protector",field:"protector",label:"Protector",align:"left",operador:"like",sortable:!0},{name:"conductor",field:"conductor",label:"Conductor",align:"left",operador:"like",sortable:!0},{name:"observaciones",field:"observaciones",label:"Observaciones",align:"left",type:"text",operador:"like",sortable:!0},{name:"revisado_por_supervisor",field:"revisado_por_supervisor",label:"Revisado por supervisor",align:"left",type:"select",operador:"=",filtrar:!0,sortable:!0,options:[{label:"Revisado",value:1},{label:"No revisado",value:0}],formato:e=>e?"Revisado":"No revisado",filtro:(e,a)=>{var l;a((l=e==null?void 0:e.value)!=null?l:null)}}],io=["DIURNA","NOCTURNA"],ro='<g transform="translate(20 50)"><rect x="-10" y="-30" width="20" height="60" fill="currentColor" opacity="0.6"><animateTransform attributeName="transform" type="scale" from="2" to="1" begin="0s" repeatCount="indefinite" dur="1s" calcMode="spline" keySplines="0.1 0.9 0.4 1" keyTimes="0;1" values="2;1"></animateTransform></rect></g><g transform="translate(50 50)"><rect x="-10" y="-30" width="20" height="60" fill="currentColor" opacity="0.8"><animateTransform attributeName="transform" type="scale" from="2" to="1" begin="0.1s" repeatCount="indefinite" dur="1s" calcMode="spline" keySplines="0.1 0.9 0.4 1" keyTimes="0;1" values="2;1"></animateTransform></rect></g><g transform="translate(80 50)"><rect x="-10" y="-30" width="20" height="60" fill="currentColor" opacity="0.9"><animateTransform attributeName="transform" type="scale" from="2" to="1" begin="0.2s" repeatCount="indefinite" dur="1s" calcMode="spline" keySplines="0.1 0.9 0.4 1" keyTimes="0;1" values="2;1"></animateTransform></rect></g>';var to=Va({name:"QSpinnerFacebook",props:qa,setup(e){const{cSize:a,classes:l}=_a(e);return()=>ka("svg",{class:l.value,width:a.value,height:a.value,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",innerHTML:ro})}});const so={class:"row"},lo={class:"col-12"},no={class:"col-12"},co={class:"q-mb-sm block"},uo=re({__name:"FechaHoraAutomaticaInput",props:{modelValue:{type:String,default:""},disable:{type:Boolean,default:!1},validador:{type:Object,required:!0},clave:{type:String,required:!0},label:{type:String,default:"Fecha y hora"}},emits:["update:modelValue"],setup(e,{emit:a}){const l=a,h=e,n=L(!1),_=de({get:()=>h.modelValue,set:v=>{l("update:modelValue",v)}});async function f(){n.value=!0,_.value=(await X()).fecha_hora,n.value=!1}return(v,k)=>{var c,b;return d(),m("div",so,[i("div",lo,[i("div",no,[i("label",co,E(e.label),1),o(A,{modelValue:_.value,"onUpdate:modelValue":k[1]||(k[1]=s=>_.value=s),outlined:"",readonly:"",dense:"",hint:"Presione el bot\xF3n para obtener la fecha y hora actual",error:!!((c=e.validador[e.clave])!=null&&c.$errors.length),onBlur:(b=e.validador.coordenadas)==null?void 0:b.$touch},{error:u(()=>{var s;return[(d(!0),m(R,null,T((s=e.validador[e.clave])==null?void 0:s.$errors,F=>(d(),m("div",{key:F.$uid},[i("div",null,E(F.$message),1)]))),128))]}),append:u(()=>[o(w,{color:"primary","no-wrap":"",onClick:k[0]||(k[0]=s=>f()),disable:e.disable,dense:"",push:"",loading:n.value},{loading:u(()=>[o(to)]),default:u(()=>[o(C,{name:"bi-clock",size:"xs"})]),_:1},8,["disable","loading"])]),_:1},8,["modelValue","error","onBlur"])])])])}}});var mo=uo;class vo extends Fe{constructor(){super(be.actividades_bitacoras)}}const bo={class:"row q-col-gutter-sm q-py-md q-mb-md"},po={class:"col-12 col-md-3"},fo={class:"col-12 col-md-3"},go={class:"col-12 col-md-3"},yo={class:"col-12 col-md-3"},ho={class:"col-12 col-md-3"},$o={class:"error-msg"},Vo={class:"col-12 col-md-3"},qo={class:"col-12 col-md-3"},_o={class:"col-12"},ko=re({__name:"FormularioVisitante",props:{visitante:{type:Object,required:!0},v$:{type:Object,required:!0},disable:{type:Boolean,default:!1}},setup(e){const a=e,{refListadoSeleccionable:l,criterioBusqueda:h,listado:n,listar:_,seleccionar:f}=ie(a.visitante,"empleados","persona_visitada"),v=ve(a.visitante);return h.value=v.persona_visitada,(k,c)=>(d(),m("div",bo,[i("div",po,[o(J,{modelValue:v.nombre_completo,"onUpdate:modelValue":c[0]||(c[0]=b=>v.nombre_completo=b),v$:e.v$,"key-error":"visitante.nombre_completo",label:"Nombre completo (Apellidos y nombres)",placeholder:"OBLIGATORIO",disable:e.disable},null,8,["modelValue","v$","disable"])]),i("div",fo,[c[7]||(c[7]=i("label",{class:"q-mb-sm block"},"Identificaci\xF3n",-1)),o(A,{modelValue:v.identificacion,"onUpdate:modelValue":c[1]||(c[1]=b=>v.identificacion=b),placeholder:"Obligatorio",disable:e.disable,error:!!e.v$.visitante.identificacion.$errors.length,onBlur:e.v$.visitante.identificacion.$touch,outlined:"",dense:""},null,8,["modelValue","disable","error","onBlur"])]),i("div",go,[c[8]||(c[8]=i("label",{class:"q-mb-sm block"},"Celular",-1)),o(A,{modelValue:v.celular,"onUpdate:modelValue":c[2]||(c[2]=b=>v.celular=b),placeholder:"Opcional",disable:e.disable,mask:"0## ### ####",outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",yo,[o(J,{modelValue:v.motivo_visita,"onUpdate:modelValue":c[3]||(c[3]=b=>v.motivo_visita=b),v$:e.v$,"key-error":"visitante.motivo_visita",label:"Motivo de visita",placeholder:"OBLIGATORIO",disable:e.disable},null,8,["modelValue","v$","disable"])]),i("div",ho,[c[9]||(c[9]=i("label",{class:"q-mb-sm block"},"Persona visitada",-1)),o(A,{modelValue:z(h),"onUpdate:modelValue":c[4]||(c[4]=b=>Ca(h)?h.value=b:null),placeholder:"Escriba y presione enter para buscar",hint:"Puede buscar por nombre, apellido o identificaci\xF3n",disable:e.disable,onKeydown:oe(z(_),["enter"]),error:!!e.v$.visitante.persona_visitada.$errors.length,onBlur:e.v$.visitante.persona_visitada.$touch,outlined:"",dense:""},{append:u(()=>[o(C,{name:e.visitante.persona_visitada?"bi-check-circle-fill":"bi-check-circle",color:v.persona_visitada?"positive":"grey-6",size:"xs"},null,8,["name","color"])]),after:u(()=>[o(w,{color:"positive",icon:z(me).buscar,onClick:z(_),unelevated:"",dense:""},null,8,["icon","onClick"])]),error:u(()=>[(d(!0),m(R,null,T(e.v$.visitante.persona_visitada.$errors,b=>(d(),m("div",{key:b.$uid},[i("div",$o,E(b.$message),1)]))),128))]),_:1},8,["modelValue","disable","onKeydown","error","onBlur"])]),i("div",Vo,[c[10]||(c[10]=i("label",{class:"q-mb-sm block"},"Placa de veh\xEDculo",-1)),o(A,{modelValue:v.placa_vehiculo,"onUpdate:modelValue":c[5]||(c[5]=b=>v.placa_vehiculo=b),placeholder:"Opcional",disable:e.disable,mask:"XXX-##X#",outlined:"",dense:""},null,8,["modelValue","disable"])]),i("div",qo,[o(J,{modelValue:v.observaciones,"onUpdate:modelValue":c[6]||(c[6]=b=>v.observaciones=b),v$:e.v$,"key-error":"observaciones",label:"Observaciones",placeholder:"OPCIONAL",disable:e.disable},null,8,["modelValue","v$","disable"])]),i("div",_o,[o(Ie,{ref_key:"refListadoSeleccionable",ref:l,"configuracion-columnas":z(Re),datos:z(n),onSelected:z(f),"tipo-seleccion":"single"},null,8,["configuracion-columnas","datos","onSelected"])])]))}});class Co extends Fe{constructor(){super(be.tipos_eventos_bitacoras)}}var Ao=re({components:{SimpleLayout:Wa,VoiceInput:J,SelectorImagen:Ga,GestorArchivos:xa,FormularioVisitante:ko},props:{datos:Object},emits:["cerrar-modal"],setup(e,{emit:a}){var x;const{entidad:l,disabled:h,listadosAuxiliares:n,accion:_,listadoArchivos:f}=e.datos.mixin.useReferencias(),{setValidador:v,cargarVista:k,obtenerListados:c,consultar:b}=e.datos.mixin.useComportamiento(),{onGuardado:s,onModificado:F,onConsultado:N,onReestablecer:M,onBeforeGuardar:P}=e.datos.mixin.useHooks();k(async()=>{await c({tiposEventos:{controller:new Co,params:{activo:1}}})});const $=L(),r=L(),y={tipo_evento_bitacora:{required:Z},actividad:{required:Z},visitante:{nombre_completo:{requiredIf:ae(()=>l.mostrar_seccion_visitante)},identificacion:{requiredIf:ae(()=>l.mostrar_seccion_visitante)},motivo_visita:{requiredIf:ae(()=>l.mostrar_seccion_visitante)},persona_visitada:{requiredIf:ae(()=>l.mostrar_seccion_visitante)}}},I=Te(y,l);v(I.value);const Y=async()=>await $.value.subir(),W=()=>{l.notificacion_inmediata=n.tiposEventos.find(g=>g.id===l.tipo_evento_bitacora).notificacion_inmediata};return s(g=>{r.value=g,setTimeout(async()=>{await Y(),a("cerrar-modal")})}),F(g=>{r.value=g,setTimeout(()=>Y(),1)}),N(async()=>{setTimeout(async()=>{var g;await $.value.listarArchivosAlmacenados(l.id),l.mostrar_seccion_archivos_adjuntos=!!f.value.length,l.mostrar_seccion_visitante=!!((g=l.visitante)!=null&&g.id),$.value.quiero_subir_archivos=!1},1)}),M(()=>{var g,O;$.value&&$.value.limpiarListado(),X().then(U=>l.fecha_hora_inicio=U.fecha_hora),l.bitacora=(O=(g=e.datos)==null?void 0:g.bitacora_id)!=null?O:null,$.value.quiero_subir_archivos=!0}),P(()=>{l.visitante=l.mostrar_seccion_visitante?l.visitante:null}),Aa(()=>{var g,O;$.value&&$.value.limpiarListado(),_.value===j.consultar?b(l):(X().then(U=>l.fecha_hora_inicio=U.fecha_hora),l.bitacora=(O=(g=e.datos)==null?void 0:g.bitacora_id)!=null?O:null)}),{v$:I,mixin:(x=e.datos)==null?void 0:x.mixin,actividad:l,disabled:h,listadosAuxiliares:n,refArchivo:$,accion:_,acciones:j,idEntidad:r,validarNotificacionInmediata:W,listadoArchivos:f}}});const Bo={class:"row q-col-gutter-sm q-mb-lg"},So={class:"col-12 text-pdrimary text-bold q-py-sm q-my-sm"},wo={class:"col-12 col-md-3"},Eo={key:0,class:"col-12 col-md-3"},Fo={class:"col-12 col-md-6"},Po={class:"error-msg"},Oo={key:1,class:"col-12 col-md-3"},Lo={class:"col-12 col-md-6"},Ro={class:"col-12 col-md-3"},To={class:"col-12 col-md-3"},Io={class:"row q-col-gutter-sm"},zo={class:"col-12 text-pdrimary text-bold q-py-sm q-mt-sm"},Mo={class:"col-12 q-mb-md"},Uo={class:"row q-col-gutter-sm"},jo={class:"col-12 text-pdrimary text-bold q-py-sm q-mt-sm"},No={key:0,class:"col-12 q-mb-md"};function Do(e,a,l,h,n,_){const f=q("voice-input"),v=q("selector-imagen"),k=q("gestor-archivos"),c=q("formulario-visitante"),b=q("simple-layout");return d(),K(b,{mixin:e.mixin},{formulario:u(()=>[i("div",Bo,[i("div",So,[o(C,{name:"bi-x-diamond",class:"q-mr-sm",color:"primary"}),a[10]||(a[10]=S(" Registro de la actividad "))]),i("div",wo,[a[11]||(a[11]=i("label",{class:"q-mb-sm block"},"Fecha y hora de inicio",-1)),o(A,{modelValue:e.actividad.fecha_hora_inicio,"onUpdate:modelValue":a[0]||(a[0]=s=>e.actividad.fecha_hora_inicio=s),outlined:"",disable:"",dense:""},null,8,["modelValue"])]),e.actividad.fecha_hora_fin?(d(),m("div",Eo,[a[12]||(a[12]=i("label",{class:"q-mb-sm block"},"Fecha y hora de fin",-1)),o(A,{modelValue:e.actividad.fecha_hora_fin,"onUpdate:modelValue":a[1]||(a[1]=s=>e.actividad.fecha_hora_fin=s),outlined:"",disable:"",dense:""},null,8,["modelValue"])])):B("",!0),i("div",Fo,[a[14]||(a[14]=i("label",{class:"q-mb-sm block"},"Tipo de evento",-1)),o(ue,{modelValue:e.actividad.tipo_evento_bitacora,"onUpdate:modelValue":[a[2]||(a[2]=s=>e.actividad.tipo_evento_bitacora=s),a[3]||(a[3]=s=>e.validarNotificacionInmediata())],options:e.listadosAuxiliares.tiposEventos,"transition-show":"scale","transition-hide":"scale",hint:"Obligatorio","options-dense":"",dense:"",outlined:"",disable:e.disabled,"option-label":s=>s.nombre,"option-value":s=>s.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":"",error:!!e.v$.tipo_evento_bitacora.$errors.length,onBlur:e.v$.tipo_evento_bitacora.$touch},{"no-option":u(()=>[o(Oe,null,{default:u(()=>[o(Le,{class:"text-grey"},{default:u(()=>a[13]||(a[13]=[S(" No se han agregado tipos de eventos ")])),_:1})]),_:1})]),error:u(()=>[(d(!0),m(R,null,T(e.v$.tipo_evento_bitacora.$errors,s=>(d(),m("div",{key:s.$uid},[i("div",Po,E(s.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","option-label","option-value","error","onBlur"])]),e.actividad.medio_notificacion?(d(),m("div",Oo,[a[15]||(a[15]=i("label",{class:"q-mb-sm block"},"Medio por el cual se notific\xF3",-1)),o(A,{modelValue:e.actividad.medio_notificacion,"onUpdate:modelValue":a[4]||(a[4]=s=>e.actividad.medio_notificacion=s),outlined:"",disable:"",dense:""},null,8,["modelValue"])])):B("",!0),i("div",Lo,[o(f,{modelValue:e.actividad.actividad,"onUpdate:modelValue":a[5]||(a[5]=s=>e.actividad.actividad=s),label:"Actividad",disable:e.disabled,error:!!e.v$.actividad.$errors.length,onBlur:e.v$.actividad.$touch,v$:e.v$,keyError:"actividad"},null,8,["modelValue","disable","error","onBlur","v$"])]),i("div",Ro,[a[16]||(a[16]=i("label",{class:"q-mb-sm block"},E("Fotograf\xEDa de evidencia 1"),-1)),o(v,{imagen:e.actividad.fotografia_evidencia_1,file_extensiones:".jpg, image/*","onUpdate:modelValue":a[6]||(a[6]=s=>e.actividad.fotografia_evidencia_1=s),hint:"Opcional",disable:e.disabled},null,8,["imagen","disable"])]),i("div",To,[a[17]||(a[17]=i("label",{class:"q-mb-sm block"},E("Fotograf\xEDa de evidencia 2"),-1)),o(v,{imagen:e.actividad.fotografia_evidencia_2,file_extensiones:".jpg, image/*","onUpdate:modelValue":a[7]||(a[7]=s=>e.actividad.fotografia_evidencia_2=s),hint:"Opcional",disable:e.disabled},null,8,["imagen","disable"])])]),i("div",Io,[i("div",zo,[o(C,{name:"bi-x-diamond",class:"q-mr-sm",color:"primary"}),a[18]||(a[18]=S(" Archivos adjuntos (Opcional) "))]),o(ce,{"keep-color":"",modelValue:e.actividad.mostrar_seccion_archivos_adjuntos,"onUpdate:modelValue":a[8]||(a[8]=s=>e.actividad.mostrar_seccion_archivos_adjuntos=s),label:"Mostrar seccion",color:"positive",disable:e.disabled},null,8,["modelValue","disable"]),Ba(i("div",Mo,[o(k,{ref:"refArchivo",label:"Adjuntar archivos",mixin:e.mixin,disable:e.disabled,"listar-al-guardar":!1,"quiero-subir-archivos":"","permitir-subir":!1,"permitir-eliminar":e.accion==e.acciones.nuevo||e.accion==e.acciones.editar,idModelo:e.idEntidad},null,8,["mixin","disable","permitir-eliminar","idModelo"])],512),[[Sa,e.actividad.mostrar_seccion_archivos_adjuntos]])]),i("div",Uo,[i("div",jo,[o(C,{name:"bi-x-diamond",class:"q-mr-sm",color:"primary"}),a[19]||(a[19]=S(" Visitante (Opcional) "))]),o(ce,{"keep-color":"",modelValue:e.actividad.mostrar_seccion_visitante,"onUpdate:modelValue":a[9]||(a[9]=s=>e.actividad.mostrar_seccion_visitante=s),label:"Mostrar seccion",color:"positive",disable:e.disabled},null,8,["modelValue","disable"]),e.actividad.mostrar_seccion_visitante?(d(),m("div",No,[o(c,{visitante:e.actividad.visitante,v$:e.v$,disable:e.disabled},null,8,["visitante","v$","disable"])])):B("",!0)])]),_:1},8,["mixin"])}var Qo=Pe(Ao,[["render",Do]]);class Go{constructor(){p(this,"ActividadBitacoraPage");this.ActividadBitacoraPage=wa(new Xa("Actividad de bit\xE1cora",Qo))}}class Ho extends Ya{constructor(){super(new Go)}}class Ko extends ze{constructor(){super(...arguments);p(this,"nombre_completo",null);p(this,"identificacion",null);p(this,"celular",null);p(this,"motivo_visita",null);p(this,"persona_visitada",null);p(this,"placa_vehiculo",null);p(this,"fecha_hora_ingreso",null);p(this,"fecha_hora_salida",null);p(this,"observaciones",null);p(this,"actividad_bitacora",null)}}class Zo extends ze{constructor(){super(...arguments);p(this,"fecha_hora_inicio",null);p(this,"fecha_hora_fin",null);p(this,"tipo_evento_bitacora",null);p(this,"notificacion_inmediata",!1);p(this,"actividad",null);p(this,"fotografia_evidencia_1",null);p(this,"fotografia_evidencia_2",null);p(this,"medio_notificacion",null);p(this,"tiene_adjuntos",!1);p(this,"visitante",new Ko);p(this,"bitacora",null);p(this,"mostrar_seccion_archivos_adjuntos",!1);p(this,"mostrar_seccion_visitante",!1)}}var Jo=re({components:{MultiplePageLayout:Da,TabLayoutFilterTabs2:ja,TabLayoutFilterTabs:Na,TabLayout:Qa,EssentialTable:Ha,FechaHoraAutomaticaInput:mo,EssentialSelectableTable:Ie,VoiceInput:J,Callout:Ja,SolicitarArchivo:Za,ModalesEntidad:Ka},setup(){const e=Ea();Fa().setQuasar(ke());const l=new eo,h=new Se(ao,l),{entidad:n,disabled:_,listadosAuxiliares:f,tabsPage:v,tabs:k,accion:c}=h.useReferencias(),{setValidador:b,cargarVista:s,obtenerListados:F,consultar:N,editarParcial:M,filtrar:P}=h.useComportamiento(),{onConsultado:$,onReestablecer:r,onGuardado:y}=h.useHooks(),I=new Se(Zo,new vo),{entidad:Y,listado:W,accion:x}=I.useReferencias(),{listar:g,reestablecer:O,editarParcial:U}=I.useComportamiento();s(async()=>{await F({zonas:{controller:new we,params:{activo:1,"":Ma("id",e.user.zonas_ids)}},prendas:[]})});const D=L(!1),Q=L(!1),Me=ke(),Ue=L(),je=L(!1),te=new Ho,{confirmar:pe,promptItems:Ne,notificarAdvertencia:se}=Pa(),De=de(()=>f.prendas.map(t=>({...t,descripcion:t.descripcion.toLowerCase().replace(/\b\w/g,V=>V.toUpperCase())}))),Qe=()=>{D.value=!1,n.protector=null,G.value=""},Ge=()=>{Q.value=!1,n.conductor=null,H.value=""},He=["1. Bit\xE1cora","2. Actividades registradas en la bit\xE1cora"],fe=L("0"),Ke=[{label:"NO REVISADAS",value:"0"},{label:"REVISADAS",value:"1"}],{zonas:Ze,filtrarZonas:Je}=za(f),Xe=async()=>{s(async()=>{await F({zonas:{controller:new we,params:{activo:1}}})})},ge=async()=>{const t=Ra.getInstance(),V=await t.get(t.getEndpoint(be.prendas_zonas_permitidas,{zona_id:n.zona,empleado_id:n.agente_turno}));f.prendas=V.data.results},Ye=t=>{n.actividades.unshift(t)};async function We(t){fe.value=t;const V=t==="1";he.value.length>0&&await $e({revisado_por_supervisor:V})}const xe={titulo:"Registrar actividades",icono:"bi-list",color:"teal",accion:async({entidad:t})=>{await N(t),c.value=j.consultar,await g({bitacora_id:t.id}),k.value="formulario",v.value="2"}},ea={titulo:"Finalizar bit\xE1cora",icono:"bi-check-circle-fill",color:"positive",visible:({entidad:t})=>!t.fecha_hora_fin_turno,accion:({entidad:t})=>{const V=!W.value.length;if(V&&!ye.value){se("No puede finalizar la bit\xE1cora sin registrar ninguna actividad.");return}pe(V?"Esta bit\xE1cora no tiene actividades. \xBFDesea finalizarla como SUPERVISOR para poder registrar la retroalimentaci\xF3n?":"\xBFEst\xE1 seguro de finalizar la bit\xE1cora?",async()=>{const ya=(await X()).fecha_hora;await M(t.id,{fecha_hora_fin_turno:ya})})}},aa={titulo:"Agregar actividad",icono:"bi-plus",accion:()=>s(async()=>{if(n.fecha_hora_fin_turno)return se("Ya no tiene permitido registrar actividades debido a que la bit\xE1cora ha sido finalizada.");O(),te.abrirModalEntidad("ActividadBitacoraPage",{bitacora_id:n.id,mixin:I})})},oa={titulo:"Finalizar",icono:"bi-clock-history",color:"positive",visible:({entidad:t})=>!t.fecha_hora_fin,accion:({entidad:t})=>{pe("\xBFEst\xE1 seguro de finalizar esta actividad?",async()=>{const V=(await X()).fecha_hora;U(t.id,{fecha_hora_fin:V})})}},ia={titulo:"Confirmar que se notific\xF3",icono:"bi-clock-history",color:"teal",visible:({entidad:t})=>t.notificacion_inmediata&&!t.medio_notificacion,accion:({entidad:t})=>{const V=ve({mensaje:"Seleccione el medio por el cu\xE1l realiz\xF3 la notificaci\xF3n",accion:async _e=>{U(t.id,{medio_notificacion:_e})},tipo:"radio",items:[{label:"Llamada",value:"LLAMADA"},{label:"Correo electr\xF3nico",value:"CORREO ELECTRONICO"},{label:"Mensajer\xEDa instant\xE1nea (Whatsapp, telegram, etc)",value:"MENSAJERIA INSTANTANEA"},{label:"SMS",value:"SMS"},{label:"Radio an\xE1loga o digital ",value:"RADIO ANALOGA O DIGITAL"}]});Ne(V)}},ra={titulo:"Consultar",icono:me.consultar,color:"primary",accion:({entidad:t})=>{O(),console.log(t),Y.hydrate(t),x.value=j.consultar,te.abrirModalEntidad("ActividadBitacoraPage",{bitacora_id:n.id,mixin:I})}},ta=()=>{Me.dialog({title:"Revisi\xF3n de bit\xE1cora",message:"Ingrese la retroalimentaci\xF3n del supervisor:",prompt:{model:"",type:"textarea"},cancel:!0,persistent:!0}).onOk(async t=>{if(!(t!=null&&t.trim())){se("Debe ingresar una retroalimentaci\xF3n.");return}await M(n.id,{revisado_por_supervisor:!0,retroalimentacion_supervisor:t}),n.revisado_por_supervisor=!0,n.retroalimentacion_supervisor=t==null?void 0:t.trim()})},ye=de(()=>e.user.roles.includes("SUPERVISOR DE GUARDIAS")),{refListadoSeleccionable:sa,criterioBusqueda:ee,listado:he,listar:$e,seleccionar:la}=ie(n,"empleados","agente_turno"),{refListadoSeleccionable:na,criterioBusqueda:G,listado:da,listar:ca,seleccionar:ua}=ie(n,"empleados","protector"),{refListadoSeleccionable:ma,criterioBusqueda:H,listado:va,listar:ba,seleccionar:pa}=ie(n,"empleados","conductor"),fa={zona:{required:Z},jornada:{required:Z},agente_turno:{required:Z},protector:{required:Be(()=>D.value)},conductor:{required:Be(()=>Q.value)}},Ve=Te(fa,n);b(Ve.value),$(()=>{qe(),D.value=!!n.protector,Q.value=!!n.conductor,v.value="1",g({bitacora_id:n.id})}),r(()=>{ee.value=e.user.apellidos+" "+e.user.nombres,n.agente_turno=e.user.id,G.value=null,H.value=null,f.prendas=[]}),y(t=>{v.value="2",Oa(async()=>{if(t){const V=await l.consultar(t);n.hydrate(V.result),c.value=j.consultar,qe()}})});const qe=()=>{ee.value=n.nombres_agente_turno,G.value=n.nombres_protector,H.value=n.nombres_conductor,ge()};function ga(t){P(t)}return Ce(D,t=>{t||(n.protector=null,G.value="")}),Ce(Q,t=>{t||(n.conductor=null,H.value="")}),ee.value=e.user.apellidos+" "+e.user.nombres,n.agente_turno=e.user.id,{v$:Ve,refActividades:Ue,mixin:h,configuracionColumnasBitacora:oo,configuracionColumnasEmpleadosLite:Re,configuracionColumnasActividadBitacora:Ee,bitacora:n,disabled:_,listadosAuxiliares:f,ordenarLista:Ua,zonas:Ze,filtrarZonas:Je,jornadas:io,usaProtector:D,usaConductor:Q,btnAgregarActividad:aa,btnEstablecerHoraFin:oa,btnVerActividadBitacora:ra,btnConfirmarNotificado:ia,ccActividadBitacora:[...Ee,La],tabsPage:v,mostrarSolicitarArchivoActividad:je,modales:te,iconos:me,recargarZonas:Xe,consultarPrendasPermitidas:ge,guardarActividad:Ye,marcarRevisadoDesdeTabla:ta,listadoActividadBitacora:W,btnRegistrarActividades:xe,btnFinalizarBitacora:ea,listarActividadBitacora:g,accion:c,acciones:j,prendas:De,tabsOptions:He,refListadoSeleccionable:sa,criterioBusqueda:ee,listado:he,esSupervisor:ye,listar:$e,filtrar:P,aplicarFiltro:ga,seleccionar:la,refListadoSeleccionableProtector:na,criterioBusquedaProtector:G,listadoProtector:da,listarProtector:ca,seleccionarProtector:ua,refListadoSeleccionableConductor:ma,criterioBusquedaConductor:H,listadoConductor:va,listarConductor:ba,seleccionarConductor:pa,quitarProtector:Qe,quitarConductor:Ge,tabDefecto:fe,tabOptions:Ke,filtrarListadoBitacoras:We}}});const Xo={class:"row q-col-gutter-sm q-mb-md"},Yo={class:"col-12 text-bold q-py-sm"},Wo={class:"col-12 col-md-3"},xo={class:"error-msg"},ei={class:"col-12 col-md-3"},ai={class:"error-msg"},oi={key:0,class:"col-12 col-md-3"},ii={key:1,class:"col-12 col-md-3"},ri={key:2,class:"col-12 col-md-3"},ti={class:"col-12 col-md-3"},si={key:0,class:"q-pt-sm"},li={key:1},ni={class:"row items-center justify-between q-mb-xs"},di={class:"col-12 col-md-3"},ci={key:0,class:"q-pt-sm"},ui={key:1},mi={class:"row items-center justify-between q-mb-xs"},vi={class:"row q-mb-md"},bi={class:"col-12 text-bold q-py-sm"},pi={key:0,class:"bg-body q-pa-md rounded"},fi={class:"col-12 q-pt-md"},gi={key:1,class:"col-12 q-mt-lg"},yi={class:"text-bold q-mb-sm"},hi={key:0,class:"row"},$i={class:"col-12 q-mb-sm"},Vi={class:"col-12 q-mb-md"},qi={class:"col-12 text-bold q-py-sm q-my-sm"},_i={class:"col-12"},ki={key:1,class:"column"};function Ci(e,a,l,h,n,_){const f=q("callout"),v=q("fecha-hora-automatica-input"),k=q("voice-input"),c=q("essential-table"),b=q("multiple-page-layout"),s=q("essential-selectable-table"),F=q("solicitar-archivo"),N=q("modales-entidad"),M=q("tab-layout");return d(),K(M,{mixin:e.mixin,"configuracion-columnas":e.configuracionColumnasBitacora,"titulo-pagina":"Bit\xE1coras","tab-options":e.tabOptions,tabDefecto:e.tabDefecto,filtrar:e.filtrarListadoBitacoras,"mostrar-button-submits":e.tabsPage==1,mostrarColumnasVisibles:!e.$q.screen.xs,accion1:e.btnRegistrarActividades,accion2:e.btnFinalizarBitacora,"permitir-editar":!1,"puede-filtrar":!0,forzarListar:!0,"puede-ordenar":!0,paginate:"",full:""},{formulario:u(()=>[o(b,{mixin:e.mixin,tabsOptions:e.tabsOptions,"regresar-principio":"",mostrarRegresar:!1},{tab1:u(()=>[o(f,{mensaje:"La <b>selecci\xF3n de prendas recibidas</b> se activar\xE1 luego de que <b>seleccione la zona</b>.",tipo:"info",class:"q-mb-xl"}),o(Ia,{onSubmit:a[18]||(a[18]=Ta(()=>{},["prevent"]))},{default:u(()=>{var P,$;return[i("div",Xo,[i("div",Yo,[o(C,{name:"bi-x-diamond",class:"q-mr-sm",color:"primary"}),a[21]||(a[21]=S(" Informaci\xF3n general ")),o(le,{class:"q-my-xs"})]),i("div",Wo,[a[24]||(a[24]=i("label",{class:"q-mb-sm block"},"Zona",-1)),o(ue,{modelValue:e.bitacora.zona,"onUpdate:modelValue":[a[1]||(a[1]=r=>e.bitacora.zona=r),a[3]||(a[3]=r=>e.consultarPrendasPermitidas())],options:e.zonas,disable:e.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",onFilter:e.filtrarZonas,onPopupShow:a[2]||(a[2]=r=>e.ordenarLista(e.zonas,"nombre")),"option-value":r=>r.id,"option-label":r=>r.nombre,error:!!e.v$.zona.$errors.length,onBlur:e.v$.zona.$touch,"emit-value":"","map-options":""},{"no-option":u(()=>[o(Oe,null,{default:u(()=>[o(Le,{class:"text-grey"},{default:u(()=>a[22]||(a[22]=[S(" No hay resultados ")])),_:1})]),_:1})]),after:u(()=>[o(w,{color:"primary",onClick:a[0]||(a[0]=r=>e.recargarZonas()),dense:""},{default:u(()=>[o(C,{name:e.iconos.recargar,class:"q-pad-xs"},null,8,["name"]),o(ne,null,{default:u(()=>a[23]||(a[23]=[S("Recargar zonas")])),_:1})]),_:1})]),error:u(()=>[(d(!0),m(R,null,T(e.v$.zona.$errors,r=>(d(),m("div",{key:r.$uid},[i("div",xo,E(r.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","onFilter","option-value","option-label","error","onBlur"])]),i("div",ei,[a[25]||(a[25]=i("label",{class:"q-mb-sm block"},"Jornada",-1)),o(ue,{modelValue:e.bitacora.jornada,"onUpdate:modelValue":a[4]||(a[4]=r=>e.bitacora.jornada=r),options:e.jornadas,disable:e.disabled,error:!!e.v$.jornada.$errors.length,onBlur:e.v$.jornada.$touch,"options-dense":"",outlined:"",dense:""},{error:u(()=>[(d(!0),m(R,null,T(e.v$.jornada.$errors,r=>(d(),m("div",{key:r.$uid},[i("div",ai,E(r.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","error","onBlur"])]),e.accion===e.acciones.consultar?(d(),m("div",oi,[o(v,{modelValue:e.bitacora.fecha_hora_inicio_turno,"onUpdate:modelValue":a[5]||(a[5]=r=>e.bitacora.fecha_hora_inicio_turno=r),disable:e.disabled,label:"Fecha y hora de inicio de turno",validador:e.v$,clave:"fecha_hora_inicio_turno"},null,8,["modelValue","disable","validador"])])):B("",!0),e.accion===e.acciones.consultar?(d(),m("div",ii,[a[26]||(a[26]=i("label",{class:"q-mb-sm block"},"Fecha y hora de fin de turno",-1)),o(A,{modelValue:e.bitacora.fecha_hora_fin_turno,"onUpdate:modelValue":a[6]||(a[6]=r=>e.bitacora.fecha_hora_fin_turno=r),hint:"Se calcula autom\xE1ticamente al finalizar la bit\xE1cora",disable:"",outlined:"",dense:""},null,8,["modelValue"])])):B("",!0),e.accion===e.acciones.consultar?(d(),m("div",ri,[a[27]||(a[27]=i("label",{class:"q-mb-sm block"},"Agente de turno",-1)),o(A,{modelValue:e.criterioBusqueda,"onUpdate:modelValue":a[7]||(a[7]=r=>e.criterioBusqueda=r),placeholder:"Escriba y presione enter para buscar",hint:"Puede buscar por nombre, apellido o identificaci\xF3n",disable:"",onKeydown:oe(e.listar,["enter"]),outlined:"",dense:""},{append:u(()=>[o(C,{name:e.bitacora.agente_turno?"bi-check-circle-fill":"bi-check-circle",color:e.bitacora.agente_turno?"positive":"grey-6",size:"xs"},null,8,["name","color"])]),_:1},8,["modelValue","onKeydown"])])):B("",!0),i("div",ti,[e.usaProtector?(d(),m("div",li,[i("div",ni,[a[28]||(a[28]=i("label",{class:"q-mb-none"},"Protector",-1)),o(w,{flat:"",dense:"",round:"",icon:"bi-x",onClick:e.quitarProtector},null,8,["onClick"])]),o(A,{modelValue:e.criterioBusquedaProtector,"onUpdate:modelValue":a[9]||(a[9]=r=>e.criterioBusquedaProtector=r),placeholder:"Escriba y presione enter para buscar",hint:"Puede buscar por nombre, apellido o identificaci\xF3n",disable:e.disabled,onKeydown:oe(e.listarProtector,["enter"]),error:!!((P=e.v$.protector)!=null&&P.$errors.length),onBlur:a[10]||(a[10]=r=>{var y;return(y=e.v$.protector)==null?void 0:y.$touch()}),outlined:"",dense:""},{after:u(()=>[o(w,{color:"primary",onClick:e.listarProtector,dense:""},{default:u(()=>[o(C,{name:e.iconos.buscar},null,8,["name"]),o(ne,null,{default:u(()=>a[29]||(a[29]=[S("Buscar protector")])),_:1})]),_:1},8,["onClick"])]),error:u(()=>{var r;return[(d(!0),m(R,null,T((r=e.v$.protector)==null?void 0:r.$errors,y=>(d(),m("div",{key:y.$uid,class:"error-msg"},E(y.$message),1))),128))]}),_:1},8,["modelValue","disable","onKeydown","error"])])):(d(),m("div",si,[o(Ae,{modelValue:e.usaProtector,"onUpdate:modelValue":a[8]||(a[8]=r=>e.usaProtector=r),label:"Agregar protector"},null,8,["modelValue"])]))]),i("div",di,[e.usaConductor?(d(),m("div",ui,[i("div",mi,[a[30]||(a[30]=i("label",{class:"q-mb-none"},"Conductor",-1)),o(w,{flat:"",dense:"",round:"",icon:"bi-x",onClick:e.quitarConductor},null,8,["onClick"])]),o(A,{modelValue:e.criterioBusquedaConductor,"onUpdate:modelValue":a[12]||(a[12]=r=>e.criterioBusquedaConductor=r),placeholder:"Escriba y presione enter para buscar",hint:"Puede buscar por nombre, apellido o identificaci\xF3n",disable:e.disabled,onKeydown:oe(e.listarConductor,["enter"]),error:!!(($=e.v$.conductor)!=null&&$.$errors.length),onBlur:a[13]||(a[13]=r=>{var y;return(y=e.v$.conductor)==null?void 0:y.$touch()}),outlined:"",dense:""},{after:u(()=>[o(w,{color:"primary",onClick:e.listarConductor,dense:""},{default:u(()=>[o(C,{name:e.iconos.buscar},null,8,["name"]),o(ne,null,{default:u(()=>a[31]||(a[31]=[S("Buscar conductor")])),_:1})]),_:1},8,["onClick"])]),error:u(()=>{var r;return[(d(!0),m(R,null,T((r=e.v$.conductor)==null?void 0:r.$errors,y=>(d(),m("div",{key:y.$uid,class:"error-msg"},E(y.$message),1))),128))]}),_:1},8,["modelValue","disable","onKeydown","error"])])):(d(),m("div",ci,[o(Ae,{modelValue:e.usaConductor,"onUpdate:modelValue":a[11]||(a[11]=r=>e.usaConductor=r),label:"Agregar conductor"},null,8,["modelValue"])]))])]),i("div",vi,[i("div",bi,[o(C,{name:"bi-x-diamond",class:"q-mr-sm",color:"primary"}),a[32]||(a[32]=i("span",{class:"inline-block q-mr-sm q-mb-sm"},"Selecci\xF3n de prendas recibidas",-1)),e.bitacora.zona&&e.accion===e.acciones.nuevo?(d(),K(w,{key:0,color:"positive",icon:e.iconos.recargar,onClick:a[14]||(a[14]=r=>e.consultarPrendasPermitidas()),unelevated:"",dense:"",rounded:"","no-caps":"",label:"Recargar prendas asignadas",class:"q-px-sm"},null,8,["icon"])):B("",!0),o(le,{class:"q-my-xs"})]),e.prendas.length?B("",!0):(d(),m("span",pi,"Seleccione una zona para mostrar el listado de prendas.")),(d(!0),m(R,null,T(e.prendas,r=>(d(),m("div",{key:r.id,class:"col-12 col-md-3 q-mb-md"},[o(ce,{modelValue:e.bitacora.prendas_recibidas,"onUpdate:modelValue":a[15]||(a[15]=y=>e.bitacora.prendas_recibidas=y),label:r.descripcion,val:r.id,disable:e.disabled},null,8,["modelValue","label","val","disable"])]))),128)),i("div",fi,[o(k,{modelValue:e.bitacora.observaciones,"onUpdate:modelValue":a[16]||(a[16]=r=>e.bitacora.observaciones=r),v$:e.v$,"key-error":"observaciones",label:"Observaciones o Novedades acerca de las prendas recibidas",disable:e.disabled,placeholder:"Opcional"},null,8,["modelValue","v$","disable"])]),e.bitacora.revisado_por_supervisor?(d(),m("div",gi,[o(le,{class:"q-my-md"}),i("div",yi,[o(C,{name:"bi-chat-square-quote",class:"q-mr-sm",color:"teal"}),a[33]||(a[33]=S(" Retroalimentaci\xF3n del supervisor "))]),o(A,{modelValue:e.bitacora.retroalimentacion_supervisor,"onUpdate:modelValue":a[17]||(a[17]=r=>e.bitacora.retroalimentacion_supervisor=r),type:"textarea",outlined:"",autogrow:"",dense:"",disable:""},null,8,["modelValue"])])):B("",!0)])]}),_:1})]),tab2:u(()=>[e.bitacora.id?(d(),m("div",hi,[i("div",$i,[o(f,{tipo:"info",mensaje:"Las actividades registradas <b>se guardan autom\xE1ticamente</b>."})]),i("div",Vi,[e.bitacora.fecha_hora_fin_turno?(d(),K(f,{key:0,mensaje:"<b>Ya no tiene permitido registrar actividades</b> debido a que la <b>bit\xE1cora ha sido finalizada</b>."})):B("",!0)]),i("div",qi,[o(C,{name:"bi-x-diamond",class:"q-mr-sm",color:"primary"}),a[34]||(a[34]=S(" Registro de actividades "))]),i("div",_i,[o(c,{ref:"refActividades",titulo:"Actividades",configuracionColumnas:e.ccActividadBitacora,datos:e.listadoActividadBitacora,"ajustar-celdas":"","alto-fijo":!1,accion1Header:e.btnAgregarActividad,accion1:e.btnVerActividadBitacora,accion2:e.btnConfirmarNotificado,accion3:e.btnEstablecerHoraFin,"permitir-consultar":!1,"permitir-editar":!1,"permitir-eliminar":!1,"mostrar-footer":!1,permitirEditarModal:"","editar-fila-local":!1,"permitir-editar-celdas":"",mostrarColumnasVisibles:!e.$q.screen.xs,onGuardarFilaNueva:e.guardarActividad},null,8,["configuracionColumnas","datos","accion1Header","accion1","accion2","accion3","mostrarColumnasVisibles","onGuardarFilaNueva"])])])):(d(),m("div",ki,[o(f,{tipo:"info",mensaje:"Primero <b>cree una bit\xE1cora</b> para poder <b>registrar actividades</b>.",class:"q-mb-md"}),o(w,{color:"primary",label:"Ir a formulario para crear bit\xE1cora",icon:"bi-list",onClick:a[19]||(a[19]=P=>e.tabsPage="1"),"no-caps":"",unelevated:""})]))]),_:1},8,["mixin","tabsOptions"])]),"custom-buttons":u(()=>[e.bitacora.id&&e.accion===e.acciones.consultar&&e.bitacora.fecha_hora_fin_turno&&!e.bitacora.revisado_por_supervisor&&e.esSupervisor?(d(),K(w,{key:0,color:"green",icon:"bi-check",label:"Marcar Bit\xE1cora como revisada",onClick:e.marcarRevisadoDesdeTabla,"no-caps":"",unelevated:""},null,8,["onClick"])):B("",!0)]),modales:u(()=>[o(s,{ref:"refListadoSeleccionable","configuracion-columnas":e.configuracionColumnasEmpleadosLite,datos:e.listado,onSelected:e.seleccionar,"tipo-seleccion":"single"},null,8,["configuracion-columnas","datos","onSelected"]),o(s,{ref:"refListadoSeleccionableProtector","configuracion-columnas":e.configuracionColumnasEmpleadosLite,datos:e.listadoProtector,onSelected:e.seleccionarProtector,"tipo-seleccion":"single"},null,8,["configuracion-columnas","datos","onSelected"]),o(s,{ref:"refListadoSeleccionableConductor","configuracion-columnas":e.configuracionColumnasEmpleadosLite,datos:e.listadoConductor,onSelected:e.seleccionarConductor,"tipo-seleccion":"single"},null,8,["configuracion-columnas","datos","onSelected"]),o(F,{mostrar:e.mostrarSolicitarArchivoActividad,onCerrar:a[20]||(a[20]=P=>e.mostrarSolicitarArchivoActividad=!1),mixin:e.mixin,"tipo-archivo":"ADJUNTO"},null,8,["mostrar","mixin"]),o(N,{comportamiento:e.modales,"mixin-modal":e.mixin,persistent:!1},null,8,["comportamiento","mixin-modal"])]),_:1},8,["mixin","configuracion-columnas","tab-options","tabDefecto","filtrar","mostrar-button-submits","mostrarColumnasVisibles","accion1","accion2"])}var Pr=Pe(Jo,[["render",Ci]]);export{Pr as default};
