import{d as D,c as u,Z as k,h as z,_ as I,t as b,v as f,x as _,z as a,F as h,bc as P,y as e,I as S,G as y,H as B,a3 as Q,K as p,Q as V,B as x,O as E,D as M}from"./index.6449c167.js";import{Q as N}from"./QImg.fd079679.js";import{r as $,e as j}from"./es.edeb524b.js";import{d as v}from"./dayjs.min.80d1628b.js";import{B as L,C as A}from"./ComportamientoModalesVacanteDisponible.25fbe3da.js";import{M as F}from"./ModalEntidad.168b465e.js";import{S as O,a as R,z as T}from"./utils.521b98f3.js";import{V as U}from"./VacanteController.6ea1c7b2.js";import{u as Z}from"./vacante.b9da0154.js";import"./_commonjsHelpers.8402d862.js";import"./ComponenteModal.domain.50e59f97.js";import"./QBadge.e6f320cd.js";import"./QChip.95469f73.js";import"./VisorImagen.75b3c53f.js";import"./QPage.5d173a8a.js";import"./extend.4a22771d.js";import"./QToolbar.8dbe891b.js";import"./position-engine.70d0a89f.js";import"./configuracion_general.37a05c0a.js";import"./ConfiguracionController.c50d9536.js";import"./format.8ac60962.js";import"./Vacante.373e1abf.js";import"./entidadAuditable.75a46700.js";var G=D({name:"PuestoDisponiblePage",components:{BasicContainer:L,ModalEntidad:F},setup(){const s=new O,{notificarError:i}=R(),r=u(),l=u([]),n=u(),c=new A,d=Z(),m=k();z(()=>{const t=m.currentRoute.value.query.id;t&&(d.idVacante=t),m.currentRoute.value.query.showModal=="1"&&c.abrirModalEntidad("VisualizarVacantePage")}),v.extend($),v.locale(j),s.cargarConsulta(async()=>await o());async function o(){try{const t=(await new U().listar({activo:1,es_completada:0})).result;l.value=t,n.value=t}catch{i("Error al obtener las vacantes disponibles")}}async function g(t){d.idVacante=t,c.abrirModalEntidad("VisualizarVacantePage")}function w(){if(r.value===""){n.value=l.value;return}const t=r.value.toLowerCase(),q=l.value.filter(C=>C.nombre.toLowerCase().indexOf(t)>-1);n.value=q}return{search:r,vacantesDisponibles:n,dayjs:v,expanded:u(!1),modales:c,visualizarVacante:g,getShortDescription:T,filtrarVacantes:w}}});const H={class:"row q-col-gutter-sm q-pa-md flex flex-center"},K={class:"col-12 col-md-6 col-sm-12"},J={class:"row q-col-gutter-sm q-py-md q-mx-sm"},W={class:"my-custom-card"},X={class:"row",style:{"min-height":"70%","max-height":"72%"}},Y={class:"col-6 h-100"},ee={class:"col-6"},se={class:"column"},oe={class:"col-9 block q-px-xs text-caption text-grey text-justify"},te={class:"row q-pa-sm",style:{"min-height":"10%","max-height":"15%"}},ae={class:"col-6"},ie={class:"q-px-sm"},ne={class:"col-6"},re={class:"q-px-sm"},le={class:"q-py-sm",style:{"min-height":"10%","max-height":"15%"}};function ce(s,i,r,l,n,c){const d=b("basic-container"),m=b("modal-entidad");return f(),_(y,null,[a(d,null,{contenido:h(()=>[a(P,null,{default:h(()=>[i[1]||(i[1]=e("div",{class:"text-h5 q-mt-sm q-mb-xs text-center text-bold"}," Nuestros Puestos de Trabajo ",-1)),e("div",H,[e("div",K,[a(S,{modelValue:s.search,"onUpdate:modelValue":[i[0]||(i[0]=o=>s.search=o),s.filtrarVacantes],placeholder:"Buscar por puesto o palabra clave...",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])])])]),_:1}),e("div",J,[(f(!0),_(y,null,B(s.vacantesDisponibles,o=>(f(),_("div",{class:"col-12 col-md-4 col-sm-6",key:o.id},[e("div",W,[e("div",X,[e("div",Y,[a(N,{class:"rounded-borders",loading:"lazy",src:o.imagen_referencia,height:"25vh",fit:"contain"},null,8,["src"])]),e("div",ee,[e("div",se,[e("div",{class:Q(["col-3 block text-h6 screen--subtitle2 text-center text-bold overflow-hidden",s.$q.screen.lg?"text-h6":"text-subtitle2"]),style:{overflow:"hidden","text-overflow":"ellipsis"}},p(o.nombre),3),e("div",oe,[e("p",null,p(s.getShortDescription(s.$q,o.descripcion)),1)])])])]),a(V),e("div",te,[e("div",ae,[a(x,{class:"bi-clock-fill"}),e("strong",ie,p(s.dayjs()>s.dayjs(o.fecha_caducidad)?"FINALIZADO":"FINALIZA "+s.dayjs().to(o.fecha_caducidad).toUpperCase()),1)]),e("div",ne,[a(x,{class:"bi-geo-alt-fill"}),e("strong",re,p(o.canton),1)])]),a(V),e("div",le,[a(E,{unelevated:"",glossy:"",rounded:"",color:"primary",onClick:g=>s.visualizarVacante(o.id),class:"flex block full-width"},{default:h(()=>i[2]||(i[2]=[M("Visualizar")])),_:2},1032,["onClick"])])])]))),128))])]),_:1}),a(m,{comportamiento:s.modales,persistente:!1},null,8,["comportamiento"])],64)}var Qe=I(G,[["render",ce],["__scopeId","data-v-33e15466"]]);export{Qe as default};
