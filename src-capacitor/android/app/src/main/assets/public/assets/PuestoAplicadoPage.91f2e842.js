var T=Object.defineProperty;var z=(o,s,i)=>s in o?T(o,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[s]=i;var P=(o,s,i)=>(z(o,typeof s!="symbol"?s+"":s,i),i);import{bw as j,s as D,d as I,dg as N,c as y,de as C,Y as O,u as B,_ as M,t as A,v as n,x as r,z as a,F as l,bc as E,y as e,G as S,H as $,P as Q,a3 as R,K as c,Q as V,B as q,O as F,D as L}from"./index.6449c167.js";import{Q as G}from"./QImg.fd079679.js";import{r as H,e as K}from"./es.edeb524b.js";import{r as U}from"./index.0198dd12.js";import{u as X}from"./index.490dde02.js";import{B as Y,C as J}from"./ComportamientoModalesVacanteDisponible.25fbe3da.js";import{M as W}from"./ModalEntidad.168b465e.js";import{C as Z}from"./ContenedorSimpleMixin.09c9bed5.js";import{E as oo}from"./entidadAuditable.75a46700.js";import{A as so,z as eo}from"./utils.521b98f3.js";import{P as to}from"./PostulacionController.c5697de7.js";import{d as p}from"./dayjs.min.80d1628b.js";import{u as ao}from"./vacante.b9da0154.js";import{e as io}from"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./_commonjsHelpers.8402d862.js";import"./ComponenteModal.domain.50e59f97.js";import"./QBadge.e6f320cd.js";import"./QChip.95469f73.js";import"./VisorImagen.75b3c53f.js";import"./QPage.5d173a8a.js";import"./extend.4a22771d.js";import"./QToolbar.8dbe891b.js";import"./position-engine.70d0a89f.js";import"./configuracion_general.37a05c0a.js";import"./ConfiguracionController.c50d9536.js";import"./format.8ac60962.js";import"./Vacante.373e1abf.js";const no=[{name:"nombre",field:"nombre",label:"Nombre",align:"left",sortable:!0}];class ro extends j{constructor(){super(D.tipos_puestos)}}class lo extends oo{constructor(){super();P(this,"nombre");this.nombre=null}}var co=I({name:"PuestoAplicadoPage",components:{BasicContainer:Y,ModalEntidad:W},setup(){const o=new Z(lo,new ro),{entidad:s,disabled:i,listadosAuxiliares:f}=o.useReferencias(),{setValidador:_,cargarVista:h,obtenerListados:d}=o.useComportamiento(),{autenticado:m,tipoAutenticacion:t}=N(),b=ao(),v=new J;let u;const g=y([]);p.extend(H),p.locale(K),h(async()=>{if(m)switch(t){case C.empleado:u=B();break;case C.usuario_externo:u=O();break;default:console.log("El usuario no est\xE1 autenticado")}await d({postulaciones:{controller:new to,params:{user_id:u.user.id}}}),g.value=f.postulaciones});const x=X({nombre:{required:U}},s);_(x.value);async function w(k){b.idVacante=k,v.abrirModalEntidad("VisualizarVacantePage")}return{removeAccents:so,mixin:o,tipo_puesto_trabajo:s,vacantesPostuladas:g,v$:x,disabled:i,configuracionColumnas:no,dayjs:p,modales:v,accepted:y("1"),estadosPostulacion:io,getShortDescription:eo,visualizarVacante:w}}});const mo={key:0,class:"row q-col-gutter-sm q-py-md q-mx-sm"},uo={class:"my-custom-card"},po={class:"row",style:{"min-height":"72%","max-height":"72%"}},fo={class:"col-6 h-100"},_o={class:"col-6"},ho={class:"column"},bo={class:"col-9 block q-px-xs text-caption text-grey text-justify"},vo={class:"row q-pa-sm",style:{"min-height":"10%","max-height":"15%"}},go={class:"col-6"},xo={class:"q-px-sm"},Po={class:"col-6"},yo={class:"q-px-sm"},Co={class:"q-py-sm",style:{"min-height":"10%","max-height":"15%"}};function Ao(o,s,i,f,_,h){const d=A("basic-container"),m=A("modal-entidad");return n(),r(S,null,[a(d,null,{contenido:l(()=>[a(E,null,{default:l(()=>s[0]||(s[0]=[e("div",{class:"text-h5 q-mt-sm q-mb-xs text-center text-bold"}," Mis Postulaciones ",-1)])),_:1}),o.vacantesPostuladas.length?(n(),r("div",mo,[(n(!0),r(S,null,$(o.vacantesPostuladas,t=>(n(),r("div",{class:"col-12 col-md-4 col-sm-6",key:t.id},[e("div",uo,[e("div",po,[e("div",fo,[a(G,{class:"rounded-borders",loading:"lazy",src:t.imagen_referencia,fit:"contain"},null,8,["src"])]),e("div",_o,[e("div",ho,[e("div",{class:R(["col-3 block text-h6 screen--subtitle2 text-center text-bold overflow-hidden",o.$q.screen.lg?"text-h6":"text-subtitle2"]),style:{overflow:"hidden","text-overflow":"ellipsis"}},c(t.nombre),3),e("div",bo,[e("p",null,c(o.getShortDescription(o.$q,t.vacante.descripcion)),1)])])])]),a(V),e("div",vo,[e("div",go,[a(q,{class:"bi-clock-fill"}),e("strong",xo,c(o.dayjs()>o.dayjs(t.fecha_caducidad)?"Finalizado":"Finaliza "+o.dayjs().to(t.vacante.fecha_caducidad)),1)]),e("div",Po,[a(q,{class:"bi-circle-fill",color:[o.estadosPostulacion.POSTULADO,o.estadosPostulacion.REVISION_CV,o.estadosPostulacion.PRESELECCIONADO,o.estadosPostulacion.ENTREVISTA,o.estadosPostulacion.EXAMENES_MEDICOS,o.estadosPostulacion.CONTRATADO].includes(t.estado)?"green":"red"},null,8,["color"]),e("strong",yo,c(t.estado),1)])]),a(V),e("div",Co,[a(F,{unelevated:"",glossy:"",rounded:"",color:"primary",onClick:b=>o.visualizarVacante(t.vacante.id),class:"flex block full-width"},{default:l(()=>s[1]||(s[1]=[L("Visualizar")])),_:2},1032,["onClick"])])])]))),128))])):(n(),Q(E,{key:1},{default:l(()=>s[2]||(s[2]=[e("div",{class:"text-h5 q-mt-sm q-mb-xs text-center text-bold"}," A\xFAn no tienes vacantes aplicadas ",-1)])),_:1}))]),_:1}),a(m,{comportamiento:o.modales,persistente:!1},null,8,["comportamiento"])],64)}var os=M(co,[["render",Ao],["__scopeId","data-v-e29697c8"]]);export{os as default};
