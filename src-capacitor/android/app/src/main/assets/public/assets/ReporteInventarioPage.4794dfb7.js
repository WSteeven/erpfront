import{c as x,be as A,p as f,e as m,a3 as u,A as C,bH as c,t as g,v as R,y as w,S as k,H as o,D as a,bf as E,bg as S,B as i,G as p,Q as I,c8 as B,R as v,F as b}from"./index.976e8f3c.js";import{Q as L,a as N}from"./QItemSection.c6f2640c.js";import{Q as y}from"./QSelect.a8f2bfb2.js";import{Q as U}from"./QPage.ed5d79ca.js";import{u as O,A as Q}from"./utils.30e08aa2.js";import"./QChip.334d746c.js";import"./QMenu.410ae527.js";import"./position-engine.2f1d750c.js";import"./format.8ac60962.js";var V=x({components:{},setup(){A().setQuasar(f()),O().setQuasar(f());const t=m(),e=m([]);async function d(l){const r=C.getInstance(),n="reporte_historico_inventario";let s;switch(l){case"excel":s=c.URL_BASE+"/"+r.getEndpoint(g.reporte_inventario)+"/excel/"+t.value,await Q(s,"GET","blob","xlsx",n);break;case"pdf":s=c.URL_BASE+"/"+r.getEndpoint(g.reporte_inventario)+"/pdf/"+t.value,await Q(s,"GET","blob","pdf",n);break}}return e.value=JSON.parse(u.getItem("sucursales").toString()),e.value.unshift({id:0,lugar:"TODAS LAS SUCURSALES"}),{sucursales:e,sucursal:t,generarReporte:d,filtroSucursales(l,r){if(l===""){r(()=>{e.value=JSON.parse(u.getItem("sucursales").toString()),e.value.unshift({id:0,lugar:"TODAS LAS SUCURSALES"})});return}r(()=>{const n=l.toLowerCase();e.value=JSON.parse(u.getItem("sucursales").toString()).filter(s=>s.lugar.toLowerCase().indexOf(n)>-1)})}}}});const $={class:"col-12 col-md-3"};function T(t,e,d,l,r,n){return w(),k(U,{class:"flex flex-center"},{default:o(()=>[a(E,{flat:"",bordered:"",class:"my-card bg-grey-1"},{default:o(()=>[a(S,null,{default:o(()=>e[3]||(e[3]=[i("div",{class:"row items-center no-wrap"},[i("div",{class:"col"},[i("div",{class:"text-h6"},"Generar Reporte de Inventario")])],-1)])),_:1}),a(S,null,{default:o(()=>[i("div",$,[e[5]||(e[5]=i("label",{class:"q-mb-sm block"},"Bodega",-1)),a(y,{modelValue:t.sucursal,"onUpdate:modelValue":e[0]||(e[0]=s=>t.sucursal=s),options:t.sucursales,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"","use-input":"","input-debounce":"0",onFilter:t.filtroSucursales,"option-value":s=>s.id,"option-label":s=>s.lugar,"emit-value":"","map-options":""},{"no-option":o(()=>[a(L,null,{default:o(()=>[a(N,{class:"text-grey"},{default:o(()=>e[4]||(e[4]=[p(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","option-value","option-label"])])]),_:1}),a(I),a(B,{align:"around"},{default:o(()=>[a(v,{color:"positive",onClick:e[1]||(e[1]=s=>t.generarReporte("excel"))},{default:o(()=>[a(b,{name:"bi-file-earmark-excel-fill",size:"xs",class:"q-mr-sm"}),e[6]||(e[6]=p("Excel"))]),_:1}),a(v,{color:"negative",onClick:e[2]||(e[2]=s=>t.generarReporte("pdf"))},{default:o(()=>[a(b,{name:"bi-file-earmark-pdf-fill",size:"xs",class:"q-mr-sm"}),e[7]||(e[7]=p("PDF"))]),_:1})]),_:1})]),_:1})]),_:1})}var z=R(V,[["render",T]]);export{z as default};
