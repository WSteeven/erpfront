import{a as g,S as b}from"./utils.521b98f3.js";import{u as T}from"./listadoMaterialesDevolucion.d0f286be.js";import{u as M,be as C}from"./index.6449c167.js";import{d as n}from"./tareas.utils.309e0dff.js";import{M as y,C as v}from"./FiltroMiBodegaProyecto.bd0cdd05.js";import{a as S}from"./FiltroMiBodegaEmpleado.6f29e11b.js";const F=[{name:"detalle_producto",field:"detalle_producto",label:"Detalle del producto",align:"left",sortable:!0},{name:"serial",field:"serial",label:"Serial",align:"left",sortable:!0},{name:"medida",field:"medida",label:"Medida",align:"left",sortable:!0},{name:"categoria",field:"categoria",label:"Categoria",align:"left",sortable:!0},{name:"cliente",field:"cliente",label:"Cliente",align:"left",sortable:!0},{name:"transacciones",field:"transacciones",label:"Transacciones",align:"left",sortable:!0},{name:"stock_actual",field:"stock_actual",label:"Stock actual",align:"left",sortable:!0}];function I(t,r){const c=M(),i=T(),l=S(),s=new y,d=new v,u=new C,{notificarAdvertencia:m}=g(),o=new b;async function p(e){try{o.activar();const{result:a}=await u.listar({activas_empleado:1,empleado_id:e,para_cliente_proyecto:n.paraClienteFinal});r.tareas=a}catch(a){console.log(a)}finally{o.desactivar()}}async function f(e){try{o.activar(),e&&e.empleado_id&&(t.empleado_id=e.empleado_id);const{result:a}=await s.listar(t);r.productosTarea=a,r.productos=a,i.listadoMateriales=a,i.tareaId=t.tarea_id,i.cliente_id=t.cliente_id,i.empleado_id=t.empleado_id,l.listadoMateriales=a,l.cliente_id=t.cliente_id,l.origenProductos=n.paraClienteFinal,l.tareaId=t.tarea_id,l.idEtapa=null,l.idProyecto=null,l.idEmpleado=t.empleado_id,a.length||m("No tienes material asignado.")}catch(a){console.log(a)}finally{o.desactivar()}}async function _(e){try{o.activar(),e.empleado_id||(e.empleado_id=c.user.id);const{result:a}=await d.listar({empleado_id:e.empleado_id,...e});r.clientesMaterialesTarea=a}catch(a){console.log(a)}finally{o.desactivar()}}return{listadosAuxiliares:r,consultarClientesMaterialesTarea:_,consultarProductosTarea:f,consultarTareasClienteFinalMantenimiento:p}}export{F as c,I as u};
