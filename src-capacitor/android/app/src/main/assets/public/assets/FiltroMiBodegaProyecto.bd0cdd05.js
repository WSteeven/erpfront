var C=Object.defineProperty;var M=(a,t,i)=>t in a?C(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i;var n=(a,t,i)=>(M(a,typeof t!="symbol"?t+"":t,i),i);import{E as w}from"./EtapaController.dbfc00d7.js";import{P as T}from"./ProyectoController.fd7b11f8.js";import{bw as p,s as m,u as S}from"./index.6449c167.js";import{a as b,S as D}from"./utils.521b98f3.js";import{u as F}from"./listadoMaterialesDevolucion.d0f286be.js";import{d as z}from"./tareas.utils.309e0dff.js";import{a as L}from"./FiltroMiBodegaEmpleado.6f29e11b.js";import{E as N}from"./entidadAuditable.75a46700.js";class B extends p{constructor(){super(m.materiales_empleado_tarea)}}class I extends p{constructor(){super(m.obtener_clientes_materiales_tarea)}}function R(a,t){const i=F(),c=L(),u=new I,_=new B,l=new T,d=new w,{notificarAdvertencia:y}=b(),r=new D;async function f(){var s,o;try{r.activar();const{result:e}=await _.listar(a);t.productosProyectosEtapas=e,t.productos=e,i.listadoMateriales=e,i.cliente_id=a.cliente_id,c.listadoMateriales=e,c.cliente_id=a.cliente_id,c.idEmpleado=a.empleado_id,c.origenProductos=z.paraProyecto,c.idProyecto=a.proyecto_id,c.idEtapa=a.etapa_id,c.tareaId=(s=e[e.length-1])==null?void 0:s.tarea_id,c.codigoTarea=(o=e[e.length-1])==null?void 0:o.codigo_tarea,e.length||y("No tienes material asignado.")}catch(e){console.log(e)}finally{r.desactivar()}}async function g(s){try{r.activar();const{result:o}=await u.listar({...a,...s});t.clientesMaterialesTarea=o}catch(o){console.log(o)}finally{r.desactivar()}}async function v(){const s={campos:"id,nombre,codigo_proyecto,cliente_id,etapas,coordinador_id",finalizado:0,empleado_id:a.empleado_id};try{r.activar();const{result:o}=await l.listar(s);t.proyectos=o}catch(o){console.log(o)}finally{r.desactivar()}}async function h(){const s={campos:"id,nombre,codigo_proyecto,cliente_id,etapas",finalizado:0,empleado_id:a.empleado_id};try{r.activar();const{result:o}=await l.listar(s);t.proyectosDestino=o}catch(o){console.log(o)}finally{r.desactivar()}}async function E(s){const o={campos:"id,nombre,supervisor_id",activo:1,empleado_id:a.empleado_id,proyecto_id:s,etapas_empleado:1};try{r.activar();const{result:e}=await d.listar(o);t.etapas=e}catch(e){console.log(e)}finally{r.desactivar()}}async function P(s){const o={campos:"id,nombre",activo:1,empleado_id:a.empleado_id,proyecto_id:s,etapas_empleado:1};try{r.activar();const{result:e}=await d.listar(o);t.etapasDestino=e}catch(e){console.log(e)}finally{r.desactivar()}}return{consultarProductosProyecto:f,consultarClientesMaterialesTarea:g,consultarProyectos:v,consultarProyectosDestino:h,consultarEtapas:E,consultarEtapasDestino:P}}class U extends N{constructor(){super();n(this,"etapa_id");n(this,"proyecto_id");n(this,"empleado_id");n(this,"cliente_id");this.etapa_id=null,this.proyecto_id=null,this.empleado_id=S().user.id,this.cliente_id=null,this.isComponentFilesModified=null}}export{I as C,U as F,B as M,R as u};
