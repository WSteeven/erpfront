import{d as Q,m as q,u as N,c as S,f as L,h as $,bV as g,p as G,bx as k,_ as Z,t as _,v as H,P as J,F as C,y as c,z as n,O as K,D as U,B as W}from"./index.6449c167.js";import{Q as X}from"./QPage.5d173a8a.js";import{c as Y}from"./configuracionColumnasSubtarea.d1811799.js";import{u as x}from"./BotonesTablaSubtarea.ba8e1e74.js";import{S as oo}from"./Subtarea.3371ad54.js";import{t as ao}from"./tareas.utils.309e0dff.js";import{u as to}from"./ArchivoSeguimiento.982c5761.js";import{u as ro}from"./utils.521b98f3.js";import{E as io}from"./EssentialTableTabs.586dbdfc.js";import{M as eo}from"./ModalEntidad.168b465e.js";import{C as no}from"./CausaIntervencionController.581e7043.js";import{M as so}from"./MotivoSuspendidoController.92d1d6c0.js";import{C as mo}from"./ComportamientoModalesSubtarea.44c4a6f4.js";import{M as po}from"./MotivoPausaController.a7e55155.js";import{C as lo}from"./ContenedorSimpleMixin.09c9bed5.js";import{S as co}from"./SubtareaController.f99556ec.js";import"./EssentialTable.00c17e97.js";import"./QSelect.6ce302d7.js";import"./QChip.95469f73.js";import"./QItemSection.9a955ec6.js";import"./position-engine.70d0a89f.js";import"./format.8ac60962.js";import"./QToolbar.8dbe891b.js";import"./use-fullscreen.a7661f85.js";import"./QBadge.e6f320cd.js";import"./QPopupProxy.72ff1d6d.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.fd079679.js";import"./QFile.90d9394a.js";import"./VisorImagen.75b3c53f.js";import"./logo.4781eea2.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./i18n-validators.29e2545c.js";import"./index.0198dd12.js";import"./BotonesTablaTicket.57b91371.js";import"./ComponenteModal.domain.50e59f97.js";import"./index.490dde02.js";import"./DepartamentoController.0e15eb40.js";import"./FiltrosListadosTicket.304521f8.js";import"./filtrosListadosGenerales.c3aa2da3.js";import"./QScrollArea.4854d82f.js";import"./QResizeObserver.9af84680.js";import"./QScrollObserver.b4b0444d.js";import"./TouchPan.5bc050d4.js";import"./touch.9135741d.js";import"./es.edeb524b.js";import"./dayjs.min.80d1628b.js";import"./entidadAuditable.75a46700.js";import"./TablaFilasDinamicas.318e936a.js";import"./buttonSubmits.fe817da3.js";import"./Archivo.c26f5472.js";import"./use-slider.21ffd25c.js";import"./TicketController.7b1f7a6b.js";import"./CategoriaTipoTicketController.b5a68afd.js";import"./TipoTicketController.50e5832d.js";import"./MotivoCanceladoTicketController.5f9621f7.js";import"./QTabs.6c234f27.js";import"./QTabPanels.49d2362a.js";import"./trabajoAsignado.75736b56.js";import"./ComportamientoModalesTicketAsignado.1a7afd5a.js";import"./FiltroMiBodegaEmpleado.6f29e11b.js";import"./ClienteMaterialEmpleadoController.7d9b9472.js";import"./listadoMaterialesDevolucion.d0f286be.js";import"./FiltroMiBodegaProyecto.bd0cdd05.js";import"./EtapaController.dbfc00d7.js";import"./ProyectoController.fd7b11f8.js";import"./movilizacionSubtarea.b5ca9608.js";import"./QUploader.cca1b7bd.js";import"./QCircularProgress.b24a7ee9.js";import"./configuracionColumnasArchivoSubtarea.215f4ffd.js";import"./EssentialTablePagination.d5c1010a.js";import"./configuracion_general.37a05c0a.js";import"./ConfiguracionController.c50d9536.js";import"./QExpansionItem.e36a6702.js";import"./configuracionColumnasMovilizacionSubtarea.e610a352.js";import"./configuracionColumnasEmpleadoGrupo.222e165b.js";import"./FiltrosListadosTarea.245f381c.js";import"./DesignarResponsableTrabajo.445ecff6.js";import"./QBtnToggle.a42fc084.js";import"./EssentialSelectableTable.5a9cc771.js";import"./selector.9691ac4b.js";import"./SelectorController.de8e1cd0.js";import"./Empleado.20234ba0.js";import"./GrupoController.6ad12a37.js";import"./LabelAbrirModal.12abdec4.js";import"./TabLayout.0bce4313.js";import"./ArchivoSubtareaController.eca90cbd.js";import"./TipoTrabajoController.d60c8890.js";import"./AlimentacionGrupoPage.dff06416.js";import"./QForm.ca56f146.js";import"./ClienteFinalController.a0477f5f.js";import"./MovilizacionSubtareaController.4c60b923.js";import"./ClienteFinalPage.1f7cfcaa.js";import"./ClienteController.33eca86a.js";import"./ProvinciaController.5b942896.js";import"./RegistroTendido.387fb92a.js";import"./configuracionColumnasProductos.4f52212a.js";var uo=Q({components:{EssentialTableTabs:io,ModalesEntidad:eo},setup(){const o=to();ro().setQuasar(q());const a=N(),r=new lo(oo,new co),{listado:i,listadosAuxiliares:d,filtros:u}=r.useReferencias(),{filtrar:e,listar:s,cargarVista:h,obtenerListados:v}=r.useComportamiento();h(async()=>{await v({motivosSuspendidos:new so,motivosPausas:new po,causasIntervenciones:new no})});const m=new mo,{btnIniciar:M,btnPausar:j,btnReanudar:F,btnSeguimiento:E,btnReagendar:T,btnRealizar:A,btnSuspender:w,btnCancelar:V,btnFinalizar:I,btnVerAlimentacion:P,setFiltrarTrabajoAsignado:y,guardadoModalesSubtarea:z}=x(i,m,d);y(l);const b=S(),p=S(),O=L(()=>!i.value.length),R=!a.esContabilidad,B={titulo:"M\xE1s detalles",icono:"bi-eye",accion:({entidad:t})=>{o.idSubtareaSeleccionada=t.id,o.accion=k.consultar,m.abrirModalEntidad("SubtareaPage")}};function l(t){const f="id,codigo_tarea,codigo_subtarea,titulo,estado,grupo,grupo_id,empleado_responsable,empleado_responsable_id,coordinador,tipo_trabajo,cantidad_adjuntos,fecha_solicitud,es_ventana,fecha_hora_creacion,fecha_inicio_trabajo,hora_inicio_trabajo,hora_fin_trabajo,fecha_hora_asignacion,fecha_hora_agendado,fecha_hora_ejecucion,fecha_hora_realizado,fecha_hora_finalizacion,dias_ocupados,fecha_hora_suspendido,motivo_suspendido,fecha_hora_cancelado,motivo_cancelado,subtarea_dependiente,canton,cliente,cliente_id,proyecto,proyecto_id,puede_ejecutar,puede_suspender,es_responsable,tarea_id";u.fields={estado:t,campos:f},b.value=t,p.value.getSearchValue()?p.value.toSearch():s({estado:t,campos:f,paginate:!0})}$(()=>l(a.esContabilidad?g.FINALIZADO:g.AGENDADO));function D(t){e(t)}return{refTabla:p,mixin:r,tabActual:b,columnasSubtareas:[...Y,G],listado:i,tabOptionsEstadosSubtareasMonitor:ao,btnConsultarSubtarea:B,btnIniciar:M,btnPausar:j,btnReanudar:F,btnRealizar:A,modalesSubtarea:m,btnSeguimiento:E,btnReagendar:T,btnSuspender:w,btnCancelar:V,btnFinalizar:I,btnVerAlimentacion:P,filtrarSubtareas:l,filtrar:e,aplicarFiltro:D,altoFijo:O,mostrarTabs:R,guardadoModalesSubtarea:z}}});const bo={class:"column q-mb-md q-gutter-sm items-center"};function fo(o,a,r,i,d,u){const e=_("essential-table-tabs"),s=_("modales-entidad");return H(),J(X,{padding:""},{default:C(()=>[c("div",bo,[a[2]||(a[2]=c("b",{class:"text-h5 text-bold"},"Monitor",-1)),a[3]||(a[3]=c("small",null,"Ten una visi\xF3n completa de todos los trabajos y sus estados.",-1)),n(K,{color:"primary",class:"q-px-md",to:{name:"tareas"},"no-caps":"",dense:"",square:"",unelevated:""},{default:C(()=>[a[1]||(a[1]=U("Ir a Control de tareas ")),n(W,{name:"bi-box-arrow-in-right",class:"q-ml-sm"})]),_:1})]),n(e,{ref:"refTabla",class:"custom-shadow5 borde rounded",titulo:"Existen "+o.listado.length+" subtarea(s) en estado "+o.tabActual+".",configuracionColumnas:o.columnasSubtareas,datos:o.listado,tabOptions:o.tabOptionsEstadosSubtareasMonitor,accion1:o.btnConsultarSubtarea,accion2:o.btnIniciar,accion3:o.btnPausar,accion4:o.btnReanudar,accion5:o.btnRealizar,accion6:o.btnReagendar,accion7:o.btnSeguimiento,accion8:o.btnSuspender,accion9:o.btnCancelar,accion10:o.btnFinalizar,accion11:o.btnVerAlimentacion,separador:"cell",permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,"mostrar-botones":!1,"mostrar-footer":"",permitirFiltrar:!0,onTabSeleccionado:o.filtrarSubtareas,tabDefecto:o.tabActual,altoFijo:o.altoFijo,onFiltrar:o.aplicarFiltro,onLimpiarListado:a[0]||(a[0]=()=>o.listado=[]),mostrarExportar:!0,"ajustar-celdas":"",paginate:"",mixin:o.mixin},null,8,["titulo","configuracionColumnas","datos","tabOptions","accion1","accion2","accion3","accion4","accion5","accion6","accion7","accion8","accion9","accion10","accion11","onTabSeleccionado","tabDefecto","altoFijo","onFiltrar","mixin"]),n(s,{comportamiento:o.modalesSubtarea,"mixin-modal":o.mixin,"confirmar-cerrar":!1,persistente:!1,onGuardado:o.guardadoModalesSubtarea},null,8,["comportamiento","mixin-modal","onGuardado"])]),_:1})}var nt=Z(uo,[["render",fo]]);export{nt as default};
