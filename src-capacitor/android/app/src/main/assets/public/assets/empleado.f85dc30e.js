import{E as v}from"./Empleado.20234ba0.js";import{m as E,e as r,f as y,A as n,t as s,E as _}from"./index.976e8f3c.js";import{S as w}from"./utils.30e08aa2.js";const I=E("empleadoStore",()=>{const o=r(),l=r(!1),c=y(new v),t=new w;async function d(){const{result:a}=await new _().listar({id:o.value});c.hydrate(a[0])}async function m(){await d()}async function p(){t.activar();const a=n.getInstance(),e=a.getEndpoint(s.empleado_tiene_ficha_socioeconomica)+"/"+o.value,i=await a.get(e);return t.desactivar(),i.data.result}async function u(){t.activar();const a=n.getInstance(),e=a.getEndpoint(s.empleado_tiene_visita_domiciliaria)+"/"+o.value,i=await a.get(e);return t.desactivar(),i.data.result}async function f(){try{t.activar();const a=n.getInstance(),e=a.getEndpoint(s.ultima_ficha_socioeconomica_empleado)+"/"+o.value;return(await a.get(e)).data.modelo}catch(a){console.error(a)}finally{t.desactivar()}}async function g(){try{t.activar();const a=n.getInstance(),e=a.getEndpoint(s.ultima_visita_domiciliaria_empleado)+"/"+o.value;return(await a.get(e)).data.modelo}catch(a){console.error(a)}finally{t.desactivar()}}return{empleado:c,idEmpleado:o,infoEmpleado:l,cargarEmpleado:m,tieneFichaSocioeconomica:p,tieneVisitaDomiciliaria:u,obtenerUltimaFichaSocieconomica:f,obtenerUltimaVisitaDomiciliaria:g}});export{I as u};
