import{c as z,u as B,e as T,bV as Q,q as $,v as L,x as m,y as A,S as Y,H as d,B as l,D as i,F as G,M as E,z as U,L as Z}from"./index.976e8f3c.js";import{a as H,Q as h}from"./QTabPanels.1c8c4baa.js";import{Q as K}from"./QPage.ed5d79ca.js";import{c as J}from"./configuracionColumnasTicket.46e6683c.js";import{E as W,N as X,e as _}from"./EssentialTable.d8e6954a.js";import{d as x,T as aa,u as oa}from"./BotonesTablaTicket.8eaa0146.js";import{K as ia}from"./utils.30e08aa2.js";import{C as ta}from"./ConfirmarDialog.7e84f025.js";import{E as ea}from"./EssentialTableTabs.c7e98bba.js";import{M as na}from"./ModalEntidad.84100166.js";import{C as sa}from"./CalloutComponent.aad0ab14.js";import{C as ra}from"./ComportamientoModalesTicketAsignado.4be2d82b.js";import{C as ca}from"./ContenedorSimpleMixin.5a0b06ab.js";import{T as la}from"./TicketController.af9c2ba9.js";import{M as ma}from"./MotivoPausaTicketController.370cb1c0.js";import{T as da}from"./TicketPusherEvent.f11f73fa.js";import"./touch.9135741d.js";import"./position-engine.2f1d750c.js";import"./QPopupProxy.d8ef7a42.js";import"./format.8ac60962.js";import"./QMenu.410ae527.js";import"./QSelect.a8f2bfb2.js";import"./QChip.334d746c.js";import"./QItemSection.c6f2640c.js";import"./QFile.e27868da.js";import"./QTable.048b8be8.js";import"./use-fullscreen.0ccd26e6.js";import"./QToolbar.cff7174f.js";import"./QBtnGroup.7d0835e4.js";import"./QBadge.1ddeabfd.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e0fb285c.js";import"./VisorImagen.e7965569.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.b482e77d.js";import"./i18n-validators.06eef631.js";import"./index.95f5a0db.js";import"./ComponenteModal.domain.22ea4557.js";import"./index.ed676411.js";import"./DepartamentoController.6b5e308b.js";import"./FiltrosListadosTicket.4901916f.js";import"./filtrosListadosGenerales.31e9eb2c.js";import"./QScrollArea.f0584ddf.js";import"./QResizeObserver.6ec10d95.js";import"./QScrollObserver.cb4b92b2.js";import"./TouchPan.60cc61dc.js";import"./es.5c829d48.js";import"./dayjs.min.7780de8a.js";import"./ArchivoSeguimiento.c473f5d7.js";import"./QUploader.43bbdad9.js";import"./QCircularProgress.4d1a2735.js";import"./configuracionColumnasArchivoSubtarea.215f4ffd.js";import"./entidadAuditable.75a46700.js";import"./TablaFilasDinamicas.262857b3.js";import"./buttonSubmits.2eb37d38.js";import"./Archivo.c26f5472.js";import"./use-slider.d34561e4.js";import"./CategoriaTipoTicketController.76f1a755.js";import"./TipoTicketController.d5ce7c3f.js";import"./MotivoCanceladoTicketController.b353f34a.js";import"./QTabs.3c726b04.js";import"./EssentialTablePagination.f449a738.js";import"./configuracion_general.ef04b031.js";import"./ConfiguracionController.65de3fc5.js";import"./notificationRealtime.cf45dfec.js";const pa=[...J];var ua=z({components:{EssentialTableTabs:ea,EssentialTable:W,ModalesEntidad:na,ConfirmarDialog:ta,Callout:sa},setup(){var v;const a=x(),o=B(),n=new ca(aa,new la),{listado:g,filtros:k}=n.useReferencias(),{listar:C,cargarVista:p,obtenerListados:u}=n.useComportamiento();p(async()=>{await u({motivosPausas:{controller:new ma,params:{activo:1}}})});const b=T(!1),e=new ra,s=T(),{btnTransferir:P,btnEjecutar:w,btnPausar:M,btnReanudar:D,btnFinalizar:F,btnSeguimiento:S,setFiltrarTickets:y,btnRechazar:R,btnCalificarSolicitante:j,btnCalificarResponsable:O}=oa(n,e);y(c);const r={listado:"listado",individual:"individual"},f=T(r.listado),V=(v=o.user.foto_url)!=null?v:`https://ui-avatars.com/api/?name=${o.user.nombres.substr(0,1)}+${o.user.apellidos.substr(0,1)}&bold=true&background=0879dc28&color=0879dc`,N={titulo:"M\xE1s detalles",icono:"bi-eye",accion:async({entidad:t})=>{a.filaTicket=t,e.abrirModalEntidad("DetalleTicketAsignadoPage")}};async function c(t){await C({responsable_id:o.user.id,estado:t,paginate:!0,para_mi:!0}),s.value=t,k.fields={estado:t,responsable_id:o.user.id,para_mi:!0}}c(Q.ASIGNADO),new da(c).start();async function q(t){switch(t){case"CalificarTicketPage":c(s.value);break}e.cerrarModalEntidad()}function I(){f.value=f.value===r.individual?r.listado:r.individual}return{mixin:n,listado:g,imagenPerfil:V,configuracionColumnasTicketAsignado:pa,tabOptionsEstadosTicketsAsignados:X,filtrarTrabajoAsignado:c,accionesTabla:$,modales:e,mostrarDialogPlantilla:b,botonVer:N,btnTransferir:P,btnEjecutar:w,btnPausar:M,btnReanudar:D,btnSeguimiento:S,btnFinalizar:F,btnRechazar:R,btnCalificarSolicitante:j,btnCalificarResponsable:O,tabActual:s,estadosTickets:_,fecha:ia.formatDate(Date.now(),"dddd, DD MMMM YYYY"),authenticationStore:o,guardado:q,tabsOpcionesFiltrado:f,opcionesFiltrado:r,buscarIndividual:I}}});const ba={class:"row q-mb-md"},fa={class:"col-12 row items-center justify-between q-px-md q-mb-sm q-py-sm"},Ta={key:0,class:"col-12"};function ga(a,o,n,g,k,C){const p=m("callout"),u=m("essential-table-tabs"),b=m("essential-table"),e=m("modales-entidad");return A(),Y(K,{padding:""},{default:d(()=>[l("div",ba,[l("div",fa,[l("span",null,[i(G,{name:"bi-person-check-fill",color:"primary",class:"q-mr-sm"}),o[1]||(o[1]=l("span",null,E("Tickets asignados para mi"),-1))]),l("b",null,E(a.fecha),1)]),a.tabActual===a.estadosTickets.FINALIZADO_SOLUCIONADO?(A(),U("div",Ta,[i(p,{tipo:"info",mensaje:"Para <b>REANUDAR</b> un ticket <b>FINALIZADO</b> primero <b>pause</b> el ticket que se est\xE1 ejecutando actualmente."})])):Z("",!0)]),i(H,{modelValue:a.tabsOpcionesFiltrado,"onUpdate:modelValue":o[0]||(o[0]=s=>a.tabsOpcionesFiltrado=s),animated:"","transition-prev":"scale","transition-next":"scale",class:"bg-body-background-gradient border-white rounded custom-shadow","keep-alive":""},{default:d(()=>[i(h,{name:a.opcionesFiltrado.listado,class:"q-pa-none"},{default:d(()=>[i(u,{titulo:"Tienes "+a.listado.length+" ticket(s) en estado "+a.tabActual,configuracionColumnas:[...a.configuracionColumnasTicketAsignado,a.accionesTabla],datos:a.listado,accion1:a.botonVer,accion2:a.btnTransferir,accion3:a.btnEjecutar,accion4:a.btnSeguimiento,accion5:a.btnPausar,accion6:a.btnReanudar,accion7:a.btnFinalizar,accion8:a.btnRechazar,accion9:a.btnCalificarResponsable,permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,"mostrar-botones":!1,"ajustar-celdas":"",paginate:"",mixin:a.mixin,"tab-options":a.tabOptionsEstadosTicketsAsignados,onTabSeleccionado:a.filtrarTrabajoAsignado,"tab-defecto":a.tabActual},null,8,["titulo","configuracionColumnas","datos","accion1","accion2","accion3","accion4","accion5","accion6","accion7","accion8","accion9","mixin","tab-options","onTabSeleccionado","tab-defecto"])]),_:1},8,["name"]),i(h,{name:a.opcionesFiltrado.individual},{default:d(()=>[i(b,{titulo:"Ticket buscado",configuracionColumnas:[...a.configuracionColumnasTicketAsignado,a.accionesTabla],datos:a.listado,accion1:a.botonVer,accion2:a.btnTransferir,accion3:a.btnEjecutar,accion4:a.btnSeguimiento,accion5:a.btnPausar,accion6:a.btnReanudar,accion7:a.btnFinalizar,accion8:a.btnRechazar,accion9:a.btnCalificarResponsable,permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,permitirBuscar:!1,"mostrar-botones":!1},null,8,["configuracionColumnas","datos","accion1","accion2","accion3","accion4","accion5","accion6","accion7","accion8","accion9"])]),_:1},8,["name"])]),_:1},8,["modelValue"]),i(e,{comportamiento:a.modales,"mixin-modal":a.mixin,accion:a.filtrarTrabajoAsignado,onGuardado:a.guardado,"confirmar-cerrar":!1,persistente:!1},null,8,["comportamiento","mixin-modal","accion","onGuardado"])]),_:1})}var Ro=L(ua,[["render",ga]]);export{Ro as default};
