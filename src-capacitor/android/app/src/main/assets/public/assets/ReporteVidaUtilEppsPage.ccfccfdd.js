import{Q as v}from"./QSelect.a8f2bfb2.js";import{c as b,U as _,be as g,p as u,f as x,A as Q,bH as w,t as A,v as E,y as R,S as C,H as r,D as i,B as t,bf as N,R as V,F as I}from"./index.976e8f3c.js";import{Q as P}from"./QPage.ed5d79ca.js";import{Q as S,a as T}from"./QLayout.732b3e1b.js";import{T as y}from"./Transaccion.ef293505.js";import{T as h}from"./TransaccionIngresoController.853a6f44.js";import{u as k,A as q}from"./utils.30e08aa2.js";import{C as B}from"./ContenedorSimpleMixin.5a0b06ab.js";import{E as $}from"./EssentialTable.d8e6954a.js";import"./QChip.334d746c.js";import"./QItemSection.c6f2640c.js";import"./QMenu.410ae527.js";import"./position-engine.2f1d750c.js";import"./format.8ac60962.js";import"./QScrollObserver.cb4b92b2.js";import"./QResizeObserver.6ec10d95.js";import"./entidadAuditable.75a46700.js";import"./QFile.e27868da.js";import"./QTable.048b8be8.js";import"./use-fullscreen.0ccd26e6.js";import"./QToolbar.cff7174f.js";import"./QBtnGroup.7d0835e4.js";import"./QBadge.1ddeabfd.js";import"./QPopupProxy.d8ef7a42.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e0fb285c.js";import"./VisorImagen.e7965569.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.b482e77d.js";import"./i18n-validators.06eef631.js";import"./index.95f5a0db.js";var O=b({components:{EssentialTable:$},setup(){const s=new B(y,new h),{listado:o}=s.useReferencias(),{notificarError:p,notificarAdvertencia:m}=_();g().setQuasar(u()),k().setQuasar(u());const a=x({tipo:"",accion:""});async function d(e){try{const n=Q.getInstance(),c=w.URL_BASE+"/"+n.getEndpoint(A.reporte_vida_util_epps),f=a.tipo==="INVENTARIO"?"reporte_vida_util_inventario":"reporte_vida_util_asignados";switch(e){case"excel":a.accion="excel",await q(c,"POST","blob","xlsx",f,a);break;default:a.accion="";const l=await n.post(c,a);l.data.results&&(o.value=l.data.results,l.data.results.length<1&&m("No se obtuvieron resultados"))}}catch(n){console.log(n),p("Error al obtener reporte")}}return{mixin:s,reporte:a,buscarReporte:d,tiposReportes:[{value:"INVENTARIO",label:"Vida \xFAtil de EPPs en Inventario"},{value:"ASIGNADOS",label:"Vida \xFAtil de EPPs asignados a Personal"}]}}});const U={class:"col"},F={class:"row q-col-gutter-sm q-pa-sm q-py-md"},H={class:"col-12 col-md-6"},j={class:"col-6 col-md-6 q-mt-sm"},D={class:"text-center"};function L(s,o,p,m,a,d){return R(),C(T,null,{default:r(()=>[i(S,null,{default:r(()=>[i(P,{padding:""},{default:r(()=>[t("div",U,[i(N,{class:"rounded-card custom-shadow"},{default:r(()=>[t("div",F,[t("div",H,[o[2]||(o[2]=t("label",{class:"q-mb-sm block"},"Tipo de Reporte",-1)),i(v,{modelValue:s.reporte.tipo,"onUpdate:modelValue":o[0]||(o[0]=e=>s.reporte.tipo=e),options:s.tiposReportes,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"","option-value":e=>e.value,"option-label":e=>e.label,"emit-value":"","map-options":""},null,8,["modelValue","options","option-value","option-label"])]),t("div",j,[o[4]||(o[4]=t("label",null," \xA0",-1)),t("div",D,[i(V,{color:"positive",class:"full-width","no-caps":"","no-wrap":"",push:"",glossy:"",onClick:o[1]||(o[1]=e=>s.buscarReporte("excel"))},{default:r(()=>[i(I,{name:"bi-file-earmark-excel-fill",size:"xs",class:"q-mr-sm"}),o[3]||(o[3]=t("span",null,"Excel",-1))]),_:1})])])])]),_:1})])]),_:1})]),_:1})]),_:1})}var Eo=E(O,[["render",L]]);export{Eo as default};
