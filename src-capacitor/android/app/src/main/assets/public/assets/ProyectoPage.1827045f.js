var _o=Object.defineProperty;var Oo=(o,e,b)=>e in o?_o(o,e,{enumerable:!0,configurable:!0,writable:!0,value:b}):o[e]=b;var p=(o,e,b)=>(Oo(o,typeof e!="symbol"?e+"":e,b),b);import{m as Do,e as I,f as Ho,c as eo,V as _,v as ko,x,y as t,S as qo,H as r,D as s,a7 as ao,B as l,G as q,z as n,I as V,J as E,M as C,K as z,aa as lo,bA as oo,Y as m,bi as bo,A as jo,t as Go,U as Jo,u as fo,cv as Ko,E as vo,g as Yo,be as Wo,p as Xo,q as Zo,s as xo,F as X,k as yo,R as go,L as Z}from"./index.976e8f3c.js";import{Q as M,a as S}from"./QItemSection.c6f2640c.js";import{Q as U}from"./QSelect.a8f2bfb2.js";import{Q as $o,a as ho,C as Vo}from"./QPopupProxy.d8ef7a42.js";import{Q as so}from"./QForm.ed6f6690.js";import{r as w,m as oe,h as Eo,a as ee}from"./i18n-validators.06eef631.js";import{E as Fo}from"./entidadAuditable.75a46700.js";import{u as ro}from"./index.ed676411.js";import{T as io}from"./TabLayout.d6dcc414.js";import{E as zo}from"./EssentialTable.d8e6954a.js";import{M as ae}from"./ModalEntidad.84100166.js";import{C as to}from"./ContenedorSimpleMixin.5a0b06ab.js";import{C as Co,a as le}from"./ComponenteModal.domain.22ea4557.js";import{E as no}from"./EtapaController.9ea539ef.js";import{E as Bo}from"./EmpleadoRolesController.69a9291a.js";import{P as uo}from"./ProyectoController.29ab1934.js";import{u as Po}from"./filtrosListadosGenerales.31e9eb2c.js";import{u as Mo}from"./FiltrosListadosTarea.dcb68df5.js";import{C as se}from"./ClienteController.f53ff018.js";import"./QChip.334d746c.js";import"./QMenu.410ae527.js";import"./position-engine.2f1d750c.js";import"./format.8ac60962.js";import"./utils.30e08aa2.js";import"./index.95f5a0db.js";import"./QTabs.3c726b04.js";import"./QResizeObserver.6ec10d95.js";import"./QTabPanels.1c8c4baa.js";import"./touch.9135741d.js";import"./QPage.ed5d79ca.js";import"./buttonSubmits.2eb37d38.js";import"./EssentialTablePagination.f449a738.js";import"./QTable.048b8be8.js";import"./use-fullscreen.0ccd26e6.js";import"./QToolbar.cff7174f.js";import"./QBtnGroup.7d0835e4.js";import"./QBadge.1ddeabfd.js";import"./QFile.e27868da.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e0fb285c.js";import"./VisorImagen.e7965569.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.b482e77d.js";import"./configuracion_general.ef04b031.js";import"./ConfiguracionController.65de3fc5.js";const re=[{name:"codigo_proyecto",field:"codigo_proyecto",label:"C\xF3digo proyecto",align:"left",sortable:!0},{name:"cliente",field:"cliente",label:"Cliente corporativo",align:"left",sortable:!0},{name:"nombre",field:"nombre",label:"Nombre de proyecto",align:"left",sortable:!0},{name:"canton",field:"canton",label:"Cant\xF3n",align:"left",sortable:!0},{name:"coordinador",field:"coordinador",label:"Coordinador",align:"left",sortable:!0},{name:"fecha_inicio",field:"fecha_inicio",label:"Fecha inicio",align:"left",sortable:!0},{name:"fecha_fin",field:"fecha_fin",label:"Fecha fin",align:"left",sortable:!0},{name:"tiempo_ocupado",field:"tiempo_ocupado",label:"Tiempo ocupado",align:"left"},{name:"finalizado",field:"finalizado",label:"Finalizado",align:"left"}];class co extends Fo{constructor(){super();p(this,"nombre");p(this,"activo");p(this,"responsable");p(this,"responsable_id");p(this,"supervisor_id");p(this,"proyecto");p(this,"codigo_proyecto");this.nombre=null,this.activo=!0,this.responsable=null,this.responsable_id=null,this.supervisor_id=null,this.proyecto=null,this.codigo_proyecto=null}}const So=Do("etapa",()=>{const o=I(),e=Ho(new co);return{idEtapa:o,etapa:e}}),po=[{name:"codigo_proyecto",field:"codigo_proyecto",label:"C\xF3digo proyecto",align:"left",sortable:!0},{name:"nombre",field:"nombre",label:"Nombre",align:"left",sortable:!0},{name:"responsable",field:"responsable",label:"Responsable",align:"left",sortable:!0},{name:"activo",field:"activo",label:"Etapa activa",type:"toggle",align:"left",sortable:!0}];var ie=eo({components:{TabLayout:io,EssentialTable:zo},setup(o,{emit:e}){const b=new to(co,new no),{entidad:v,disabled:g,accion:$,listadosAuxiliares:f}=b.useReferencias(),{cargarVista:i,obtenerListados:N,setValidador:a}=b.useComportamiento(),{onGuardado:O}=b.useHooks();i(async()=>{await N({empleados:{controller:new Bo,params:{roles:[_.coordinador,_.supervisor]}},proyectos:{controller:new uo,params:{finalizado:0}}}),h.value=f.empleados,A.value=f.proyectos});const B=ro({nombre:{required:w},proyecto:{required:w},responsable:{required:w}},v);O(()=>{e("cerrar-modal",!1),e("guardado","Etapa")});function H(){const P=A.value.filter(j=>j.id===v.proyecto);v.responsable=P[0].coordinador_id?P[0].coordinador_id:null}const{empleados:h,filtrarEmpleados:L,ordenarEmpleados:R}=Po(f),{proyectos:A,filtrarProyectos:T}=Mo(f);return{mixin:b,etapa:v,disabled:g,accion:$,v$:B,configuracionColumnas:po,actualizarResponsable:H,empleados:h,filtrarEmpleados:L,ordenarEmpleados:R,proyectos:A,filtrarProyectos:T}}});const te={class:"row q-col-gutter-sm q-py-md"},ne={class:"col-12 col-md-3"},de={class:"error-msg"},ue={class:"col-12 col-md-3"},ce={class:"error-msg"},pe={class:"col-12 col-md-3"},me={class:"error-msg"},be={class:"col-12 col-md-3"};function fe(o,e,b,v,g,$){const f=x("tab-layout");return t(),qo(f,{mixin:o.mixin,configuracionColumnas:o.configuracionColumnas,"titulo-pagina":"Proyectos"},{formulario:r(()=>[s(so,{onSubmit:e[4]||(e[4]=ao(()=>{},["prevent"]))},{default:r(()=>[l("div",te,[l("div",ne,[e[6]||(e[6]=l("label",{class:"q-mb-sm block"},"Proyecto",-1)),s(U,{modelValue:o.etapa.proyecto,"onUpdate:modelValue":[e[0]||(e[0]=i=>o.etapa.proyecto=i),o.actualizarResponsable],options:o.proyectos,onFilter:o.filtrarProyectos,disable:o.disabled,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":i=>i.codigo_proyecto,"option-value":i=>i.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":"",error:!!o.v$.proyecto.$errors.length,onBlur:o.v$.proyecto.$touch},{"no-option":r(()=>[s(M,null,{default:r(()=>[s(S,{class:"text-grey"},{default:r(()=>e[5]||(e[5]=[q(" No hay resultados ")])),_:1})]),_:1})]),error:r(()=>[(t(!0),n(V,null,E(o.v$.proyecto.$errors,i=>(t(),n("div",{key:i.$uid},[l("div",de,C(i.$message),1)]))),128))]),_:1},8,["modelValue","options","onFilter","onUpdate:modelValue","disable","option-label","option-value","error","onBlur"])]),l("div",ue,[e[8]||(e[8]=l("label",{class:"q-mb-sm block"},"Responsable",-1)),s(U,{modelValue:o.etapa.responsable,"onUpdate:modelValue":e[1]||(e[1]=i=>o.etapa.responsable=i),options:o.empleados,onFilter:o.filtrarEmpleados,onPopupShow:o.ordenarEmpleados,disable:o.disabled,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":i=>i.apellidos+" "+i.nombres,"option-value":i=>i.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":"",error:!!o.v$.responsable.$errors.length,onBlur:o.v$.responsable.$touch},{"no-option":r(()=>[s(M,null,{default:r(()=>[s(S,{class:"text-grey"},{default:r(()=>e[7]||(e[7]=[q(" No hay resultados ")])),_:1})]),_:1})]),error:r(()=>[(t(!0),n(V,null,E(o.v$.responsable.$errors,i=>(t(),n("div",{key:i.$uid},[l("div",ce,C(i.$message),1)]))),128))]),_:1},8,["modelValue","options","onFilter","onPopupShow","disable","option-label","option-value","error","onBlur"])]),l("div",pe,[e[9]||(e[9]=l("label",{class:"q-mb-sm block"},"Nombre",-1)),s(z,{modelValue:o.etapa.nombre,"onUpdate:modelValue":e[2]||(e[2]=i=>o.etapa.nombre=i),error:!!o.v$.nombre.$errors.length,onBlur:o.v$.nombre.$touch,placeholder:"Obligatorio",disable:o.disabled,outlined:"",dense:""},{error:r(()=>[(t(!0),n(V,null,E(o.v$.nombre.$errors,i=>(t(),n("div",{key:i.$uid},[l("div",me,C(i.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur","disable"])]),l("div",be,[e[10]||(e[10]=l("br",null,null,-1)),s(lo,{modelValue:o.etapa.activo,"onUpdate:modelValue":e[3]||(e[3]=i=>o.etapa.activo=i),"checked-icon":"check",color:"positive",label:"Activo"},null,8,["modelValue"])])])]),_:1})]),_:1},8,["mixin","configuracionColumnas"])}var ve=ko(ie,[["render",fe]]);const ye={class:"row q-col-gutter-sm q-py-md"},ge={class:"col-12 col-md-3"},$e={class:"error-msg"},he={class:"col-12 col-md-3"},Ve={class:"error-msg"},Ee={class:"col-12 col-md-3"},Ce={class:"error-msg"},we={class:"col-12 col-md-3"},ke=eo({__name:"EditarEtapaPage",emits:["cerrar-modal","guardado"],setup(o,{emit:e}){const b=e,v=new to(co,new no),{entidad:g,disabled:$,accion:f,listadosAuxiliares:i}=v.useReferencias(),{cargarVista:N,obtenerListados:a,consultar:O}=v.useComportamiento(),{onModificado:D}=v.useHooks(),B=So();N(async()=>{await a({empleados:{controller:new Bo,params:{roles:[_.coordinador,_.supervisor]}},proyectos:{controller:new uo,params:{finalizado:0}}}),R.value=i.empleados,P.value=i.proyectos,B.idEtapa&&(console.log(B.idEtapa),f.value=oo.editar,O({id:B.idEtapa}))});const h=ro({nombre:{required:w},proyecto:{required:w},responsable:{required:w}},g);D(()=>{b("cerrar-modal",!1),b("guardado","Etapa")});function L(){const G=P.value.filter(u=>u.id===g.proyecto);g.responsable=G[0].coordinador_id?G[0].coordinador_id:null}const{empleados:R,filtrarEmpleados:A,ordenarEmpleados:T}=Po(i),{proyectos:P,filtrarProyectos:j}=Mo(i);return(G,u)=>(t(),qo(io,{mixin:m(v),configuracionColumnas:m(po),"titulo-pagina":"Proyectos",mostrarListado:!1},{formulario:r(()=>[s(so,{onSubmit:u[4]||(u[4]=ao(()=>{},["prevent"]))},{default:r(()=>[l("div",ye,[l("div",ge,[u[6]||(u[6]=l("label",{class:"q-mb-sm block"},"Proyecto",-1)),s(U,{modelValue:m(g).proyecto,"onUpdate:modelValue":[u[0]||(u[0]=c=>m(g).proyecto=c),L],options:m(P),onFilter:m(j),disable:m($),"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":c=>c.codigo_proyecto,"option-value":c=>c.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":"",error:!!m(h).proyecto.$errors.length,onBlur:m(h).proyecto.$touch},{"no-option":r(()=>[s(M,null,{default:r(()=>[s(S,{class:"text-grey"},{default:r(()=>u[5]||(u[5]=[q(" No hay resultados ")])),_:1})]),_:1})]),error:r(()=>[(t(!0),n(V,null,E(m(h).proyecto.$errors,c=>(t(),n("div",{key:c.$uid},[l("div",$e,C(c.$message),1)]))),128))]),_:1},8,["modelValue","options","onFilter","disable","option-label","option-value","error","onBlur"])]),l("div",he,[u[8]||(u[8]=l("label",{class:"q-mb-sm block"},"Responsable",-1)),s(U,{modelValue:m(g).responsable,"onUpdate:modelValue":u[1]||(u[1]=c=>m(g).responsable=c),options:m(R),onFilter:m(A),onPopupShow:m(T),disable:m($),"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":c=>c.apellidos+" "+c.nombres,"option-value":c=>c.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":"",error:!!m(h).responsable.$errors.length,onBlur:m(h).responsable.$touch},{"no-option":r(()=>[s(M,null,{default:r(()=>[s(S,{class:"text-grey"},{default:r(()=>u[7]||(u[7]=[q(" No hay resultados ")])),_:1})]),_:1})]),error:r(()=>[(t(!0),n(V,null,E(m(h).responsable.$errors,c=>(t(),n("div",{key:c.$uid},[l("div",Ve,C(c.$message),1)]))),128))]),_:1},8,["modelValue","options","onFilter","onPopupShow","disable","option-label","option-value","error","onBlur"])]),l("div",Ee,[u[9]||(u[9]=l("label",{class:"q-mb-sm block"},"Nombre",-1)),s(z,{modelValue:m(g).nombre,"onUpdate:modelValue":u[2]||(u[2]=c=>m(g).nombre=c),error:!!m(h).nombre.$errors.length,onBlur:m(h).nombre.$touch,placeholder:"Obligatorio",disable:m($),outlined:"",dense:""},{error:r(()=>[(t(!0),n(V,null,E(m(h).nombre.$errors,c=>(t(),n("div",{key:c.$uid},[l("div",Ce,C(c.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur","disable"])]),l("div",we,[u[10]||(u[10]=l("br",null,null,-1)),s(lo,{modelValue:m(g).activo,"onUpdate:modelValue":u[3]||(u[3]=c=>m(g).activo=c),"checked-icon":"check",color:"positive",label:"Activo"},null,8,["modelValue"])])])]),_:1})]),_:1},8,["mixin","configuracionColumnas"]))}});class qe{constructor(){p(this,"EtapaPage");p(this,"EditarEtapaPage");this.EtapaPage=bo(new Co("Etapas de Proyecto",ve)),this.EditarEtapaPage=bo(new Co("Etapas de Proyecto",ke))}}class Fe extends le{constructor(){super(new qe)}}class wo{constructor(){p(this,"axios");this.axios=jo.getInstance()}async desactivar(e,b){return this.solicitud("/desactivar/",e,{motivo:b})}async solicitud(e,b,v){const g=this.axios.getEndpoint(Go.etapas)+e+b,$=await this.axios.post(g,v);return{response:$,result:$.data.modelo}}}class ze extends Fo{constructor(){super();p(this,"codigo_proyecto");p(this,"coordinador");p(this,"coordinador_id");p(this,"fiscalizador");p(this,"canton");p(this,"fecha_inicio");p(this,"fecha_fin");p(this,"fecha_hora_finalizado");p(this,"tiempo_ocupado");p(this,"cliente");p(this,"cliente_id");p(this,"costo");p(this,"nombre");p(this,"fecha_solicitud");p(this,"finalizado");p(this,"etapas");this.codigo_proyecto=null,this.coordinador=null,this.coordinador_id=null,this.fiscalizador=null,this.canton=null,this.fecha_inicio=null,this.fecha_fin=null,this.fecha_hora_finalizado=null,this.tiempo_ocupado=null,this.cliente=null,this.cliente_id=null,this.costo=null,this.nombre=null,this.fecha_solicitud=null,this.finalizado=!1,this.etapas=[]}}var Be=eo({components:{TabLayout:io,EssentialTable:zo,ModalesEntidad:ae},emits:["guardado","cerrar-modal"],setup(o,{emit:e}){const b=new to(ze,new uo),{entidad:v,disabled:g,accion:$,listadosAuxiliares:f}=b.useReferencias(),{cargarVista:i,obtenerListados:N,setValidador:a}=b.useComportamiento(),{onConsultado:O}=b.useHooks(),{confirmar:D,prompt:B,notificarCorrecto:H}=Jo();fo();const h=So(),L=new Fe,R=I(!1);i(async()=>{await N({clientes:new se,cantones:new Ko,coordinadores:{controller:new vo,params:{rol:_.coordinador}},fiscalizadores:{controller:new vo,params:{rol:_.fiscalizador}}}),J.value=f.clientes,K.value=f.cantones,Y.value=f.coordinadores,W.value=f.fiscalizadores});const A=fo(),T=Yo(()=>A.esJefeTecnico),P=d=>{var y;return d>((y=v.fecha_inicio)!=null?y:0)},j=d=>{var y;return d<((y=v.fecha_fin)!=null?y:0)},G={cliente:{required:w},codigo_proyecto:{required:w,maxLength:oe},fecha_inicio:{required:w,fechaMenor:Eo.withMessage("La fecha de inicio de proyecto no puede ser menor o igual que su fecha de fin",j)},fecha_fin:{required:w,fechaMayor:Eo.withMessage("La fecha de fin de proyecto no puede ser mayor o igual que su fecha de inicio",P)},nombre:{required:w},canton:{required:w},coordinador:{required:ee(()=>T.value)}};Wo().setQuasar(Xo());const u=ro(G,v);a(u.value);async function c(d){switch(d){case"Etapa":await mo();break}}async function mo(){const{result:d}=await new no().listar({proyecto_id:v.id});v.etapas=d}const J=I();function Uo(d,y){if(d===""){y(()=>{J.value=f.clientes});return}y(()=>{const F=d.toLowerCase();J.value=f.clientes.filter(k=>k.razon_social.toLowerCase().indexOf(F)>-1)})}const K=I([]);function No(d,y){if(d===""){y(()=>{K.value=f.cantones});return}y(()=>{const F=d.toLowerCase();K.value=f.cantones.filter(k=>k.canton.toLowerCase().indexOf(F)>-1)})}const Y=I();function Lo(d,y){if(d===""){y(()=>{Y.value=f.coordinadores});return}y(()=>{const F=d.toLowerCase();Y.value=f.coordinadores.filter(k=>k.nombres.toLowerCase().indexOf(F)>-1)})}const W=I();function Ao(d,y){d===""&&y(()=>W.value=f.fiscalizadores),y(()=>{const F=d.toLowerCase();W.value=f.fiscalizadores.filter(k=>k.nombres.toLowerCase().indexOf(F)>-1)})}const Qo={titulo:"Agregar",color:"primary",icono:"bi-plus",tooltip:"Agrega una nueva etapa al proyecto",accion:()=>{L.abrirModalEntidad("EtapaPage")},visible:()=>$.value===oo.nuevo||$.value===oo.editar},Ro={titulo:"Editar",color:"secondary",tooltip:"Editar una etapa",icono:"bi-pencil-square",accion:({entidad:d,posicion:y})=>{h.idEtapa=d.id,L.abrirModalEntidad("EditarEtapaPage")}},To={titulo:"Desactivar",icono:"bi-toggle2-off",color:"pink-6",tooltip:"Desactivar proveedor",accion:({entidad:d,posicion:y})=>{D("\xBFEst\xE1 seguro de desactivar la etapa?",()=>{B({titulo:"Motivo",mensaje:"Ingresa el motivo por que vas a desactivar la etapa",accion:async k=>{try{const{result:Q}=await new wo().desactivar(d.id,k);H("Etapa anulada exitosamente!"),v.etapas.splice(y,1,Q)}catch(Q){console.log(Q+"")}}})})},visible:({entidad:d})=>d.activo},Io={titulo:"Activar",icono:"bi-toggle2-off",color:"positive",tooltip:"Activar proveedor",accion:({entidad:d,posicion:y})=>{D("\xBFEst\xE1 seguro de activar la etapa?",()=>{B({titulo:"Motivo",mensaje:"Ingresa el motivo por que vas a activar la etapa",accion:async k=>{try{const{result:Q}=await new wo().desactivar(d.id,k);H("Etapa anulada exitosamente!"),v.etapas.splice(y,1,Q)}catch(Q){console.log(Q+"")}}})})},visible:({entidad:d})=>!d.activo};return O(()=>{mo()}),{mixin:b,proyecto:v,disabled:g,accion:$,acciones:oo,v$:u,configuracionColumnasProyecto:re,columnasEtapas:po,clientes:J,cantones:K,coordinadores:Y,fiscalizadores:W,filtrarClientes:Uo,filtrarCantones:No,filtrarCoordinadores:Lo,filtrarFiscalizadores:Ao,guardado:c,mostrarCoordinador:T,tieneEtapa:R,accionesTabla:Zo,maskFecha:xo,modales:L,addNuevaEtapa:Qo,btnEditar:Ro,btnDesactivar:To,btnActivar:Io}}});const Pe={class:"col-12 text-primary rounded bg-body q-px-md q-py-sm q-mb-md items-center row"},Me={class:"row q-col-gutter-sm q-py-md"},Se={class:"col-12 col-md-6"},Ue={class:"error-msg"},Ne={class:"col-12 col-md-3"},Le={class:"error-msg"},Ae={class:"col-12 col-md-3"},Qe={class:"error-msg"},Re={class:"col-12 col-md-3"},Te={class:"error-msg"},Ie={class:"col-12 col-md-3"},_e={class:"error-msg"},Oe={class:"col-12 col-md-3"},De={class:"col-12 text-primary rounded bg-body q-px-md q-py-sm q-mb-md items-center row"},He={class:"row q-col-gutter-sm"},je={class:"col-12 col-md-3"},Ge={class:"row items-center justify-end"},Je={class:"col-12 col-md-3"},Ke={class:"row items-center justify-end"},Ye={class:"error-msg"},We={class:"col-12 col-md-3"},Xe={key:0,class:"col-12 col-md-3"},Ze={key:1,class:"col-12 col-md-3"},xe={key:2,class:"col-12 col-md-6"},oa={key:3,class:"col-12 col-md-12"};function ea(o,e,b,v,g,$){const f=x("essential-table"),i=x("tab-layout"),N=x("modales-entidad");return t(),n(V,null,[s(i,{mixin:o.mixin,configuracionColumnas:o.configuracionColumnasProyecto,"titulo-pagina":"Proyectos",ajustarCeldas:!0,"permitir-eliminar":!1},{formulario:r(()=>[s(so,{onSubmit:e[14]||(e[14]=ao(()=>{},["prevent"]))},{default:r(()=>[l("div",Pe,[s(X,{name:"bi-app-indicator",class:"q-mr-sm"}),e[16]||(e[16]=q(" Informaci\xF3n general "))]),l("div",Me,[l("div",Se,[e[18]||(e[18]=l("label",{class:"q-mb-sm block"},"Cliente corporativo",-1)),s(U,{modelValue:o.proyecto.cliente,"onUpdate:modelValue":e[0]||(e[0]=a=>o.proyecto.cliente=a),options:o.clientes,onFilter:o.filtrarClientes,disable:o.disabled,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":a=>a.razon_social,"option-value":a=>a.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":"",error:!!o.v$.cliente.$errors.length,onBlur:o.v$.cliente.$touch},{"no-option":r(()=>[s(M,null,{default:r(()=>[s(S,{class:"text-grey"},{default:r(()=>e[17]||(e[17]=[q(" No hay resultados ")])),_:1})]),_:1})]),error:r(()=>[(t(!0),n(V,null,E(o.v$.cliente.$errors,a=>(t(),n("div",{key:a.$uid},[l("div",Ue,C(a.$message),1)]))),128))]),_:1},8,["modelValue","options","onFilter","disable","option-label","option-value","error","onBlur"])]),l("div",Ne,[e[19]||(e[19]=l("label",{class:"q-mb-sm block"},"C\xF3digo de proyecto",-1)),s(z,{modelValue:o.proyecto.codigo_proyecto,"onUpdate:modelValue":e[1]||(e[1]=a=>o.proyecto.codigo_proyecto=a),error:!!o.v$.codigo_proyecto.$errors.length,onBlur:o.v$.codigo_proyecto.$touch,placeholder:"Obligatorio",disable:o.disabled,autofocus:"",outlined:"",dense:""},{error:r(()=>[(t(!0),n(V,null,E(o.v$.codigo_proyecto.$errors,a=>(t(),n("div",{key:a.$uid},[l("div",Le,C(a.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur","disable"])]),l("div",Ae,[e[20]||(e[20]=l("label",{class:"q-mb-sm block"},"Nombre del proyecto",-1)),s(z,{modelValue:o.proyecto.nombre,"onUpdate:modelValue":e[2]||(e[2]=a=>o.proyecto.nombre=a),error:!!o.v$.nombre.$errors.length,onBlur:o.v$.nombre.$touch,placeholder:"Obligatorio",disable:o.disabled,outlined:"",dense:""},{error:r(()=>[(t(!0),n(V,null,E(o.v$.nombre.$errors,a=>(t(),n("div",{key:a.$uid},[l("div",Qe,C(a.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur","disable"])]),l("div",Re,[e[22]||(e[22]=l("label",{class:"q-mb-sm block"},"Cant\xF3n",-1)),s(U,{modelValue:o.proyecto.canton,"onUpdate:modelValue":e[3]||(e[3]=a=>o.proyecto.canton=a),options:o.cantones,onFilter:o.filtrarCantones,onBlur:o.v$.canton.$touch,disable:o.disabled,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":a=>a.canton,"option-value":a=>a.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":"",error:!!o.v$.canton.$errors.length},{"no-option":r(()=>[s(M,null,{default:r(()=>[s(S,{class:"text-grey"},{default:r(()=>e[21]||(e[21]=[q(" No hay resultados ")])),_:1})]),_:1})]),error:r(()=>[(t(!0),n(V,null,E(o.v$.canton.$errors,a=>(t(),n("div",{key:a.$uid},[l("div",Te,C(a.$message),1)]))),128))]),_:1},8,["modelValue","options","onFilter","onBlur","disable","option-label","option-value","error"])]),l("div",Ie,[e[24]||(e[24]=l("label",{class:"q-mb-sm block"},"Coordinador/Supervisor",-1)),s(U,{modelValue:o.proyecto.coordinador,"onUpdate:modelValue":e[4]||(e[4]=a=>o.proyecto.coordinador=a),options:o.coordinadores,onFilter:o.filtrarCoordinadores,onBlur:o.v$.coordinador.$touch,disable:o.disabled||!o.mostrarCoordinador,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":a=>a.nombres+" "+a.apellidos,"option-value":a=>a.id,error:!!o.v$.coordinador.$errors.length,"use-input":"","input-debounce":"0","emit-value":"","map-options":""},{"no-option":r(()=>[s(M,null,{default:r(()=>[s(S,{class:"text-grey"},{default:r(()=>e[23]||(e[23]=[q(" No hay resultados ")])),_:1})]),_:1})]),error:r(()=>[(t(!0),n(V,null,E(o.v$.coordinador.$errors,a=>(t(),n("div",{key:a.$uid},[l("div",_e,C(a.$message),1)]))),128))]),_:1},8,["modelValue","options","onFilter","onBlur","disable","option-label","option-value","error"])]),l("div",Oe,[e[26]||(e[26]=l("label",{class:"q-mb-sm block"},"Fiscalizador",-1)),s(U,{modelValue:o.proyecto.fiscalizador,"onUpdate:modelValue":e[5]||(e[5]=a=>o.proyecto.fiscalizador=a),options:o.fiscalizadores,onFilter:o.filtrarFiscalizadores,disable:o.disabled,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":a=>a.nombres+" "+a.apellidos,"option-value":a=>a.id,"use-input":"","input-debounce":"0",clearable:"","emit-value":"","map-options":""},{"no-option":r(()=>[s(M,null,{default:r(()=>[s(S,{class:"text-grey"},{default:r(()=>e[25]||(e[25]=[q(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","disable","option-label","option-value"])])]),l("div",De,[s(X,{name:"bi-clock",class:"q-mr-sm"}),e[27]||(e[27]=q(" Tiempos "))]),l("div",He,[l("div",je,[e[28]||(e[28]=l("label",{class:"q-mb-sm block"},"Fecha estimada de inicio de proyecto",-1)),s(z,{modelValue:o.proyecto.fecha_inicio,"onUpdate:modelValue":e[7]||(e[7]=a=>o.proyecto.fecha_inicio=a),error:!!o.v$.fecha_inicio.$errors.length,placeholder:"Obligatorio",onBlur:o.v$.fecha_inicio.$touch,disable:!!o.proyecto.fecha_hora_finalizado,outlined:"",dense:""},{append:r(()=>[s(X,{name:"event",class:"cursor-pointer"},{default:r(()=>[s($o,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[s(ho,{modelValue:o.proyecto.fecha_inicio,"onUpdate:modelValue":e[6]||(e[6]=a=>o.proyecto.fecha_inicio=a),mask:o.maskFecha,"today-btn":""},{default:r(()=>[l("div",Ge,[yo(s(go,{label:"Cerrar",color:"primary",flat:""},null,512),[[Vo]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:r(()=>[(t(!0),n(V,null,E(o.v$.fecha_inicio.$errors,a=>(t(),n("div",{key:a.$uid},[l("div",null,C(a.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur","disable"])]),l("div",Je,[e[29]||(e[29]=l("label",{class:"q-mb-sm block"},"Fecha estimada de fin de proyecto",-1)),s(z,{modelValue:o.proyecto.fecha_fin,"onUpdate:modelValue":e[9]||(e[9]=a=>o.proyecto.fecha_fin=a),error:!!o.v$.fecha_fin.$errors.length,placeholder:"Obligatorio",onBlur:o.v$.fecha_fin.$touch,disable:!!o.proyecto.fecha_hora_finalizado,outlined:"",dense:""},{append:r(()=>[s(X,{name:"event",class:"cursor-pointer"},{default:r(()=>[s($o,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[s(ho,{modelValue:o.proyecto.fecha_fin,"onUpdate:modelValue":e[8]||(e[8]=a=>o.proyecto.fecha_fin=a),mask:o.maskFecha,"today-btn":""},{default:r(()=>[l("div",Ke,[yo(s(go,{label:"Cerrar",color:"primary",flat:""},null,512),[[Vo]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:r(()=>[(t(!0),n(V,null,E(o.v$.fecha_fin.$errors,a=>(t(),n("div",{key:a.$uid},[l("div",Ye,C(a.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur","disable"])]),l("div",We,[e[30]||(e[30]=l("br",null,null,-1)),s(lo,{modelValue:o.proyecto.finalizado,"onUpdate:modelValue":e[10]||(e[10]=a=>o.proyecto.finalizado=a),"checked-icon":"check",color:"positive",label:"Marcar proyecto como finalizado",disable:!!o.proyecto.fecha_hora_finalizado},null,8,["modelValue","disable"])]),e[34]||(e[34]=l("div",{class:"col-12 col-md-3"},null,-1)),o.proyecto.tiempo_ocupado?(t(),n("div",Xe,[e[31]||(e[31]=l("label",{class:"q-mb-sm block"},"Fecha y hora de creaci\xF3n en el sistema",-1)),s(z,{modelValue:o.proyecto.created_at,"onUpdate:modelValue":e[11]||(e[11]=a=>o.proyecto.created_at=a),disable:"",outlined:"",dense:""},null,8,["modelValue"])])):Z("",!0),o.proyecto.fecha_hora_finalizado?(t(),n("div",Ze,[e[32]||(e[32]=l("label",{class:"q-mb-sm block"},"Fecha y hora de finalizaci\xF3n en el sistema",-1)),s(z,{modelValue:o.proyecto.fecha_hora_finalizado,"onUpdate:modelValue":e[12]||(e[12]=a=>o.proyecto.fecha_hora_finalizado=a),disable:"",outlined:"",dense:""},null,8,["modelValue"])])):Z("",!0),o.proyecto.tiempo_ocupado?(t(),n("div",xe,[e[33]||(e[33]=l("label",{class:"q-mb-sm block"},"Tiempo ocupado",-1)),s(z,{modelValue:o.proyecto.tiempo_ocupado,"onUpdate:modelValue":e[13]||(e[13]=a=>o.proyecto.tiempo_ocupado=a),disable:"",outlined:"",dense:""},null,8,["modelValue"])])):Z("",!0),o.accion!==o.acciones.nuevo?(t(),n("div",oa,[s(f,{ref:"refEtapas",titulo:"Etapas del proyecto",configuracionColumnas:o.accion==o.acciones.nuevo||o.accion==o.acciones.editar?[...o.columnasEtapas,o.accionesTabla]:o.columnasEtapas,datos:o.proyecto.etapas,accion1Header:o.addNuevaEtapa,permitirBuscar:!1,permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,mostrarBotones:!1,mostrarCantidadElementos:!1,permitirEditarModal:!0,modalMaximized:!1,"alto-fijo":!1,mostrarFooter:!1,accion1:o.btnEditar,accion2:o.btnDesactivar,accion3:o.btnActivar},null,8,["configuracionColumnas","datos","accion1Header","accion1","accion2","accion3"])])):Z("",!0)])]),_:1})]),_:1},8,["mixin","configuracionColumnas"]),s(N,{comportamiento:o.modales,persistente:!1,onGuardado:e[15]||(e[15]=a=>o.guardado(a))},null,8,["comportamiento"])],64)}var Ka=ko(Be,[["render",ea]]);export{Ka as default};
