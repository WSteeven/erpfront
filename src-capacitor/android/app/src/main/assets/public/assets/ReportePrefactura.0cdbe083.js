var Ze=Object.defineProperty;var We=(o,e,d)=>e in o?Ze(o,e,{enumerable:!0,configurable:!0,writable:!0,value:d}):o[e]=d;var ne=(o,e,d)=>(We(o,typeof e!="symbol"?e+"":e,d),d);import{Q as F,a as Z}from"./QSelect.6ce302d7.js";import{Q as f,a as n}from"./QItemSection.9a955ec6.js";import{d as Ce,m as _,u as Xe,Z as Ye,f as E,c as C,E as xe,bx as A,w as eo,a0 as oo,p as ye,_ as we,t as R,v as m,P as j,F as l,z as t,a4 as ao,y as r,x as b,I as y,J as w,D as u,L as ue,Q,K as p,bf as to,e as lo,q as de,bb as so,M as me,N as ce,a7 as ro,B as z,j as pe,O as B,G as fe,H as be}from"./index.6449c167.js";import{Q as ve,a as ge,C as Ve}from"./QPopupProxy.72ff1d6d.js";import{E as $e,a5 as io,a6 as no,a9 as uo,aa as mo,c as co}from"./EssentialTable.00c17e97.js";import{Q as po}from"./QPage.5d173a8a.js";import{Q as fo,a as bo}from"./QLayout.418abf9d.js";import{M as vo}from"./ModalEntidad.168b465e.js";import{C as ke}from"./ContenedorSimpleMixin.09c9bed5.js";import{P as qe,a as Fe,u as Ne,c as Ee}from"./prefactura.cc5dc26e.js";import{a as go,b as Qe,u as Se,a2 as Vo,a3 as Po,a4 as Pe,x as Co,w as yo}from"./utils.521b98f3.js";import{C as wo}from"./ClientesPrefacturasController.b3520d9c.js";import{u as Ie}from"./filtrosListadosGenerales.c3aa2da3.js";import{r as S}from"./i18n-validators.29e2545c.js";import{u as Ue}from"./index.490dde02.js";import{C as $o,a as ko}from"./ComponenteModal.domain.50e59f97.js";import{Q as qo}from"./use-fullscreen.a7661f85.js";import{Q as Fo}from"./QForm.ca56f146.js";import{V as No,c as Eo,I as Qo}from"./ItemPrefactura.b4148dfc.js";import{T as So}from"./TabLayout.0bce4313.js";import{C as Io}from"./ClienteController.33eca86a.js";import"./QChip.95469f73.js";import"./position-engine.70d0a89f.js";import"./format.8ac60962.js";import"./QToolbar.8dbe891b.js";import"./QBadge.e6f320cd.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.fd079679.js";import"./QFile.90d9394a.js";import"./VisorImagen.75b3c53f.js";import"./logo.4781eea2.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./QScrollObserver.b4b0444d.js";import"./QResizeObserver.9af84680.js";import"./configuracion_general.37a05c0a.js";import"./ConfiguracionController.c50d9536.js";import"./entidadAuditable.75a46700.js";import"./index.0198dd12.js";import"./QTabs.6c234f27.js";import"./QTabPanels.49d2362a.js";import"./touch.9135741d.js";import"./buttonSubmits.fe817da3.js";import"./EssentialTablePagination.d5c1010a.js";var Uo=Ce({components:{TabLayout:So,EssentialTable:$e},setup(o,{emit:e}){const d=new ke(qe,new Fe),{entidad:i,disabled:v,accion:g,listadosAuxiliares:c,listado:V}=d.useReferencias(),{setValidador:a,obtenerListados:$,cargarVista:U,listar:N}=d.useComportamiento(),{onReestablecer:L,onConsultado:M,onModificado:T}=d.useHooks(),{confirmar:O,prompt:k,notificarCorrecto:h,notificarError:Le}=go();Qe().setQuasar(_()),Se().setQuasar(_());const I=Xe(),q=Ne(),De=Ye(),W=E(()=>i.listadoProductos.reduce((s,P)=>s+Vo(P),0).toFixed(2)),G=E(()=>i.listadoProductos.reduce((s,P)=>s+Po(P),0).toFixed(2)),X=E(()=>i.listadoProductos.reduce((s,P)=>s+parseFloat(P.subtotal),0).toFixed(2)),Y=E(()=>i.descuento_general==0?i.listadoProductos.reduce((s,P)=>s+parseFloat(P.descuento),0).toFixed(2):i.descuento_general),H=E(()=>(G.value*i.iva/100).toFixed(2)),Ae=E(()=>i.descuento_general>0?(Number(X.value)+Number(H.value)-Number(Y.value)).toFixed(2):(Number(G.value)+Number(W.value)+Number(H.value)).toFixed(2)),D=C("2"),J=C(!1),x=C(!1),ee=C(),{clientes:oe,filtrarClientes:ze,ordenarClientes:Be}=Ie(c),ae=C([]),te=C([]),le=C([]),se=C([]);U(async()=>{await $({empleados:{controller:new xe,params:{campos:"id,nombres,apellidos,cargo_id",estado:1}},clientes:{controller:new Io,params:{estado:1}}}),q.prefactura.id&&i.hydrate(q.prefactura)}),L(()=>{i.created_at=Pe(new Date().getDate().toLocaleString()),i.solicitante=I.user.id,J.value=!1}),M(()=>{J.value=g.value!==A.editar}),T(()=>{ie("1")});const re=Ue({cliente:{required:S},descripcion:{required:S},forma:{required:S},tiempo:{required:S}},i);a(re.value);const _e=new No(i);d.agregarValidaciones(_e),i.created_at=Pe(new Date().getDate().toLocaleString()),i.solicitante=I.user.id;async function ie(s){D.value=s,x.value=s=="1",await N({estado_id:s,solicitante_id:I.user.id})}function Re({posicion:s}){O("\xBFEst\xE1 seguro de continuar?",()=>i.listadoProductos.splice(s,1))}function K(s){s.iva=s.grava_iva&&s.facturable?(Number(s.cantidad)*Number(s.precio_unitario)*i.iva/100).toFixed(4):0,s.subtotal=s.facturable?(Number(s.cantidad)*Number(s.precio_unitario)).toFixed(4):0,s.descuento=s.facturable?(Number(s.subtotal)*Number(s.porcentaje_descuento|0)/100).toFixed(4):0,s.total=s.facturable?(Number(s.cantidad)*Number(s.precio_unitario)+Number(s.iva)-Number(s.descuento)).toFixed(4):0}function je(){i.listadoProductos.forEach(s=>{K(s)})}function Me(){i.descuento_general>0&&i.listadoProductos.forEach(s=>{s.porcentaje_descuento=0,K(s)})}const Te={titulo:"Agregar \xEDtem",icono:"bi-arrow-bar-down",color:"positive",tooltip:"Agregar elemento",accion:()=>{const s=new Qo;s.unidad_medida=1,i.listadoProductos.push(s),e("actualizar",i.listadoProductos)}},Oe={titulo:"Eliminar",icono:"bi-x",color:"negative",accion:({posicion:s})=>{Re({posicion:s})},visible:()=>g.value==A.nuevo||g.value==A.editar},he={titulo:"Imprimir",color:"secondary",icono:"bi-printer",accion:async({entidad:s})=>{q.idPrefactura=s.id,await q.imprimirPdf()},visible:()=>Number(D.value)>1},Ge={titulo:"Generar Prefactura",color:"primary",icono:"bi-cart-check",accion:({entidad:s})=>{q.prefactura=s,De.push("prefacturas")},visible:()=>Number(D.value)==2},He={titulo:"Anular",color:"negative",icono:"bi-x",accion:async({entidad:s,posicion:P})=>{O("\xBFEst\xE1 seguro de anular la prefactura?",()=>{k({titulo:"Causa de anulaci\xF3n",mensaje:"Ingresa el motivo de anulaci\xF3n",accion:async Je=>{try{q.idPrefactura=s.id,(await q.anularPrefactura({motivo:Je})).status==200&&(h("Se ha anulado correctamente la prefactura"),V.value.splice(P,1))}catch{Le("No se pudo anular, debes ingresar un motivo para la anulaci\xF3n")}}})})},visible:({entidad:s})=>s.estado_id==2&&s.solicitante_id==I.user.id};return eo(ee,()=>{console.log("modificacion"),console.log(ee.value)}),ae.value=c.empleados,te.value=c.categorias,oe.value=c.clientes,se.value=c.autorizadores,le.value=JSON.parse(oo.getItem("estados_transacciones").toString()),{mixin:d,prefactura:i,disabled:v,accion:g,v$:re,acciones:A,configuracionColumnas:Ee,accionesTabla:ye,configuracionColumnasDetallesPrefactura:Eo,empleados:ae,categorias:te,clientes:oe,estados:le,empleadosAutorizadores:se,opcionesForma:io,opcionesTiempo:no,store:I,soloLectura:J,btnEliminarFila:Oe,btnImprimir:he,btnAnularPrefactura:He,btnAddRow:Te,btnHacerPrefactura:Ge,tabOptionsPrefactura:uo,tabSeleccionado:D,puedeEditar:x,filtrarPrefacturas:ie,calcularValores:K,filtrarClientes:ze,ordenarClientes:Be,actualizarListado:je,actualizarDescuento:Me,subtotal_sin_impuestos:W,subtotal_con_impuestos:G,subtotal:X,total:Ae,descuento:Y,iva:H}}});const Lo={class:"row q-col-gutter-sm q-py-md"},Do={key:0,class:"col-12 col-md-3"},Ao={key:1,class:"col-12 col-md-3"},zo={class:"col-12 col-md-3"},Bo={class:"col-12 col-md-3 q-mb-md"},_o={class:"col-12 col-md-3"},Ro={class:"col-12 col-md-6"},jo={class:"col-12 col-md-3"},Mo={class:"col-12 col-md-3"},To={key:2,class:"col-12 col-md-3"},Oo={key:3,class:"col-12 col-md-3 q-mb-md"},ho={class:"col-12 col-md-3 q-mb-xl"},Go={key:4,class:"col-12 col-md-3 q-mb-md"},Ho={key:5,class:"col-12 col-md-3 q-mb-xl"},Jo={class:"col-12 col-md-3 q-mb-md"},Ko={class:"col-12"},Zo={class:"col-12"},Wo={class:"row q-col-xs-4 q-col-xs-offset-8 flex-end justify-end"};function Xo(o,e,d,i,v,g){const c=R("essential-table"),V=R("tab-layout");return m(),j(V,{mixin:o.mixin,configuracionColumnas:o.configuracionColumnas,"titulo-pagina":"Prefactura",mostrarListado:!1,mostrarButtonSubmits:!1},{formulario:l(()=>[t(Fo,{onSubmit:e[14]||(e[14]=ao(()=>{},["prevent"]))},{default:l(()=>[r("div",Lo,[o.prefactura.id?(m(),b("div",Do,[e[15]||(e[15]=r("label",{class:"q-mb-sm block"},"Prefactura N\xB0",-1)),t(y,{modelValue:o.prefactura.id,"onUpdate:modelValue":e[0]||(e[0]=a=>o.prefactura.id=a),placeholder:"Obligatorio",disable:"",outlined:"",dense:""},null,8,["modelValue"])])):w("",!0),o.prefactura.solicitante?(m(),b("div",Ao,[e[17]||(e[17]=r("label",{class:"q-mb-sm block"},"Solicitante",-1)),t(F,{modelValue:o.prefactura.solicitante,"onUpdate:modelValue":e[1]||(e[1]=a=>o.prefactura.solicitante=a),options:o.empleados,dense:"",outlined:"",disable:"","option-label":a=>a.apellidos+" "+a.nombres,"option-value":a=>a.id,"emit-value":"","map-options":""},{"no-option":l(()=>[t(f,null,{default:l(()=>[t(n,{class:"text-grey"},{default:l(()=>e[16]||(e[16]=[u(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","option-label","option-value"])])):w("",!0),r("div",zo,[e[18]||(e[18]=r("label",{class:"q-mb-sm block"},"Fecha de creaci\xF3n",-1)),t(y,{modelValue:o.prefactura.created_at,"onUpdate:modelValue":e[2]||(e[2]=a=>o.prefactura.created_at=a),disable:"",outlined:"",dense:""},null,8,["modelValue"])]),r("div",Bo,[e[19]||(e[19]=r("label",{class:"q-mb-sm block"},"N\xB0 proforma",-1)),t(y,{modelValue:o.prefactura.proforma,"onUpdate:modelValue":e[3]||(e[3]=a=>o.prefactura.proforma=a),placeholder:"Opcional",disable:"",outlined:"",dense:""},null,8,["modelValue"])]),r("div",_o,[e[21]||(e[21]=r("label",{class:"q-mb-sm block"},"Cliente",-1)),t(F,{modelValue:o.prefactura.cliente,"onUpdate:modelValue":e[4]||(e[4]=a=>o.prefactura.cliente=a),options:o.clientes,dense:"",outlined:"",disable:"","option-label":a=>a.razon_social,"option-value":a=>a.id,"emit-value":"","map-options":""},{"no-option":l(()=>[t(f,null,{default:l(()=>[t(n,{class:"text-grey"},{default:l(()=>e[20]||(e[20]=[u(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","option-label","option-value"])]),r("div",Ro,[e[22]||(e[22]=r("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),t(y,{type:"textarea",autogrow:"",modelValue:o.prefactura.descripcion,"onUpdate:modelValue":e[5]||(e[5]=a=>o.prefactura.descripcion=a),placeholder:"Obligatorio",disable:"",outlined:"",dense:""},null,8,["modelValue"])]),r("div",jo,[e[23]||(e[23]=r("label",{class:"q-mb-sm block"},"Forma",-1)),t(F,{modelValue:o.prefactura.forma,"onUpdate:modelValue":e[6]||(e[6]=a=>o.prefactura.forma=a),options:o.opcionesForma,"options-dense":"",dense:"",outlined:"",disable:"","option-label":a=>a.label,"option-value":a=>a.value,"emit-value":"","map-options":""},null,8,["modelValue","options","option-label","option-value"])]),r("div",Mo,[e[24]||(e[24]=r("label",{class:"q-mb-sm block"},"Tiempo",-1)),t(F,{modelValue:o.prefactura.tiempo,"onUpdate:modelValue":e[7]||(e[7]=a=>o.prefactura.tiempo=a),options:o.opcionesTiempo,dense:"",outlined:"",disable:"","option-label":a=>a.label,"option-value":a=>a.value,"emit-value":"","map-options":""},null,8,["modelValue","options","option-label","option-value"])]),o.prefactura.observacion_aut?(m(),b("div",To,[e[25]||(e[25]=r("label",{class:"q-mb-sm block"},"Observacion",-1)),t(y,{autogrow:"",modelValue:o.prefactura.observacion_aut,"onUpdate:modelValue":e[8]||(e[8]=a=>o.prefactura.observacion_aut=a),placeholder:"Opcional",disable:"",outlined:"",dense:""},null,8,["modelValue"])])):w("",!0),o.prefactura.estado?(m(),b("div",Oo,[e[26]||(e[26]=r("label",{class:"q-mb-sm block"},"Estado de la Prefactura",-1)),t(F,{modelValue:o.prefactura.estado,"onUpdate:modelValue":e[9]||(e[9]=a=>o.prefactura.estado=a),options:o.estados,dense:"",outlined:"",disable:"","option-value":a=>a.id,"option-label":a=>a.nombre,"emit-value":"","map-options":""},null,8,["modelValue","options","option-value","option-label"])])):w("",!0),r("div",ho,[t(ue,{class:"q-mt-lg q-pt-md",modelValue:o.prefactura.modificar_iva,"onUpdate:modelValue":e[10]||(e[10]=a=>o.prefactura.modificar_iva=a),label:"Modificar IVA establecido",disable:"",outlined:"",dense:""},null,8,["modelValue"])]),o.prefactura.iva?(m(),b("div",Go,[e[27]||(e[27]=r("label",{class:"q-mb-sm block"},"IVA general",-1)),t(y,{modelValue:o.prefactura.iva,"onUpdate:modelValue":e[11]||(e[11]=a=>o.prefactura.iva=a),outlined:"",dense:"",disable:""},null,8,["modelValue"])])):w("",!0),o.prefactura.modificar_descuento?(m(),b("div",Ho,[t(ue,{class:"q-mt-lg q-pt-md",modelValue:o.prefactura.modificar_descuento,"onUpdate:modelValue":e[12]||(e[12]=a=>o.prefactura.modificar_descuento=a),label:"\xBFAplicar descuento a toda la prefactura?",disable:o.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):w("",!0),r("div",Jo,[e[28]||(e[28]=r("label",{class:"q-mb-sm block"},"Descuento general",-1)),t(y,{modelValue:o.prefactura.descuento_general,"onUpdate:modelValue":e[13]||(e[13]=a=>o.prefactura.descuento_general=a),outlined:"",dense:"",hint:"INGRESA LA CANTIDAD DE DESCUENTO EN $",disable:""},null,8,["modelValue"])]),r("div",Ko,[t(c,{ref:"refItems",titulo:"Productos Seleccionados",configuracionColumnas:o.configuracionColumnasDetallesPrefactura,datos:o.prefactura.listadoProductos,permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,altoFijo:!1,ajustarCeldas:""},null,8,["configuracionColumnas","datos"])]),r("div",Zo,[r("div",Wo,[o.prefactura.listadoProductos.length>0?(m(),j(qo,{key:0,bordered:"",separator:"",dense:""},{default:l(()=>[t(f,null,{default:l(()=>[t(n,null,{default:l(()=>e[29]||(e[29]=[u("Subtotal: ")])),_:1}),t(Q,{vertical:""}),t(n,{avatar:""},{default:l(()=>[u(p(o.subtotal),1)]),_:1})]),_:1}),t(f,null,{default:l(()=>[t(n,null,{default:l(()=>e[30]||(e[30]=[u("Subtotal 0%: ")])),_:1}),t(Q,{vertical:""}),t(n,{avatar:""},{default:l(()=>[u(p(o.subtotal_sin_impuestos),1)]),_:1})]),_:1}),t(f,null,{default:l(()=>[t(n,null,{default:l(()=>[u("Subtotal ("+p(o.prefactura.iva)+" %): ",1)]),_:1}),t(Q,{vertical:""}),t(n,{avatar:""},{default:l(()=>[u(p(o.subtotal_con_impuestos),1)]),_:1})]),_:1}),t(f,null,{default:l(()=>[t(n,{class:"q-mr-md"},{default:l(()=>e[31]||(e[31]=[u("Descuento: ")])),_:1}),t(Q,{vertical:""}),t(n,{avatar:""},{default:l(()=>[u(p(o.descuento),1)]),_:1})]),_:1}),t(f,null,{default:l(()=>[t(n,null,{default:l(()=>[u("IVA ("+p(o.prefactura.iva)+" %): ",1)]),_:1}),t(Q,{vertical:""}),t(n,{avatar:""},{default:l(()=>[u(p(o.iva),1)]),_:1})]),_:1}),t(f,null,{default:l(()=>[t(n,null,{default:l(()=>e[32]||(e[32]=[u("Total: ")])),_:1}),t(Q,{vertical:""}),t(n,{avatar:""},{default:l(()=>[u(p(o.total),1)]),_:1})]),_:1})]),_:1})):w("",!0)])])])]),_:1})]),_:1},8,["mixin","configuracionColumnas"])}var Yo=we(Uo,[["render",Xo]]);class xo{constructor(){ne(this,"VisualizarPrefactura");this.VisualizarPrefactura=to(new $o("Prefactura",Yo))}}class ea extends ko{constructor(){super(new xo)}}var oa=Ce({components:{EssentialTable:$e,ModalEntidad:vo},setup(){const o=new ke(qe,new Fe),{listadosAuxiliares:e}=o.useReferencias(),{obtenerListados:d,cargarVista:i}=o.useComportamiento();Qe().setQuasar(_()),Se().setQuasar(_());const v=Ne(),g=new ea,c=lo({estado:null,cliente:null,accion:null,fecha_inicio:null,fecha_fin:""}),V=C([]);i(async()=>{await d({clientes:new wo}),a.value=e.proveedores,c.fecha_fin=Co(de)});const{clientes:a,filtrarClientes:$}=Ie(e),N=Ue({fecha_inicio:{required:S},fecha_fin:{required:S}},c);async function L(k){if(await N.value.$validate())try{V.value=await v.buscarReporte(k,c,V.value)}catch(h){console.error(h)}}const M={titulo:"",icono:"bi-eye",color:"primary",accion:async({entidad:k})=>{v.idPrefactura=k.id,await v.consultar(),g.abrirModalEntidad("VisualizarPrefactura")}},T={titulo:"Imprimir",color:"secondary",icono:"bi-printer",accion:async({entidad:k})=>{v.idPrefactura=k.id,await v.imprimirPdf()}};return{configuracionColumnas:[...Ee,ye],v$:N,reporte:c,maskFecha:de,listado:V,clientes:a,filtrarClientes:$,opcionesEstadosPrefacturas:mo,modales:g,buscarReporte:L,ordenarLista:yo,btnVer:M,btnImprimir:T}}});const aa={class:"col"},ta={class:"row q-col-gutter-sm q-pa-sm q-py-md"},la={class:"col-12 col-md-3"},sa={class:"col-12 col-md-3"},ra={class:"col-12 col-md-3"},ia={class:"row items-center justify-end"},na={class:"error-msg"},ua={class:"col-12 col-md-3"},da={class:"row items-center justify-end"},ma={class:"error-msg"},ca={class:"col-12 col-md-12 q-mt-md"},pa={class:"text-center"},fa={key:0,class:"row q-col-gutter-sm q-pa-sm q-py-md"},ba={class:"col-12 col-md-12"};function va(o,e,d,i,v,g){const c=R("essential-table"),V=R("modal-entidad");return m(),j(bo,null,{default:l(()=>[t(fo,null,{default:l(()=>[t(po,{padding:""},{default:l(()=>[r("div",aa,[t(so,{class:"rounded-card custom-shadow"},{default:l(()=>[r("div",ta,[r("div",la,[e[12]||(e[12]=r("label",{class:"q-mb-sm block"},"Cliente",-1)),t(F,{modelValue:o.reporte.cliente,"onUpdate:modelValue":[e[0]||(e[0]=a=>o.reporte.cliente=a),e[2]||(e[2]=a=>o.buscarReporte("consulta"))],options:o.clientes,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"",clearable:"","use-input":"","input-debounce":"0",hint:"Opcional",onFilter:o.filtrarClientes,onPopupShow:e[1]||(e[1]=a=>o.ordenarLista(o.clientes,"razon_social")),"option-label":a=>a.razon_social,"option-value":a=>a.id,"emit-value":"","map-options":""},{option:l(a=>[t(f,me(ce(a.itemProps)),{default:l(()=>[t(n,null,{default:l(()=>[t(Z,null,{default:l(()=>[u(p(a.opt.razon_social),1)]),_:2},1024),t(Z,{caption:""},{default:l(()=>[u(p(a.opt.nombre_comercial)+" - Sucursal: "+p(a.opt.sucursal||a.opt.direccion),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"no-option":l(()=>[t(f,null,{default:l(()=>[t(n,{class:"text-grey"},{default:l(()=>e[11]||(e[11]=[u(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","option-label","option-value"])]),r("div",sa,[e[14]||(e[14]=r("label",{class:"q-mb-sm block"},"Estado de Prefactura",-1)),t(F,{modelValue:o.reporte.estado,"onUpdate:modelValue":e[3]||(e[3]=a=>o.reporte.estado=a),options:o.opcionesEstadosPrefacturas,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",multiple:"",dense:"","use-chips":"",hint:"Opcional",outlined:"","option-value":a=>a.value,"option-label":a=>a.label,"emit-value":"","map-options":""},{option:l(({itemProps:a,opt:$,selected:U,toggleOption:N})=>[t(f,me(ce(a)),{default:l(()=>[t(n,null,{default:l(()=>[u(p($.label)+" ",1),t(Z,{"inner-h-t-m-l":$.nombre},null,8,["inner-h-t-m-l"])]),_:2},1024),t(n,{side:""},{default:l(()=>[t(ro,{"model-value":U,"onUpdate:modelValue":L=>N($)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"no-option":l(()=>[t(f,null,{default:l(()=>[t(n,{class:"text-grey"},{default:l(()=>e[13]||(e[13]=[u(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","option-value","option-label"])]),r("div",ra,[e[15]||(e[15]=r("label",{class:"q-mb-sm block"},"Fecha de inicio",-1)),t(y,{modelValue:o.reporte.fecha_inicio,"onUpdate:modelValue":e[5]||(e[5]=a=>o.reporte.fecha_inicio=a),error:!!o.v$.fecha_inicio.$errors.length,onBlur:o.v$.fecha_inicio.$touch,outlined:"",dense:""},{append:l(()=>[t(z,{name:"event",class:"cursor-pointer"},{default:l(()=>[t(ve,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[t(ge,{modelValue:o.reporte.fecha_inicio,"onUpdate:modelValue":e[4]||(e[4]=a=>o.reporte.fecha_inicio=a),mask:o.maskFecha,"today-btn":""},{default:l(()=>[r("div",ia,[pe(t(B,{label:"Cerrar",color:"primary",flat:""},null,512),[[Ve]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:l(()=>[(m(!0),b(fe,null,be(o.v$.fecha_inicio.$errors,a=>(m(),b("div",{key:a.$uid},[r("div",na,p(a.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])]),r("div",ua,[e[16]||(e[16]=r("label",{class:"q-mb-sm block"},"Fecha de fin",-1)),t(y,{modelValue:o.reporte.fecha_fin,"onUpdate:modelValue":e[8]||(e[8]=a=>o.reporte.fecha_fin=a),error:!!o.v$.fecha_fin.$errors.length,onBlur:o.v$.fecha_fin.$touch,outlined:"",dense:""},{append:l(()=>[t(z,{name:"event",class:"cursor-pointer"},{default:l(()=>[t(ve,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[t(ge,{modelValue:o.reporte.fecha_fin,"onUpdate:modelValue":[e[6]||(e[6]=a=>o.reporte.fecha_fin=a),e[7]||(e[7]=a=>o.buscarReporte("consulta"))],mask:o.maskFecha,"today-btn":""},{default:l(()=>[r("div",da,[pe(t(B,{label:"Cerrar",color:"primary",flat:""},null,512),[[Ve]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:l(()=>[(m(!0),b(fe,null,be(o.v$.fecha_fin.$errors,a=>(m(),b("div",{key:a.$uid},[r("div",ma,p(a.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])]),r("div",ca,[r("div",pa,[t(co,{push:""},{default:l(()=>[t(B,{color:"primary",class:"full-width","no-caps":"","no-wrap":"",push:"",glossy:"",onClick:e[9]||(e[9]=a=>o.buscarReporte("consulta"))},{default:l(()=>[t(z,{name:"bi-search",size:"xs",class:"q-pr-sm"}),e[17]||(e[17]=r("span",null,"Buscar",-1))]),_:1}),t(B,{color:"positive",class:"full-width","no-caps":"","no-wrap":"",push:"",glossy:"",onClick:e[10]||(e[10]=a=>o.buscarReporte("excel"))},{default:l(()=>[t(z,{name:"bi-file-earmark-excel-fill",size:"xs",class:"q-mr-sm"}),e[18]||(e[18]=r("span",null,"Excel",-1))]),_:1})]),_:1})])])]),o.listado.length?(m(),b("div",fa,[r("div",ba,[o.listado.length?(m(),j(c,{key:0,titulo:"Listado de proveedores",configuracionColumnas:o.configuracionColumnas,datos:o.listado,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-buscar":!0,accion1:o.btnVer,accion2:o.btnImprimir,"alto-fijo":!1,ajustarCeldas:!0},null,8,["configuracionColumnas","datos","accion1","accion2"])):w("",!0)])])):w("",!0)]),_:1})]),t(V,{comportamiento:o.modales,persistente:!1},null,8,["comportamiento"])]),_:1})]),_:1})]),_:1})}var ut=we(oa,[["render",va]]);export{ut as default};
