import{m as N,a3 as C,g as u,cH as U,c as j,e as p,a0 as R,cJ as G,a1 as J,a4 as K,p as W,i as X,v as Y,x as f,y as i,S as d,H as a,D as o,R as w,B as n,a6 as _,a7 as Z,a9 as k,a8 as ee,M as x,F as D,G as y,aa as oe,z as T,J as te,I as ae,T as se,ab as re,ac as ne}from"./index.976e8f3c.js";import{Q as $,a as A}from"./QItemSection.c6f2640c.js";import{Q as ie}from"./QMenu.410ae527.js";import{Q as le}from"./QToolbar.cff7174f.js";import{E as ue,a as me,F as de,S as ce,C as pe,Q as fe,b as ge}from"./ComportamientoModalesMainLayout.96d1c165.js";import{a as be}from"./QSelect.a8f2bfb2.js";import{Q as he}from"./use-fullscreen.0ccd26e6.js";import{Q as ve}from"./QScrollArea.f0584ddf.js";import{Q as B,a as I}from"./QLayout.732b3e1b.js";import{d as S}from"./dayjs.min.7780de8a.js";import{r as we,e as ke}from"./es.5c829d48.js";import{M as ye}from"./ModalEntidad.84100166.js";import{u as Ce}from"./configuracion_general.ef04b031.js";import{S as qe,i as Me}from"./utils.30e08aa2.js";import{L as Pe}from"./LoginPostulanteController.cae4c5b2.js";import"./position-engine.2f1d750c.js";import"./QResizeObserver.6ec10d95.js";import"./TouchPan.60cc61dc.js";import"./touch.9135741d.js";import"./format.8ac60962.js";import"./QCircularProgress.4d1a2735.js";import"./QExpansionItem.558e637e.js";import"./ComponenteModal.domain.22ea4557.js";import"./QForm.ed6f6690.js";import"./tareas.utils.309e0dff.js";import"./i18n-validators.06eef631.js";import"./index.95f5a0db.js";import"./index.ed676411.js";import"./TabLayout.d6dcc414.js";import"./QTabs.3c726b04.js";import"./QTabPanels.1c8c4baa.js";import"./QPopupProxy.d8ef7a42.js";import"./QPage.ed5d79ca.js";import"./buttonSubmits.2eb37d38.js";import"./EssentialTable.d8e6954a.js";import"./QFile.e27868da.js";import"./QChip.334d746c.js";import"./QTable.048b8be8.js";import"./QBtnGroup.7d0835e4.js";import"./QBadge.1ddeabfd.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e0fb285c.js";import"./VisorImagen.e7965569.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.b482e77d.js";import"./EssentialTablePagination.f449a738.js";import"./TrabajoAsignadoController.d407914d.js";import"./ContenedorSimpleMixin.5a0b06ab.js";import"./MovilizacionSubtareaController.7cc348db.js";import"./movilizacionSubtarea.7b909866.js";import"./MovilizacionSubtarea.9a93287f.js";import"./entidadAuditable.75a46700.js";import"./configuracionColumnasTarea.bcb4cc35.js";import"./FiltrosListadosTarea.dcb68df5.js";import"./TareaController.c7f2748b.js";import"./tarea.48d6bf90.js";import"./Subtarea.3371ad54.js";import"./ModoNoDisponiblePage.fe40c020.js";import"./QTime.e68abf3f.js";import"./EmpleadoDelegadoController.4c6aae58.js";import"./filtrosListadosGenerales.31e9eb2c.js";import"./EmpleadoRolesController.69a9291a.js";import"./QScrollObserver.cb4b92b2.js";import"./ConfiguracionController.65de3fc5.js";const Qe=N("menuExternal",()=>{const e=C.getItem("method_access");return{links:u(()=>{const g=[{title:"Disponibles",icon:"bi-suitcase-lg-fill",link:"puestos-disponibles",can:!0},{title:"Aplicados",icon:"bi-check2-square",link:"puestos-aplicados",can:!0},{title:"Favoritas",icon:"bi-heart-fill",link:"favoritas",can:!0}];return e===U.empleado&&g.unshift({title:"Inicio",icon:"bi-house-door-fill",link:"/",can:!0}),g})}});var Le=j({name:"PostulanteLayout",components:{EssentialLink:ue,EssentialLoading:me,FooterComponent:de,ModalesEntidad:ye,ScrollToTopButton:ce},setup(){var E;const e=p(!1),t=Qe(),g=p(!1),b=R(),l=Ce(),{autenticado:V}=G();S.extend(we),S.locale(ke);const c=new qe,q=J(),M=u(()=>{var r;return(r=l.configuracion)==null?void 0:r.logo_claro}),P=u(()=>{var r;return(r=l.configuracion)==null?void 0:r.logo_oscuro}),Q=u(()=>{var L;const r=b.user;return r?`${r.nombres} ${(L=r.apellidos)!=null?L:""} `:""});l.consultarConfiguracion().then(()=>l.cambiarFavicon());const h=u(()=>{var r;return(r=l.configuracion)==null?void 0:r.nombre_empresa});K(()=>document.title=h.value);async function s(){c.activar(),await b.logout(),await q.replace({name:"LoginPostulante"}),c.desactivar()}const m=W(),v=p((E=C.getItem("dark"))!=null?E:!1);m.dark.set(Boolean(v.value));function O(){m.dark.set(Boolean(v.value)),C.set("dark",v.value)}const F=u(()=>{const r=b.user;return r?`https://ui-avatars.com/api/?name=${r.nombres.substr(0,1)}+${r.apellidos.substr(0,1)}&bold=true&background=0879dc28&color=0879dc`:" "});X(async()=>{try{c.activar(),C.getItem("token")===void 0&&await new Pe().obtenerSesionUser()}catch(r){console.log("montar errror",r),Me(r)&&console.log("montar errror",r.mensaje)}finally{c.desactivar()}});const H=u(()=>m.screen.xs?"center middle":"top start"),z=new pe;return l.consultarConfiguracion().then(()=>l.cambiarFavicon()),{logoClaro:M,logoOscuro:P,modales:z,links:t.links,leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value},logout:s,nombreUsuario:Q,menuVisible:g,modoOscuro:v,toggleDarkMode:O,width:u(()=>m.screen.xs?"100%":"450px"),mostrarMenu:p(!1),mostrarNotificaciones:p(!1),mostrarOpciones:p(!1),dayjs:S,imagenPerfil:F,selfCenterMiddle:H,autenticado:V}}});const _e=["src"],$e={class:"column items-center q-py-sm window-height"},Se={class:"full-width text-right q-pr-md"},Ve=["src"],Ee={class:"text-subtitle1 text-center"},xe={class:"absolute-top q-pa-sm q-ma-sm rounded-card"},De=["src"],Te={class:"text-right absolute-bottom"};function Ae(e,t,g,b,l,V){const c=f("EssentialLink"),q=f("modales-entidad"),M=f("ScrollToTopButton"),P=f("essential-loading"),Q=f("footer-component"),h=f("router-view");return e.autenticado?(i(),d(I,{key:0,view:"lHh Lpr lFf"},{default:a(()=>[o(fe,{class:"bg-desenfoque"},{default:a(()=>[o(le,{class:"row justify-between q-py-sm border-bottom"},{default:a(()=>[o(w,{dense:"","aria-label":"Menu",onClick:e.toggleLeftDrawer,class:"custom-shadow bg-primary",unelevated:""},{default:a(()=>t[8]||(t[8]=[n("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m 4.9152545,6.3008475 c 0,-0.607508 0.44772,-1.1 1,-1.1 H 17.915255 c 0.5523,0 1,0.492492 1,1.1 0,0.607508 -0.4477,1.1 -1,1.1 H 5.9152545 c -0.55228,0 -1,-0.492492 -1,-1.1 z",fill:"#575b6e",id:"path2",style:{fill:"#fff","stroke-width":"1.04881"}}),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m 1.7118644,12.182204 c 0,-0.607508 0.6526088,-1.1 1.457627,-1.1 H 20.661018 c 0.805046,0 1.457627,0.492492 1.457627,1.1 0,0.60753 -0.652581,1.1 -1.457627,1.1 H 3.1694914 c -0.8050182,0 -1.457627,-0.49247 -1.457627,-1.1 z",fill:"#575b6e",id:"path4",style:{fill:"#fff","stroke-width":"1.26625"}}),n("path",{id:"path6",style:{fill:"#fff","stroke-width":"1.04881"},d:"M 8.9160156 16.658203 C 8.3637368 16.658203 7.9160156 17.150284 7.9160156 17.757812 C 7.9160156 18.365342 8.3637368 18.859375 8.9160156 18.859375 L 14.916016 18.859375 C 15.468314 18.859375 15.916016 18.365342 15.916016 17.757812 C 15.916016 17.150284 15.468314 16.658203 14.916016 16.658203 L 8.9160156 16.658203 z "})],-1)])),_:1},8,["onClick"]),n("span",{class:_(["row",{"q-gutter-x-sm":e.$q.screen.xs,"q-gutter-x-md":!e.$q.screen.xs}])},[n("span",{class:_(["row",{"q-gutter-x-xs":e.$q.screen.xs,"q-gutter-x-sm":!e.$q.screen.xs}])},null,2),(i(),d(w,{key:0,dense:"",round:"",flat:"",glossy:"",onClick:t[5]||(t[5]=Z(s=>e.mostrarMenu=!0,["self"]))},{default:a(()=>[o(k,{size:"38px"},{default:a(()=>[n("img",{src:e.imagenPerfil},null,8,_e)]),_:1}),o(ie,{modelValue:e.mostrarMenu,"onUpdate:modelValue":t[4]||(t[4]=s=>e.mostrarMenu=s),self:e.selfCenterMiddle,"transition-show":"jump-down","transition-hide":"jump-out",style:ee({"min-width":e.width}),class:"window-height bg-desenfoque custom-shadow","max-height":"100vh"},{default:a(()=>[n("div",$e,[n("div",Se,[o(w,{icon:"bi-x",round:"",dense:"",unelevated:"",outline:"",color:"grey-8",onClick:t[0]||(t[0]=s=>e.mostrarMenu=!1)})]),o(k,{size:"72px",class:"double-border q-mb-md"},{default:a(()=>[n("img",{src:e.imagenPerfil},null,8,Ve)]),_:1}),n("div",Ee,x(e.nombreUsuario),1),o($,{clickable:"",to:{name:"perfil_usuario_externo"},class:"full-width"},{default:a(()=>[o(k,null,{default:a(()=>[o(D,{name:"bi-person"})]),_:1}),o(A,null,{default:a(()=>t[9]||(t[9]=[y(" Perfil ")])),_:1})]),_:1}),o($,{clickable:"",class:"full-width"},{default:a(()=>[o(oe,{modelValue:e.modoOscuro,"onUpdate:modelValue":t[1]||(t[1]=s=>e.modoOscuro=s),"checked-icon":"bi-moon-fill",label:"Modo oscuro","unchecked-icon":"bi-sun-fill",onClick:t[2]||(t[2]=s=>e.toggleDarkMode())},null,8,["modelValue"])]),_:1}),o($,{clickable:"",class:"full-width",onClick:t[3]||(t[3]=s=>e.logout()),disable:e.$q.loading.isActive},{default:a(()=>[o(k,null,{default:a(()=>[o(D,{name:"bi-box-arrow-left"})]),_:1}),o(A,null,{default:a(()=>t[10]||(t[10]=[y(" Cerrar sesi\xF3n ")])),_:1})]),_:1},8,["disable"])])]),_:1},8,["modelValue","self","style"])]),_:1}))],2)]),_:1})]),_:1}),o(ge,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[7]||(t[7]=s=>e.leftDrawerOpen=s),class:"bg-drawer border-right q-px-sm q-py-sm","show-if-above":""},{default:a(()=>[n("div",xe,[n("img",{src:e.$q.dark.isActive?e.logoOscuro:e.logoClaro,height:"80",class:"q-mx-auto block"},null,8,De)]),o(ve,{style:{height:"calc(94% - 100px)","margin-top":"100px","margin-bottom":"20px"}},{default:a(()=>[o(he,null,{default:a(()=>[(i(!0),T(ae,null,te(e.links,s=>{var m;return i(),T("div",{key:s.title},[s.hasOwnProperty("header")?(i(),d(be,{key:0,header:"",class:"text-bold text-primary"},{default:a(()=>[y(x(s.header),1)]),_:2},1024)):(i(),d(c,{key:1,title:(m=s.title)!=null?m:"",link:s.link,icon:s.icon,children:s.children,can:s.can},null,8,["title","link","icon","children","can"]))])}),128))]),_:1})]),_:1}),o(w,{color:"primary","no-caps":"",class:"full-width q-mb-md",outline:"",rounded:"",onClick:t[6]||(t[6]=s=>e.logout())},{default:a(()=>t[11]||(t[11]=[y("Cerrar sesi\xF3n")])),_:1})]),_:1},8,["modelValue"]),o(q,{comportamiento:e.modales},null,8,["comportamiento"]),o(M),o(B,{class:_([{"bg-body":!0},"window-height"])},{default:a(()=>[o(h,null,{default:a(({Component:s})=>[o(se,{name:"scale",mode:"out-in"},{default:a(()=>[o(P)]),_:1}),n("div",Te,[o(Q)]),(i(),d(re,{exclude:["PostulacionVacantePage","PuestoDisponiblePage","PuestoAplicadoPage","VacanteFavoritaPage","Ingresos","Egresos","OrdenCompraPage","PreordenCompra","Devoluciones","RolPagoMes","AcreditacionSemana","TransferenciaProductoEmpleado"]},[(i(),d(ne(s)))],1024))]),_:1})]),_:1})]),_:1})):(i(),d(I,{key:1,view:"lHh lpR fFf"},{default:a(()=>[o(B,null,{default:a(()=>[o(h)]),_:1})]),_:1}))}var Ko=Y(Le,[["render",Ae]]);export{Ko as default};
