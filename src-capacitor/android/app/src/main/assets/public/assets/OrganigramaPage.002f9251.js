var qe=Object.defineProperty;var Xe=(D,e,t)=>e in D?qe(D,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):D[e]=t;var ge=(D,e,t)=>(Xe(D,typeof e!="symbol"?e+"":e,t),t);import{Q as Ve,a as Fe}from"./QItemSection.9a955ec6.js";import{Q as De}from"./QSelect.6ce302d7.js";import{bw as Ge,s as Je,_ as He,c as Ue,h as We,v as ne,x as re,d as Ke,E as Ze,f as Qe,dd as et,t as je,P as tt,F as oe,z as le,y as J,H as Ie,G as Ce,D as ze,I as Pe,a4 as it,K as ke}from"./index.6449c167.js";import{Q as ot}from"./QForm.ca56f146.js";import{u as nt}from"./index.490dde02.js";import{T as rt}from"./TabLayoutFilterTabs2.5e702525.js";import{C as at}from"./ContenedorSimpleMixin.09c9bed5.js";import{E as lt}from"./entidadAuditable.75a46700.js";import{u as st}from"./filtrosListadosGenerales.c3aa2da3.js";import{w as dt}from"./utils.521b98f3.js";import{r as Oe}from"./i18n-validators.29e2545c.js";import"./QChip.95469f73.js";import"./position-engine.70d0a89f.js";import"./format.8ac60962.js";import"./QTabs.6c234f27.js";import"./QResizeObserver.9af84680.js";import"./QTabPanels.49d2362a.js";import"./touch.9135741d.js";import"./QPopupProxy.72ff1d6d.js";import"./QPage.5d173a8a.js";import"./EssentialTableTabs.586dbdfc.js";import"./QBadge.e6f320cd.js";import"./EssentialTablePagination.d5c1010a.js";import"./EssentialTable.00c17e97.js";import"./QToolbar.8dbe891b.js";import"./use-fullscreen.a7661f85.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.fd079679.js";import"./QFile.90d9394a.js";import"./VisorImagen.75b3c53f.js";import"./logo.4781eea2.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./buttonSubmits.fe817da3.js";import"./index.0198dd12.js";const ct=[{name:"empleado_id",field:"empleado_id",label:"Empleado",align:"left",sortable:!0},{name:"cargo",field:"cargo",label:"Cargo",align:"left",sortable:!0},{name:"tipo",field:"tipo",label:"Tipo",align:"left",sortable:!0},{name:"departamento",field:"departamento",label:"Departamento",align:"left",sortable:!0},{name:"nivel",field:"nivel",label:"Nivel",align:"left",sortable:!0},{name:"jefe_id",field:"jefe_id",label:"Jefe Inmediato",align:"left",sortable:!0}];class pt extends Ge{constructor(){super(Je.organigrama)}}class ht extends lt{constructor(){super();ge(this,"id");ge(this,"empleado_id");ge(this,"cargo");ge(this,"cargo_id");ge(this,"tipo");ge(this,"departamento");ge(this,"nivel");ge(this,"jefe_id");this.id=null,this.empleado_id=null,this.cargo="",this.cargo_id=null,this.tipo=null,this.departamento=null,this.nivel=null,this.jefe_id=null}}var $e={exports:{}};(function(D){var e=function(t,i){var o=this;if((typeof t=="string"||t instanceof String)&&(t=document.querySelector(t)),this.element=t,this.config=e.mergeDeep(e._defaultConfig(i),i),this._layoutConfigs={base:{orientation:this.config.orientation,levelSeparation:this.config.levelSeparation,mixedHierarchyNodesSeparation:this.config.mixedHierarchyNodesSeparation,assistantSeparation:this.config.assistantSeparation,subtreeSeparation:this.config.subtreeSeparation,siblingSeparation:this.config.siblingSeparation,layout:this.config.layout,columns:this.config.columns,collapse:this.config.collapse,partnerNodeSeparation:this.config.partnerNodeSeparation}},this.config.tags)for(var n in this.config.tags){var r=this.config.tags[n];r.subTreeConfig!=null&&(this._layoutConfigs[n]={orientation:r.subTreeConfig.orientation!=null?r.subTreeConfig.orientation:this.config.orientation,levelSeparation:r.subTreeConfig.levelSeparation!=null?r.subTreeConfig.levelSeparation:this.config.levelSeparation,mixedHierarchyNodesSeparation:r.subTreeConfig.mixedHierarchyNodesSeparation!=null?r.subTreeConfig.mixedHierarchyNodesSeparation:this.config.mixedHierarchyNodesSeparation,assistantSeparation:r.subTreeConfig.assistantSeparation!=null?r.subTreeConfig.assistantSeparation:this.config.assistantSeparation,subtreeSeparation:r.subTreeConfig.subtreeSeparation!=null?r.subTreeConfig.subtreeSeparation:this.config.subtreeSeparation,siblingSeparation:r.subTreeConfig.siblingSeparation!=null?r.subTreeConfig.siblingSeparation:this.config.siblingSeparation,layout:r.subTreeConfig.layout!=null?r.subTreeConfig.layout:this.config.layout,columns:r.subTreeConfig.columns!=null?r.subTreeConfig.columns:this.config.columns,collapse:r.subTreeConfig.collapse!=null?r.subTreeConfig.collapse:this.config.collapse,partnerNodeSeparation:r.subTreeConfig.partnerNodeSeparation!=null?r.subTreeConfig.partnerNodeSeparation:this.config.partnerNodeSeparation})}this._event_id=e._guid(),e._validateConfig(this.config)&&(this._vScroll={},this.config.ui||(this.ui=e.ui),this.config.editUI?this.editUI=this.config.editUI:this.editUI=new e.editUI,this.editUI.init(this),this.config.filterUI?this.filterUI=this.config.filterUI:this.filterUI=new e.filterUI,this.filterUI.init(this),this.manager=new e.manager(this),this.config.searchUI?this.searchUI=this.config.searchUI:this.searchUI=new e.searchUI,this.config.nodeMenuUI?this.nodeMenuUI=this.config.nodeMenuUI:this.nodeMenuUI=new e.menuUI,this.nodeMenuUI.init(this,this.config.nodeMenu),this.config.nodeCircleMenuUI?this.nodeCircleMenuUI=this.config.nodeCircleMenuUI:this.nodeCircleMenuUI=new e.circleMenuUI,this.nodeCircleMenuUI.init(this,this.config.nodeCircleMenu),this.config.nodeContextMenuUI?this.nodeContextMenuUI=this.config.nodeContextMenuUI:this.nodeContextMenuUI=new e.menuUI,this.nodeContextMenuUI.init(this,this.config.nodeContextMenu),this.config.toolbarUI?this.toolbarUI=this.config.toolbarUI:this.toolbarUI=new e.toolbarUI,this.config.notifierUI?this.notifierUI=this.config.notifierUI:this.notifierUI=new e.notifierUI,this.notifierUI.init(this),this.config.menuUI?this.menuUI=this.config.menuUI:this.menuUI=new e.menuUI,this.menuUI.init(this,this.config.menu),this.config.xScrollUI||(this.xScrollUI=new e.xScrollUI(this.element,this.config,function(){return{boundary:o.response.boundary,scale:o.getScale(),viewBox:o.getViewBox(),padding:o.config.padding}},function(l){o.setViewBox(l)},function(){o._draw(!0,e.action.xScroll)})),this.config.yScrollUI||(this.yScrollUI=new e.yScrollUI(this.element,this.config,function(){return{boundary:o.response.boundary,scale:o.getScale(),viewBox:o.getViewBox(),padding:o.config.padding}},function(l){o.setViewBox(l)},function(){o._draw(!0,e.action.xScroll)})),this.config.undoRedoUI?this.undoRedoUI=this.config.undoRedoUI:this.undoRedoUI=new e.undoRedoUI,this.element.classList.add("boc-"+this.config.mode),this._gragStartedId=null,this._timeout=null,this._touch=null,this._initialized=!1,this._loaded=!1,this._moveInterval=null,this._movePosition=null,this.response=null,this.nodes=null,this.isVisible=null,e._intersectionObserver(this.element,function(l){o.isVisible=l,e.events.publish("visibility-change",[o])!==!1&&e.LAZY_LOADING&&o.isVisible&&(o._loaded?o._draw(!1,e.action.update):(o._setInitialSizeIfNotSet(),o._draw(!1,e.action.init)))}))};e._defaultConfig=function(t){return{interactive:!0,mode:"light",lazyLoading:!0,enableDragDrop:!1,enableSearch:!0,enableTouch:!1,enablePan:!0,keyNavigation:!1,miniMap:!1,nodeMenu:null,nodeCircleMenu:null,nodeContextMenu:null,menu:null,toolbar:!1,sticky:!0,nodeMouseClick:e.action.details,nodeMouseDbClick:e.none,mouseScrool:e.action.zoom,showXScroll:e.none,showYScroll:e.none,template:"ana",tags:{},min:!1,nodeBinding:{},linkBinding:{},searchFields:null,searchDisplayField:null,searchFieldsWeight:null,searchFieldsAbbreviation:null,nodes:[],clinks:[],slinks:[],backdrops:[],groupDottedLines:[],dottedLines:[],undoRedoStorageName:null,levelSeparation:60,siblingSeparation:20,subtreeSeparation:40,backdropSeparation:15,mixedHierarchyNodesSeparation:15,assistantSeparation:100,minPartnerSeparation:50,partnerChildrenSplitSeparation:20,partnerNodeSeparation:15,columns:10,padding:30,orientation:e.orientation.top,layout:e.layout.normal,layoutGridColumns:"dynamic",scaleInitial:1,movable:null,scaleMin:.1,scaleMax:5,orderBy:null,editUI:null,filterUI:null,searchUI:null,xScrollUI:null,yScrollUI:null,nodeMenuUI:null,nodeCircleMenuUI:null,nodeContextMenuUI:null,toolbarUI:null,notifierUI:null,menuUI:null,undoRedoUI:null,exportUrl:"https://balkan.app/export",collapse:{},expand:{},align:e.CENTER,UI:null,anim:{func:e.anim.outPow,duration:200},zoom:{speed:120,smooth:12},roots:null,state:null,editForm:{readOnly:!1,titleBinding:"name",photoBinding:"img",addMore:"Add more fields",addMoreBtn:"Add",addMoreFieldName:"Field name",saveAndCloseBtn:"Save and close",cancelBtn:"Cancel",generateElementsFromFields:!0,focusBinding:null,buttons:{edit:{icon:e.icon.edit(24,24,"#fff"),text:"Edit",hideIfEditMode:!0,hideIfDetailsMode:!1},share:{icon:e.icon.share(24,24,"#fff"),text:"Share"},pdf:{icon:e.icon.pdf(24,24,"#fff"),text:"Save as PDF"},remove:{icon:e.icon.remove(24,24,"#fff"),text:"Remove",hideIfDetailsMode:!0}},elements:[]}}},e.prototype.load=function(t,i){var o=this;return this.config.nodes=t,this._draw(!1,e.action.init,void 0,function(){o.filterUI.update(),i&&i()}),this},e.prototype.loadXML=function(t,i){var o=e._xml2json(t);return this.load(o,i)},e.prototype.getXML=function(){return e._json2xml(this.config.nodes)},e.prototype.on=function(t,i){return e.events.on(t,i,this._event_id),this},e.prototype.removeListener=function(t,i){return e.events.remove(t,i,this._event_id)},e.prototype.draw=function(t,i,o){t==null&&(t=e.action.update),this._draw(!1,t,i,o)},e.prototype._draw=function(t,i,o,n){var r=this;if(!e.LAZY_LOADING||this.isVisible)if(e.LAZY_LOADING||this._initialized||(this._setInitialSizeIfNotSet(),this.width()!=0&&this.height()!=0)){this._hideBeforeAnimationCompleted=!1;var l=i==e.action.init?null:this.getViewBox();this.manager.read(t,this.width(),this.height(),l,i,o,function(a){if(!r.notifierUI.show(a.notif)){i!=e.action.exporting&&(r.nodes=a.nodes,r.visibleNodeIds=a.visibleNodeIds,r.roots=a.roots),r.editUI.fields=a.allFields;var d={defs:""};e.events.publish("renderdefs",[r,d]);var s=r.ui.defs(d.defs),p=r.getScale(a.viewBox);s+=r.ui.pointer(r.config,i,p);var c=r.getViewBox(),h=a.viewBox;d={content:s,res:a},e.events.publish("prerender",[r,d]),s=d.content;var f=[];if(e.RENDER_LINKS_BEFORE_NODES)for(var u=0;u<a.visibleNodeIds.length;u++){var v=a.nodes[a.visibleNodeIds[u]];e.getRootOf(v).stParent?f.push(v.id):s+=r.ui.link(v,r,p,a.bordersByRootIdAndLevel,a.nodes,i)}for(u=0;u<a.visibleNodeIds.length;u++){v=a.nodes[a.visibleNodeIds[u]];var x=r._get(v.id);e.RENDER_LINKS_BEFORE_NODES&&f.includes(v.id)&&(s+=r.ui.link(v,r,p,a.bordersByRootIdAndLevel,a.nodes,i)),s+=r.ui.node(v,x,a.animations,r.config,void 0,void 0,void 0,i,p,r)}for(u=0;u<a.visibleNodeIds.length;u++)v=a.nodes[a.visibleNodeIds[u]],e.RENDER_LINKS_BEFORE_NODES||(s+=r.ui.link(v,r,p,a.bordersByRootIdAndLevel,a.nodes,i)),s+=r.ui.expandCollapseBtn(r,v,r._layoutConfigs,i,p);if(d={content:s,res:a},e.events.publish("render",[r,d]),s=d.content,a=d.res,s+=r.ui.lonely(r.config),i!==e.action.exporting){if(i!==e.action.centernode&&i!==e.action.insert&&i!==e.action.expand&&i!==e.action.collapse&&i!==e.action.update||(h=c),i===e.action.init&&c!=null&&(h=c),r.response=a,S=r.ui.svg(r.width(),r.height(),h,r.config,s),r._initialized){var _=r.getSvg(),g=_.parentNode;g.removeChild(_),g.insertAdjacentHTML("afterbegin",S),r._attachEventHandlers(),r.xScrollUI.addListener(r.getSvg()),r.yScrollUI.addListener(r.getSvg()),r.xScrollUI.setPosition(),r.yScrollUI.setPosition()}else r.element.innerHTML=r.ui.css()+S+r.ui.menuButton(r.config),r._attachInitEventHandlers(),r._attachEventHandlers(),r.xScrollUI.create(r.width(),r.config.padding),r.xScrollUI.setPosition(),r.xScrollUI.addListener(r.getSvg()),r.yScrollUI.create(r.height(),r.config.padding),r.yScrollUI.setPosition(),r.yScrollUI.addListener(r.getSvg()),r.config.enableSearch&&r.searchUI.init(r),r.toolbarUI.init(r,r.config.toolbar),r.undoRedoUI.init(r);var y=!1,b=r.response.animations;if(b[0].length>0){for(r._hideBeforeAnimation(b[0].length),u=0;u<b[0].length;u++)b[0][u]=r.getNodeElement(b[0][u]);e.animate(b[0],b[1],b[2],r.config.anim.duration,r.config.anim.func,function(){y||(n&&n(),e.events.publish("redraw",[r]),r._showAfterAnimation(),y=!0)})}i===e.action.centerNode?e.animate(r.getSvg(),{viewbox:c},{viewbox:r.response.viewBox},r.config.anim.duration,r.config.anim.func,function(){r.ripple(o.options.rippleId),y||(n&&n(),e.events.publish("redraw",[r]),r._showAfterAnimation(),y=!0)},function(){r.xScrollUI.setPosition(),r.yScrollUI.setPosition()}):!c||!r.response||c[0]==r.response.viewBox[0]&&c[1]==r.response.viewBox[1]&&c[2]==r.response.viewBox[2]&&c[3]==r.response.viewBox[3]||i!==e.action.insert&&i!==e.action.expand&&i!==e.action.collapse&&i!==e.action.update&&i!==e.action.init?b[0].length==0&&(y||(n&&n(),e.events.publish("redraw",[r]),y=!0)):e.animate(r.getSvg(),{viewbox:c},{viewbox:r.response.viewBox},2*r.config.anim.duration,r.config.anim.func,function(){r.xScrollUI.setPosition(),r.yScrollUI.setPosition(),y||(n&&n(),e.events.publish("redraw",[r]),y=!0)}),r._initialized||(r._initialized=!0,r.filterUI.update(),e.events.publish("init",[r])),!r._loaded&&a&&a.nodes&&Object.keys(a.nodes).length&&(r._loaded=!0)}else{var m=a.boundary,E=m.maxX-m.minX,w=m.maxY-m.minY,S=r.ui.svg(E,w,[m.minX,m.minY,E,w],r.config,s,p);n(S,a)}}},function(a){e.events.publish("ready",[r,a])})}else console.error("Cannot load the chart with size 0! If you are using the OrgChart within tabs set OrgChart.LAZY_LOADING to true! ")},e.prototype._setInitialSizeIfNotSet=function(){this.element.style.overflow="hidden",this.element.style.position="relative",this.element.offsetHeight==0&&(this.element.style.height="100%",this.element.offsetHeight==0&&(this.element.style.height="700px")),this.element.offsetWidth==0&&(this.element.style.width="100%",this.element.offsetWidth==0&&(this.element.style.width="700px"))},e.prototype.width=function(){return this.element.offsetWidth},e.prototype.height=function(){return this.element.offsetHeight},e.prototype.getViewBox=function(){var t=this.getSvg();return e._getViewBox(t)},e.prototype.setViewBox=function(t){this.getSvg().setAttribute("viewBox",t.toString())},e.prototype.getScale=function(t){return t||(t=this.getViewBox()),e.getScale(t,this.width(),this.height(),this.config.scaleInitial,this.config.scaleMax,this.config.scaleMin)},e.prototype.setScale=function(t){t>this.config.scaleMax&&(t=this.config.scaleMax),t<this.config.scaleMin&&(t=this.config.scaleMin);var i=this.getViewBox().slice(0),o=this.width(),n=this.height(),r=o/i[2],l=n/i[3],a=r>l?l:r,d=i,s=i[2],p=i[3];return i[2]=i[2]/(t/a),i[3]=i[3]/(t/a),i[0]=d[0]-(i[2]-s)/2,i[1]=d[1]-(i[3]-p)/2,this.setViewBox(i),e.events.publish("redraw",[this]),t},e.prototype.ripple=function(t,i,o){var n=this.getNode(t);if(n!=null){var r=this.getNodeElement(t);if(r!=null){var l=this.getScale(),a=n.w/2,d=n.h/2;if(i!==void 0&&o!==void 0){var s=r.getBoundingClientRect();a=i/l-s.left/l,d=o/l-s.top/l}var p=n.w,c=n.h,h=p-a>a?p-a:a,f=c-d>d?c-d:d,u=h>f?h:f,v=document.createElementNS("http://www.w3.org/2000/svg","g"),x=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),_=document.createElementNS("http://www.w3.org/2000/svg","rect"),g=document.createElementNS("http://www.w3.org/2000/svg","circle"),y=e.randomId();x.setAttribute("id",y);var b={ripple:e.t(n.templateName,n.min,this.getScale()).ripple,node:n};e.events.publish("ripple",[this,b]),_.setAttribute("x",b.ripple.rect?b.ripple.rect.x:0),_.setAttribute("y",b.ripple.rect?b.ripple.rect.y:0),_.setAttribute("width",b.ripple.rect?b.ripple.rect.width:n.w),_.setAttribute("height",b.ripple.rect?b.ripple.rect.height:n.h),_.setAttribute("rx",b.ripple.radius),_.setAttribute("ry",b.ripple.radius),g.setAttribute("clip-path","url(#"+y+")"),g.setAttribute("cx",a),g.setAttribute("cy",d),g.setAttribute("r",0),g.setAttribute("fill",b.ripple.color),g.setAttribute("class","boc-ripple"),x.appendChild(_),v.appendChild(x),v.appendChild(g),r.appendChild(v),e.animate(g,{r:0,opacity:1},{r:u,opacity:0},500,e.anim.outPow,function(){r.removeChild(v)})}}},e.prototype.center=function(t,i,o){var n,r,l=t,a=!0,d=!0;i&&i.parentState!=null&&(n=i.parentState),i&&i.childrenState!=null&&(r=i.childrenState),i&&i.rippleId!=null&&(l=i.rippleId),i&&i.vertical!=null&&(a=i.vertical),i&&i.horizontal!=null&&(d=i.horizontal);var s={parentState:n,childrenState:r,rippleId:l,vertical:a,horizontal:d};this._draw(!1,e.action.centerNode,{id:t,options:s},o)},e.prototype.fit=function(t){this.config.scaleInitial=e.match.boundary,this._draw(!0,e.action.init,{method:"fit"},t)},e.prototype.toggleFullScreen=function(){var t=document.querySelector("["+e.attr.tlbr+"r='fullScreen']");document.fullscreenElement==this.element||document.webkitFullscreenElement==this.element||document.mozFullScreenElement==this.element||document.msFullscreenElement==this.element?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),t&&(t.innerHTML=e.toolbarUI.openFullScreenIcon)):(this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen(),t&&(t.innerHTML=e.toolbarUI.closeFullScreenIcon))},e.prototype.getNode=function(t){return this.nodes[t]},e.prototype.setLayout=function(t,i){i||(i="base"),this._layoutConfigs[i].layout=t,i=="base"&&(this.config.layout=t),this._draw(!1,e.action.update)},e.prototype.setOrientation=function(t,i,o){var n=this;i||(i="base"),this._layoutConfigs[i].orientation=t,i=="base"&&(this.config.orientation=t),this._draw(!1,e.action.update,void 0,function(){e._moveToBoundaryArea(n.getSvg(),n.getViewBox(),n.response.boundary,function(){n._draw(!0,e.action.pan),o&&o()})})},e.prototype.search=function(t,i,o){return e.isNEU(i)&&(i=this.searchUI._searchFields),e.isNEU(o)&&(o=i),e._search.search(this.config.nodes,t,i,o,this.config.searchDisplayField,this.config.searchFieldsWeight,this.searchUI._searchFieldsAbbreviation)},e.prototype._hideBeforeAnimation=function(t){if(this._hideBeforeAnimationCompleted!=1&&!(t&&t<e.ANIM_THRESHOLD)){var i=this.element.getElementsByTagName("text");if(i.length>e.TEXT_THRESHOLD)for(var o=0;o<i.length;o++)i[o].style.display="none";var n=this.element.getElementsByTagName("image");if(n.length>e.IMAGES_THRESHOLD)for(o=0;o<n.length;o++)n[o].style.display="none";var r=this.element.querySelectorAll("["+e.attr.link_id+"]");if(r.length>e.LINKS_THRESHOLD)for(o=0;o<r.length;o++)r[o].style.display="none";var l=this.element.querySelectorAll("["+e.attr.control_expcoll_id+"]");if(l.length>e.BUTTONS_THRESHOLD)for(o=0;o<l.length;o++)l[o].style.display="none";var a=this.element.querySelectorAll("["+e.attr.control_up_id+"]");if(a.length>e.BUTTONS_THRESHOLD)for(o=0;o<a.length;o++)a[o].style.display="none";this._hideBeforeAnimationCompleted=!0}},e.prototype._showAfterAnimation=function(){for(var t=this.element.getElementsByTagName("text"),i=0;i<t.length;i++)t[i].style.display="";var o=this.element.getElementsByTagName("image");for(i=0;i<o.length;i++)o[i].style.display="";var n=this.element.querySelectorAll("["+e.attr.link_id+"]");for(i=0;i<n.length;i++)n[i].style.display="";var r=this.element.querySelectorAll("["+e.attr.control_expcoll_id+"]");for(i=0;i<r.length;i++)r[i].style.display="";var l=this.element.querySelectorAll("["+e.attr.control_up_id+"]");for(i=0;i<l.length;i++)l[i].style.display="";this._hideBeforeAnimationCompleted=!1},e.prototype.isChild=function(t,i){for(var o=this.getNode(i);o;){if(o.id==t)return!0;o=o.parent?o.parent:o.stParent}return!1},e.prototype.getCollapsedIds=function(t){for(var i=[],o=0;o<t.childrenIds.length;o++){var n=this.getNode(t.childrenIds[o]);n.collapsed==1&&i.push(n.id)}return i},e.prototype.stateToUrl=function(){if(this.manager.state){var t={};return t.exp=this.manager.state.exp.join("*"),t.min=this.manager.state.min.join("*"),t.adjustify=this.manager.state.adjustify.x+"*"+this.manager.state.adjustify.y,t.scale=this.manager.state.scale,t.y=this.manager.state.x,t.x=this.manager.state.y,new URLSearchParams(t).toString()}return""},e.prototype.generateId=function(){for(;;){var t="_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4);if(this.nodes==null||!this.nodes.hasOwnProperty(t))return t}},e.prototype.moveNodesToVisibleArea=function(t,i){for(var o=this,n=this.getSvg(),r=this.getViewBox(),l=null,a=null,d=null,s=null,p=0;p<t.length;p++){var c=this.nodes[t[p]];(l===null||l<c.x+c.w)&&(l=c.x+c.w),(a===null||a<c.y+c.h)&&(a=c.y+c.h),(d===null||d>c.x)&&(d=c.x),(s===null||s>c.y)&&(s=c.y)}var h=this.width(),f=this.height(),u=h/(y=l-d+2*this.config.padding),v=f/(b=a-s+2*this.config.padding),x=u>v?v:u,_=Math.ceil(h/x),g=Math.ceil(f/x),y=0,b=0;if(_-2*this.config.padding>=l-d)y=(l+d)/2-_/2;else switch(y=firstRoot.x-_/2+e.manager._getNodeWidth(firstRoot,this.config)/2,this.config.orientation){case e.orientation.right:case e.orientation.right_top:(y=-(_/2-(d-l)/2))<this.config.padding-_&&(y=this.config.padding-_);break;case e.orientation.left:case e.orientation.bottom_left:case e.orientation.top_left:case e.orientation.left_top:(y=-(_/2-(l-d)/2))>-this.config.padding&&(y=-this.config.padding)}if(g-2*this.config.padding>=a-s)b=(a+s)/2-g/2;else switch((b=-(g/2-(a-s)/2))>-this.config.padding&&(b=-this.config.padding),this.config.orientation){case e.orientation.bottom:case e.orientation.bottom_left:(b=-(g/2-(s-a)/2))<this.config.padding-g&&(b=this.config.padding-g);break;case e.orientation.left:case e.orientation.right:b=firstRoot.y-g/2+e.manager._getNodeWidth(firstRoot,this.config)/2}var m=[y,b,_,g];r[0]!==m[0]||r[1]!==m[1]?e.animate(n,{viewBox:r},{viewBox:m},this.config.anim.duration,this.config.anim.func,function(){o.draw(e.action.update,void 0,i)}):i&&i()},e.prototype._nodeHasHiddenParent=function(t){return!t.parent&&!e.isNEU(t.pid)&&this.getNode(t.pid)},e.prototype.destroy=function(){this._removeEvent(window,"resize"),e.events.removeForEventId(this._event_id),this.element.innerHTML=null},e.localStorage={},e.localStorage.getItem=function(t){var i=localStorage.getItem("to_date");if(i){if((i=new Date(i))<new Date){for(var o=0,n=localStorage.length;o<n;++o){var r=localStorage.key(o);r&&r.startsWith&&r.startsWith('{"n"')&&localStorage.removeItem(r)}localStorage.removeItem("to_date")}}else(i=new Date).setDate(i.getDate()+5),i=i.toISOString(),localStorage.setItem("to_date",i);return localStorage.getItem(t)},e.localStorage.setItem=function(t,i){try{localStorage.setItem(t,i)}catch(o){o.code==o.QUOTA_EXCEEDED_ERR?(console.warn("Local storage quota exceeded"),localStorage.clear()):(console.error("Local storage error code:"+o.code),console.error(o))}},e.prototype.canUpdateLink=function(t,i){if(i==null||i==null||t==null||t==null||t==i)return!1;var o=this.getNode(i),n=this.getNode(t);return!(o&&n&&(o.isPartner||o.hasPartners&&n.isAssistant||o.hasAssistants&&n.isPartner))&&!this.isChild(t,i)},e.prototype._canUpdateLink=e.prototype.canUpdateLink,e.prototype.updateNode=function(t,i,o){var n=this,r=this.get(t.id);if(o===!0&&e.events.publish("update",[this,r,t])===!1)return!1;this.update(t),e.events.publish("updated",[this]),this.filterUI.update();var l=this.getNode(t.id),a=l.pid;a==null&&(a=l.stpid),this._draw(!1,e.action.update,{id:a},function(){n.ripple(t.id),i&&i()})},e.prototype.update=function(t){for(var i=0;i<this.config.nodes.length;i++)if(this.config.nodes[i].id==t.id){this._putInUndoStack(),this.clearRedo(),this.config.nodes[i]=t;break}return this},e.prototype.removeNode=function(t,i,o){var n=this;if(!this.canRemove(t))return!1;var r=this._getNewPidsAndStpidsForIds(t);return o===!0&&e.events.publish("remove",[this,t,r])===!1?!1:(this.remove(t),e.events.publish("updated",[this]),this.filterUI.update(),this._draw(!1,e.action.update,null,function(){n.config.sticky&&e._moveToBoundaryArea(n.getSvg(),n.getViewBox(),n.response.boundary),i&&i()}),!0)},e.prototype.remove=function(t){var i=this.get(t);if(i){this._putInUndoStack(),this.clearRedo();for(var o=this.config.nodes.length-1;o>=0;o--)this.config.nodes[o].pid!=t&&this.config.nodes[o].stpid!=t||(this.config.nodes[o].pid=i.pid,this.config.nodes[o].stpid=i.stpid),this.config.nodes[o].id==t&&this.config.nodes.splice(o,1)}return this},e.prototype._getNewPidsAndStpidsForIds=function(t){var i=this.get(t),o={},n={};if(i)for(var r=this.config.nodes.length-1;r>=0;r--)this.config.nodes[r].pid==t?o[this.config.nodes[r].id]=i.pid:this.config.nodes[r].stpid==t&&(n[this.config.nodes[r].id]=i.stpid);return{newPidsForIds:o,newStpidsForIds:n}},e.prototype.addNode=function(t,i,o){var n=this;if(o===!0&&e.events.publish("add",[this,t])===!1)return!1;this.add(t),e.events.publish("updated",[this]),this.filterUI.update(),n._draw(!1,e.action.insert,{id:t.pid,insertedNodeId:t.id},function(){n.ripple(t.id),i&&i()})},e.prototype.add=function(t){if(t.id==null&&console.error("Call addNode without id"),this._putInUndoStack(),this.clearRedo(),this.config.movable&&!e.isNEU(t.pid)){var i=this._get(t.pid);i&&(i.movex!=null&&(t.movex=i.movex),i.movey!=null&&(t.movey=i.movey))}return this.config.nodes.push(t),this},e.prototype.replaceIds=function(t,i){this._replaceIds(t),this._draw(!1,e.action.update,void 0,i)},e.prototype._replaceIds=function(t){for(var i=function(s){for(var p=0;p<s.length;p++){var c=s[p];for(var h in t){var f=t[h];c.from==h&&(c.from=f),c.to==h&&(c.to=f)}}},o=0;o<this.config.nodes.length;o++){var n=this.config.nodes[o];for(var r in t){var l=t[r];n.id==r&&(n.id=l),n.pid==r&&(n.pid=l),n.stpid==r&&(n.stpid=l),n.ppid==r&&(n.ppid=l)}}if(Array.isArray(this.config.roots))for(o=0;o<this.config.roots.length;o++)e.isNEU(t[this.config.roots[o]])||(this.config.roots[o]=t[this.config.roots[o]]);if(this.nodes)for(var a in this.nodes)e.isNEU(t[a])||(l=t[a],(d=this.nodes[a]).id=l,this.nodes[l]=d);if(this.manager.oldNodes)for(var a in this.manager.oldNodes)e.isNEU(t[a])||(l=t[a],(d=this.manager.oldNodes[a]).id=l,this.manager.oldNodes[l]=d);if(this.roots){for(var a in this.roots)if(!e.isNEU(t[a])){var d;l=t[a],(d=this.roots[a]).id=l,this.roots[l]=d}}i(this.config.clinks),i(this.config.slinks),i(this.config.groupDottedLines),i(this.config.dottedLines)},e.prototype._get=function(t){var i=this.__get(t);if(i)return i;if((this.config.groupDottedLines.length||this.config.dottedLines.length)&&!e.isNEU(t)&&typeof t=="string"&&(t.indexOf("balkan_group_dotted_")!=-1||t.indexOf("balkan_dotted_")!=-1)){var o=(t=(t=t.replace("balkan_group_dotted_","")).replace("balkan_dotted_","")).indexOf("_balkan_id_");if(t=t.substring(o+11),i=this.__get(t))return i}return null},e.prototype.__get=function(t){for(var i=0;i<this.config.nodes.length;i++)if(this.config.nodes[i].id==t)return this.config.nodes[i];return null},e.prototype.get=function(t){var i=this._get(t);return i==null?null:JSON.parse(JSON.stringify(i))},e.prototype.canRemove=function(t){var i=this.getNode(t);return!!i&&!i.hasPartners&&!i.hasAssistants},e===void 0&&(e={}),e._ajax=function(t,i,o,n,r){n==null&&(n="arraybuffer");var l=new XMLHttpRequest;l.onload=function(a){l.readyState==4&&this.status===200&&(a.target==null?r(this.response):r(a.target.response))},l.onerror=function(a){r({error:a})},l.open(i,t),l.responseType=n,l.setRequestHeader("Content-Type","application/json"),o==null?l.send():l.send(o)},e===void 0&&(e={}),e.animate=function(t,i,o,n,r,l,a){var d,s=10,p=1,c=n/s+1;return document.getElementsByTagName("g"),Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]),d=setInterval(function(){for(var h=0;h<t.length;h++)for(var f in o[h]){var u=e._arrayContains(["top","left","right","bottom","width","height"],f.toLowerCase())?"px":"";switch(f.toLowerCase()){case"d":var v=r((p*s-s)/n)*(o[h][f][0]-i[h][f][0])+i[h][f][0],x=r((p*s-s)/n)*(o[h][f][1]-i[h][f][1])+i[h][f][1];t[h].setAttribute("d",t[h].getAttribute("d")+" L"+v+" "+x);break;case"r":var _=r((p*s-s)/n)*(o[h][f]-i[h][f])+i[h][f];t[h].setAttribute("r",_);break;case"x1":_=r((p*s-s)/n)*(o[h][f]-i[h][f])+i[h][f],t[h].setAttribute("x1",_);break;case"x2":_=r((p*s-s)/n)*(o[h][f]-i[h][f])+i[h][f],t[h].setAttribute("x2",_);break;case"y1":_=r((p*s-s)/n)*(o[h][f]-i[h][f])+i[h][f],t[h].setAttribute("y1",_);break;case"y2":_=r((p*s-s)/n)*(o[h][f]-i[h][f])+i[h][f],t[h].setAttribute("y2",_);break;case"rotate3d":if(o[h][f]){var g=i[h][f],y=o[h][f],b=[0,0,0,0];for(var m in g)b[m]=r((p*s-s)/n)*(y[m]-g[m])+g[m];t[h].style.transform="rotate3d("+b.toString()+"deg)"}break;case"transform":if(o[h][f]){g=i[h][f],y=o[h][f],b=[0,0,0,0,0,0];for(var m in g)b[m]=r((p*s-s)/n)*(y[m]-g[m])+g[m];t[h].hasAttribute("transform")?t[h].setAttribute("transform","matrix("+b.toString()+")"):t[h].style.transform="matrix("+b.toString()+")"}break;case"viewbox":if(o[h][f]){g=i[h][f],y=o[h][f],b=[0,0,0,0];for(var m in g)b[m]=r((p*s-s)/n)*(y[m]-g[m])+g[m];t[h].setAttribute("viewBox",b.toString())}break;case"margin":if(o[h][f]){g=i[h][f],y=o[h][f],b=[0,0,0,0];for(var m in g)b[m]=r((p*s-s)/n)*(y[m]-g[m])+g[m];var E="";for(m=0;m<b.length;m++)E+=parseInt(b[m])+"px ";t[h]&&t[h].style&&(t[h].style[f]=E)}break;case"scrolly":_=r((p*s-s)/n)*(o[h][f]-i[h][f])+i[h][f],t[h].scrollTo(0,_);break;default:_=r((p*s-s)/n)*(o[h][f]-i[h][f])+i[h][f],t[h]&&t[h].style&&(t[h].style[f]=_+u)}}a&&a(),(p+=1)>c+1&&(clearInterval(d),l&&l(t))},s)},e.anim={},e.anim.inPow=function(t){return t<0?0:t>1?1:Math.pow(t,2)},e.anim.outPow=function(t){return t<0?0:t>1?1:-1*(Math.pow(t-1,2)+-1)},e.anim.inOutPow=function(t){return t<0?0:t>1?1:(t*=2)<1?e.anim.inPow(t,2)/2:-.5*(Math.pow(t-2,2)+-2)},e.anim.inSin=function(t){return t<0?0:t>1?1:1-Math.cos(t*(Math.PI/2))},e.anim.outSin=function(t){return t<0?0:t>1?1:Math.sin(t*(Math.PI/2))},e.anim.inOutSin=function(t){return t<0?0:t>1?1:-.5*(Math.cos(Math.PI*t)-1)},e.anim.inExp=function(t){return t<0?0:t>1?1:Math.pow(2,10*(t-1))},e.anim.outExp=function(t){return t<0?0:t>1?1:1-Math.pow(2,-10*t)},e.anim.inOutExp=function(t){return t<0?0:t>1?1:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,10*(-2*t+1)))},e.anim.inCirc=function(t){return t<0?0:t>1?1:-(Math.sqrt(1-t*t)-1)},e.anim.outCirc=function(t){return t<0?0:t>1?1:Math.sqrt(1-(t-1)*(t-1))},e.anim.inOutCirc=function(t){return t<0?0:t>1?1:t<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(2*t-2)*(2*t-2))+1)},e.anim.rebound=function(t){return t<0?0:t>1?1:t<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-1.5/2.75)*(t-1.5/2.75)+.75):t<2.5/2.75?1-(7.5625*(t-2.25/2.75)*(t-2.25/2.75)+.9375):1-(7.5625*(t-2.625/2.75)*(t-2.625/2.75)+.984375)},e.anim.inBack=function(t){return t<0?0:t>1?1:t*t*(2.70158*t-1.70158)},e.anim.outBack=function(t){return t<0?0:t>1?1:(t-1)*(t-1)*(2.70158*(t-1)+1.70158)+1},e.anim.inOutBack=function(t){return t<0?0:t>1?1:t<.5?4*t*t*(7.1898*t-2.5949)*.5:.5*((2*t-2)*(2*t-2)*(3.5949*(2*t-2)+2.5949)+2)},e.anim.impulse=function(t){var i=2*t;return i*Math.exp(1-i)},e.anim.expPulse=function(t){return Math.exp(-2*Math.pow(t,2))},e===void 0&&(e={}),e.prototype._attachInitEventHandlers=function(t){this._addEvent(window,"resize",this._resizeHandler)},e.prototype._attachEventHandlers=function(t){if(this.config.interactive){t=this.getSvg(),this.config.enableTouch||e.isMobile()?(this._addEvent(t,"touchstart",this._globalMouseDownHandler),this._addEvent(t,"touchend",this._globalClickHandler)):(this._addEvent(t,"mousedown",this._globalMouseDownHandler),this._addEvent(t,"click",this._globalClickHandler),this._addEvent(t,"contextmenu",this._globalContextHandler),this._addEvent(t,"dblclick",this._globalDbClickHandler),this.config.mouseScrool!=e.action.none&&this._addEvent(t,"wheel",this._mouseScrollHandler));var i=this.getMenuButton();i&&this._addEvent(i,"click",this._menuClickHandler)}},e.prototype._addEvent=function(t,i,o,n){var r,l;n||(n=""),t.getListenerList||(t.getListenerList={}),t.getListenerList[i+n]||(r=this,l=o,o=function(){if(l)return l.apply(r,[this,arguments[0]])},t.addEventListener?i=="mousewheel"?t.addEventListener(i,a,{passive:!1}):t.addEventListener(i,a,!1):t.attachEvent("on"+i,function(){var d=o.call(t,window.event);return d===!1&&(window.event.returnValue=!1,window.event.cancelBubble=!0),d}),t.getListenerList[i+n]=a);function a(d){var s=o.apply(this,arguments);return s===!1&&(d.stopPropagation(),d.preventDefault()),s}},e.prototype._removeEvent=function(t,i){if(t.getListenerList[i]){var o=t.getListenerList[i];t.removeEventListener(i,o,!1),delete t.getListenerList[i]}},e===void 0&&(e={}),e.VERSION="8.14.57",e.orientation={},e.orientation.top=0,e.orientation.bottom=1,e.orientation.right=2,e.orientation.left=3,e.orientation.top_left=4,e.orientation.bottom_left=5,e.orientation.right_top=6,e.orientation.left_top=7,e.align={},e.align.center=e.CENTER=8,e.align.orientation=e.ORIENTATION=9,e.attr={},e.attr.l="data-l",e.attr.id="data-id",e.attr.sl="data-sl",e.attr.lbl="data-lbl",e.attr.val="data-val",e.attr.tlbr="data-tlbr",e.attr.item="data-item",e.attr.layout="data-layout",e.attr.node_id="data-n-id",e.attr.link_id="data-l-id",e.attr.field_name="data-f-name",e.attr.c_link_to="data-c-l-to",e.attr.c_link_from="data-c-l-from",e.attr.s_link_to="data-s-l-to",e.attr.s_link_from="data-s-l-from",e.attr.control_add="data-ctrl-add",e.attr.control_expcoll_id="data-ctrl-ec-id",e.attr.control_up_id="data-ctrl-up-id",e.attr.control_export_menu="data-ctrl-menu",e.attr.control_node_menu_id="data-ctrl-n-menu-id",e.attr.control_node_circle_menu_id="data-ctrl-n-c-menu-id",e.attr.control_node_circle_menu_name="data-ctrl-n-c-menu-name",e.attr.control_node_circle_menu_wrraper_id="data-ctrl-n-c-menu-wrapper-id",e.attr.width="data-width",e.attr.text_overflow="data-text-overflow",e.ID="id",e.PID="pid",e.STPID="stpid",e.TAGS="tags",e.NODES="nodes",e.ELASTIC="elastic",e.ASSISTANT="Assistant",e.action={},e.action.expand=0,e.action.collapse=1,e.action.maximize=101,e.action.minimize=102,e.action.expandCollapse=501,e.action.edit=1,e.action.zoom=2,e.action.ctrlZoom=22,e.action.scroll=41,e.action.xScroll=3,e.action.yScroll=4,e.action.none=5,e.action.init=6,e.action.update=7,e.action.move=70,e.action.pan=8,e.action.centerNode=9,e.action.resize=10,e.action.insert=11,e.action.insertfirst=12,e.action.details=13,e.action.exporting=14,e.none=400001,e.scroll={},e.scroll.visible=!0,e.scroll.smooth=12,e.scroll.speed=120,e.scroll.safari={smooth:12,speed:250},e.match={},e.match.height=100001,e.match.width=100002,e.match.boundary=100003,e.movable={},e.movable.node="node",e.movable.tree="tree",e.movable.detachTree="detachTree",e.layout={},e.layout.normal=e.normal=0,e.layout.mixed=e.mixed=1,e.layout.tree=e.tree=2,e.layout.treeLeftOffset=e.treeLeftOffset=3,e.layout.treeRightOffset=e.treeRightOffset=4,e.layout.treeLeft=5,e.layout.treeRight=6,e.layout.grid=-1,e.nodeOpenTag="<g "+e.attr.node_id+'="{id}" style="opacity: {opacity}" transform="matrix(1,0,0,1,{x},{y})" class="{class}" '+e.attr.sl+'="{sl}" '+e.attr.l+"={level} {lcn}>",e.linkOpenTag="<g "+e.attr.link_id+'="[{id}][{child-id}]" class="{class}">',e.expcollOpenTag="<g "+e.attr.control_expcoll_id+'="{id}" transform="matrix(1,0,0,1,{x},{y})"  style="cursor:pointer;">',e.upOpenTag="<g "+e.attr.control_up_id+'="{id}" transform="matrix(1,0,0,1,{x},{y})" style="cursor:pointer;">',e.linkFieldsOpenTag='<g transform="matrix(1,0,0,1,{x},{y}) rotate({rotate})">',e.grCloseTag="</g>",e.A5w=420,e.A5h=595,e.A4w=595,e.A4h=842,e.A3w=842,e.A3h=1191,e.A2w=1191,e.A2h=1684,e.A1w=1684,e.A1h=2384,e.Letterw=612,e.Letterh=791,e.Legalw=612,e.Legalh=1009,e.COLLAPSE_PARENT_NEIGHBORS=1,e.COLLAPSE_SUB_CHILDRENS=2,e.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED=3,e.TEXT_THRESHOLD=400,e.IMAGES_THRESHOLD=100,e.LINKS_THRESHOLD=200,e.BUTTONS_THRESHOLD=70,e.ANIM_THRESHOLD=50,e.IT_IS_LONELY_HERE='<g transform="translate(-100, 0)" style="cursor:pointer;"  '+e.attr.control_add+'="control-add"><text fill="#039be5">{link}</text></g>',e.RES={},e.IT_IS_LONELY_HERE_LINK=e.RES.IT_IS_LONELY_HERE_LINK="It's lonely here, add your first node",e.FIRE_DRAG_NOT_CLICK_IF_MOVE=3,e.STRING_TAGS=!1,e.MAX_NODES_MESS="The trial has expired or 200 nodes limit was reached! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/OrgChartJS/Docs/Evaluation'>See more</a>",e.OFFLINE_MESS="The evaluation version requires internet connection! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/OrgChartJS/Docs/Evaluation'>See more</a>",e.SEARCH_PLACEHOLDER="Search... type ? to get help.",e.SEARCH_HELP_SYMBOL="?",e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE=!1,e.SEARCH_RESULT_LIMIT=10,e.IMPORT_MESSAGE="Choose the columns (fields) in your data file that contain the required information.",e.FIXED_POSITION_ON_CLICK=!1,e.RENDER_LINKS_BEFORE_NODES=!1,e.RENDER_CLINKS_BEFORE_NODES=!1,e.MIXED_LAYOUT_ALL_NODES=!0,e.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN=!1,e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN=1,e.LINK_ROUNDED_CORNERS=5,e.MOVE_STEP=5,e.CLINK_CURVE=1,e.MAX_DEPTH=200,e.SCALE_FACTOR=1.44,e.LAZY_LOADING_FACTOR=500,e.HIDE_EDIT_FORM_ON_PAN=!0,e.LAZY_LOADING=!0,e.ARRAY_FIELDS=["tags"],e.CSV_DELIMITER=",",e.EDITFORM_CLOSE_BTN='<svg data-edit-from-close class="boc-edit-form-close"><path style="fill:#ffffff;" d="M21.205,5.007c-0.429-0.444-1.143-0.444-1.587,0c-0.429,0.429-0.429,1.143,0,1.571l8.047,8.047H1.111 C0.492,14.626,0,15.118,0,15.737c0,0.619,0.492,1.127,1.111,1.127h26.554l-8.047,8.032c-0.429,0.444-0.429,1.159,0,1.587 c0.444,0.444,1.159,0.444,1.587,0l9.952-9.952c0.444-0.429,0.444-1.143,0-1.571L21.205,5.007z"></path></svg>',e.ESCAPE_HTML=!1,e.VERTICAL_CHILDREN_ASSISTANT=!1,e.EXPORT_PAGES_CUT_NODES=!1,e.RESET_MOVABLE_ONEXPANDCOLLAPSE=!1,e.FILTER_ALPHABETICALLY=!0,e.SERVER_PREFIX=".azurewebsites.net/api/OrgChartJS",e.FUNC_URL_NAME="func-url-orgchartjs",e.MINIMUM_SYMBOLS_IN_SEARCH_INPUT=1,D.exports=e,e._intersects=function(t,i,o){var n=t.x-o.siblingSeparation/4,r=t.y,l=t.x+t.w+o.siblingSeparation/4,a=t.y;switch(o.orientation){case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:n=t.x,r=t.y-o.siblingSeparation/4,l=t.x,a=t.y+t.h+o.siblingSeparation/4}var d,s,p,c=i.p,h=i.q,f=i.r,u=i.s;return(d=(l-n)*(u-h)-(f-c)*(a-r))!==0&&(s=((r-a)*(f-n)+(l-n)*(u-r))/d,0<(p=((u-h)*(f-n)+(c-f)*(u-r))/d)&&p<1&&0<s&&s<1)},e._addPoint=function(t,i,o,n,r){switch(o.orientation){case e.orientation.top:case e.orientation.top_left:return e._addPointTop(t,i,o,n,r);case e.orientation.bottom:case e.orientation.bottom_left:return e._addPointBottom(t,i,o,n,r);case e.orientation.left:case e.orientation.left_top:return e._addPointLeft(t,i,o,n,r);case e.orientation.right:case e.orientation.right_top:return e._addPointRight(t,i,o,n,r)}},e._addPointTop=function(t,i,o,n,r){var l,a,d;return r=="left"?l=t.leftNeighbor?t.x+(t.leftNeighbor.x+t.leftNeighbor.w-t.x)/2:t.x-o.siblingSeparation/2:r=="right"&&(l=t.rightNeighbor?t.x+t.w+(t.rightNeighbor.x-(t.x+t.w))/2:t.x+t.w+o.siblingSeparation/2),i.push([l,i[i.length-1][1]]),i.push([l,t.y-o.levelSeparation/3]),a=i[i.length-1][1],d=l,n.p=l,n.q=a,n.r=d,n},e._addPointBottom=function(t,i,o,n,r){var l,a,d;return r=="left"?l=t.leftNeighbor?t.x+(t.leftNeighbor.x+t.leftNeighbor.w-t.x)/2:t.x-o.siblingSeparation/2:r=="right"&&(l=t.rightNeighbor?t.x+t.w+(t.rightNeighbor.x-(t.x+t.w))/2:t.x+t.w+o.siblingSeparation/2),i.push([l,i[i.length-1][1]]),i.push([l,t.y+t.h+o.levelSeparation/3]),a=i[i.length-1][1],d=l,n.p=l,n.q=a,n.r=d,n},e._addPointLeft=function(t,i,o,n,r){var l,a=i[i.length-1][0];r=="bottom"?l=t.rightNeighbor?t.y+t.h+(t.rightNeighbor.y-(t.y+t.h))/2:t.y+t.h+o.siblingSeparation/2:r=="top"&&(l=t.leftNeighbor?t.y+(t.leftNeighbor.y+t.leftNeighbor.h-t.y)/2:t.y-o.siblingSeparation/2),i.push([i[i.length-1][0],l]),i.push([t.x-o.levelSeparation/3,l]),a=i[i.length-1][0];var d=l;return n.p=a,n.q=l,n.s=d,n},e._addPointRight=function(t,i,o,n,r){var l,a=i[i.length-1][0];r=="bottom"?l=t.rightNeighbor?t.y+t.h+(t.rightNeighbor.y-(t.y+t.h))/2:t.y+t.h+o.siblingSeparation/2:r=="top"&&(l=t.leftNeighbor?t.y+(t.leftNeighbor.y+t.leftNeighbor.h-t.y)/2:t.y-o.siblingSeparation/2),i.push([i[i.length-1][0],l]),i.push([t.x+t.w+o.levelSeparation/3,l]),a=i[i.length-1][0];var d=l;return n.p=a,n.q=l,n.s=d,n},e.editUI=function(){},e.editUI.prototype.init=function(t){this.obj=t,this.fields=null,this._event_id=e._guid()},e.editUI.prototype.on=function(t,i){return e.events.on(t,i,this._event_id),this},e.editUI.prototype.show=function(t,i,o){this.hide();var n=this,r=this.content(t,i,o);if(this.obj.element.appendChild(r.element),e.input.init(this.obj.element),e.events.publish("show",[this,t])===!1)return!1;o?i||this._focusElement(r.focusId):this.interval=e.animate(r.element,{right:-20,opacity:0},{right:0,opacity:1},300,e.anim.outSin,function(){i||n._focusElement(r.focusId)}),this.obj.element.querySelector("[data-edit-from-close]").addEventListener("click",function(d){d.preventDefault(),e.events.publish("cancel",[n,{id:t}])!==!1&&n.hide()}),this.obj.element.querySelector("[data-edit-from-cancel]").addEventListener("click",function(d){d.preventDefault(),e.events.publish("cancel",[n,{id:t}])!==!1&&n.hide()}),this.obj.element.querySelector("[data-edit-from-save]").addEventListener("click",function(d){d.preventDefault();var s=e.input.validateAndGetData(r.element);if(s!==!1){var p=n.obj.get(t),c={data:e.mergeDeep(p,s)};if(e.events.publish("save",[n,c])===!1)return;n.obj.updateNode(c.data,null,!0),n.hide()}});for(var l=this.obj.element.querySelectorAll("[data-input-btn]"),a=0;a<l.length;a++)l[a].addEventListener("click",function(d){d.preventDefault(),e.events.publish("element-btn-click",[n,{input:this.parentNode.querySelector("input"),nodeId:t,event:d}])});this.obj.element.querySelector("[data-add-more-fields-btn]").addEventListener("click",function(d){d.stopPropagation(),d.preventDefault();var s=this,p=e.elements.textbox({},{type:"textbox",label:n.obj.config.editForm.addMoreFieldName,btn:n.obj.config.editForm.addMoreBtn},"280px");s.parentNode.insertAdjacentHTML("beforebegin",p.html),s.style.display="none",e.input.init(s.parentNode.previousSibling);var c=document.getElementById(p.id);c.focus(),c.nextElementSibling.addEventListener("click",function(h){h.stopPropagation(),h.preventDefault();var f=c.value,u=n.obj.element.querySelector('[data-binding="'+e._escapeDoubleQuotes(c.value)+'"]');if(e.isNEU(f)||u)c.focus();else{var v=e.elements.textbox({},{type:"textbox",label:f,binding:f},"280px");c.parentNode.parentNode.parentNode.removeChild(c.parentNode.parentNode),s.parentNode.insertAdjacentHTML("beforebegin",v.html),s.style.display="",e.input.init(s.parentNode.previousSibling),document.getElementById(v.id).focus()}})}),this.obj.element.querySelector("[data-boc-edit-from-btns]").addEventListener("click",function(d){for(var s=d.target;s&&s.hasAttribute&&!s.hasAttribute("data-edit-from-btn");)s=s.parentNode;if(s&&s.hasAttribute){var p=s.getAttribute("data-edit-from-btn"),c={button:n.obj.config.editForm.buttons[p],name:p,nodeId:t,event:d};if(e.events.publish("button-click",[n,c])===!1)return!1;switch(p){case"edit":n.obj.editUI.show(t,!1,!0);break;case"pdf":n.obj.exportPDFProfile({id:t,filename:r.title}),n.hide();break;case"png":n.obj.exportPNGProfile({id:t,filename:r.title}),n.hide();break;case"share":n.obj.shareProfile(t);break;case"remove":n.obj.removeNode(t,null,!0),n.hide()}}})},e.editUI.prototype._focusElement=function(t){var i=null;e.isNEU(this.obj.config.editForm.focusBinding)?e.isNEU(t)||(i=document.getElementById(t)):i=this.obj.element.querySelector('[data-binding="'+this.obj.config.editForm.focusBinding+'"]'),i&&(i.value&&i.value.length&&i.setSelectionRange(i.value.length,i.value.length),i.focus())},e.editUI.prototype.content=function(t,i,o,n,r){var l,a=this.obj.config.editForm.readOnly,d=JSON.parse(JSON.stringify(this.obj.config.editForm.elements)),s=this.obj.config.editForm.addMore,p=this.obj.config.editForm.saveAndCloseBtn,c=this.obj.config.editForm.cancelBtn,h=this.obj.config.editForm.buttons,f=this.obj.config.editForm.titleBinding,u=this.obj.config.editForm.photoBinding,v=this.obj.getNode(t),x=this.obj._get(t),_=e.t(v.templateName,v.min,this.obj.getScale()),g=x[f],y=x[u];if(this.obj.config.editForm.generateElementsFromFields)for(var b=0;b<this.fields.length;b++){var m=this.fields[b];if(m!="tags"){for(var E=!1,w=0;w<d.length;w++){if(Array.isArray(d[w])){for(var S=0;S<d[w].length;S++)if(m==d[w][S].binding){E=!0;break}}else if(m==d[w].binding){E=!0;break}if(E)break}E||d.push({type:"textbox",label:m,binding:m})}}e.isNEU(g)&&(g=""),y=e.isNEU(y)?e.icon.user(150,150,"#8C8C8C",0,0):`<img style="width: 100%;height:100%;border-radius: 50%;object-fit:cover;" src="${y}"></img>`;var A=!i,I=i?"display:none;":"",M=i||!s?"display:none;":"",k=_.editFormHeaderColor?`style="background-color:${_.editFormHeaderColor};"`:"",L=document.createElement("form");if(L.setAttribute("data-boc-edit-form",""),L.classList.add("boc-edit-form"),L.classList.add(this.obj.config.mode),L.classList.add(v.templateName.replaceAll(" ","")),L.classList.add(e.ui._defsIds[v.templateName]),Array.isArray(v.tags)&&v.tags.length)for(b=0;b<v.tags.length;b++)L.classList.add(v.tags[b].replaceAll(" ",""));L.style.display="flex",L.style.opacity=o?1:0,L.style.right=o?0:"-20px",n&&(L.style.width=n);var P=[],j=r?"":e.EDITFORM_CLOSE_BTN;return L.innerHTML=`<div>
                        <div class="boc-edit-form-header" ${k}>
                            ${j}
                            ${e.editUI.renderHeaderContent(g,y,v,x)}
                        </div>
                        <div data-boc-edit-from-btns class="boc-edit-form-instruments">
                        ${function(){if(r)return"";var z="";for(var T in h){var N=h[T];e.isNEU(N)||A&&N.hideIfEditMode||i&&N.hideIfDetailsMode||a&&N.text=="Edit"||(z+=`<div data-edit-from-btn='${T}' class="boc-img-button" ${k} title="${N.text}">${N.icon}</div>`)}return z}()}    
                        </div>
                    </div>
                    <div class="boc-edit-form-fields">
                        <div class="boc-edit-form-fields-inner">
                            <div class="boc-form-fieldset">
                                ${function(){for(var z="",T=0;T<d.length;T++){var N=d[T];if(Array.isArray(N)){z+='<div class="boc-form-field-100 boc-form-fieldset">';for(var R=0;R<N.length;R++){var V=N[R],U=e.elements[V.type](x,V,"unset",i);!e.isNEU(U.id)&&e.isNEU(l)&&e.isNEU(U.value)&&(l=U.id),e.isNEU(U.value)||P.push(`${V.label}: ${U.value}`),z+=U.html}z+="</div>"}else U=e.elements[N.type](x,N,"280px",i),!e.isNEU(U.id)&&e.isNEU(l)&&e.isNEU(U.value)&&(l=U.id),e.isNEU(U.value)||P.push(`${N.label}: ${U.value}`),z+=U.html}return z}()}

                                <div class="boc-form-field" style="min-width: 280px; text-align:center; ${M}">
                                    <a data-add-more-fields-btn href="#" class="boc-link">${s}</a>
                                </div>
                            </div>        
                        </div>
                    </div>
                    <div class="boc-form-fieldset" style="padding: 14px 10px; ${I}">
                        <div class="boc-form-field" style="min-width: initial;">
                            <button data-edit-from-cancel type="button" class="boc-button transparent">${c}</button>
                        </div>
                        <div class="boc-form-field" style="min-width: initial;">
                            <button type="submit" data-edit-from-save type="button" class="boc-button">${p}</button>
                        </div>
                    </div>`,{element:L,focusId:l,title:g,shareText:P.join(`
`)}},e.editUI.prototype.hide=function(){if(e.events.publish("hide",[this])===!1)return!1;e.isNEU(this.interval)&&(clearInterval(this.interval),this.interval=null);var t=this.obj.element.querySelector("[data-boc-edit-form]");t&&t.parentNode&&t.parentNode.removeChild(t)},e.editUI.renderHeaderContent=function(t,i,o,n){return`<h1 class="boc-edit-form-title">${e._escapeGreaterLessSign(t)}</h1>
                <div id="boc-avatar" class="boc-edit-form-avatar">${i}</div>`},e.prototype.getSvg=function(){var t=this.element.getElementsByTagName("svg");return t&&t.length?t[0]:null},e.prototype.getPointerElement=function(){return this.element.querySelector("g[data-pointer]")},e.prototype.getNodeElement=function(t){return this.element.querySelector("["+e.attr.node_id+"='"+t+"']")},e.prototype.getMenuButton=function(){return this.element.querySelector("["+e.attr.control_export_menu+"]")},e.menuUI=function(){},e.menuUI.prototype.init=function(t,i){this.obj=t,this.wrapper=null,this.menu=i,this._event_id=e._guid()},e.menuUI.prototype.showStickIn=function(t,i,o,n){this._show(t,null,i,o,n)},e.menuUI.prototype.show=function(t,i,o,n,r){this._show(t,i,o,n,r)},e.menuUI.prototype._show=function(t,i,o,n,r){var l=this;this.hide();var a="";r||(r=this.menu);var d={firstNodeId:o,secondNodeId:n,menu:r};if(e.events.publish("show",[this,d])===!1)return!1;for(var s in r=d.menu){var p=r[s].icon,c=r[s].text;p===void 0&&(p=e.icon[s]?e.icon[s](24,24,"#7A7A7A"):""),typeof c=="function"&&(c=c()),typeof p=="function"&&(p=p()),a+="<div "+e.attr.item+'="'+s+'">'+p+"<span>&nbsp;&nbsp;"+c+"</span></div>"}if(a!=""){if(this.wrapper=document.createElement("div"),this.wrapper.className="boc-chart-menu",this.wrapper.style.left="-99999px",this.wrapper.style.top="-99999px",this.wrapper.innerHTML=a,this.obj.element.appendChild(this.wrapper),i==null){var h=e._menuPosition(t,this.wrapper,this.obj.getSvg());t=h.x,i=h.y}var f=t+45;this.wrapper.style.left=f+"px",this.wrapper.style.top=i+"px",this.wrapper.style.left=f-this.wrapper.offsetWidth+"px";var u=t-this.wrapper.offsetWidth;e.animate(this.wrapper,{opacity:0,left:f-this.wrapper.offsetWidth},{opacity:1,left:u},300,e.anim.inOutPow);for(var v=this.wrapper.getElementsByTagName("div"),x=0;x<v.length;x++)(s=v[x]).addEventListener("click",function(_){var g,y=this.getAttribute(e.attr.item);if(r[y].onClick===void 0)if(y==="add"){var b={id:l.obj.generateId(),pid:o};l.obj.addNode(b,null,!0)}else if(y==="edit"){var m=l.obj.getNode(o);l.obj.editUI.show(m.id)}else y==="details"?(m=l.obj.getNode(o),l.obj.editUI.show(m.id,!0)):y==="remove"?l.obj.removeNode(o,null,!0):y==="svg"?l.obj.exportSVG({filename:"OrgChart.svg",expandChildren:!1,nodeId:o}):y==="pdf"?l.obj.exportPDF({filename:"OrgChart.pdf",expandChildren:!1,nodeId:o}):y==="png"?l.obj.exportPNG({filename:"OrgChart.png",expandChildren:!1,nodeId:o}):y==="csv"?l.obj.exportCSV({nodeId:o}):y==="xml"?l.obj.exportXML({nodeId:o}):y==="json"&&l.obj.exportJSON({nodeId:o});else g=r[y].onClick.call(l.obj,o,n);g!=0&&l.hide()})}},e.menuUI.prototype.isVisible=function(){return this.wrapper!=null},e.menuUI.prototype.hide=function(){this.wrapper!=null&&(this.obj.element.removeChild(this.wrapper),this.wrapper=null)},e.menuUI.prototype.on=function(t,i){return e.events.on(t,i,this._event_id),this},e.circleMenuUI=function(){},e.circleMenuUI.prototype.init=function(t,i){this.obj=t,this.menu=i,this._menu=null,this._buttonsInterval=[],this._linesInterval=[],this._event_id=e._guid()},e.circleMenuUI.prototype.show=function(t,i){this._show(t,i)},e.circleMenuUI.prototype._show=function(t,i){var o=this,n=this.obj.getNode(t),r=e.t(n.templateName,n.min,this.obj.getScale());if(!e.isNEU(r.nodeCircleMenuButton)){var l=this.obj.getSvg(),a=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_id+'="'+t+'"]'),d=this.obj.getNodeElement(t),s=e._getTransform(a),p=e._getTransform(d),c=s[4]+p[4],h=s[5]+p[5],f=a.querySelectorAll("line"),u=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_wrraper_id+"]");if(e.isNEU(u)||u.getAttribute(e.attr.control_node_circle_menu_wrraper_id)!=t){this.hide(),i||(i=this.menu);var v={nodeId:t,menu:i},x=e.events.publish("show",[this,v]);if(this._menu=i,x===!1)return!1;for(var _=0,g=Object.keys(v.menu).length,y=2*r.nodeCircleMenuButton.radius+4,b=2*Math.PI*y,m=b/g-(2*r.nodeCircleMenuButton.radius+2);m<0;)y+=8,m=(b=2*Math.PI*y)/g-(2*r.nodeCircleMenuButton.radius+2);for(var E in(u=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute(e.attr.control_node_circle_menu_wrraper_id,t),u.setAttribute("transform","matrix(1,0,0,1,"+c+","+h+")"),l.appendChild(u),v.menu){var w=v.menu[E].icon,S=v.menu[E].color,A=v.menu[E].text;typeof w=="function"&&(w=w()),typeof S=="function"&&(S=S()),typeof A=="function"&&(A=A());var I=document.createElementNS("http://www.w3.org/2000/svg","g");I.setAttribute("transform","matrix(1,0,0,1,0,0)"),I.setAttribute(e.attr.control_node_circle_menu_name,E),I.style.cursor="pointer";var M=document.createElementNS("http://www.w3.org/2000/svg","title");e.isNEU(A)||(M.innerHTML=A);var k=document.createElementNS("http://www.w3.org/2000/svg","circle");k.setAttribute("cx",0),k.setAttribute("cy",0),k.setAttribute("r",r.nodeCircleMenuButton.radius),k.setAttribute("fill",S),k.setAttribute("stroke-width","1"),k.setAttribute("stroke",r.nodeCircleMenuButton.stroke),I.appendChild(k),I.appendChild(M),I.innerHTML+=w,u.appendChild(I);var L=I.getElementsByTagName("svg")[0];if(L.setAttribute("pointer-events","none"),L){var P=parseInt(L.getAttribute("width")),j=parseInt(L.getAttribute("height"));L.setAttribute("x",-P/2),L.setAttribute("y",-j/2)}var z=_*Math.PI/(g/2);_++;var T=Math.cos(z)*y,N=Math.sin(z)*y;this._buttonsInterval.push(e.animate(I,{transform:[1,0,0,1,0,0]},{transform:[1,0,0,1,T,N]},250,e.anim.outBack,function(R){var V=R[0].getAttribute(e.attr.control_node_circle_menu_name),U=R[0].parentNode.getAttribute(e.attr.control_node_circle_menu_wrraper_id);R[0].addEventListener("mouseenter",function(F){e.events.publish("mouseenter",[o,{from:U,menuItem:v.menu[V],menuItemName:V,event:F}])}),R[0].addEventListener("mouseout",function(F){e.events.publish("mouseout",[o,{from:U,menuItem:v.menu[V],menuItemName:V,event:F}])})}))}this._linesInterval.push(e.animate(f[0],{x1:-r.nodeCircleMenuButton.radius/2,y1:-6,x2:r.nodeCircleMenuButton.radius/2,y2:-6},{x1:-7,y1:-7,x2:7,y2:7},500,e.anim.inOutSin)),this._linesInterval.push(e.animate(f[1],{x1:-r.nodeCircleMenuButton.radius/2,y1:0,x2:r.nodeCircleMenuButton.radius/2,y2:0},{x1:0,y1:0,x2:0,y2:0},500,e.anim.inOutSin)),this._linesInterval.push(e.animate(f[2],{x1:-r.nodeCircleMenuButton.radius/2,y1:6,x2:r.nodeCircleMenuButton.radius/2,y2:6},{x1:-7,y1:7,x2:7,y2:-7},500,e.anim.inOutSin))}else this.hide()}},e.circleMenuUI.prototype.hide=function(){for(var t=this._buttonsInterval.length-1;t>=0;t--)clearInterval(this._buttonsInterval[t]),this._buttonsInterval.splice(t,1);for(this._buttonsInterval=[],t=this._linesInterval.length-1;t>=0;t--)clearInterval(this._linesInterval[t]),this._linesInterval.splice(t,1);this._linesInterval=[];var i=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_wrraper_id+"]");if(i!=null){var o=i.getAttribute(e.attr.control_node_circle_menu_wrraper_id),n=this.obj.getNode(o),r=e.t(n.templateName,n.min,this.obj.getScale()),l=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_id+'="'+o+'"]').querySelectorAll("line");l[0].setAttribute("x1",-r.nodeCircleMenuButton.radius/2),l[0].setAttribute("x2",r.nodeCircleMenuButton.radius/2),l[0].setAttribute("y1",-6),l[0].setAttribute("y2",-6),l[1].setAttribute("x1",-r.nodeCircleMenuButton.radius/2),l[1].setAttribute("x2",r.nodeCircleMenuButton.radius/2),l[1].setAttribute("y1",0),l[1].setAttribute("y2",0),l[2].setAttribute("x1",-r.nodeCircleMenuButton.radius/2),l[2].setAttribute("x2",r.nodeCircleMenuButton.radius/2),l[2].setAttribute("y1",6),l[2].setAttribute("y2",6),i.parentElement.removeChild(i),i=null}},e.circleMenuUI.prototype.on=function(t,i){return e.events.on(t,i,this._event_id),this},e===void 0&&(e={}),e.idb={version:1,dbName:"BALKAN",tableName:"orgchart-js",keyPath:"id"},e.idb.db=null,e.idb._open=function(t){if(e._browser().msie)t&&t(!1);else if((navigator.userAgent.toLowerCase().indexOf("safari")>0||navigator.userAgent.toLowerCase().indexOf("firefox")>0)&&window.location!==window.parent.location)t&&t(!1);else{if(!window.indexedDB)return console.error("Your browser doesn't support a stable version of IndexedDB."),void(t&&t(!1));if(e.idb.db==null){var i=indexedDB.open(e.idb.dbName,e.idb.version);i.onerror=function(o){console.error("Cannot open database!"),t&&t(!1)},i.onsuccess=function(o){e.idb.db=o.target.result,t&&t(!0)},i.onupgradeneeded=function(o){var n=o.target.result;n.objectStoreNames.contains(e.idb.tableName)&&n.deleteObjectStore(e.idb.tableName),n.createObjectStore(e.idb.tableName,{keyPath:e.idb.keyPath})}}else t&&t(!0)}},e.idb.read=function(t,i){e.idb._open(function(o){if(o){var n=e.idb.db.transaction([e.idb.tableName]).objectStore(e.idb.tableName).get(t);n.onerror=function(r){console.error("Unable to retrieve data from database!"),i&&i(!1)},n.onsuccess=function(r){n.result?i&&i(!0,n.result):i&&i(null)}}else i&&i(!1)})},e.idb.write=function(t,i){e.idb.read(t.id,function(o){if(o==null){var n=e.idb.db.transaction([e.idb.tableName],"readwrite").objectStore(e.idb.tableName).add(t);n.onerror=function(r){console.error("Unable to add data to database!"),i&&i(!1)},n.onsuccess=function(r){i&&i(!0)}}else i&&i(o)})},e.idb.put=function(t,i){e.idb._open(function(o){if(o){var n=e.idb.db.transaction([e.idb.tableName],"readwrite").objectStore(e.idb.tableName).put(t);n.onerror=function(r){console.error("Unable to put data to database!"),i&&i(!1)},n.onsuccess=function(r){i&&i(!0)}}else i&&i(!1)})},e.idb.delete=function(t,i){e.idb._open(function(o){if(o){var n=e.idb.db.transaction([e.idb.tableName],"readwrite").objectStore(e.idb.tableName).delete(t);n.onerror=function(r){console.error("Unable to retrieve data from database!"),i&&i(!1)},n.onsuccess=function(r){n.error?i&&i(!1):i&&i(!0)}}else i&&i(!1)})},e.toolbarUI=function(){},e.toolbarUI.expandAllIcon='<svg style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#757575" /></marker><line x1="11" y1="11" x2="6" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="11" x2="26" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="21" x2="26" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="11" y1="21" x2="6" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><rect x="12" y="12" width="8" height="8" fill="#757575"></rect></svg>',e.toolbarUI.fitIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><circle cx="16" cy="16" r="5" fill="#757575"></circle></svg>',e.toolbarUI.openFullScreenIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><line x1="5" y1="5" x2="27" y2="27" stroke-width="3" stroke="#757575"></line><line x1="5" y1="27" x2="27" y2="5" stroke-width="3" stroke="#757575"></line></svg>',e.toolbarUI.closeFullScreenIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><rect x="11" y="11" width="10" height="10" stroke-width="3" fill="none" stroke="#757575" ></rect></svg>',e.toolbarUI.zoomInIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-top: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line><line x1="16" y1="8" x2="16" y2="24" stroke-width="3" stroke="#757575"></line></g><line x1="4" y1="32" x2="28" y2="32" stroke-width="1" stroke="#cacaca"></line></svg>',e.toolbarUI.zoomOutIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); margin-bottom:7px; border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-bottom: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line></g></svg>',e.toolbarUI.layoutIcon="<svg "+e.attr.tlbr+'="layout" style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M8,24 L16,14 L24,24"></path><path stroke-width="3" fill="none" stroke="#757575" d="M8,16 L16,8 L24,16"></path></svg>',e.toolbarUI.prototype.init=function(t,i){if(i){this.obj=t,this.toolbar=i,this._visible=!1,this.div=document.createElement("div"),this.div.classList.add("boc-toolbar-container"),Object.assign(this.div.style,{position:"absolute",padding:"3px",right:this.obj.config.padding-10+"px",bottom:this.obj.config.padding-10+"px"}),i.expandAll&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="expand">'+e.toolbarUI.expandAllIcon+"</div>"),i.fit&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="fit">'+e.toolbarUI.fitIcon+"</div>"),i.zoom&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="plus">'+e.toolbarUI.zoomInIcon+"</div>",this.div.innerHTML+="<div "+e.attr.tlbr+'="minus">'+e.toolbarUI.zoomOutIcon+"</div>"),i.layout&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="layout">'+e.toolbarUI.layoutIcon+"</div>",this.layouts=document.createElement("div"),this.layouts.classList.add("boc-toolbar-layout"),this.layouts.innerHTML=`<svg data-layout="normal" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="35" y2="41" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="35" y2="41" stroke-width="1"></line></svg>
            <svg data-layout="treeRightOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="35" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="35" x2="35" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="54" y2="54" stroke-width="1"></line></svg>
            <svg data-layout="treeLeftOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="85" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="85" x2="85" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="54" y2="54" stroke-width="1"></line></svg>
            <svg data-layout="mixed" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="41" stroke-width="1"></line><line stroke="#000000" x1="60" x2="60" y1="68" y2="73" stroke-width="1"></line></svg>
            <svg data-layout="tree" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="73" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="73" stroke-width="1"></line><line stroke="#000000" x1="57" x2="63" y1="54" y2="54" stroke-width="1"></line></svg>
            <svg data-layout="grid" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="73" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="71" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="39" y2="39" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="71" y2="71" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="71" y2="73" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="71" y2="73" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="39" y2="41" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="39" y2="41" stroke-width="1"></line></svg>`,this.obj.element.appendChild(this.layouts)),i.fullScreen&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="fullScreen">'+e.toolbarUI.openFullScreenIcon+"</div>"),this.obj.element.appendChild(this.div),this.layoutBtn=this.div.querySelector("["+e.attr.tlbr+'="layout"]');var o=this.div.querySelector("["+e.attr.tlbr+'="plus"]'),n=this.div.querySelector("["+e.attr.tlbr+'="minus"]'),r=this.div.querySelector("["+e.attr.tlbr+'="fit"]'),l=this.div.querySelector("["+e.attr.tlbr+'="fullScreen"]'),a=this.div.querySelector("["+e.attr.tlbr+'="expand"]'),d=this;o&&o.addEventListener("click",function(){d.obj.zoom(!0,null,!0)}),n&&n.addEventListener("click",function(){d.obj.zoom(!1,null,!0)}),r&&r.addEventListener("click",function(){d.obj.fit()}),l&&l.addEventListener("click",function(){d.obj.toggleFullScreen()}),a&&a.addEventListener("click",function(){d.obj.expand(null,"all")}),this.layoutBtn&&this.layoutBtn.addEventListener("click",function(){d._visible?d.hideLayout():d.showLayout()}),this.layouts&&this.layouts.addEventListener("click",function(s){for(var p=s.target;p;){if(p.hasAttribute&&p.hasAttribute(e.attr.layout)){p=p.getAttribute(e.attr.layout),d.obj.setLayout(e.layout[p]);break}p=p.parentNode}})}},e.toolbarUI.prototype.showLayout=function(){this._visible=!0,this.layoutBtn.style.transform="rotate(180deg) translateX(0px) translateY(0px)",e.animate(this.div,{bottom:this.obj.config.padding-10},{bottom:this.obj.config.padding+135},this.obj.config.anim.duration,this.obj.config.anim.func),e.animate(this.layouts,{bottom:-145},{bottom:0},this.obj.config.anim.duration,this.obj.config.anim.func)},e.toolbarUI.prototype.hideLayout=function(){this._visible=!1,this.layoutBtn.style.transform="rotate(0deg) translateX(0px) translateY(0px)",e.animate(this.div,{bottom:this.obj.config.padding+135},{bottom:this.obj.config.padding-10},this.obj.config.anim.duration,this.obj.config.anim.func),e.animate(this.layouts,{bottom:0},{bottom:-145},this.obj.config.anim.duration,this.obj.config.anim.func)},e.notifierUI=function(){},e.notifierUI.prototype.init=function(t){this.obj=t},e.notifierUI.prototype.show=function(t,i){if(t==null)return!1;t==1&&(t=e.MAX_NODES_MESS,i="#FFCA28"),t==2&&(t=e.OFFLINE_MESS,i="#FFCA28");var o=document.createElement("div");o.innerHTML=t,Object.assign(o.style,{position:"absolute","background-color":i,color:"#ffffff",padding:"15px","border-radius":"40px",opacity:0,overflow:"hidden","white-space":"nowrap","text-align":"center"}),this.obj.element.appendChild(o);var n=this.obj.width()/2-o.offsetWidth/2,r=this.obj.height()/2-o.offsetHeight/2;o.style.left=n+"px",o.style.top=r+"px";var l=o.offsetWidth;return o.style.width="20px",e.animate(o,{opacity:0,width:10},{opacity:1,width:l},this.obj.config.anim.duration,this.obj.config.anim.func),!0},e===void 0&&(e={}),e.icon={},e.icon.png=function(t,i,o){return'<svg width="'+t+'" height="'+i+'" viewBox="0 0 550.801 550.801"><path fill="'+o+'" d="M146.747,276.708c0-13.998-9.711-22.352-26.887-22.352c-6.99,0-11.726,0.675-14.204,1.355v44.927 c2.932,0.676,6.539,0.896,11.52,0.896C135.449,301.546,146.747,292.28,146.747,276.708z"/><path fill="'+o+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M234.344,335.86v45.831h-31.601V229.524h40.184 l31.611,55.759c9.025,16.031,18.064,34.983,24.825,52.154h0.675c-2.257-20.103-2.933-40.643-2.933-63.44v-44.473h31.614v152.167 h-36.117l-32.516-58.703c-9.049-16.253-18.971-35.892-26.438-53.727l-0.665,0.222C233.906,289.58,234.344,311.027,234.344,335.86z M71.556,381.691V231.56c10.613-1.804,25.516-3.159,46.506-3.159c21.215,0,36.353,4.061,46.509,12.192 c9.698,7.673,16.255,20.313,16.255,35.219c0,14.897-4.959,27.549-13.999,36.123c-11.738,11.063-29.123,16.031-49.441,16.031 c-4.522,0-8.593-0.231-11.736-0.675v54.411H71.556V381.691z M453.601,523.353H97.2V419.302h356.4V523.353z M485.652,374.688 c-10.61,3.607-30.713,8.585-50.805,8.585c-27.759,0-47.872-7.003-61.857-20.545c-13.995-13.1-21.684-32.97-21.452-55.318 c0.222-50.569,37.03-79.463,86.917-79.463c19.644,0,34.783,3.829,42.219,7.446l-7.214,27.543c-8.369-3.617-18.752-6.55-35.458-6.55 c-28.656,0-50.341,16.256-50.341,49.22c0,31.382,19.649,49.892,47.872,49.892c7.895,0,14.218-0.901,16.934-2.257v-31.835h-23.493 v-26.869h56.679V374.688z"/></svg>'},e.icon.pdf=function(t,i,o){return'<svg width="'+t+'" height="'+i+'" viewBox="0 0 550.801 550.801"><path fill="'+o+'" d="M160.381,282.225c0-14.832-10.299-23.684-28.474-23.684c-7.414,0-12.437,0.715-15.071,1.432V307.6 c3.114,0.707,6.942,0.949,12.192,0.949C148.419,308.549,160.381,298.74,160.381,282.225z"/><path fill="'+o+'" d="M272.875,259.019c-8.145,0-13.397,0.717-16.519,1.435v105.523c3.116,0.729,8.142,0.729,12.69,0.729 c33.017,0.231,54.554-17.946,54.554-56.474C323.842,276.719,304.215,259.019,272.875,259.019z"/><path fill="'+o+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M362.359,309.023c0,30.876-11.243,52.165-26.82,65.333 c-16.971,14.117-42.82,20.814-74.396,20.814c-18.9,0-32.297-1.197-41.401-2.389V234.365c13.399-2.149,30.878-3.346,49.304-3.346 c30.612,0,50.478,5.508,66.039,17.226C351.828,260.69,362.359,280.547,362.359,309.023z M80.7,393.499V234.365 c11.241-1.904,27.042-3.346,49.296-3.346c22.491,0,38.527,4.308,49.291,12.928c10.292,8.131,17.215,21.534,17.215,37.328 c0,15.799-5.25,29.198-14.829,38.285c-12.442,11.728-30.865,16.996-52.407,16.996c-4.778,0-9.1-0.243-12.435-0.723v57.67H80.7 V393.499z M453.601,523.353H97.2V419.302h356.4V523.353z M484.898,262.127h-61.989v36.851h57.913v29.674h-57.913v64.848h-36.593 V232.216h98.582V262.127z"/></svg>'},e.icon.svg=function(t,i,o){return'<svg width="'+t+'" height="'+i+'" viewBox="0 0 550.801 550.801"><path fill="'+o+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M338.871,225.672L284.545,386.96h-42.591 l-51.69-161.288h39.967l19.617,68.196c5.508,19.143,10.531,37.567,14.36,57.67h0.717c4.061-19.385,9.089-38.527,14.592-56.953 l20.585-68.918h38.77V225.672z M68.458,379.54l7.415-30.153c9.811,5.021,24.888,10.051,40.439,10.051 c16.751,0,25.607-6.935,25.607-17.465c0-10.052-7.662-15.795-27.05-22.734c-26.8-9.328-44.263-24.168-44.263-47.611 c0-27.524,22.971-48.579,61.014-48.579c18.188,0,31.591,3.823,41.159,8.131l-8.126,29.437c-6.465-3.116-17.945-7.657-33.745-7.657 c-15.791,0-23.454,7.183-23.454,15.552c0,10.296,9.089,14.842,29.917,22.731c28.468,10.536,41.871,25.365,41.871,48.094 c0,27.042-20.812,50.013-65.09,50.013C95.731,389.349,77.538,384.571,68.458,379.54z M453.601,523.353H97.2V419.302h356.4V523.353z M488.911,379.54c-11.243,3.823-32.537,9.103-53.831,9.103c-29.437,0-50.73-7.426-65.57-21.779 c-14.839-13.875-22.971-34.942-22.738-58.625c0.253-53.604,39.255-84.235,92.137-84.235c20.81,0,36.852,4.073,44.74,7.896 l-7.657,29.202c-8.859-3.829-19.849-6.95-37.567-6.95c-30.396,0-53.357,17.233-53.357,52.173c0,33.265,20.81,52.882,50.73,52.882 c8.375,0,15.072-0.96,17.94-2.395v-33.745h-24.875v-28.471h60.049V379.54L488.911,379.54z" /></svg>'},e.icon.csv=function(t,i,o){return'<svg width="'+t+'" height="'+i+'" viewBox="0 0 548.29 548.291" ><path fill="'+o+'" d="M486.2,196.121h-13.164V132.59c0-0.399-0.064-0.795-0.116-1.2c-0.021-2.52-0.824-5-2.551-6.96L364.656,3.677 c-0.031-0.034-0.064-0.044-0.085-0.075c-0.629-0.707-1.364-1.292-2.141-1.796c-0.231-0.157-0.462-0.286-0.704-0.419 c-0.672-0.365-1.386-0.672-2.121-0.893c-0.199-0.052-0.377-0.134-0.576-0.188C358.229,0.118,357.4,0,356.562,0H96.757 C84.893,0,75.256,9.649,75.256,21.502v174.613H62.093c-16.972,0-30.733,13.756-30.733,30.73v159.81 c0,16.966,13.761,30.736,30.733,30.736h13.163V526.79c0,11.854,9.637,21.501,21.501,21.501h354.777 c11.853,0,21.502-9.647,21.502-21.501V417.392H486.2c16.966,0,30.729-13.764,30.729-30.731v-159.81 C516.93,209.872,503.166,196.121,486.2,196.121z M96.757,21.502h249.053v110.006c0,5.94,4.818,10.751,10.751,10.751h94.973v53.861 H96.757V21.502z M258.618,313.18c-26.68-9.291-44.063-24.053-44.063-47.389c0-27.404,22.861-48.368,60.733-48.368 c18.107,0,31.447,3.811,40.968,8.107l-8.09,29.3c-6.43-3.107-17.862-7.632-33.59-7.632c-15.717,0-23.339,7.149-23.339,15.485 c0,10.247,9.047,14.769,29.78,22.632c28.341,10.479,41.681,25.239,41.681,47.874c0,26.909-20.721,49.786-64.792,49.786 c-18.338,0-36.449-4.776-45.497-9.77l7.38-30.016c9.772,5.014,24.775,10.006,40.264,10.006c16.671,0,25.488-6.908,25.488-17.396 C285.536,325.789,277.909,320.078,258.618,313.18z M69.474,302.692c0-54.781,39.074-85.269,87.654-85.269 c18.822,0,33.113,3.811,39.549,7.149l-7.392,28.816c-7.38-3.084-17.632-5.939-30.491-5.939c-28.822,0-51.206,17.375-51.206,53.099 c0,32.158,19.051,52.4,51.456,52.4c10.947,0,23.097-2.378,30.241-5.238l5.483,28.346c-6.672,3.34-21.674,6.919-41.208,6.919 C98.06,382.976,69.474,348.424,69.474,302.692z M451.534,520.962H96.757v-103.57h354.777V520.962z M427.518,380.583h-42.399 l-51.45-160.536h39.787l19.526,67.894c5.479,19.046,10.479,37.386,14.299,57.397h0.709c4.048-19.298,9.045-38.352,14.526-56.693 l20.487-68.598h38.599L427.518,380.583z" /></svg>'},e.icon.json=function(t,i,o){return'<svg width="'+t+'" height="'+i+'" viewBox="0 0 32 32" ><polygon fill="'+o+'"  points="31 11 31 21 29 21 27 15 27 21 25 21 25 11 27 11 29 17 29 11 31 11"/><path fill="'+o+'"  d="M21.3335,21h-2.667A1.6684,1.6684,0,0,1,17,19.3335v-6.667A1.6684,1.6684,0,0,1,18.6665,11h2.667A1.6684,1.6684,0,0,1,23,12.6665v6.667A1.6684,1.6684,0,0,1,21.3335,21ZM19,19h2V13H19Z"/><path fill="'+o+'"  d="M13.3335,21H9V19h4V17H11a2.002,2.002,0,0,1-2-2V12.6665A1.6684,1.6684,0,0,1,10.6665,11H15v2H11v2h2a2.002,2.002,0,0,1,2,2v2.3335A1.6684,1.6684,0,0,1,13.3335,21Z"/><path fill="'+o+'"  d="M5.3335,21H2.6665A1.6684,1.6684,0,0,1,1,19.3335V17H3v2H5V11H7v8.3335A1.6684,1.6684,0,0,1,5.3335,21Z"/><rect fill="'+o+'"  id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" style="fill: none;" width="32" height="32"/></svg>'},e.icon.excel=function(t,i,o){return'<svg width="'+t+'" height="'+i+'" viewBox="0 0 512 512"><path fill="#ECEFF1" d="M496,432.011H272c-8.832,0-16-7.168-16-16s0-311.168,0-320s7.168-16,16-16h224 c8.832,0,16,7.168,16,16v320C512,424.843,504.832,432.011,496,432.011z" /><path fill="'+o+'" d="M336,176.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,176.011,336,176.011z" /><path fill="'+o+'" d="M336,240.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,240.011,336,240.011z" /><path fill="'+o+'" d="M336,304.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,304.011,336,304.011z" /><path fill="'+o+'" d="M336,368.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,368.011,336,368.011z" /><path fill="'+o+'" d="M432,176.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,176.011,432,176.011z" /><path fill="'+o+'" d="M432,240.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,240.011,432,240.011z" /><path fill="'+o+'" d="M432,304.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,304.011,432,304.011z" /><path fill="'+o+'" d="M432,368.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,368.011,432,368.011z" /><path fill="'+o+'"  d="M282.208,19.691c-3.648-3.04-8.544-4.352-13.152-3.392l-256,48C5.472,65.707,0,72.299,0,80.011v352 c0,7.68,5.472,14.304,13.056,15.712l256,48c0.96,0.192,1.952,0.288,2.944,0.288c3.712,0,7.328-1.28,10.208-3.68 c3.68-3.04,5.792-7.584,5.792-12.32v-448C288,27.243,285.888,22.731,282.208,19.691z" /><path fill="#FAFAFA" d="M220.032,309.483l-50.592-57.824l51.168-65.792c5.44-6.976,4.16-17.024-2.784-22.464 c-6.944-5.44-16.992-4.16-22.464,2.784l-47.392,60.928l-39.936-45.632c-5.856-6.72-15.968-7.328-22.56-1.504 c-6.656,5.824-7.328,15.936-1.504,22.56l44,50.304L83.36,310.187c-5.44,6.976-4.16,17.024,2.784,22.464 c2.944,2.272,6.432,3.36,9.856,3.36c4.768,0,9.472-2.112,12.64-6.176l40.8-52.48l46.528,53.152 c3.168,3.648,7.584,5.504,12.032,5.504c3.744,0,7.488-1.312,10.528-3.968C225.184,326.219,225.856,316.107,220.032,309.483z" /></svg>'},e.icon.edit=function(t,i,o){return'<svg width="'+t+'" height="'+i+'" viewBox="0 0 528.899 528.899"><path fill="'+o+'" d="M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981 c-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611 C532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069 L27.473,390.597L0.3,512.69z" /></svg>'},e.icon.details=function(t,i,o){return'<svg width="'+t+'" height="'+i+'" viewBox="0 0 512 512"><path fill="'+o+'" d="M447.933,103.629c-0.034-3.076-1.224-6.09-3.485-8.352L352.683,3.511c-0.004-0.004-0.007-0.005-0.011-0.008 C350.505,1.338,347.511,0,344.206,0H89.278C75.361,0,64.04,11.32,64.04,25.237v461.525c0,13.916,11.32,25.237,25.237,25.237 h333.444c13.916,0,25.237-11.32,25.237-25.237V103.753C447.96,103.709,447.937,103.672,447.933,103.629z M356.194,40.931 l50.834,50.834h-49.572c-0.695,0-1.262-0.567-1.262-1.262V40.931z M423.983,486.763c0,0.695-0.566,1.261-1.261,1.261H89.278 c-0.695,0-1.261-0.566-1.261-1.261V25.237c0-0.695,0.566-1.261,1.261-1.261h242.94v66.527c0,13.916,11.322,25.239,25.239,25.239 h66.527V486.763z"/><path fill="'+o+'" d="M362.088,164.014H149.912c-6.62,0-11.988,5.367-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,169.381,368.707,164.014,362.088,164.014z"/><path fill="'+o+'" d="M362.088,236.353H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,241.721,368.707,236.353,362.088,236.353z"/><path fill="'+o+'" d="M362.088,308.691H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.367,11.988-11.988C374.076,314.06,368.707,308.691,362.088,308.691z"/><path fill="'+o+'" d="M256,381.031H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988H256 c6.62,0,11.988-5.367,11.988-11.988C267.988,386.398,262.62,381.031,256,381.031z"/></svg>'},e.icon.remove=function(t,i,o){return'<svg width="'+t+'" height="'+i+'"  viewBox="0 0 900.5 900.5"><path fill="'+o+'" d="M176.415,880.5c0,11.046,8.954,20,20,20h507.67c11.046,0,20-8.954,20-20V232.487h-547.67V880.5L176.415,880.5z M562.75,342.766h75v436.029h-75V342.766z M412.75,342.766h75v436.029h-75V342.766z M262.75,342.766h75v436.029h-75V342.766z"/><path fill="'+o+'" d="M618.825,91.911V20c0-11.046-8.954-20-20-20h-297.15c-11.046,0-20,8.954-20,20v71.911v12.5v12.5H141.874 c-11.046,0-20,8.954-20,20v50.576c0,11.045,8.954,20,20,20h34.541h547.67h34.541c11.046,0,20-8.955,20-20v-50.576 c0-11.046-8.954-20-20-20H618.825v-12.5V91.911z M543.825,112.799h-187.15v-8.389v-12.5V75h187.15v16.911v12.5V112.799z"/></svg>'},e.icon.add=function(t,i,o){return'<svg width="'+t+'" height="'+i+'"   viewBox="0 0 922 922"><path fill="'+o+'" d="M922,453V81c0-11.046-8.954-20-20-20H410c-11.045,0-20,8.954-20,20v149h318c24.812,0,45,20.187,45,45v198h149 C913.046,473.001,922,464.046,922,453z" /><path fill="'+o+'" d="M557,667.001h151c11.046,0,20-8.954,20-20v-174v-198c0-11.046-8.954-20-20-20H390H216c-11.045,0-20,8.954-20,20v149h194 h122c24.812,0,45,20.187,45,45v4V667.001z" /><path fill="'+o+'" d="M0,469v372c0,11.046,8.955,20,20,20h492c11.046,0,20-8.954,20-20V692v-12.501V667V473v-4c0-11.046-8.954-20-20-20H390H196 h-12.5H171H20C8.955,449,0,457.955,0,469z" /></svg>'},e.icon.search=function(t,i,o){return'<svg width="'+t+'" height="'+i+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 485.213 485.213"><path fill="'+o+'" d="M471.882,407.567L360.567,296.243c-16.586,25.795-38.536,47.734-64.331,64.321l111.324,111.324 c17.772,17.768,46.587,17.768,64.321,0C489.654,454.149,489.654,425.334,471.882,407.567z" /><path fill="'+o+'" d="M363.909,181.955C363.909,81.473,282.44,0,181.956,0C81.474,0,0.001,81.473,0.001,181.955s81.473,181.951,181.955,181.951 C282.44,363.906,363.909,282.437,363.909,181.955z M181.956,318.416c-75.252,0-136.465-61.208-136.465-136.46 c0-75.252,61.213-136.465,136.465-136.465c75.25,0,136.468,61.213,136.468,136.465 C318.424,257.208,257.206,318.416,181.956,318.416z" /><path fill="'+o+'" d="M75.817,181.955h30.322c0-41.803,34.014-75.814,75.816-75.814V75.816C123.438,75.816,75.817,123.437,75.817,181.955z" /></svg>'},e.icon.xml=function(t,i,o){return'<svg width="'+t+'" height="'+i+'" viewBox="0 0 550.801 550.801"><path fill="'+o+'"  d="M488.426,197.019H475.2v-63.816c0-0.401-0.063-0.799-0.116-1.205c-0.021-2.534-0.827-5.023-2.562-6.992L366.325,3.691 c-0.032-0.031-0.063-0.042-0.085-0.073c-0.633-0.707-1.371-1.298-2.151-1.804c-0.231-0.158-0.464-0.287-0.706-0.422 c-0.676-0.366-1.393-0.675-2.131-0.896c-0.2-0.053-0.38-0.135-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.87v160.542 c0,17.044,13.824,30.876,30.873,30.876h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87V227.89C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.51c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M369.531,374.53h-32.058l-2.156-55.519 c-0.644-17.434-1.298-38.518-1.298-59.611h-0.633c-4.514,18.516-10.547,39.166-16.137,56.162l-17.645,56.601h-25.618 l-15.494-56.157c-4.725-16.996-9.671-37.658-13.123-56.6h-0.43c-0.854,19.585-1.508,41.961-2.586,60.038l-2.576,55.086h-30.343 l9.26-145.035h43.677l14.207,48.421c4.517,16.774,9.041,34.847,12.258,51.843h0.654c4.081-16.77,9.038-35.923,13.774-52.064 l15.493-48.199h42.82L369.531,374.53z M69.992,374.53l41.955-73.385l-40.444-71.65h37.655l12.688,26.465 c4.316,8.828,7.533,15.928,10.99,24.092h0.422c3.438-9.242,6.23-15.694,9.893-24.092l12.274-26.465h37.434l-40.89,70.796 l43.044,74.239h-37.866l-13.134-26.257c-5.376-10.108-8.817-17.639-12.909-26.04h-0.433c-3.009,8.401-6.674,15.932-11.19,26.04 l-12.042,26.257H69.992z M453.601,523.353H97.2V419.302h356.4V523.353z M485.325,374.53h-90.608V229.495h32.933v117.497h57.682 v27.538H485.325z"/></svg>'},e.icon.link=function(t,i,o){return'<svg width="'+t+'" height="'+i+'" viewBox="0 0 512.092 512.092"  ><path fill="'+o+'" d="M312.453,199.601c-6.066-6.102-12.792-11.511-20.053-16.128c-19.232-12.315-41.59-18.859-64.427-18.859 c-31.697-0.059-62.106,12.535-84.48,34.987L34.949,308.23c-22.336,22.379-34.89,52.7-34.91,84.318 c-0.042,65.98,53.41,119.501,119.39,119.543c31.648,0.11,62.029-12.424,84.395-34.816l89.6-89.6 c1.628-1.614,2.537-3.816,2.524-6.108c-0.027-4.713-3.87-8.511-8.583-8.484h-3.413c-18.72,0.066-37.273-3.529-54.613-10.581 c-3.195-1.315-6.867-0.573-9.301,1.877l-64.427,64.512c-20.006,20.006-52.442,20.006-72.448,0 c-20.006-20.006-20.006-52.442,0-72.448l108.971-108.885c19.99-19.965,52.373-19.965,72.363,0 c13.472,12.679,34.486,12.679,47.957,0c5.796-5.801,9.31-13.495,9.899-21.675C322.976,216.108,319.371,206.535,312.453,199.601z" /><path fill="'+o+'" d="M477.061,34.993c-46.657-46.657-122.303-46.657-168.96,0l-89.515,89.429c-2.458,2.47-3.167,6.185-1.792,9.387 c1.359,3.211,4.535,5.272,8.021,5.205h3.157c18.698-0.034,37.221,3.589,54.528,10.667c3.195,1.315,6.867,0.573,9.301-1.877 l64.256-64.171c20.006-20.006,52.442-20.006,72.448,0c20.006,20.006,20.006,52.442,0,72.448l-80.043,79.957l-0.683,0.768 l-27.989,27.819c-19.99,19.965-52.373,19.965-72.363,0c-13.472-12.679-34.486-12.679-47.957,0 c-5.833,5.845-9.35,13.606-9.899,21.845c-0.624,9.775,2.981,19.348,9.899,26.283c9.877,9.919,21.433,18.008,34.133,23.893 c1.792,0.853,3.584,1.536,5.376,2.304c1.792,0.768,3.669,1.365,5.461,2.048c1.792,0.683,3.669,1.28,5.461,1.792l5.035,1.365 c3.413,0.853,6.827,1.536,10.325,2.133c4.214,0.626,8.458,1.025,12.715,1.195h5.973h0.512l5.12-0.597 c1.877-0.085,3.84-0.512,6.059-0.512h2.901l5.888-0.853l2.731-0.512l4.949-1.024h0.939c20.961-5.265,40.101-16.118,55.381-31.403 l108.629-108.629C523.718,157.296,523.718,81.65,477.061,34.993z" /></svg>'},e.icon.happy=function(t,i,o){return'<svg width="'+t+'" height="'+i+'" viewBox="0 0 512 512"><path fill="'+o+'" d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z"/><path fill="'+o+'" d="M176,176c17.673,0,32,14.327,32,32h32c0-35.346-28.654-64-64-64c-35.346,0-64,28.654-64,64h32 C144,190.327,158.327,176,176,176z"/><path fill="'+o+'" d="M336,144c-35.346,0-64,28.654-64,64h32c0-17.673,14.327-32,32-32c17.673,0,32,14.327,32,32h32 C400,172.654,371.346,144,336,144z"/><path fill="'+o+'" d="M256,368c-53.019,0-96-42.981-96-96h-32c0,70.692,57.308,128,128,128s128-57.308,128-128h-32 C352,325.019,309.019,368,256,368z"/></svg>'},e.icon.sad=function(t,i,o){return'<svg width="'+t+'" height="'+i+'" viewBox="0 0 512 512"><path fill="'+o+'" d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z"/><path fill="'+o+'" d="M336,192c-17.673,0-32-14.327-32-32h-32c0,35.346,28.654,64,64,64c35.346,0,64-28.654,64-64h-32 C368,177.673,353.673,192,336,192z"/><path fill="'+o+'" d="M176,224c35.346,0,64-28.654,64-64h-32c0,17.673-14.327,32-32,32s-32-14.327-32-32h-32C112,195.346,140.654,224,176,224z "/><path fill="'+o+'" d="M256,256c-70.692,0-128,57.308-128,128h32c0-53.019,42.981-96,96-96s96,42.981,96,96h32C384,313.308,326.692,256,256,256 z"/></svg>'},e.icon.share=function(t,i,o,n,r){return n==null&&(n=0),r==null&&(r=0),`<svg width="${t}" height="${i}" x="${n}" y="${r}" viewBox="0 0 512 512">
                <path fill="${o}" d="M406,332c-29.641,0-55.761,14.581-72.167,36.755L191.99,296.124c2.355-8.027,4.01-16.346,4.01-25.124
                    c0-11.906-2.441-23.225-6.658-33.636l148.445-89.328C354.307,167.424,378.589,180,406,180c49.629,0,90-40.371,90-90
                    c0-49.629-40.371-90-90-90c-49.629,0-90,40.371-90,90c0,11.437,2.355,22.286,6.262,32.358l-148.887,89.59
                    C156.869,193.136,132.937,181,106,181c-49.629,0-90,40.371-90,90c0,49.629,40.371,90,90,90c30.13,0,56.691-15.009,73.035-37.806
                    l141.376,72.395C317.807,403.995,316,412.75,316,422c0,49.629,40.371,90,90,90c49.629,0,90-40.371,90-90
                    C496,372.371,455.629,332,406,332z"/>
                </svg>`},e.icon.user=function(t,i,o,n,r){return e.isNEU(n)&&(n=0),e.isNEU(r)&&(r=0),`<svg width="${t}" height="${i}" x="${n}" y="${r}" viewBox="0 0 24 24">
                <path fill="${o}" d="M12 11.796C14.7189 11.796 16.9231 9.60308 16.9231 6.89801C16.9231 4.19294 14.7189 2.00005 12 2.00005C9.28106 2.00005 7.07692 4.19294 7.07692 6.89801C7.07692 9.60308 9.28106 11.796 12 11.796Z" fill="#030D45"/>
                <path fill="${o}" d="M14.5641 13.8369H9.4359C6.46154 13.8369 4 16.2859 4 19.245C4 19.9593 4.30769 20.5716 4.92308 20.8777C5.84615 21.3879 7.89744 22.0001 12 22.0001C16.1026 22.0001 18.1538 21.3879 19.0769 20.8777C19.5897 20.5716 20 19.9593 20 19.245C20 16.1838 17.5385 13.8369 14.5641 13.8369Z" fill="#030D45"/>
            </svg>`},e.icon.close=function(t,i,o,n,r){return n==null&&(n=0),r==null&&(r=0),`<svg width="${t}" height="${i}" x="${n}" y="${r}" viewBox="0 0 512 512">
    <path fill="${o}" d="m256 0c-141.49 0-256 114.5-256 256 0 141.49 114.5 256 256 256 141.49 0 256-114.5 256-256 0-141.49-114.5-256-256-256zm-12.284 317.397-58.121 58.132c-6.565 6.553-15.283 10.166-24.557 10.166-19.196 0-34.734-15.526-34.734-34.734 0-9.274 3.612-17.992 10.166-24.557l58.132-58.121c6.785-6.784 6.785-17.783 0-24.568l-58.132-58.121c-6.553-6.565-10.166-15.283-10.166-24.557 0-19.196 15.526-34.734 34.734-34.734 9.274 0 17.992 3.613 24.557 10.166l58.121 58.132c6.785 6.773 17.784 6.773 24.568 0l58.121-58.132c6.565-6.553 15.283-10.166 24.557-10.166 19.196 0 34.734 15.526 34.734 34.734 0 9.274-3.612 17.992-10.166 24.557l-58.132 58.121c-6.785 6.784-6.785 17.783 0 24.568l58.132 58.121c6.553 6.565 10.166 15.283 10.166 24.557 0 19.196-15.526 34.734-34.734 34.734-9.274 0-17.992-3.613-24.557-10.166l-58.121-58.132c-6.784-6.784-17.784-6.773-24.568 0z"/>
    </svg>`},e.icon.undo=function(t,i,o,n,r){return n==null&&(n=0),r==null&&(r=0),`<svg width="${t}" height="${i}" x="${n}" y="${r}" viewBox="0 0 24 24">
    <path fill-rule="evenodd" clip-rule="evenodd" fill="${o}" d="M3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355C22 19.0711 22 16.7141 22 12C22 7.28598 22 4.92893 20.5355 3.46447C19.0711 2 16.714 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447ZM9.25871 7.97395C9.56308 7.693 9.58205 7.21851 9.3011 6.91414C9.02015 6.60978 8.54565 6.5908 8.24129 6.87175L5.99129 8.94867C5.83748 9.09065 5.75 9.29045 5.75 9.49977C5.75 9.7091 5.83748 9.9089 5.99129 10.0509L8.24129 12.1278C8.54565 12.4088 9.02015 12.3898 9.3011 12.0854C9.58205 11.781 9.56308 11.3065 9.25871 11.0256L8.41824 10.2498H14.0385C14.7376 10.2498 15.2069 10.2506 15.5652 10.2862C15.9116 10.3205 16.0724 10.3813 16.1787 10.4501C16.3272 10.5461 16.4537 10.6726 16.5497 10.8211C16.6184 10.9274 16.6793 11.0882 16.7136 11.4345C16.7491 11.7929 16.75 12.2622 16.75 12.9613C16.75 13.6604 16.7491 14.1298 16.7136 14.4881C16.6793 14.8344 16.6185 14.9952 16.5497 15.1015C16.4537 15.2501 16.3272 15.3765 16.1787 15.4726C16.0724 15.5413 15.9116 15.6021 15.5652 15.6365C15.2069 15.672 14.7376 15.6729 14.0385 15.6729H9.5C9.08579 15.6729 8.75 16.0086 8.75 16.4229C8.75 16.8371 9.08579 17.1729 9.5 17.1729H14.0758C14.7279 17.1729 15.2721 17.1729 15.7133 17.1291C16.1748 17.0834 16.6038 16.9839 16.9931 16.7322C17.3199 16.5209 17.5981 16.2427 17.8094 15.916C18.0611 15.5266 18.1605 15.0976 18.2063 14.6361C18.25 14.195 18.25 13.6508 18.25 12.9987V12.924C18.25 12.2718 18.25 11.7276 18.2063 11.2865C18.1605 10.825 18.0611 10.396 17.8093 10.0067C17.5981 9.6799 17.3199 9.40169 16.9931 9.19042C16.6038 8.9387 16.1748 8.83927 15.7133 8.7935C15.2721 8.74975 14.7279 8.74976 14.0758 8.74977L8.41824 8.74977L9.25871 7.97395Z" />
    <rect style="opacity: 0" x="2" y="2" width="20" height="20"></rect>
    </svg>`},e.icon.redo=function(t,i,o,n,r){return n==null&&(n=0),r==null&&(r=0),`<svg width="${t}" height="${i}" x="${n}" y="${r}" viewBox="0 0 24 24" >
    <path fill="#f9f9f9" fill-rule="evenodd" clip-rule="evenodd" fill="${o}" d="M3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355C22 19.0711 22 16.7141 22 12C22 7.28598 22 4.92893 20.5355 3.46447C19.0711 2 16.714 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447ZM15.7587 6.87273C15.4543 6.59177 14.9799 6.61075 14.6989 6.91512C14.4179 7.21948 14.4369 7.69398 14.7413 7.97493L15.5818 8.75075H9.96155C7.63558 8.75075 5.75 10.6363 5.75 12.9623C5.75 15.2883 7.63557 17.1738 9.96154 17.1738H14.5C14.9142 17.1738 15.25 16.838 15.25 16.4238C15.25 16.0096 14.9142 15.6738 14.5 15.6738H9.96154C8.464 15.6738 7.25 14.4598 7.25 12.9623C7.25 11.4647 8.464 10.2508 9.96155 10.2508H15.5818L14.7413 11.0266C14.4369 11.3075 14.4179 11.782 14.6989 12.0864C14.9799 12.3908 15.4543 12.4097 15.7587 12.1288L18.0087 10.0519C18.1625 9.90987 18.25 9.71007 18.25 9.50075C18.25 9.29143 18.1625 9.09163 18.0087 8.94965L15.7587 6.87273Z"/>
    <rect style="opacity: 0" x="2" y="2" width="20" height="20"></rect>    
    </svg>`},e.prototype.exportPDFProfile=function(t,i){t=this._defaultExportProfileOptions(t,"pdf"),this._exportProfile(t,i)},e.prototype.exportPDFPreview=function(t){e.pdfPrevUI.show(this,t)},e.prototype.exportPNGProfile=function(t,i){t=this._defaultExportProfileOptions(t,"png"),this._exportProfile(t,i)},e.prototype.shareProfile=function(t){var i;typeof t=="object"?t=(i=t).focusId:i=this.editUI.content(t,!0,!0,"100%",!0);var o=new URL(window.location.href);o.searchParams.append("nodeId",t);var n={title:i.title,text:i.shareText,url:o.href};try{navigator.share(n)}catch(r){console.error("error: "+r)}},e.prototype.exportPDF=function(t,i){t=this._defaultExportOptions(t,"pdf"),this._export(t,i)},e.prototype.exportPNG=function(t,i){t=this._defaultExportOptions(t,"png"),this._export(t,i)},e.prototype.exportSVG=function(t,i){t=this._defaultExportOptions(t,"svg"),this._export(t,i)},e.prototype._defaultExportOptions=function(t,i){return t==null&&(t={}),i=="svg"?(t.ext="svg",t.mime="image/svg+xml"):i=="pdf"?(t.mime="application/pdf",t.ext="pdf"):i=="png"&&(t.mime="image/png",t.ext="png"),t.margin==null&&(t.margin=[50,40,50,40]),t.padding==null&&(t.padding=0),t.landscape==null&&(t.landscape=!1),t.filename==null&&(t.filename="OrgChart."+t.ext),t.scale==null&&(t.scale="fit"),t.format==null&&(t.format="fit"),t.header==null&&(t.header=""),i=="pdf"&&t.footer==null?t.footer="Page {current-page} of {total-pages}":t.footer==null&&(t.footer=""),t.openInNewTab==null&&(t.openInNewTab=!1),t.mode==null&&(t.mode="boc-"+this.config.mode),t},e.prototype._export=function(t,i){var o=this,n={id:t.nodeId,expandChildren:t.expandChildren,min:t.min};t.margin&&t.margin[0]<2&&(t.margin[0]=2),t.margin&&t.margin[1]<2&&(t.margin[1]=2),t.margin&&t.margin[2]<2&&(t.margin[2]=2),t.margin&&t.margin[3]<2&&(t.margin[3]=2),this._draw(!1,e.action.exporting,n,function(r,l){var a=document.createElement("div");if(a.innerHTML=r,t.padding>0){var d=a.querySelector("svg"),s=e._getViewBox(d);s[0]-=t.padding,s[1]-=t.padding,s[2]+=2*t.padding,s[3]+=2*t.padding,d.setAttribute("viewBox",s.join()),d.setAttribute("width",s[2]),d.setAttribute("height",s[3])}if(t.ext=="svg")if(i)i(t,a.innerHTML);else{(d=a.querySelector("svg")).classList.add("boc-"+o.config.mode);var p={content:a.innerHTML,options:t,styles:""},c=e.events.publish("exportstart",[o,p]),h=o.element.querySelector("[data-boc-styles]");if(h&&(p.styles+=h.outerHTML),p.styles&&(a.childNodes[0].insertAdjacentHTML("afterbegin",p.styles),p.content=a.innerHTML),c===!1||(c=e.events.publish("exportend",[o,p]))===!1)return!1;e._downloadFile(t.mime,p.content,p.options.filename,p.options.openInNewTab,p.options.ext)}else o._pages(t,a.querySelector("svg"),l,function(f){var u={content:a.innerHTML,options:t,pages:f,styles:""},v=e.events.publish("exportstart",[o,u]),x=o.element.querySelector("[data-boc-styles]");if(x&&(u.styles+=x.outerHTML),v===!1)return!1;i||e.loading.show(o),i?i(o,u,a.querySelector("svg")):(u=JSON.stringify(u),e._ajax(o.config.exportUrl+"/v3","POST",u,"arraybuffer",function(_){var g=e.events.publish("exportend",[o,_]);if(e.loading.hide(o),g===!1)return!1;e._downloadFile(t.mime,_,t.filename,t.openInNewTab,t.ext)}))})})},e.prototype.exportCSV=function(t){var i=e._defaultExportProfileOptionsForCSV_SVG_JSON(t,"csv"),o=this.getNode(i.nodeId),n=null;o?(n=[],e._exportIterateForJSON_XML_CSV(this,o,i,n)):i.min===!1||i.expandChildren===!1?e._exportIterateForJSON_XML_CSV(this,this.roots,i,n):n=JSON.parse(JSON.stringify(this.config.nodes));var r={ext:"csv",filename:t,options:i,nodes:n};if(e.events.publish("exportstart",[this,r])===!1)return!1;var l=e._json2csv(r.nodes),a={ext:r.ext,filename:r.filename,options:i,nodes:r.nodes,content:l};if(e.events.publish("exportend",[this,a])===!1)return!1;e._downloadFile("text/csv;charset=utf-8;","\uFEFF"+a.content,a.options.filename,a.options.openInNewTab,a.ext)},e.prototype.exportXML=function(t){var i=e._defaultExportProfileOptionsForCSV_SVG_JSON(t,"xml"),o=this.getNode(i.nodeId),n=null;o?(n=[],e._exportIterateForJSON_XML_CSV(this,o,i,n)):i.min===!1||i.expandChildren===!1?e._exportIterateForJSON_XML_CSV(this,this.roots,i,n):n=JSON.parse(JSON.stringify(this.config.nodes));var r={ext:"xml",filename:t,options:i,nodes:n};if(e.events.publish("exportstart",[this,r])===!1)return!1;var l=e._json2xml(r.nodes),a={ext:r.ext,filename:r.filename,options:i,nodes:r.nodes,content:l};if(e.events.publish("exportend",[this,a])===!1)return!1;e._downloadFile("application/xml",a.content,a.options.filename,a.options.openInNewTab,a.ext)},e.prototype.exportJSON=function(t){var i=e._defaultExportProfileOptionsForCSV_SVG_JSON(t,"json"),o=this.getNode(i.nodeId),n=null;o?(n=[],e._exportIterateForJSON_XML_CSV(this,o,i,n)):i.min===!1||i.expandChildren===!1?e._exportIterateForJSON_XML_CSV(this,this.roots,i,n):n=JSON.parse(JSON.stringify(this.config.nodes));var r={ext:"json",filename:i.filename,options:i,nodes:n};if(e.events.publish("exportstart",[this,r])===!1)return!1;var l={ext:r.ext,filename:r.filename,options:i,nodes:r.nodes,content:JSON.stringify(r.nodes)};if(e.events.publish("exportend",[this,l])===!1)return!1;e._downloadFile("application/json",l.content,l.options.filename,l.options.openInNewTab,l.ext)},e._exportIterateForJSON_XML_CSV=function(t,i,o,n){if(Array.isArray(i))for(var r=0;r<i.length;r++)e._exportIterateForJSON_XML_CSV(t,i[r],o,n);else{var l=t.get(i.id);if(n.push(l),o.min)for(r=0;r<i.stChildrenIds.length;r++)e._exportIterateForJSON_XML_CSV(t,t.getNode(i.stChildrenIds[r]),o,n);else for(r=0;r<i.stChildren.length;r++)e._exportIterateForJSON_XML_CSV(t,i.stChildren[r],o,n);if(o.expandChildren)for(r=0;r<i.childrenIds.length;r++)e._exportIterateForJSON_XML_CSV(t,t.getNode(i.childrenIds[r]),o,n);else for(r=0;r<i.children.length;r++)e._exportIterateForJSON_XML_CSV(t,i.children[r],o,n)}},e.prototype._pages=function(t,i,o,n){t.format=="A5"&&t.scale!="fit"||t.format=="A4"&&t.scale!="fit"||t.format=="A3"&&t.scale!="fit"||t.format=="A2"&&t.scale!="fit"||t.format=="A1"&&t.scale!="fit"||t.format=="Letter"&&t.scale!="fit"||t.format=="Legal"&&t.scale!="fit"?n(this._pagesA100(t,i,t.scale)):t.format=="A5"&&t.scale=="fit"||t.format=="A4"&&t.scale=="fit"||t.format=="A3"&&t.scale=="fit"||t.format=="A2"&&t.scale=="fit"||t.format=="A1"&&t.scale=="fit"||t.format=="Letter"&&t.scale=="fit"||t.format=="Legal"&&t.scale=="fit"?n(this._pagesAfit(t,i,o)):t.format=="fit"&&n(this._pagesFit(t,i))},e.prototype._pagesFit=function(t,i){var o=i.getAttribute("width"),n=i.getAttribute("height"),r=e._getViewBox(i),l={w:parseFloat(o),h:parseFloat(n)};return[{vb:r,size:{w:l.w+(t.margin[1]+t.margin[3]),h:l.h+(t.margin[0]+t.margin[2])},innerSize:l}]},e.prototype._pagesAfit=function(t,i,o){var n=i.getAttribute("width"),r=0,l=0;switch(t.format){case"A5":r=e.A5w,l=e.A5h;break;case"A4":r=e.A4w,l=e.A4h;break;case"A3":r=e.A3w,l=e.A3h;break;case"A2":r=e.A2w,l=e.A2h;break;case"A1":r=e.A1w,l=e.A1h;break;case"Letter":r=e.Letterw,l=e.Letterh;break;case"Legal":r=e.Legalw,l=e.Legalh}var a=t.landscape?l-(t.margin[1]+t.margin[3]):r-(t.margin[1]+t.margin[3]),d=(t.landscape,t.margin[0],t.margin[2],a/n);return this._pagesA100(t,i,100*d,o)},e.prototype._pagesA100=function(t,i,o,n){var r=e._getViewBox(i),l=0,a=0;switch(t.format){case"A5":l=e.A5w,a=e.A5h;break;case"A4":l=e.A4w,a=e.A4h;break;case"A3":l=e.A3w,a=e.A3h;break;case"A2":l=e.A2w,a=e.A2h;break;case"A1":l=e.A1w,a=e.A1h;break;case"Letter":l=e.Letterw,a=e.Letterh;break;case"Legal":l=e.Legalw,a=e.Legalh}var d=r[0],s=r[1],p=r[2],c=r[3],h={w:t.landscape?a-(t.margin[1]+t.margin[3]):l-(t.margin[1]+t.margin[3]),h:t.landscape?l-(t.margin[0]+t.margin[2]):a-(t.margin[0]+t.margin[2])},f={w:t.landscape?a:l,h:t.landscape?l:a};i.setAttribute("width",h.w),i.setAttribute("height",h.h);var u=h.w*(100/o),v=h.h*(100/o),x=d,_=s,g=[],y=!0;if(!e.EXPORT_PAGES_CUT_NODES&&t.scale=="fit"){i.setAttribute("preserveAspectRatio","xMinYMin");for(var b=Object.keys(n.bordersByRootIdAndLevel),m=n.bordersByRootIdAndLevel[b[0]],E=Object.keys(m).length,w=1;w<b.length;w++)E<Object.keys(n.bordersByRootIdAndLevel[b[w]]).length&&(m=n.bordersByRootIdAndLevel[b[w]],E=Object.keys(m).length);for(var S=0,A=0;;){for(A=S;!(E<=S);){if((m[S].maxY-m[S].minY)/(100/o)>h.h){y=!1;break}var I=(m[S].minY-m[A].minY)/(100/o);if(S==E-1&&(I=(m[S].maxY-m[A].minY)/(100/o)),I>h.h)break;S++}if(!y)break;var M=(S==E?m[S-1].maxY:m[S-1].minY)-m[A].minY;if(M==0){y=!1;break}if(k=(k=[x,m[A].minY,u,M]).join(),g.push({vb:k,innerSize:{w:h.x,h:M/(100/o)-1},size:f}),S==E)break;S--}g.length&&(g[g.length-1].innerSize.h+=1)}if(!y||e.EXPORT_PAGES_CUT_NODES||t.scale!="fit")for(i.setAttribute("preserveAspectRatio","xMinYMin slice"),g=[];x<p+d;){for(;_<c+s;){var k;k=(k=[x,_,u,v]).join(),g.push({vb:k,innerSize:h,size:f}),_+=v}x+=u,_=s}return g},e.prototype._defaultExportProfileOptions=function(t,i){return e.isNEU(t)||t.id==null||t.nodeId!=null||(t.nodeId=t.id),(e.isNEU(t)||e.isNEU(t.nodeId))&&console.error("options.nodeId is not defilned"),i=="svg"?(t.ext="svg",t.mime="image/svg+xml"):i=="pdf"?(t.mime="application/pdf",t.ext="pdf"):i=="png"&&(t.mime="image/png",t.ext="png"),t.margin==null&&(t.margin=[50,40,50,40]),t.padding==null&&(t.padding=0),t.landscape==null&&(t.landscape=!1),t.filename==null&&(t.filename="Profile."+t.ext),t.scale==null&&(t.scale="fit"),t.format==null&&(t.format="A4"),t.header==null&&(t.header=""),t.footer==null&&(t.footer=""),t.openInNewTab==null&&(t.openInNewTab=!1),t.mode==null&&(t.mode="boc-"+this.config.mode),t},e._defaultExportProfileOptionsForCSV_SVG_JSON=function(t,i){return e.isNEU(t)&&(t={}),typeof t=="string"&&(t={filename:t}),e.isNEU(t.filename)&&(t.filename=`OrgChart.${i}`),e.isNEU(t.expandChildren)&&(t.expandChildren=!0),e.isNEU(t.min)&&(t.min=!0),e.isNEU(t.openInNewTab)&&(t.openInNewTab=!1),t},e.prototype._exportProfile=function(t,i){var o=this,n=0,r=0;switch(t.format){case"A5":n=e.A5w,r=e.A5h;break;case"A4":n=e.A4w,r=e.A4h;break;case"A3":n=e.A3w,r=e.A3h;break;case"A2":n=e.A2w,r=e.A2h;break;case"A1":n=e.A1w,r=e.A1h;break;case"Letter":n=e.Letterw,r=e.Letterh;break;case"Legal":n=e.Legalw,r=e.Legalh}var l={w:t.landscape?r-(t.margin[1]+t.margin[3]):n-(t.margin[1]+t.margin[3]),h:t.landscape?n-(t.margin[0]+t.margin[2]):r-(t.margin[0]+t.margin[2])},a={w:t.landscape?r:n,h:t.landscape?n:r},d=this.editUI.content(t.nodeId,!0,!0,"100%",!0).element;e.input.init(d);var s={content:d.outerHTML,options:t,pages:[{vb:"",innerSize:l,size:a}],styles:""};if(!i){if(e.events.publish("exportstart",[o,s])===!1)return!1;e.loading.show(o)}var p=this.element.querySelector("[data-boc-styles]");p&&(s.styles+=p.outerHTML);var c=this.getSvg().querySelector("defs");if(c)for(var h=0;h<c.children.length;h++)c.children[h].nodeName.toLowerCase()=="style"&&(s.styles+=c.children[h].outerHTML);s=JSON.stringify(s),e._ajax(this.config.exportUrl+"/v3","POST",s,"arraybuffer",function(f){if(i)i(o,f);else{var u=e.events.publish("exportend",[o,f]);if(e.loading.hide(o),u===!1)return!1;e._downloadFile(t.mime,f,t.filename,t.openInNewTab,t.ext)}})},e===void 0&&(e={}),e.events=function(){var t={};return{on:function(i,o,n){Array.isArray(t[i])||(t[i]=[]),t[i].push({listener:o,event_id:n})},removeAll:function(i){Array.isArray(t[i])||(t[i]=[]),t[i]=[]},remove:function(i,o,n){var r=!1;if(t[i]&&Array.isArray(t[i])&&t[i].length>0)for(var l=t[i].length-1;l>=0;l--)(!e.isNEU(n)&&!e.isNEU(o)&&t[i][l].event_id==n&&t[i][l].listener==o||!e.isNEU(n)&&e.isNEU(o)&&t[i][l].event_id==n||e.isNEU(n)&&!e.isNEU(o)&&t[i][l].listener==o||e.isNEU(n)&&e.isNEU(o))&&(t[i].splice(l,1),r=!0);return r},has:function(i,o){if(t[i]&&Array.isArray(t[i])&&t[i].length>0){if(e.isNEU(o))return!0;for(var n=0;n<t[i].length;n++)if(t[i][n].event_id==o)return!0}return!1},removeForEventId:function(i){for(var o in t)if(Array.isArray(t[o]))for(var n=t[o].length-1;n>=0;n--)t[o][n].event_id==i&&t[o].splice(n,1)},publish:function(i,o){if(t[i]){for(var n=[],r=0;r<t[i].length;r++){var l=t[i][r];l.event_id!=null&&l.event_id!=o[0]._event_id||n.push(l.listener)}if(n.length>0){var a=!0;for(r=0;r<n.length&&(o.length==1?a=n[r](o[0])&&a:o.length==2?a=n[r](o[0],o[1])&&a:o.length==3?a=n[r](o[0],o[1],o[2])&&a:o.length==4?a=n[r](o[0],o[1],o[2],o[3])&&a:o.length==5&&(a=n[r](o[0],o[1],o[2],o[3],o[4])&&a),a!==!1);r++);return a}}}}}(),e.prototype.importCSV=function(){var t=this,i=document.createElement("INPUT");i.setAttribute("type","file"),i.setAttribute("accept",".csv"),i.style.display="none",i.onchange=function(o){var n=o.target,r=new FileReader;r.onload=function(){var l=r.result,a=e._csvToArray(l),d=[],s=a[0];e._importSetColumnNames(s,function(p){for(var c=1;c<a.length;c++){for(var h={},f=0;f<a[c].length;f++){var u=p[f],v=a[c][f];h[u]=e._convertStringToArray(u,v)}h.id.trim()!=""&&d.push(h)}var x={nodes:d,columnNames:a[0]};e.events.publish("import",[t,x])!=0&&(t._putInUndoStack(),t.clearRedo(),t.config.nodes=x.nodes,e.events.publish("updated",[t]),t.filterUI.update(),t.draw())})},r.readAsText(n.files[0])},i.click()},e._importSetColumnNames=function(t,i){if(t.indexOf("id")==-1||t.indexOf("pid")==-1){var o=document.createElement("DIV"),n=document.createElement("P");n.style.padding="5px",n.style.color="rgb(122, 122, 122)",n.innerHTML=e.IMPORT_MESSAGE,o.appendChild(n);var r=document.createElement("div"),l=document.createElement("div"),a=document.createElement("div"),d=document.createElement("span");r.setAttribute("id","boc-sampleDialog"),r.style.height="260px",r.style.width="400px",r.style.background="white",r.style.border="0.5px solid grey",r.style.position="fixed",r.style.overflow="hidden",r.style.zIndex="99",l.setAttribute("id","title"),l.style.backgroundColor="#e5e5e5",l.style.fontWeight="bold",l.style.color="rgb(122, 122, 122)",l.style.height="20px",l.style.padding="3px 0 0 7px",d.setAttribute("id","close"),d.style.cursor="pointer",d.style.position="absolute",d.style.color="rgb(122, 122, 122)",d.style.fontWeight="bold",d.style.top="2px",d.style.zIndex=100,a.setAttribute("id","content"),a.style.padding="2px",l.innerHTML="Import Organizational Chart Data",d.innerHTML="&times;";var s=document.createElement("HR");s.style.height="0.1px",s.style.backgroundColor="#aeaeae",s.style.border="none",s.style.margin="0",r.appendChild(l),r.appendChild(s),a.appendChild(o),r.appendChild(a),r.appendChild(d),document.body.appendChild(r),e._importCenter(r),d.style.left=r.offsetWidth-20+"px";var p=document.createElement("div");p.setAttribute("id","overlay"),p.style.width="100%",p.style.height="100%",p.style.left=0,p.style.top=0,p.style.position="fixed",p.style.background="grey",p.style.opacity="0.5",p.style.zIndex=98,document.body.appendChild(p),r._overlay=p;var c=document.createElement("LABEL"),h=document.createTextNode("Name:");c.setAttribute("for","boc-id-select"),c.appendChild(h),c.style.fontSize="16px",c.style.color="rgb(122, 122, 122)",c.style.padding="5px",c.style.margin="5px",c.style.width="30%",c.style.textAlign="right",c.style.display="inline-block",o.appendChild(c);var f=document.createElement("SELECT");f.id="boc-id-select",f.style.fontSize="16px",f.style.color="rgb(122, 122, 122)",f.style.padding="5px",f.style.margin="5px",f.style.width="60%",f.style.border="1px solid #aeaeae",o.appendChild(f);var u=document.createElement("BR");o.appendChild(u);for(var v=0;v<t.length;v++){(b=document.createElement("option")).setAttribute("value",t[v]);var x=document.createTextNode(t[v]);b.appendChild(x),f.appendChild(b)}var _=document.createElement("LABEL"),g=document.createTextNode("Reports to:");_.setAttribute("for","pid-select"),_.appendChild(g),_.style.fontSize="16px",_.style.color="rgb(122, 122, 122)",_.style.padding="5px",_.style.margin="5px",_.style.width="30%",_.style.textAlign="right",_.style.display="inline-block",o.appendChild(_);var y=document.createElement("SELECT");for(y.id="pid-select",y.style.fontSize="16px",y.style.color="rgb(122, 122, 122)",y.style.padding="5px",y.style.margin="5px",y.style.width="60%",y.style.border="1px solid #aeaeae",o.appendChild(y),v=0;v<t.length;v++){var b;(b=document.createElement("option")).setAttribute("value",t[v]),x=document.createTextNode(t[v]),b.appendChild(x),y.appendChild(b)}var m=document.createElement("BUTTON");m.innerHTML="Import",m.style.fontSize="16px",m.style.color="rgb(122, 122, 122)",m.style.padding="5px 20px",m.style.margin="20px auto",m.style.display="block",m.onclick=function(){r.style.display="none",r._overlay&&r._overlay.parentNode.removeChild(r._overlay);var w=f.options[f.selectedIndex].value,S=t.indexOf(w);t[S]="id";var A=y.options[y.selectedIndex].value,I=t.indexOf(A);t[I]="pid",i(t)};var E=document.createElement("DIV");return E.appendChild(m),o.appendChild(E),d.onclick=function(w){r._overlay&&r._overlay.parentNode.removeChild(r._overlay),r.parentNode.removeChild(r),w.stopPropagation()},l.onmousedown=function(w){w=w||window.event,r._dragging=!0,r._originalLeft=r.offsetLeft,r._originalTop=r.offsetTop,r._mouseLeft=w.clientX,r._mouseTop=w.clientY},document.onmousemove=function(w){w=w||window.event,r._dragging&&(r.style.left=r._originalLeft+w.clientX-r._mouseLeft+"px",r.style.top=r._originalTop+w.clientY-r._mouseTop+"px")},document.onmouseup=function(w){w=w||window.event,r._dragging&&(r.style.left=r._originalLeft+w.clientX-r._mouseLeft+"px",r.style.top=r._originalTop+w.clientY-r._mouseTop+"px",r._dragging=!1)},r}i(t)},e._importCenter=function(t){t&&(t.style.left=(window.innerWidth-t.offsetWidth)/2+"px",t.style.top=(window.innerHeight-t.offsetHeight)/2+"px")},e.prototype.importXML=function(){var t=this,i=document.createElement("INPUT");i.setAttribute("type","file"),i.setAttribute("accept",".xml"),i.style.display="none",i.onchange=function(o){var n=o.target,r=new FileReader;r.onload=function(){var l=r.result,a=e._xml2json(l);e.events.publish("import",[t,a])!=0&&(t._putInUndoStack(),t.clearRedo(),t.config.nodes=a,e.events.publish("updated",[t]),t.filterUI.update(),t.draw())},r.readAsText(n.files[0])},i.click()},e.prototype.importJSON=function(){var t=this,i=document.createElement("INPUT");i.setAttribute("type","file"),i.setAttribute("accept",".json"),i.style.display="none",i.onchange=function(o){var n=o.target,r=new FileReader;r.onload=function(){var l=r.result,a=JSON.parse(l);e.events.publish("import",[t,a])!=0&&(t._putInUndoStack(),t.clearRedo(),t.config.nodes=a,e.events.publish("updated",[t]),t.filterUI.update(),t.draw())},r.readAsText(n.files[0])},i.click()},e.prototype.expand=function(t,i,o){this._resetMovableNodes();var n={id:t,ids:i};this._draw(!1,e.action.expand,n,o)},e.prototype.collapse=function(t,i,o){this._resetMovableNodes();var n={id:t,ids:i};this._draw(!1,e.action.collapse,n,o)},e.prototype.expandCollapse=function(t,i,o,n){this._resetMovableNodes(),Array.isArray(i)||(i=[]),Array.isArray(o)||(o=[]);var r={id:t,expandIds:i,collapseIds:o,ids:i.concat(o)};this._draw(!1,e.action.collapse,r,n)},e.prototype.changeRoots=function(t,i,o){this.config.roots=i;var n={id:t,changeRoots:i};this._draw(!1,e.action.update,n,o)},e.prototype._resetMovableNodes=function(){if(e.RESET_MOVABLE_ONEXPANDCOLLAPSE&&this.config.movable!=null){for(var t=!1,i=0;i<this.config.nodes.length;i++){var o=this.config.nodes[i];o.movex!=null&&(o.movex=0,t=!0),o.movey!=null&&(o.movey=0,t=!0)}t&&e.events.publish("updated",[this])}},e.prototype.maximize=function(t,i,o,n){var r=this,l={id:t,options:{}};e.isNEU(l.id)&&(l.id=this.roots[0].id,l.all=!0),l.options.horizontal=!1,l.options.vertical=!1,i&&(l.options.horizontal=i),o&&(l.options.vertical=o),this._draw(!1,e.action.maximize,l,function(){r.ripple(t),n&&n()})},e.prototype.minimize=function(t,i){var o=this,n={id:t};e.isNEU(n.id)&&(n.id=this.roots[0].id,n.all=!0),this._draw(!1,e.action.minimize,n,function(){o.ripple(t),i&&i()})},e.prototype._expCollHandler=function(t){this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var i=this.getNode(t),o=this.getCollapsedIds(i);if(o.length){if(e.events.publish("expcollclick",[this,!1,t,o])===!1)return!1;this.expand(t,o,!1)}else{if(e.events.publish("expcollclick",[this,!0,t,i.childrenIds])===!1)return!1;this.collapse(t,i.childrenIds,!1)}},e.prototype._upHandler=function(t){this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var i=this._upHandlerCreateArgs(t);if(e.events.publish("up-click",[this,i])===!1)return!1;this.changeRoots(i.id,i.roots,!1)},e.prototype._upHandlerCreateArgs=function(t){var i,o=this.getNode(t),n=Object.assign([],this.config.roots),r=this.getNode(o.pid);if(r&&(i=r),i){if(Array.isArray(n)){var l=n.indexOf(o.id);l!=-1&&n.splice(l,1)}else n=[];n.push(i.id)}return{id:o.id,roots:n}},String.prototype.replaceAll||(String.prototype.replaceAll=function(t,i){return this.replace(new RegExp(t,"g"),i)}),String.prototype.endsWith||(String.prototype.endsWith=function(t){return this.indexOf(t,this.length-t.length)!==-1}),String.prototype.splice||(String.prototype.splice=function(t,i,o){return this.slice(0,t)+o+this.slice(t+Math.abs(i))}),String.prototype.insert||(String.prototype.insert=function(t,i){return t>0?this.substring(0,t)+i+this.substr(t):i+this}),Array.prototype.unique||Object.defineProperty(Array.prototype,"unique",{value:function(){for(var t=this.concat(),i=0;i<t.length;++i)for(var o=i+1;o<t.length;++o)t[i]===t[o]&&t.splice(o--,1);return t},writable:!0,configurable:!0,enumerable:!1}),Array.prototype.has||Object.defineProperty(Array.prototype,"has",{value:function(t){for(var i=0;i<this.length;i++)if(this[i]==t)return!0;return!1},writable:!0,configurable:!0,enumerable:!1}),Array.prototype.compare||Object.defineProperty(Array.prototype,"compare",{value:function(t){if(this.length!=t.length)return!1;for(var i=0;i<this.length;i++)if(!t.has(this[i]))return!1;return!0},writable:!0,configurable:!0,enumerable:!1}),Object.assign||Object.defineProperty(Object,"assign",{value:function(t,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(o[l]=r[l])}return o},writable:!0,configurable:!0}),e.prototype._globalMouseDownHandler=function(t,i){var o={move:"mousemove",up:"mouseup",leave:"mouseleave"};if(i.type.indexOf("touch")!=-1&&(i.touches.length==1?this._touch={x:i.touches[0].clientX,y:i.touches[0].clientY}:this._touch=null,o={move:"touchmove",up:"touchend",touchstart:"touchstart"}),t==i.target)return i.stopPropagation(),i.preventDefault(),void this._mouseDownHandler(t,i,o);if(this.config.nodeMouseClick==e.action.pan){for(var n=i.target;n!=t&&!n.hasAttribute(e.attr.control_expcoll_id)&&!n.hasAttribute(e.attr.control_up_id);)n=n.parentNode;if(!n.hasAttribute(e.attr.control_expcoll_id)&&!n.hasAttribute(e.attr.control_up_id))return i.stopPropagation(),i.preventDefault(),void this._mouseDownHandler(t,i,o)}for(var r=i.target;r!=t;){if(r.hasAttribute(e.attr.node_id))return void this._nodeMouseDownHandler(r,i,o);if(r.hasAttribute(e.attr.control_node_circle_menu_name))return i.stopPropagation(),i.preventDefault(),void this._nodeCircleNodeMenuItemMouseDownHandler(r,i,o);r=r.parentNode}},e.prototype._globalClickHandler=function(t,i){if(i.type.indexOf("touch")!=-1&&this._touch&&i.changedTouches.length==1){if(i.changedTouches.length){var o={x:i.changedTouches[0].clientX,y:i.changedTouches[0].clientY},n=e.t(this.config.template,!1,this.getScale()).size,r=this.getScale(),l=Math.abs(o.x-this._touch.x)/r,a=Math.abs(o.y-this._touch.y)/r;if(this._touch=null,l>n[0]/10||a>n[1]/10)return}}else if(i.type.indexOf("touch")!=-1&&this._touch==null)return;for(var d=i.target;d!=t;){if(d.hasAttribute(e.attr.control_expcoll_id)){var s=d.getAttribute(e.attr.control_expcoll_id),p=this.getNode(s);return void this._expCollHandler(p.id)}if(d.hasAttribute(e.attr.node_id))return s=d.getAttribute(e.attr.node_id),p=this.getNode(s),void this._nodeClickHandler(p.id,i);if(d.hasAttribute(e.attr.control_node_menu_id))return i.stopPropagation(),i.preventDefault(),s=d.getAttribute(e.attr.control_node_menu_id),p=this.getNode(s),void this._nodeMenuClickHandler(p.id,d,i);if(d.hasAttribute(e.attr.control_node_circle_menu_id))return i.stopPropagation(),i.preventDefault(),s=d.getAttribute(e.attr.control_node_circle_menu_id),void this._nodeCircleMenuClickHandler(s);if(d.hasAttribute(e.attr.control_node_circle_menu_name))return i.stopPropagation(),i.preventDefault(),void this._nodeCircleMenuItemClickHandler(d,i);if(d.hasAttribute(e.attr.control_add))return void this._lonelyButtonHandler();if(d.hasAttribute(e.attr.control_up_id))return s=d.getAttribute(e.attr.control_up_id),i.stopPropagation(),i.preventDefault(),void this._upHandler(s);if(d.hasAttribute(e.attr.c_link_from))return void e.events.publish("clink-click",[this,{from:d.getAttribute(e.attr.c_link_from),to:d.getAttribute(e.attr.c_link_to),event:i}]);if(d.hasAttribute(e.attr.s_link_from))return void e.events.publish("slink-click",[this,{from:d.getAttribute(e.attr.s_link_from),to:d.getAttribute(e.attr.s_link_to),event:i}]);d=d.parentNode}},e.prototype._globalContextHandler=function(t,i){for(var o=i.target;o!=t;){if(o.hasAttribute(e.attr.node_id)){var n=o.getAttribute(e.attr.node_id),r=this.getNode(n);return void this._nodeContextHandler(r.id,i)}o=o.parentNode}},e.prototype._nodeContextHandler=function(t,i){i.preventDefault(),e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var o=this.get(t),n=null;if(o!=null&&Array.isArray(o.tags))for(var r=0;r<o.tags.length;r++){var l=o.tags[r];this.config.tags[l]&&this.config.tags[l].nodeContextMenu&&(n=this.config.tags[l].nodeContextMenu)}var a=this.element.getBoundingClientRect(),d=i.clientX-a.left,s=i.clientY-a.top;this.nodeContextMenuUI.show(d,s,t,null,n)},e.prototype._globalDbClickHandler=function(t,i){for(var o=i.target;o!=t;){if(o.hasAttribute(e.attr.node_id)){var n=o.getAttribute(e.attr.node_id),r=this.getNode(n);return void this._nodeDbClickHandler(r.id,i)}o=o.parentNode}},e.prototype._mouseScrollHandler=function(t,i){this.__mouseScrollHandler(this.getSvg(),i)},e.prototype.__mouseScrollHandler=function(t,i){if(i.ctrlKey){if(this.config.mouseScrool==e.action.zoom)return}else if(this.config.mouseScrool==e.action.ctrlZoom||this.config.mouseScrool!=e.action.zoom)return;var o=this,n=!1,r=this.config.zoom.speed,l=this.config.zoom.smooth,a=0,d=this.getScale(),s=e._centerPointInPercent(t,i.pageX,i.pageY),p=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(h){setTimeout(h,20)};i.preventDefault();var c=i.delta||i.wheelDelta;c===void 0&&(c=-i.detail),c=Math.max(-1,Math.min(1,c)),a+=-c*r,n||function h(){n=!0;var f=(a-d)/l;f>0?f++:f--,d+=f,o.zoom(1-f/12/50,s),parseInt(d)==parseInt(a)?n=!1:p(h)}()},e.prototype._nodeCircleNodeMenuItemMouseDownHandler=function(t,i,o){var n=t.parentNode.getAttribute(e.attr.control_node_circle_menu_wrraper_id),r=t.getAttribute(e.attr.control_node_circle_menu_name),l=this.nodeCircleMenuUI._menu[r];if(l.draggable){var a=this,d=e._getClientXY(i),s=this.getNode(n);t._dragEventFired=!1;var p=a.getScale(),c=null,h=null;this._gragStartedId=n,document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none";var f=this.getSvg(),u={x:d.x,y:d.y},v=t.cloneNode(!0);f.insertBefore(v,f.firstChild);var x=e._getTransform(v),_=x[4],g=x[5],y=function(w){for(;w&&!w.hasAttribute(e.attr.control_node_circle_menu_wrraper_id);)w=w.parentNode;if(w){var S=e._getTransform(w);return{x:S[4],y:S[5]}}console.error("cannot find parent"+e.attr.control_node_circle_menu_wrraper_id)}(t);v.setAttribute("transform","matrix(1,0,0,1,"+(_+y.x)+","+(g+y.y)+")"),v.style.opacity=.7;var b=function(w,S){if(w!=null){S.classList.remove("boc-drag-over");for(var A=e.getStParentNodes(a.getNode(c)),I=0;I<A.length;I++){var M=a.getNodeElement(A[I].id);M&&(M.style.opacity=1)}}},m=function(w){if(u){var S=e._getClientXY(w),A=w.target;e.isMobile()&&(A=document.elementFromPoint(S.x,S.y)),S.x+=y.x*p,S.y+=y.y*p;var I=e._getOffsetXY(a.element,w),M={left:a.width()-(I.x+a.config.padding)<0,right:I.x-a.config.padding<0,up:a.height()-(I.y+a.config.padding)<0,down:I.y-a.config.padding<0};if(M.left||M.right||M.up||M.down){f.classList&&(f.classList.remove("boc-cursor-grab"),f.classList.add("boc-cursor-move"),f.classList.remove("boc-cursor-nodrop"),f.classList.remove("boc-cursor-copy"));var k=x[4],L=x[5],P=u.x,j=u.y,z=S.x,T=S.y;a.moveStart(M,function(B){x[4]=k+B.x,x[5]=L+B.y,u.x=P-B.xWithoutScale,u.y=j-B.yWithoutScale,S.x=z-B.xWithoutScale,S.y=T-B.yWithoutScale,v.setAttribute("transform","matrix("+x.toString()+")")})}else{for(a.moveEnd(),f.classList&&(f.classList.add("boc-cursor-grab"),f.classList.remove("boc-cursor-move"),f.classList.remove("boc-cursor-nodrop"),f.classList.remove("boc-cursor-copy")),b(c,h),c=null,h=null;A!=null&&A!=f;){if(A.hasAttribute&&A.hasAttribute(e.attr.node_id)){var N=A.getAttribute(e.attr.node_id);c=N,h=A;break}A=A.parentNode}if(c!=null){h.classList.add("boc-drag-over");for(var R=a.getNode(c),V=e.getStParentNodes(R),U=0;U<V.length;U++){var F=a.getNodeElement(V[U].id);F&&(F.style.opacity=.1)}f.classList.remove("boc-cursor-grab"),f.classList.remove("boc-cursor-move"),f.classList.add("boc-cursor-copy"),f.classList.remove("boc-cursor-nodrop")}var K=(S.x-u.x)/p,C=(S.y-u.y)/p;x[4]=_+K,x[5]=g+C,!t._dragEventFired&&(Math.abs(S.x-u.x)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(S.y-u.y)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE)&&(e.events.publish("drag",[a.nodeCircleMenuUI,{from:N,menuItem:l,menuItemName:r}])===!1&&E(),t._dragEventFired=!0),v.setAttribute("transform","matrix("+x.toString()+")")}}},E=function(w){if(a.moveEnd(),f.classList&&(f.classList.remove("boc-cursor-grab"),f.classList.remove("boc-cursor-move"),f.classList.remove("boc-cursor-nodrop"),f.classList.remove("boc-cursor-copy")),f.removeEventListener(o.move,m),f.removeEventListener(o.up,E),o.leave&&f.removeEventListener(o.leave,E),s.id==c||c==null)return f.removeChild(v),a._gragStartedId=null,void(t._dragEventFired&&e.events.publish("drop",[a.nodeCircleMenuUI,{from:s.id,menuItemName:r,menuItem:l,event:w}]));var S=a.getNode(c);e.events.publish("drop",[a.nodeCircleMenuUI,{from:s.id,to:S.id,menuItem:l,menuItemName:r,event:w}]),b(c,h),f.removeChild(v),a._gragStartedId=null};f.addEventListener(o.move,m),f.addEventListener(o.up,E),o.leave&&f.addEventListener(o.leave,E)}},e.prototype._nodeMouseDownHandler=function(t,i,o){var n=t.getAttribute(e.attr.node_id),r=this.getNode(n);this.config.movable&&!e.getRootOf(r).stParent?this._movableHandler(t,i,o):this.config.enableDragDrop&&this._dragDropHandler(t,i,o)},e.prototype._movableHandler=function(t,i,o){var n=this,r=t.getAttribute(e.attr.node_id),l=[],a=function(T,N){if(Array.isArray(T))for(var R=0;R<T.length;R++)a(T[R],N);else{for(N.push(T.id),R=0;R<T.stChildren.length;R++)a(T.stChildren[R],N);for(R=0;R<T.children.length;R++)a(T.children[R],N)}},d=function(T,N){if(Array.isArray(T))for(var R=0;R<T.length;R++)a(T[R],N);else{for(N.push(T.id),R=0;R<T.stChildrenIds.length;R++)d(n.getNode(T.stChildrenIds[R]),N);for(R=0;R<T.childrenIds.length;R++)d(n.getNode(T.childrenIds[R]),N)}},s=this.getNode(r);a(s,l);for(var p=this.getSvg(),c=e._getClientXY(i),h=[],f=[],u=[],v=[],x=[],_=[],g=[],y=[],b=0;b<l.length;b++){var m=this.getNode(l[b]);h.push(m),u.push({x:m.x,y:m.y});var E=this.getNodeElement(l[b]);if(E){x.push(E);var w=e._getTransform(E);v.push({x:w[4],y:w[5]}),f.push(w);var S=this.element.querySelector(`[data-ctrl-ec-id="${l[b]}"]`);if(S){_.push(S);var A=e._getTransform(S);g.push(A),y.push({x:A[4],y:A[5]})}else _.push(null),g.push(null),y.push(null);if(this.config.movable==e.movable.node)break}}t._dragEventFired=!1;var I=null,M=null;this._gragStartedId=l[0],document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none";var k={x:c.x,y:c.y},L=n.getScale(),P=function(T,N){if(T!=null){N.classList.remove("boc-drag-over");for(var R=n.getNode(I),V=e.getStParentNodes(R),U=0;U<V.length;U++){var F=n.getNodeElement(V[U].id);F&&(F.style.opacity=1)}}},j=function(T){if(k){var N=e._getClientXY(T),R=T.target;e.isMobile()&&(R=document.elementFromPoint(N.x,N.y));var V=e._getOffsetXY(n.element,T),U={left:n.width()-(V.x+n.config.padding)<0,right:V.x-n.config.padding<0,up:n.height()-(V.y+n.config.padding)<0,down:V.y-n.config.padding<0};if(U.left||U.right||U.up||U.down){p.classList&&(p.classList.remove("boc-cursor-grab"),p.classList.add("boc-cursor-move"),p.classList.remove("boc-cursor-nodrop"),p.classList.remove("boc-cursor-copy"));for(var F=[],K=[],C=[],B=[],O=0;O<f.length;O++)F.push(f[O][4]),K.push(f[O][5]),g[O]?(C.push(g[O][4]),B.push(g[O][5])):(C.push(null),B.push(null));var q=k.x,W=k.y,we=N.x,he=N.y;n.moveStart(U,function(ee){for(var $=0;$<f.length;$++){var ue=F[$],fe=K[$],Te=C[$],Ne=B[$];f[$][4]=ue+ee.x,f[$][5]=fe+ee.y,k.x=q-ee.xWithoutScale,k.y=W-ee.yWithoutScale,N.x=we-ee.xWithoutScale,N.y=he-ee.yWithoutScale,h[$].x=ue+ee.x,h[$].y=fe+ee.y,h[$].movex=ee.x,h[$].movey=ee.y,g[$]&&(g[$][4]=Te+ee.x,g[$][5]=Ne+ee.y);for(var te=e.ui.link(h[$],n,L,n.response.bordersByRootIdAndLevel,n.nodes,e.action.update,!0),Q=0;Q<te.length;Q++){var de=te[Q];(G=n.element.querySelector(`[data-l-id="[${de.id}][${de.childId}]"]`))&&(G.innerHTML=de.html)}if(h[$].parent)for(te=e.ui.link(h[$].parent,n,L,n.response.bordersByRootIdAndLevel,n.nodes,e.action.update,!0),Q=0;Q<te.length;Q++){var G;de=te[Q],(G=n.element.querySelector(`[data-l-id="[${de.id}][${de.childId}]"]`))&&(G.innerHTML=de.html)}x[$].setAttribute("transform","matrix("+f[$].toString()+")"),_[$]&&_[$].setAttribute("transform","matrix("+g[$].toString()+")")}})}else{if(n.moveEnd(),p.classList&&(p.classList.add("boc-cursor-grab"),p.classList.remove("boc-cursor-move"),p.classList.remove("boc-cursor-nodrop"),p.classList.remove("boc-cursor-copy")),P(I,M),I=null,M=null,n.config.enableDragDrop)for(;R!=null&&R!=p;){if(R.hasAttribute&&R.hasAttribute(e.attr.node_id)){var me=R.getAttribute(e.attr.node_id);if(n._gragStartedId&&me!=n._gragStartedId){I=me,M=R;break}}R=R.parentNode}if(I!=null){M.classList.add("boc-drag-over");for(var ae=n.getNode(I),X=e.getStParentNodes(ae),Z=0;Z<X.length;Z++){var ce=n.getNodeElement(X[Z].id);ce&&(ce.style.opacity=.1)}!n.canUpdateLink(h[0].id,I)&&p.classList?(p.classList.remove("boc-cursor-grab"),p.classList.remove("boc-cursor-move"),p.classList.remove("boc-cursor-copy"),p.classList.add("boc-cursor-nodrop")):p.classList&&(p.classList.remove("boc-cursor-grab"),p.classList.remove("boc-cursor-move"),p.classList.add("boc-cursor-copy"),p.classList.remove("boc-cursor-nodrop"))}var se=(N.x-k.x)/L,ye=(N.y-k.y)/L;for(O=0;O<f.length;O++){f[O][4]=v[O].x+se,f[O][5]=v[O].y+ye,g[O]&&(g[O][4]=y[O].x+se,g[O][5]=y[O].y+ye),h[O].x=u[O].x+se,h[O].y=u[O].y+ye,h[O].movex=se,h[O].movey=ye;var xe=e.ui.link(h[O],n,L,n.response.bordersByRootIdAndLevel,n.nodes,e.action.update,!0);for(Z=0;Z<xe.length;Z++){var pe=xe[Z];(Y=n.element.querySelector(`[data-l-id="[${pe.id}][${pe.childId}]"]`))&&(Y.innerHTML=pe.html)}}if(s.parent)if(n.config.movable==e.movable.detachTree)(Y=n.element.querySelector(`[data-l-id="[${s.parent.id}][${s.id}]"]`))&&Y.parentElement.removeChild(Y);else for(xe=e.ui.link(s.parent,n,L,n.response.bordersByRootIdAndLevel,n.nodes,e.action.update,!0),Z=0;Z<xe.length;Z++){var Y;pe=xe[Z],(Y=n.element.querySelector(`[data-l-id="[${pe.id}][${pe.childId}]"]`))&&(Y.innerHTML=pe.html)}if(!t._dragEventFired&&(Math.abs(N.x-k.x)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(N.y-k.y)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE)){if(e.events.publish("drag",[n,r,T,l])===!1&&z(),n.config.enableDragDrop)for(O=0;O<x.length;O++)p.insertBefore(x[O],p.firstChild);t._dragEventFired=!0}for(O=0;O<f.length;O++)x[O].setAttribute("transform","matrix("+f[O].toString()+")"),_[O]&&_[O].setAttribute("transform","matrix("+g[O].toString()+")")}}},z=function(T){for(var N=0;N<h.length;N++)h[N].x=u[N].x,h[N].y=u[N].y;if(n.moveEnd(),p.classList&&(p.classList.remove("boc-cursor-grab"),p.classList.remove("boc-cursor-move"),p.classList.remove("boc-cursor-nodrop"),p.classList.remove("boc-cursor-copy")),p.removeEventListener(o.move,j),p.removeEventListener(o.up,z),o.leave&&p.removeEventListener(o.leave,z),h[0].id!=I&&I!=null){var R=n.getNode(I);if((V=e.events.publish("drop",[n,h[0].id,R.id,x[0],T]))===!1)return P(I,M),void(n._gragStartedId=null);n.canUpdateLink(h[0].id,I)?((B=n.get(h[0].id)).pid=I,B.stpid=null,n.updateNode(B,null,!0)):P(I,M),n._gragStartedId=null}else{if(t._dragEventFired){var V=e.events.publish("drop",[n,h[0].id,void 0,x[0],T]);if(n.config.movable&&V!==!1)if(n.config.movable==e.movable.detachTree){var U=e._getTransform(n.getNodeElement(s.id));(B=n.get(s.id)).pid=null,B.stpid=null,n.updateNode(B,null,!0)}else{var F=[];n.config.movable==e.movable.node?F.push(s.id):d(s,F);var K=(U=e._getTransform(n.getNodeElement(s.id)))[4]-s.x,C=U[5]-s.y;for(N=0;N<F.length;N++){var B;(B=n.get(F[N]))&&(B.movex!=null?B.movex+=K:B.movex=K,B.movey!=null?B.movey+=C:B.movey=C,n.update(B))}e.events.publish("updated",[n]),n.draw(e.action.update,{dragNodeIdList:F})}}n._gragStartedId=null}};p.addEventListener(o.move,j),p.addEventListener(o.up,z),o.leave&&p.addEventListener(o.leave,z)},e.prototype._dragDropHandler=function(t,i,o){var n=e._getClientXY(i),r=t.getAttribute(e.attr.node_id),l=this.getNode(r);t._dragEventFired=!1;var a=null,d=null;this._gragStartedId=r,this.element.style.mozUserSelect=this.element.style.webkitUserSelect=this.element.style.userSelect="none";var s=this,p=this.getSvg(),c={x:n.x,y:n.y},h=e._getTransform(t),f=h[4],u=h[5],v=s.getScale(),x=t.cloneNode(!0);x.setAttribute("data-n-id","draging"),p.insertBefore(x,p.firstChild),x.style.opacity=.7;var _=function(b,m){if(b!=null){m.classList.remove("boc-drag-over");for(var E=s.getNode(a),w=e.getStParentNodes(E),S=0;S<w.length;S++){var A=s.getNodeElement(w[S].id);A&&(A.style.opacity=1)}}},g=function(b){if(c){var m=e._getClientXY(b),E=b.target;e.isMobile()&&(E=document.elementFromPoint(m.x,m.y));var w=e._getOffsetXY(s.element,b),S={left:s.width()-(w.x+s.config.padding)<0,right:w.x-s.config.padding<0,up:s.height()-(w.y+s.config.padding)<0,down:w.y-s.config.padding<0};if(S.left||S.right||S.up||S.down){p.classList&&(p.classList.remove("boc-cursor-grab"),p.classList.add("boc-cursor-move"),p.classList.remove("boc-cursor-nodrop"),p.classList.remove("boc-cursor-copy"));var A=h[4],I=h[5],M=c.x,k=c.y,L=m.x,P=m.y;s.moveStart(S,function(F){h[4]=A+F.x,h[5]=I+F.y,c.x=M-F.xWithoutScale,c.y=k-F.yWithoutScale,m.x=L-F.xWithoutScale,m.y=P-F.yWithoutScale,x.setAttribute("transform","matrix("+h.toString()+")")})}else{if(s.moveEnd(),p.classList&&(p.classList.add("boc-cursor-grab"),p.classList.remove("boc-cursor-move"),p.classList.remove("boc-cursor-nodrop"),p.classList.remove("boc-cursor-copy")),_(a,d),a=null,d=null,s.config.enableDragDrop)for(;E!=null&&E!=p;){if(E.hasAttribute&&E.hasAttribute(e.attr.node_id)){var j=E.getAttribute(e.attr.node_id);if(s._gragStartedId&&j!=s._gragStartedId){a=j,d=E;break}}E=E.parentNode}if(a=="draging"&&(a=null,d=null),a!=null){d.classList.add("boc-drag-over");for(var z=s.getNode(a),T=e.getStParentNodes(z),N=0;N<T.length;N++){var R=s.getNodeElement(T[N].id);R&&(R.style.opacity=.1)}!s.canUpdateLink(l.id,a)&&p.classList?(p.classList.remove("boc-cursor-grab"),p.classList.remove("boc-cursor-move"),p.classList.remove("boc-cursor-copy"),p.classList.add("boc-cursor-nodrop")):p.classList&&(p.classList.remove("boc-cursor-grab"),p.classList.remove("boc-cursor-move"),p.classList.add("boc-cursor-copy"),p.classList.remove("boc-cursor-nodrop"))}var V=(m.x-c.x)/v,U=(m.y-c.y)/v;h[4]=f+V,h[5]=u+U,!t._dragEventFired&&(Math.abs(m.x-c.x)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(m.y-c.y)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE)&&(e.events.publish("drag",[s,j,b])===!1&&y(),t._dragEventFired=!0),x.setAttribute("transform","matrix("+h.toString()+")")}}},y=function(b){if(s.moveEnd(),p.classList&&(p.classList.remove("boc-cursor-grab"),p.classList.remove("boc-cursor-move"),p.classList.remove("boc-cursor-nodrop"),p.classList.remove("boc-cursor-copy")),p.removeEventListener(o.move,g),p.removeEventListener(o.up,y),o.leave&&p.removeEventListener(o.leave,y),l.id==a||a==null)return t._dragEventFired&&e.events.publish("drop",[s,l.id,void 0,x,b]),p.removeChild(x),void(s._gragStartedId=null);var m=s.getNode(a);if(e.events.publish("drop",[s,l.id,m.id,x,b])===!1)return _(a,d),p.removeChild(x),void(s._gragStartedId=null);if(s.canUpdateLink(l.id,a)){var E=s.get(l.id);E.pid=a,E.stpid=null,E.movex!=null&&(E.movex=void 0),E.movey!=null&&(E.movey=void 0),s.updateNode(E,null,!0)}else p.removeChild(x),_(a,d);s._gragStartedId=null};p.addEventListener(o.move,g),p.addEventListener(o.up,y),o.leave&&p.addEventListener(o.leave,y)},e.prototype._resizeHandler=function(t,i){if(this.isVisible){var o=this.getViewBox(),n=this.getSvg(),r=n.getAttribute("width"),l=n.getAttribute("height"),a=r/o[2],d=l/o[3],s=a>d?d:a;n.setAttribute("width",this.width()),n.setAttribute("height",this.height()),o[2]=this.width()/s,o[3]=this.height()/s,this.setViewBox(o),this.xScrollUI.create(this.width()),this.yScrollUI.create(this.height()),this._draw(!1,e.action.resize)}},e.prototype._nodeDbClickHandler=function(t,i){if(e.events.publish("dbclick",[this,this.get(t)])===!1)return!1;this._commonClickHandler(t,i,this.config.nodeMouseDbClick)},e.prototype._nodeClickHandler=function(t,i){var o=this.getNodeElement(t);if(o&&o._dragEventFired)o._dragEventFired=!1;else{if(e.events.publish("click",[this,{node:this.getNode(t),event:i}])===!1)return!1;this._commonClickHandler(t,i,this.config.nodeMouseClick)}},e.prototype._nodeCircleMenuItemClickHandler=function(t,i){var o=t.parentNode.getAttribute(e.attr.control_node_circle_menu_wrraper_id),n=t.getAttribute(e.attr.control_node_circle_menu_name),r=this.nodeCircleMenuUI._menu[n];e.events.publish("click",[this.nodeCircleMenuUI,{nodeId:o,menuItemName:n,menuItem:r,event:i}])},e.prototype._nodeCircleMenuClickHandler=function(t){e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide();var i=this.getNode(t),o=null;if(Array.isArray(i.tags))for(var n=0;n<i.tags.length;n++){var r=i.tags[n];this.config.tags[r]&&this.config.tags[r].nodeCircleMenu&&(o=this.config.tags[r].nodeCircleMenu)}this.nodeCircleMenuUI.show(t,o)},e.prototype._commonClickHandler=function(t,i,o){var n;e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide(),o==e.action.expandCollapse&&this.toggleExpandCollapse(t,i),o==e.action.edit&&(n=this.getNode(t))&&(this.editUI.show(n.id),this.ripple(n.id,i.clientX,i.clientY)),o==e.action.details&&(n=this.getNode(t))&&(this.editUI.show(n.id,!0),this.ripple(n.id,i.clientX,i.clientY))},e.prototype._menuHandlerMouseDownHandler=function(t,i){i.stopPropagation(),i.preventDefault()},e.prototype._nodeMenuClickHandler=function(t,i,o){e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var n=this.getNode(t),r=null;if(Array.isArray(n.tags))for(var l=0;l<n.tags.length;l++){var a=n.tags[l];this.config.tags[a]&&this.config.tags[a].nodeMenu&&(r=this.config.tags[a].nodeMenu)}this.nodeMenuUI.showStickIn(i,t,null,r)},e.prototype._menuClickHandler=function(t,i){i.stopPropagation(),i.preventDefault(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.show(t.offsetLeft,t.offsetTop)},e.prototype._lonelyButtonHandler=function(){var t={id:this.generateId()};this.addNode(t,null,!0)!==!1&&this.center(t.id)},e.prototype.toggleExpandCollapse=function(t,i){var o=this.getNode(t),n=this.getCollapsedIds(o);if(n.length){if(e.events.publish("expcollclick",[this,!1,t,n])===!1)return!1;this.expand(t,n,!1)}else{if(e.events.publish("expcollclick",[this,!0,t,o.childrenIds])===!1)return!1;this.collapse(t,o.childrenIds,!1)}i&&this.ripple(o.id,i.clientX,i.clientY)},e.prototype._move=function(t,i,o){o[0]=i,o[1]=t,this.setViewBox(o),this.xScrollUI.setPosition(),this.yScrollUI.setPosition()},e.prototype.moveStart=function(t,i,o,n){if(t){if(!this._moveInterval){var r=this,l=this.getViewBox().slice(0),a=this.getScale(),d=0,s=0,p=1;e.isNEU(o)&&(o=e.anim.inSin),e.isNEU(n)&&(n=3e3),this._moveInterval=setInterval(function(){var c={x:0,y:0,xWithoutScale:0,yWithoutScale:0};t.left?(d++,c.x=d*e.MOVE_STEP/a,c.xWithoutScale=d*e.MOVE_STEP):t.right&&(d++,c.x=-d*e.MOVE_STEP/a,c.xWithoutScale=-d*e.MOVE_STEP),t.up?(s++,c.y=s*e.MOVE_STEP/a,c.yWithoutScale=s*e.MOVE_STEP):t.down&&(s++,c.y=-s*e.MOVE_STEP/a,c.yWithoutScale=-s*e.MOVE_STEP);var h=o((10*p-10)/n);c.x=c.x*h,c.xWithoutScale=c.xWithoutScale*h,c.y=c.y*h,c.yWithoutScale=c.yWithoutScale*h,r.setViewBox([l[0]+c.x,l[1]+c.y,l[2],l[3]]),i&&i(c),p+=1},10)}}else console.error("movePosition parameter not defined")},e.prototype.moveEnd=function(){this._moveInterval&&(clearInterval(this._moveInterval),this._moveInterval=null)},e===void 0&&(e={}),e.node=function(t,i,o,n){this.templateName=n,this.id=t,this.pid=i,this.children=[],this.childrenIds=[],this.parent=null,this.stpid=null,this.stParent=null,this.stChildren=[],this.stChildrenIds=[],this.tags=o,this.tags||(this.tags=[])},e.prototype._mouseDownHandler=function(t,i,o){var n=this;e.HIDE_EDIT_FORM_ON_PAN&&this.editUI.hide(),e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var r=this.getViewBox(),l=this.getScale(),a=e._getClientTouchesXY(i,0),d=e._getClientTouchesXY(i,1),s={diffX:0,diffY:0,x0:a.x,y0:a.y,type:"pan",viewBoxLeft:r[0],viewBoxTop:r[1]};i.touches&&i.touches.length>1&&(s.type="pinch",s.dist=Math.sqrt((a.x-d.x)*(a.x-d.x)+(a.y-d.y)*(a.y-d.y))),s.type=="pan"&&(this._hideBeforeAnimation(),this._changeCursorOnPanStart(r,l,i));var p=function(h){var f=e._getClientTouchesXY(h,0);if(s&&s.type=="pan"){n._hideBeforeAnimation(),s.diffX=f.x-s.x0,s.diffY=f.y-s.y0;var u=-s.diffY/l+s.viewBoxTop,v=-s.diffX/l+s.viewBoxLeft;n._move(u,v,r)}else if(s&&s.type=="pinch"){var x=e._getClientTouchesXY(h,1),_=Math.sqrt((f.x-x.x)*(f.x-x.x)+(f.y-x.y)*(f.y-x.y)),g=1+(_-s.dist)/(s.dist/100)/100;s.dist=_;var y=e._pinchMiddlePointInPercent(n.element,n.width(),n.height(),h);n.zoom(g,y)}},c=function(){s.type=="pan"&&n.config.sticky?setTimeout(function(){e._moveToBoundaryArea(t,n.getViewBox(),n.response.boundary,function(){n._draw(!0,e.action.pan)})},0):s.type!="pan"||n.config.sticky||setTimeout(function(){n._draw(!0,e.action.pan)},0),s.type=="pan"&&n._changeCursorOnPanEnd(),s=null,t.removeEventListener(o.move,p),t.removeEventListener(o.up,c),o.leave&&t.removeEventListener(o.leave,c),o.touchstart&&t.removeEventListener(o.touchstart,c)};this.config.enablePan&&(t.addEventListener(o.move,p),t.addEventListener(o.up,c),o.leave&&t.addEventListener(o.leave,c),o.touchstart&&t.addEventListener(o.touchstart,c))},e.prototype._changeCursorOnPanStart=function(t,i,o){var n=this.getPointerElement(),r=e._getOffsetXY(this.element,o),l=r.x/i+t[0]-16/i,a=r.y/i+t[1]-16/i;n.style.display="inherit",n.setAttribute("transform","matrix(0,0,0,0,"+l+","+a+")"),e.animate(n,{transform:[0,0,0,0,l,a],opacity:0},{transform:[1/i,0,0,1/i,l,a],opacity:1},300,e.anim.outBack)},e.prototype._changeCursorOnPanEnd=function(){this.getPointerElement().style.display="none"},e.searchUI=function(){this.lastSearch=[],this._searchAfterEnterPress=!1,this._event_id=e._guid(),this.instance=null},e.searchUI.prototype.init=function(t){this.instance=t,this.obj=this.instance,this._initSearchFields();var i=this,o=this.instance.config.padding-10,n=this.instance.config.padding-10,r=this.instance.getMenuButton();if(r){var l=r.getBoundingClientRect(),a=this.instance.getSvg().getBoundingClientRect();o=a.right-l.left+10,n=l.top-a.top-10}var d=document.createElement("div");d.classList.add("boc-search"),d.style.right=o+"px",d.style.top=n+"px";var s=e.elements.textbox({},{label:e.SEARCH_PLACEHOLDER,btn:"X"},"320px");d.innerHTML+=s.html,this.xBtn=d.querySelector("[data-input-btn]"),this.xBtn.style.display="none",this.searchTableWrapper=document.createElement("div"),d.appendChild(this.searchTableWrapper);var p=this.instance.getSvg().nextSibling;this.instance.element.insertBefore(d,p),e.input.init(d),this.input=document.getElementById(s.id),this.xBtn.addEventListener("click",function(f){f.preventDefault(),i.hide()}),this.input.addEventListener("keypress",function(f){f.key=="Enter"&&f.preventDefault()}),this.input.addEventListener("focus",function(f){i.xBtn.style.display="",i._search()}),this.input.addEventListener("blur",function(f){e.isNEU(i.input.value)&&e.SEARCH_HELP_SYMBOL!=i.input.value&&(i.xBtn.style.display="none")}),this.input.addEventListener("keydown",function(f){(f.key=="ArrowDown"||f.key=="ArrowUp")&&f.preventDefault()}),this.input.addEventListener("keyup",function(f){f.key=="ArrowDown"?c():f.key=="ArrowUp"?h():f.key=="Enter"?i._enterHandler():f.key=="Escape"?i.hide():this.value.length>=e.MINIMUM_SYMBOLS_IN_SEARCH_INPUT&&i._search()});var c=function(){var f=i.instance.element.querySelectorAll("[data-search-item-id]"),u=i.instance.element.querySelector('[data-selected="yes"]');u==null&&f.length>0?f[0].setAttribute("data-selected","yes"):f.length>0&&u.nextSibling&&u.nextSibling.setAttribute&&(u.removeAttribute("data-selected"),u.nextSibling.setAttribute("data-selected","yes"))},h=function(){var f=i.instance.element.querySelectorAll("[data-search-item-id]"),u=i.instance.element.querySelector('[data-selected="yes"]');u==null&&f.length>0?f[f.length-1].setAttribute("data-selected","yes"):f.length>0&&u.previousSibling&&u.previousSibling.setAttribute&&(u.removeAttribute("data-selected"),u.previousSibling.setAttribute("data-selected","yes"))}},e.searchUI.prototype._enterHandler=function(){var t=this.instance.element.querySelector('[data-selected="yes"]');if(t){if(t.hasAttribute("data-search-item-id")){var i=t.getAttribute("data-search-item-id");if(this.input.value!=e.SEARCH_HELP_SYMBOL){var o=e.events.publish("",[this.instance,i]),n=e.events.publish("searchclick",[this,{nodeId:i}]);o===!1&&(n=!1),n!=0&&this.instance.center(i)}else this.input.value=i+" ",this.searchTableWrapper.innerHTML=""}}else this._searchAfterEnterPress=!0,this.__search(),this.searchTableWrapper.innerHTML="",this.instance.draw()},e.searchUI.prototype._initSearchFields=function(){if(this.instance.config.searchFields==null){this._searchFields=[];for(var t=0;t<this.instance.response.allFields.length;t++){var i=this.instance.response.allFields[t];i=="tags"||e._fieldIsImg(this.instance.config,i)||this._searchFields.indexOf(i)==-1&&this._searchFields.push(i)}}else this._searchFields=this.instance.config.searchFields;if(this.instance.config.searchFieldsAbbreviation==null)for(this.searchFieldsAbbreviation={},t=0;t<this._searchFields.length;t++){for(var o=this._searchFields[t],n=0,r=o.slice(0,n+1).toLowerCase();this.searchFieldsAbbreviation[r];)n++,r=o.slice(0,n+1).toLowerCase();this.searchFieldsAbbreviation[r]=o}else this.searchFieldsAbbreviation=this.instance.config.searchFieldsAbbreviation;this._searchFieldsAbbreviation=this.searchFieldsAbbreviation},e.searchUI.prototype.find=function(t){this.input&&(this.input.value=t,document.activeElement==this.input?this._search(t):this.input.focus())},e.searchUI.prototype.addMatchTag=function(t){if(this._searchAfterEnterPress){for(var i=0;i<this.lastSearch.length;i++)if(this.lastSearch[i].id==t)return!0;return!1}return null},e.searchUI.prototype.__search=function(){this.lastSearch=e._search.search(this.instance.config.nodes,this.input.value,this._searchFields,this._searchFields,this.instance.config.searchDisplayField,this.instance.config.searchFieldsWeight,this.searchFieldsAbbreviation)},e.searchUI.prototype._search=function(){var t,i=this;if(this._searchAfterEnterPress=!1,this.input.value==e.SEARCH_HELP_SYMBOL)t=this.helpView();else{this.__search();var o=e._getFistImgField(this.instance.config);t=`<table border="0" cellspacing="0" cellpadding="0">
                        <tbody>
                            ${function(){for(var l="",a=0;a<i.lastSearch.length&&!(a>=e.SEARCH_RESULT_LIMIT);a++){var d=i.lastSearch[a],s="";if(o){var p=i.instance._get(d.id);typeof o=="function"?s=o(i.instance,i.instance.getNode(d.id),p):p[o]&&(s=p[o])}var c="",h="";i.instance.config.searchDisplayField==d.__searchField?c=d.__searchMarks:i.instance.config.searchDisplayField?(c=d[i.instance.config.searchDisplayField],e.isNEU(c)&&(c=""),h=d.__searchMarks):c=d.__searchMarks;var f={img:s,nodeId:d.id,first:c,second:h,searchItem:d,html:e.searchUI.createItem(s,d.id,c,h)};e.events.publish("add-item",[i,f]),l+=f.html}return l}()}  
                        </tbody>
                    </table>`}this.searchTableWrapper.innerHTML=t;for(var n=this.instance.element.querySelectorAll("[data-search-item-id]"),r=0;r<n.length;r++)n[r].addEventListener("click",function(){if(this.hasAttribute("data-search-item-id")){var l=this.getAttribute("data-search-item-id");if(i.input.value!=e.SEARCH_HELP_SYMBOL){var a=e.events.publish("searchclick",[i.instance,l]),d=e.events.publish("searchclick",[i,{nodeId:l}]);if(a===!1&&(d=!1),d!==!1){i.instance.center(this.getAttribute("data-search-item-id"));var s=i.instance.element.querySelector('[data-selected="yes"]');s&&s.removeAttribute("data-selected"),this.setAttribute("data-selected","yes"),i.input.focus()}}else i.input.value=l+" ",i.searchTableWrapper.innerHTML="",i.input.focus()}});e.events.publish("show-items",[this,{}])},e.searchUI.prototype.helpView=function(){var t='<table border="0" cellspacing="0" cellpadding="0">';for(var i in this.searchFieldsAbbreviation)t+=`<tr data-search-item-id="${i}" style="height: 50px;"><td class="boc-search-image-td" style="text-align: center;">${i}</td><td class="boc-search-text-td">${this.searchFieldsAbbreviation[i]}</td></tr>`;return t+="</table>"},e.searchUI.createItem=function(t,i,o,n){return o&&(o="<b>"+o+"</b>"),`<tr data-search-item-id="${i}">
                <td class="boc-search-image-td">
                    ${t=t?`<div class="boc-search-photo" style="background-image: url(${t})"></div>`:`<div class="boc-search-photo">${e.icon.user(32,32,"#aeaeae")}</div>`}
                </td>
                <td class="boc-search-text-td">${o} <br/>${n}</td>
            </tr>`},e.searchUI.prototype.hide=function(){if(e.events.publish("hide",[this])===!1)return!1;this._searchAfterEnterPress&&(this._searchAfterEnterPress=!1,this.instance.draw()),this.lastSearch=[],this.xBtn&&(this.xBtn.style.display="none"),this.searchTableWrapper&&(this.searchTableWrapper.innerHTML=""),this.input&&(this.input.value="",document.activeElement==this.input&&this.input.blur(),document.activeElement==this.xBtn&&e.input.blurHandler(this.input))},e.searchUI.prototype.on=function(t,i){return e.events.on(t,i,this._event_id),this},e===void 0&&(e={}),e.manager=function(t){this.config=t.config,this.layoutConfigs=t._layoutConfigs,this.visibleNodeIds=[],this.viewBox=null,this.action=null,this.actionParams=null,this.nodes={},this.oldNodes={},this.maxX=null,this.maxY=null,this.minX=null,this.minY=null,this.bordersByRootIdAndLevel=null,this.roots=null,this.state=null,this.vbIsInitializedFromState=!1,this.rootList=[],this.instance=t,this._fixAdjustForExport={x:0,y:0}},e.manager.prototype.read=function(t,i,o,n,r,l,a,d){var s=this;e.state._get(this.config.state,i,o,function(p){s.state=p,s.action=r,s.actionParams=l,r!=e.action.init||!s.state||l&&l.method&&l.method=="fit"?(s.viewBox=n,s.vbIsInitializedFromState=!1):(s.viewBox=s.state.vb,s.vbIsInitializedFromState=!0,Array.isArray(s.state.roots)&&(s.config.roots=s.state.roots));var c=s.maxX,h=s.maxY,f=s.minX,u=s.minY,v=s.bordersByRootIdAndLevel,x=s.roots,_=s.nodes;if(t){var g=e.manager._getResponse(i,o,s.visibleNodeIds,s.config,c,h,f,u,s.viewBox,x,s.action,s.actionParams,_,s.oldNodes,s.vbIsInitializedFromState);r!=e.action.exporting&&(s.maxX=c,s.maxY=h,s.minX=f,s.minY=u,s.roots=x,s.nodes=_,s.visibleNodeIds=g.visibleNodeIds),g.bordersByRootIdAndLevel=v,g.roots=x,g.adjustify={x:0,y:0},s.state&&(g.adjustify=s.state.adjustify),a(g)}else s.oldNodes=_||null,s._read(function(y){c=y.maxX,h=y.maxY,f=y.minX,u=y.minY,v=y.bordersByRootIdAndLevel,x=y.roots,_=y.nodes;var b=e.manager._getResponse(i,o,s.visibleNodeIds,s.config,c,h,f,u,s.viewBox,x,s.action,s.actionParams,_,s.oldNodes,s.vbIsInitializedFromState);b.notif=y.limit,b.roots=x,b.bordersByRootIdAndLevel=v,b.adjustify=y.adjustify,r!=e.action.exporting&&(s.maxX=c,s.maxY=h,s.minX=f,s.minY=u,s.roots=x,s.nodes=_,s.visibleNodeIds=b.visibleNodeIds,s.bordersByRootIdAndLevel=v,s.rootList=y.rootList),a(b)},d)})},e.manager.prototype._read=function(t,i){var o=this,n=e.manager._createNodes(this.instance);i(n);var r=n.nodes,l=n.roots,a=e.remote;a==null&&(a=e.local),a._setPositions(l,o.layoutConfigs,function(d){var s=e.manager._doNotChangePositionOfClickedNodeIfAny(l,r,o.action,o.actionParams,o.oldNodes,o.config.orientation);o.state&&o.action==e.action.init&&(s=o.state.adjustify),o.action==e.action.exporting?s=o._fixAdjustForExport:o._fixAdjustForExport=s;for(var p={minX:null,minY:null,maxX:null,maxY:null},c={},h=[],f=0;f<l.length;f++)e.manager._setMinMaxXYAdjustifyIterate(l[f],l[f],p,0,c,s,o.config.orientation,h);for(var u in h)for(var v in h[u]){var x=c[u][v],_=h[u][v];x.minX==null&&x.minY==null&&x.maxX==null&&x.maxY==null&&e._setMinMaxXY(_,x)}t({minX:p.minX,minY:p.minY,maxX:p.maxX,maxY:p.maxY,bordersByRootIdAndLevel:c,nodes:r,roots:l,rootList:n.rootList,limit:d,adjustify:s})},r)},e===void 0&&(e={}),e.manager._initDinamicNode=function(t,i,o){i&&(t.lcn=i),o&&(t.isAssistant=!0);var n=e.t(t.templateName);t.w=n&&n.size?n.size[0]:0,t.h=n&&n.size?n.size[1]:0,t.isSplit=t.templateName=="split",t.isMirror=t.templateName=="mirror",t.isSubLevel=t.templateName=="subLevel"},e.manager._setCollpasedProperty=function(t,i,o,n,r,l,a){t.collapsed==null&&i.collapse&&i.collapse.allChildren?t.collapsed=!0:t.collapsed==null&&(t.collapsed=!1),r==e.action.expand&&o.ids.indexOf(t.id)!=-1&&(t.collapsed=!1),r==e.action.collapse&&(o.expandIds||o.collapseIds)?o.expandIds&&o.expandIds.indexOf(t.id)!=-1?t.collapsed=!1:o.collapseIds&&o.collapseIds.indexOf(t.id)!=-1&&(t.collapsed=!0):r==e.action.collapse&&o.ids.indexOf(t.id)!=-1&&(t.collapsed=!0),r==e.action.expand&&o.ids=="all"&&(t.collapsed=!1),r==e.action.exporting&&o.expandChildren&&(t.collapsed=!1),r==e.action.init&&a!=null?t.collapsed=!a.exp.has(t.id):r==e.action.init?t.tags.indexOf("left-partner")!=-1||t.tags.indexOf("right-partner")!=-1||t.tags.indexOf("partner")!=-1||t.parentPartner?t.collapsed=i.collapse&&l>=i.collapse.level&&n.indexOf(t.id)==-1:t.collapsed=i.collapse&&l>=i.collapse.level-1&&n.indexOf(t.id)==-1:r==e.action.centerNode||r==e.action.insert||r==e.action.expand||r==e.action.collapse?n.has(t.id)&&(t.collapsed=!1):r==e.action.update&&o&&o.changeRoots&&o.changeRoots.has(t.id)&&(t.collapsed=!1)},e.manager._initNode=function(t,i,o,n,r,l,a){var d=a.manager.config,s=a.manager.layoutConfigs,p=a.manager.action,c=a.manager.actionParams,h=a.manager.state,f=s[o||"base"];t.parent==null&&e.manager._setCollpasedProperty(t,f,c,r,p,n-1,h);for(var u=0;u<t.childrenIds.length;u++){var v=i[t.childrenIds[u]];if(e.manager._setCollpasedProperty(v,f,c,r,p,n,h),!v.collapsed){if(v.parent=t,v.ppid!=null){var x=i[v.ppid];x&&(v.parentPartner=x)}(v.tags.indexOf("left-partner")!=-1||v.tags.indexOf("right-partner")!=-1||v.tags.indexOf("partner")!=-1||v.parentPartner)&&l.indexOf(t.id)==-1&&l.push(t.id),t.children.push(v)}}if(p!=e.action.minimize||t.min?p==e.action.maximize&&t.min===!0?(c.all||c.id==t.id)&&(t.min=!1):p==e.action.exporting&&c.min===!1?t.min=!1:p==e.action.init&&h!=null&&(t.min=h.min.has(t.id)):(c.all||c.id==t.id)&&(t.min=!0),!t.min)for(u=0;u<t.stChildrenIds.length;u++)v=i[t.stChildrenIds[u]],t.tags&&t.tags.has("filter")||(v.stParent=t,t.stChildren.push(v));n!=null&&(t.level=n),o&&(t.lcn=o);var _=e._getSubLevels(t.tags,d.tags);_>0&&(t.subLevels=_),t.tags.indexOf("assistant")!=-1&&t.parent!=null&&(t.isAssistant=!0);var g=e.t(t.templateName,t.min);t.w=g&&g.size?g.size[0]:0,t.h=g&&g.size?g.size[1]:0,t.padding=g&&g.padding?g.padding:[0,0,0,0];var y={node:t};e.events.publish("node-initialized",[a,y])},e.manager._iterate=function(t,i,o,n,r,l,a,d,s,p,c,h){var f=h.manager.layoutConfigs;if(e.manager._initNode(i,o,s,n,p,c,h),i.isAssistant&&(l[i.pid]||(l[i.pid]=[]),l[i.pid].push(i.id)),i.subLevels>0&&a.push(i.id),e.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN&&!i.isAssistant&&i.parent){if(i.parent&&i.parent.children.length&&i.parent.children[i.parent.children.length-1]==i){for(var u=[],v=0,x=0,_=0;_<i.parent.children.length;_++)(g=i.parent.children[_]).tags.indexOf("partner")==-1&&g.tags.indexOf("left-partner")==-1&&g.tags.indexOf("right-partner")==-1&&g.tags.indexOf("assistant")==-1&&g.children.length==0?u.push(g.id):g.tags.indexOf("assistant")!=-1?v++:g.tags.indexOf("partner")==-1&&g.tags.indexOf("left-partner")==-1&&g.tags.indexOf("right-partner")==-1||x++;(e.MIXED_LAYOUT_ALL_NODES&&u.length>1&&u.length==i.parent.children.length-v-x||!e.MIXED_LAYOUT_ALL_NODES&&u.length>1)&&(d[i.pid]=u)}}else if(!i.isAssistant&&i.childrenIds.length==0&&i.parent&&!d[i.pid]){for(u=[],v=0,x=0,_=0;_<i.parent.children.length;_++){var g;(g=i.parent.children[_]).tags.indexOf("partner")==-1&&g.tags.indexOf("left-partner")==-1&&g.tags.indexOf("right-partner")==-1&&g.tags.indexOf("assistant")==-1&&g.childrenIds.length==0?u.push(g.id):g.tags.indexOf("assistant")!=-1?v++:g.tags.indexOf("partner")==-1&&g.tags.indexOf("left-partner")==-1&&g.tags.indexOf("right-partner")==-1||x++}(e.MIXED_LAYOUT_ALL_NODES&&u.length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN&&u.length==i.parent.childrenIds.length-v-x||!e.MIXED_LAYOUT_ALL_NODES&&u.length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN)&&(d[i.pid]=u)}i.stChildren.length&&(t.stContainerNodes||(t.stContainerNodes=[]),t.stContainerNodes.push(i));for(var y=0;y<i.stChildren.length;y++){var b="";for(_=0;_<i.tags.length;_++)if(f[i.tags[_]]){b=i.tags[_];break}r.push(i.stChildren[y].id),e.manager._iterate(t,i.stChildren[y],o,0,r,l,a,d,b,p,c,h)}for(n++,y=0;y<i.children.length;y++)e.manager._iterate(t,i.children[y],o,n,r,l,a,d,s,p,c,h)},e.manager.__createNodes=function(t,i,o,n,r,l,a,d){for(var s=[],p=e._addDottedLines(o),c=0;c<p.length;c++){var h,f=p[c];h=e.STRING_TAGS?f.tags?f.tags.split(","):[]:Array.isArray(f.tags)?f.tags.slice(0):[],d.filterUI.addFilterTag(f)&&h.unshift("filter");var u=d.searchUI.addMatchTag(f.id);u===!0?h.unshift("match"):u===!1&&h.unshift("no-match");var v=e._getTemplate(h,o.tags,o.template),x=new e.node(f.id,f.pid,h,v);e.isNEU(f.ppid)||(x.ppid=f.ppid),e.isNEU(f.stpid)||(x.stpid=f.stpid),o.orderBy!=null&&(x.order=e.manager._getOrderFieldValue(f,o.orderBy)),f.movex!=null&&(x.movex=f.movex),f.movey!=null&&(x.movey=f.movey),t[f.id]=x,s.push(f.id)}for(o.orderBy!=null&&s.sort(function(E,w){var S=t[E].order,A=t[w].order;return typeof S=="number"||typeof A=="number"?(S==null&&(S=-1),A==null&&(A=-1),o.orderBy.desc?A-S:S-A):typeof S=="string"||typeof A=="string"?(S==null&&(S=""),A==null&&(A=""),o.orderBy.desc?A.localeCompare(S):S.localeCompare(A)):void 0}),c=0;c<s.length;c++){var _=s[c],g=(x=t[_],l?l[_]:null),y=t[x.stpid],b=t[x.pid];if(y||(x.stpid=null),b||(x.pid=null),y){var m=l?l[y.id]:null;m&&(y.min=m.min),y.stChildrenIds.push(x.id)}else b?(g&&(x.collapsed=g.collapsed,x.min=g.min),b.childrenIds.push(x.id)):(g&&(x.collapsed=g.collapsed,x.min=g.min),i.push(x),a.push(x.id));n==e.action.init&&(x.min=e._getMin(x,o))}},e.manager._createNodes=function(t){var i=t.manager.config,o=t.manager.layoutConfigs,n=t.manager.action,r=t.manager.actionParams,l=t.manager.oldNodes,a=t.manager.state,d={},s=[],p=[];if(e.manager.__createNodes(d,s,i,n,r,l,p,t),i.roots!=null){s=[];for(var c=0;c<i.roots.length;c++){var h=d[i.roots[c]];if(h&&n==e.action.centerNode){for(var f=h;f.pid!=null||f.stpid!=null;)f=f.pid==null&&f.stpid!=null?d[f.stpid]:d[f.pid];for(var u=d[r.id];(u.pid!=null||u.stpid!=null)&&u!=h;)u=u.pid==null&&u.stpid!=null?d[u.stpid]:d[u.pid];f==u&&(h=f)}if(h){for(var v=!1,x=0;x<s.length;x++)if(s[x].id==h.id){v=!0;break}v||(e.isNEU(h.pid)||(Ee=(y=d[h.pid]).childrenIds.indexOf(h.id))>-1&&y.childrenIds.splice(Ee,1),s.push(h))}}for(i.roots=[],c=0;c<s.length;c++)i.roots.push(s[c].id)}n==e.action.exporting&&r.id!=null&&(g=d[r.id])&&(g.pid=null,s=[g]);var _=[];if(n==e.action.init&&i.expand&&i.expand.nodes&&a==null)for(c=0;c<i.expand.nodes.length;c++){var g=d[i.expand.nodes[c]];for(i.expand.allChildren===!0&&e.manager._addExpandedNodeIdsIterate(g,d,_);g;)_.push(g.id),g.pid==null&&g.stpid!=null?(g=d[g.stpid]).min=!1:g=d[g.pid]}else if(n==e.action.expand&&r.ids&&r.ids!="all"||n==e.action.collapse&&r&&r.expandIds)for($=n==e.action.expand?r.ids:r.expandIds,c=0;c<$.length;c++)for(var y=d[(g=d[$[c]]).pid];y;)_.push(y.id),y.pid==null&&y.stpid!=null?(y=d[y.stpid]).min=!1:y=d[y.pid];else if(n==e.action.centerNode){for(var b=d[r.id];b;){if(_.push(b.id),r.options.parentState===e.COLLAPSE_PARENT_NEIGHBORS&&b)for(c=0;c<b.childrenIds.length;c++)(C=d[b.childrenIds[c]]).collapsed=!0;b.pid==null&&b.stpid!=null?(b=d[b.stpid]).min=!1:b=d[b.pid]}if(b=d[r.id],r.options.childrenState===e.COLLAPSE_SUB_CHILDRENS)for(c=0;c<b.childrenIds.length;c++){(E=d[b.childrenIds[c]]).collapsed=!1;for(var m=0;m<E.childrenIds.length;m++)d[E.childrenIds[m]].collapsed=!0}if(r.options.parentState===e.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED&&(y=d[b.pid]))for(c=0;c<y.childrenIds.length;c++){var E;if((E=d[y.childrenIds[c]])!=b)for(E.collapsed=!1,m=0;m<E.childrenIds.length;m++)d[E.childrenIds[m]].collapsed=!0}}else if(n==e.action.insert)for(g=d[r.insertedNodeId];g;)_.push(g.id),g.pid==null&&g.stpid!=null?(g=d[g.stpid]).min=!1:g=d[g.pid];var w=[],S={},A=[],I={},M=[];for(c=0;c<s.length;c++)e.manager._iterate(s[c],s[c],d,0,w,S,A,I,"",_,M,t);if(n==e.action.collapse&&r&&Array.isArray(r.expandIds)&&Array.isArray(r.collapseIds))for(c=0;c<r.ids.length;c++)r.expandIds.has(r.collapseIds[c])?console.error(`id ${r.collapseIds[c]} exist in both collapseIds and expandIds`):(g=d[r.collapseIds[c]])&&(g.collapsed=!0);for(c=s.length-1;c>=0;c--)s[c].collapsed&&s.splice(c,1);for(c=0;c<M.length;c++){g=d[M[c]];var k=[],L=[],P=[],j={},z=0,T=0,N=0,R=[],V=[];for(m=0;m<g.children.length;m++)(C=g.children[m]).isAssistant?k.push(C.id):C.tags.indexOf("right-partner")!=-1?(C.isPartner=1,C.children=[],L.push(C.id)):C.tags.indexOf("left-partner")!=-1?(C.isPartner=2,C.children=[],P.push(C.id)):C.tags.indexOf("partner")==-1||z%2?C.tags.indexOf("partner")!=-1&&z%2?(C.isPartner=2,C.children=[],P.push(C.id),z++):C.parentPartner?(j[C.parentPartner.id]||(j[C.parentPartner.id]=[]),j[C.parentPartner.id].push(C.id)):k.push(C.id):(C.isPartner=1,C.children=[],L.push(C.id),z++);g.children=[];var U=[];for(m=0;m<L.length;m++){j[(C=d[L[m]]).id]?g.children.push(C):g.children.splice(0,0,C);for(var F=0;F<C.childrenIds.length;F++)U.push(C.childrenIds[F])}var K=[];for(m=0;m<P.length;m++)for(j[(C=d[P[m]]).id]?g.children.push(C):g.children.splice(0,0,C),F=0;F<C.childrenIds.length;F++)K.push(C.childrenIds[F]);for(m=0;m<K.length;m++)(C=d[K[m]]).collapsed||(C.parentPartner=C.parent,C.parent=g,C.isChildOfPartner=!0,g.children.push(C));for(m=P.length-1;m>=0;m--)if(j[P[m]])for(x=0;x<j[P[m]].length;x++)g.children.push(d[j[P[m]][x]]),T++,V.indexOf(P[m])==-1&&V.push(P[m]);for(m=0;m<k.length;m++){var C=d[k[m]];g.children.push(C)}for(m=0;m<L.length;m++)if(j[L[m]])for(x=0;x<j[L[m]].length;x++)g.children.push(d[j[L[m]][x]]),N++,R.indexOf(L[m])==-1&&R.push(L[m]);for(m=0;m<U.length;m++)(C=d[U[m]]).collapsed||(C.parentPartner=C.parent,C.parent=g,C.isChildOfPartner=!0,g.children.push(C));g.partnerSeparation=Math.max(V.length,R.length)*i.partnerChildrenSplitSeparation+i.minPartnerSeparation,k.length||!T||N?k.length||T||!N?k.length||T!=1||N!=1?k.length||T||N?!k.length||T||N?k.length&&(T||N)?g.hasPartners=7:g.hasPartners=1:g.hasPartners=6:g.hasPartners=5:g.hasPartners=4:g.hasPartners=3:g.hasPartners=2}for(c=0;c<A.length;c++){var B=o[(g=d[A[c]]).lcn?g.lcn:"base"];for(m=0;m<g.subLevels;m++){var O=new e.node(g.id+"_sub_level_index_"+m,g.pid,[],"subLevel");e.manager._initDinamicNode(O,g.lcn),(y=g.parent)&&((Ee=y.children.indexOf(g))>-1&&(y.children.splice(Ee,1),y.children.splice(Ee,0,O)),O.children.push(g),O.parent=y,g.parent=O,d[O.id]=O)}}for(var q in S){(y=d[q]).hasAssistants=!0,O=new e.node(y.id+"_split_assitant_0",y.id,["assistant"],"split"),e.manager._initDinamicNode(O,y.lcn,!0),d[O.id]=O;var W=[];for(m=y.children.length-1;m>=0;m--)(C=y.children[m]).isAssistant?(C.parent=null,y.children.splice(m,1),W.splice(0,0,C.id)):C.isPartner||(C.parent&&I[C.parent.id]&&O&&C.parent.id!=O.id&&(Object.defineProperty(I,O.id,Object.getOwnPropertyDescriptor(I,C.parent.id)),delete I[C.parent.id]),C.parent=O,O.children.unshift(C),y.children.splice(m,1));if(W.length%2){var we=d[W[W.length-1]],he=new e.node(we.id+"_mirror",y.pid,[],"mirror");e.manager._initDinamicNode(he,we.lcn,!0),he.isAssistant=!0,he.w=we.w,he.h=we.h,d[he.id]=he,W.splice(W.length-1,0,he.id)}var me=1;for(m=W.length-1;m>=0;m--)if(m%2&&m!=W.length-1){var ae=new e.node(y.id+"_split_assitant_"+me,y.pid,[],"split");e.manager._initDinamicNode(ae,y.lcn,!0),d[ae.id]=ae,W.splice(m,0,ae.id),me++}else m%2&&W.splice(m,0,O.id);for(m=0;m<W.length;m+=3){var X=null;X=m==0?y:d[W[m-2]];var Z=d[W[m]],ce=d[W[m+1]],se=d[W[m+2]];Z.parent=X,ce.parent=X,se.parent=X,X.children.push(Z),X.children.push(ce),X.children.push(se)}}var ye=!1;for(var xe in o)if((B=o[xe]).layout!=0){ye=!0;break}var pe=e.events.has("node-layout",t._event_id);if(ye||pe){var Y={nodes:d,config:i,action:n,actionParams:r};if(A.length){var ee=!1;for(var q in I){var $=I[q];for(c=0;c<$.length;c++)if((g=d[$[c]]).subLevels){ee=!0;break}if(ee)break}if(ee){var ue={},fe={},Te={};for(var q in I){$=I[q];var Ne=!1,te=null;for(c=0;c<$.length;c++){var Q=$[c];(te===null||A.has(Q))&&(te=d[Q].parent.id,Ne||e.isNEU(d[Q].subLevels)||(Ne=d[Q].subLevels>0)),ue[te]||(ue[te]=[]),ue[te].push(Q),Ne&&(Te[te]=q,fe[te]||(fe[te]=[]),fe[te].push(Q))}}for(var q in I={},fe)if(fe[q].length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN){var de=Te[q];for(c=d[de].children.length-1;c>=0;c--)C=d[de].children[c],fe[q].has(C.id)&&d[de].children.splice(c,1)}for(var q in ue)ue[q].length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN&&(I[q]=ue[q])}}for(var q in I){for(var G=y=d[q];G.isSplit;)G=d[G.pid];for(;G.isSubLevel;)G=d[G.pid];if((B=o[y.lcn?y.lcn:"base"]).layout!=0||pe){Y.pnode=y,Y.layout=B.layout,Y.layoutGridColumns=i.layoutGridColumns,Y.childrenIds=I[q],Y.lastChildrenPidIds=I,Y.subLevels=0,Y.layouts=[],e.events.publish("node-layout",[t,Y]),e.events.publish("layout",[Y]),Y.layouts.length||Y.layouts.push({layout:Y.layout,childrenIds:Y.childrenIds,subLevels:Y.subLevels,layoutGridColumns:Y.layoutGridColumns});for(var _e=0;_e<Y.layouts.length;_e++){var H=Y.layouts[_e];for(e.isNEU(H.subLevels)&&(H.subLevels=0),e.isNEU(H.layout)&&(H.layout=B.layout),G=y=d[q];G.isSplit;)G=d[G.pid];for(;G.isSubLevel;)G=d[G.pid];var be=y;for(m=0;m<H.subLevels;m++)O=new e.node(_e+"_sublevel_layout_"+m,be.id,[],"subLevel"),e.manager._initDinamicNode(O,be.lcn),O.parent=be,be.children.push(O),d[O.id]=O,be=O;if(H.subLevels){for(m=0;m<H.childrenIds.length;m++){var Ee;C=d[H.childrenIds[m]],(Ee=y.children.indexOf(C))!=-1&&y.children.splice(Ee,1),C.parent=be,be.children.push(C)}y=be}if(H.layout==e.layout.grid&&H.childrenIds.length>2){H.layoutGridColumns=="dynamic"&&(H.layoutGridColumns=e._getDynamicGridCoulumns(H.childrenIds.length));var Ae=y.id;for(c=y.children.length-1;c>=0;c--)for(m=0;m<H.childrenIds.length;m++)if(Q=H.childrenIds[m],y.children[c].id==Q){y.children.splice(c,1);break}var ve=H.layoutGridColumns;for(ve%2!=0&&ve>2&&ve--,c=0;c<H.childrenIds.length;c+=ve){var Se=null;for(m=0;m<ve;m++){var Ye=c+ve>=H.childrenIds.length;if(H.childrenIds.length-1<c+m)break;(C=d[Q=H.childrenIds[c+m]]).parent=d[Ae],d[Ae].children.push(C),Ye||(ve/2-1==m&&(Se=new e.node(H.childrenIds[c+m-1]+"_grid_pseudo_node_"+H.childrenIds[c+m+1],Ae,[],"subLevel"),e.manager._initDinamicNode(Se,y.lcn),Se.parent=d[Ae],d[Ae].children.push(Se),d[Se.id]=Se),ve-1==m&&(Ae=Se.id))}}}if(H.layout==e.layout.mixed){var Me=H.childrenIds;for(c=Me.length-1;c>=0;c--){for(y=(C=d[Me[c]]).parent,C.layout=e.layout.mixed,m=y.children.length-1;m>=0;m--)if(C.id==y.children[m].id){y.children.splice(m,1);break}if(c>0){var Be=d[Me[c-1]];C.parent=Be,C.layout=e.layout.mixed,Be.children.push(C)}else y.children.push(C)}}else if(H.layout>1){O=new e.node(_e+"_"+y.id+"_split_0",G.id,[],"split"),e.manager._initDinamicNode(O,y.lcn),d[O.id]=O,O.layout=H.layout;var ie=[];for(c=H.childrenIds.length-1;c>=0;c--){for(C=d[H.childrenIds[c]],m=0;m<y.children.length;m++)y.children[m].id==C.id&&y.children.splice(m,1);if(C.parent=null,C.layout=H.layout,H.layout!=e.layout.treeRightOffset&&H.layout!=e.layout.treeRight||ie.splice(0,0,C.id),H.layout>2){var Le=new e.node(_e+"_"+C.id+"_mirror",G.id,[],"mirror");e.manager._initDinamicNode(Le,C.lcn),Le.layout=H.layout,d[Le.id]=Le,ie.splice(0,0,Le.id)}H.layout!=e.layout.treeRightOffset&&H.layout!=e.layout.treeRight&&ie.splice(0,0,C.id)}for(me=1,m=ie.length-1;m>=0;m--)m%2&&m!=ie.length-1?(ae=new e.node(_e+"_"+y.id+"_split_"+me,G.id,[],"split"),e.manager._initDinamicNode(ae,y.lcn),ae.layout=H.layout,d[ae.id]=ae,ie.splice(m,0,ae.id),me++):m%2&&ie.splice(m,0,O.id);for(m=0;m<ie.length;m+=3)X=null,m==0&&(X=y),Z=d[ie[m]],ce=d[ie[m+1]],se=d[ie[m+2]],m!=0&&(X=d[ie[m-3]]),m==0||ce||(X=d[ie[m-2]]),Z.parent=X,X.children.push(Z),ce&&(m!=0&&(X=d[ie[m-2]]),ce.parent=X,X.children.push(ce)),se&&(m!=0&&(X=d[ie[m-1]]),se.parent=X,X.children.push(se))}}}}}if(e.VERTICAL_CHILDREN_ASSISTANT)for(c=0;c<s.length;c++)e.manager._verticalAssistantIterate(s[c],d);return Y={nodes:d,roots:s},e.events.publish("nodes-initialized",[t,Y]),{nodes:Y.nodes,roots:Y.roots,rootList:p}},e.manager._getOrderFieldValue=function(t,i){var o=i;return i.field&&(o=i.field),t[o]},e.manager._getNodeWidth=function(t,i){switch(i.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:return t.w;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:return t.h}return 0},e.manager._isVisible=function(t,i,o,n){if(t.x!=null&&t.y!=null){if(i.lazyLoading&&n!==e.action.exporting){let l=function(a,d){var s=a.x,p=a.y,c=a.w,h=a.h,f=d[0]-e.LAZY_LOADING_FACTOR,u=d[2]+e.LAZY_LOADING_FACTOR+d[0],v=d[1]-e.LAZY_LOADING_FACTOR,x=d[3]+e.LAZY_LOADING_FACTOR+d[1],_=s+c>f&&u>s;return _&&(_=p+h>v&&x>p),_};if(l(t,o))return!0;for(var r=0;r<t.children.length;r++)if(l(t.children[r],o))return!0;return!1}return!0}},e.manager.getAllFields=function(t){var i=[e.TAGS];for(var o in t.nodeBinding)i.push(t.nodeBinding[o]);for(o=0;o<t.nodes.length;o++)for(var n in t.nodes[o])n!==e.ID&&n!==e.TAGS&&n!==e.NODES&&n!==e.PID&&n!==e.STPID&&n!=="movex"&&n!=="movey"&&(t.nodeBinding[n]||i.has(n)||i.push(n));return i},e.manager._getMostDeepChild=function(t){if(t){var i=t;return function o(n){n.sl>i.sl&&(i=n);for(var r=0;r<n.children.length;r++)o(n.children[r])}(t),i}},e.manager._getResponse=function(t,i,o,n,r,l,a,d,s,p,c,h,f,u,v){var x=p[0],_=[],g={top:null,left:null,bottom:null,right:null,minX:null,maxX:null,minY:null,maxY:null},y=[[],[],[]],b=r-a+2*n.padding,m=l-d+2*n.padding,E=e.getScale(s,t,i,n.scaleInitial,n.scaleMax,n.scaleMin,b,m);if(g.top=d-n.padding,g.left=a-n.padding,g.bottom=l+n.padding-i/E,g.right=r+n.padding-t/E,g.maxX=r,g.minX=a,g.maxY=l,g.minY=d,p.length==0||s==null&&!v&&n.align==e.CENTER){var w=Math.ceil(t/E),S=Math.ceil(i/E),A=0,I=0;if(w-2*n.padding>=r-a)switch(A=(r+a)/2-w/2,n.orientation){case e.orientation.right:case e.orientation.right_top:A=(a-r)/2-w/2}else switch(A=x.x-w/2+e.manager._getNodeWidth(x,n)/2,n.orientation){case e.orientation.right:case e.orientation.right_top:(A=-(w/2-(a-r)/2))<n.padding-w&&(A=n.padding-w);break;case e.orientation.left:case e.orientation.bottom_left:case e.orientation.top_left:case e.orientation.left_top:(A=-(w/2-(r-a)/2))>-n.padding&&(A=-n.padding)}if(S-2*n.padding>=l-d)switch(I=(l+d)/2-S/2,n.orientation){case e.orientation.bottom:case e.orientation.bottom_left:I=(d-l)/2-S/2}else switch((I=-(S/2-(l-d)/2))>-n.padding&&(I=-n.padding),n.orientation){case e.orientation.bottom:case e.orientation.bottom_left:(I=-(S/2-(d-l)/2))<n.padding-S&&(I=n.padding-S);break;case e.orientation.left:case e.orientation.right:I=x.y-S/2+e.manager._getNodeWidth(x,n)/2}s=[A,I,w,S]}else if(s==null&&!v&&n.align==e.ORIENTATION){switch(w=Math.ceil(t/E),S=Math.ceil(i/E),A=0,I=0,n.orientation){case e.orientation.top:A=x.x-w/2+e.manager._getNodeWidth(x,n)/2,I=-n.padding;break;case e.orientation.bottom:A=x.x-w/2+e.manager._getNodeWidth(x,n)/2,I=n.padding-S;break;case e.orientation.left:A=-n.padding,I=x.y-S/2+e.manager._getNodeWidth(x,n)/2;break;case e.orientation.right:A=n.padding-w,I=x.y-S/2+e.manager._getNodeWidth(x,n)/2;break;case e.orientation.top_left:A=-n.padding,I=-n.padding;break;case e.orientation.right_top:A=n.padding-w,I=-n.padding;break;case e.orientation.left_top:A=-n.padding,I=-n.padding;break;case e.orientation.bottom_left:A=-n.padding,I=n.padding-S}s=[A,I,w,S],n.sticky&&(s[0]<g.left&&s[0]<g.right&&(s[0]=g.left>g.right?g.right:g.left),s[0]>g.right&&s[0]>g.left&&(s[0]=g.left>g.right?g.left:g.right),s[1]<g.top&&s[1]<g.bottom&&(s[1]=g.top>g.bottom?g.bottom:g.top),s[1]>g.bottom&&s[1]>g.top&&(s[1]=g.top>g.bottom?g.top:g.bottom))}if(c==e.action.centerNode||c==e.action.maximize){var M=f[h.id];h.options.horizontal==1&&(s[0]=M.x+M.w/2-s[2]/2),h.options.vertical==1&&(s[1]=M.y+M.h/2-s[3]/2),n.sticky&&(s[0]<g.left&&s[0]<g.right&&(s[0]=g.left>g.right?g.right:g.left),s[0]>g.right&&s[0]>g.left&&(s[0]=g.left>g.right?g.left:g.right),s[1]<g.top&&s[1]<g.bottom&&(s[1]=g.top>g.bottom?g.bottom:g.top),s[1]>g.bottom&&s[1]>g.top&&(s[1]=g.top>g.bottom?g.top:g.bottom))}if(c==e.action.insert||c==e.action.expand||c==e.action.collapse||c==e.action.update||c==e.action.centerNode){var k=null;if(c==e.action.insert&&h&&h.insertedNodeId!=null&&h.insertedNodeId!=null)k=f[h.insertedNodeId];else if(c==e.action.update&&h&&h.visId!=null&&h.visId!=null)k=f[h.visId];else if(c!=e.action.expand&&c!=e.action.collapse||!h||h.id==null||h.id==null){if(c==e.action.centerNode){switch(n.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:h.options.vertical||(k=f[h.id]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:h.options.horizontal||(k=f[h.id])}k&&(k=e.manager._getMostDeepChild(k,f))}}else k=f[h.id],k=e.manager._getMostDeepChild(k,f);if(!e.FIXED_POSITION_ON_CLICK&&k)switch(n.orientation){case e.orientation.top:case e.orientation.top_left:var L=k.y+k.h-s[3]+n.padding;s[1]<L&&(s[1]=L);break;case e.orientation.bottom:case e.orientation.bottom_left:L=k.y-n.padding,s[1]>L&&(s[1]=L);break;case e.orientation.right:case e.orientation.right_top:L=k.x-n.padding,s[0]>L&&(s[0]=L);break;case e.orientation.left:case e.orientation.left_top:L=k.x+k.w-s[2]+n.padding,s[0]<L&&(s[0]=L)}}for(var P=0;P<p.length;P++)e.manager._iterate2(p[P],f,n,s,c,h,_,u,o,y);return{animations:y,boundary:g,viewBox:s,visibleNodeIds:_,nodes:f,allFields:e.manager.getAllFields(n)}},e.manager._iterate2=function(t,i,o,n,r,l,a,d,s,p){if(e.manager._isVisible(t,o,n,r)){a.push(t.id);var c=null;if((r==e.action.expand||r==e.action.collapse||r==e.action.maximize)&&d&&d[t.id]&&l.method=="expandCollapseToLevel"){if(c={x:(v=d[t.id]).x,y:v.y},v){c={x:v.x,y:v.y};for(var h=t,f=null;h!=null;)d[h.id]&&d[h.id].collapsed&&(f=h),h=h.parent;f&&f.parent&&(c={x:f.parent.x,y:f.parent.y})}if(x=i[l.id]){for(h=t.parent;h!=null;)h=h.parent;h&&(c={x:x.x+x.w/2-t.w/2,y:x.y+x.h/2-t.h/2})}}else if((r==e.action.expand||r==e.action.collapse)&&d&&d[t.id]){if(c={x:(v=d[t.id]).x,y:v.y},l.ids=="all"&&v){for(c={x:v.x,y:v.y},h=t,f=null;h!=null;)d[h.id]&&d[h.id].collapsed&&(f=h),h=h.parent;f&&f.parent&&(c={x:f.parent.x,y:f.parent.y})}if(x=i[l.id]){for(h=t.parent;h!=null&&l.ids.indexOf(t.id)==-1&&l.ids.indexOf(h.id)==-1;)h=h.parent;h&&(c={x:x.x+x.w/2-t.w/2,y:x.y+x.h/2-t.h/2})}}else if(r==e.action.centerNode&&d&&d[t.id])(v=d[t.id]).x!=null&&v.y!=null&&(c={x:v.x,y:v.y}),(u=i[l.id])&&u==t&&(h=t.parent)&&h.id==l.id&&(c={x:u.x+u.w/2-t.w/2,y:u.y+u.h/2-t.h/2});else if(r==e.action.maximize&&d&&d[t.id]){var u;(v=d[t.id]).x!=null&&v.y!=null&&(c={x:v.x,y:v.y}),(u=i[l.id])&&u==t&&(h=t.parent)&&h.id==l.id&&(c={x:u.x+u.w/2-t.w/2,y:u.y+u.h/2-t.h/2})}else if(r==e.action.minimize&&d&&d[t.id])c={x:(v=d[t.id]).x,y:v.y};else if(r==e.action.insert&&l&&l.insertedNodeId==t.id&&t.parent)c={x:t.parent.x,y:t.parent.y};else if(r!=e.action.update&&r!=e.action.insert||!d)r!==e.action.exporting&&r!==e.action.init&&s.indexOf(t.id)==-1&&(p[0].push(t.id),p[1].push({opacity:0}),p[2].push({opacity:1}));else{var v,x;if((!(v=d[t.id])||e.isNEU(v.x)&&e.isNEU(v.y))&&l){if(x=i[l.id]){for(h=x;h&&h.id==t.id;)h=h.parent;h&&(c={x:x.x,y:x.y})}}else v&&(c={x:v.x,y:v.y})}c!=null&&c.x!=null&&c.y!=null&&(c.x!=t.x||c.y!=t.y)&&(l&&l.dragNodeIdList&&l.dragNodeIdList.indexOf(t.id)!=-1||(p[0].push(t.id),p[1].push({transform:[1,0,0,1,c.x,c.y]}),p[2].push({transform:[1,0,0,1,t.x,t.y]})))}for(var _=0;_<t.stChildren.length;_++)e.manager._iterate2(t.stChildren[_],i,o,n,r,l,a,d,s,p);for(_=0;_<t.children.length;_++)e.manager._iterate2(t.children[_],i,o,n,r,l,a,d,s,p)},e.manager._addExpandedNodeIdsIterate=function(t,i,o){for(var n=0;n<t.childrenIds.length;n++)o.push(t.childrenIds[n]),e.manager._addExpandedNodeIdsIterate(i[t.childrenIds[n]],i,o)},e.manager._setMinMaxXYAdjustifyIterate=function(t,i,o,n,r,l,a,d){t.x+=l.x,t.y+=l.y;for(var s=0;s<t.stChildren.length;s++)e.manager._setMinMaxXYAdjustifyIterate(t.stChildren[s],t.stChildren[s],o,0,r,l,a,d);for(t.isPartner?t.sl=n-1:t.sl=n,r[i.id]==null&&(r[i.id]={}),r[i.id][t.sl]==null&&(r[i.id][t.sl]={minX:null,minY:null,maxX:null,maxY:null}),t.layout?(d[i.id]==null&&(d[i.id]={}),d[i.id][t.sl]==null&&(d[i.id][t.sl]=t)):e._setMinMaxXY(t,r[i.id][t.sl]),t.movex!=null&&(t.x+=t.movex),t.movey!=null&&(t.y+=t.movey),e._setMinMaxXY(t,o),n++,s=0;s<t.children.length;s++)e.manager._setMinMaxXYAdjustifyIterate(t.children[s],i,o,n,r,l,a,d)},e.manager._doNotChangePositionOfClickedNodeIfAny=function(t,i,o,n,r,l){if(o!=e.action.expand&&o!=e.action.collapse&&o!=e.action.minimize&&o!=e.action.maximize&&o!=e.action.centerNode&&o!=e.action.update&&o!=e.action.insert)return{x:0,y:0};if(o==e.action.update&&(!n||n.id==null)){if(!t||!t.length)return{x:0,y:0};n={id:t[0].id}}if(n.id==null)return{x:0,y:0};var a=n.id;(o==e.action.minimize&&i[a].parent||o==e.action.maximize&&i[a].parent)&&(a=i[a].pid);var d=i[a],s=r[a];if(!s)return{x:0,y:0};var p=s.movex!=null?s.movex:0,c=s.movey!=null?s.movey:0;return{x:(s.x?s.x-p:0)-d.x,y:(s.y?s.y-c:0)-d.y}},e.manager._verticalAssistantIterate=function(t,i){for(var o=0;o<t.stChildren.length;o++)e.manager._verticalAssistantIterate(t.stChildren[o],i);if(t.children.length==3)e.manager._verticalAssistantIterate(t.children[0],i),e.manager._verticalAssistantIterate(t.children[2],i),e.manager._verticalAssistantIterate(t.children[1],i);else for(o=0;o<t.children.length;o++)e.manager._verticalAssistantIterate(t.children[o],i);if(t.isAssistant&&t.isSplit&&t.children.length){for(var n=t.parent.children[0],r=t.parent.children[2],l=t.parent;!l.hasAssistants;)l=l.parent;var a={max:0},d={max:0};e.manager._verticalAssistantLevelCountIterate(n,0,a),e.manager._verticalAssistantLevelCountIterate(r,0,d);var s=Math.max(a.max,d.max),p=[];for(o=0;o<s;o++){var c=new e.node(t.parent.id+"_split_assitant_level_"+o,t.pid,[],"subLevel");e.manager._initDinamicNode(c,t.lcn,!0),o>0&&(p[o-1].children.push(c),c.parent=p[o-1]),i[c.id]=c,p.push(c)}if(p.length){for(var h=p[p.length-1],f=p[0],u=t.children.length-1;u>=0;u--){var v=t.children[u];h.children.unshift(v),v.parent=h,t.children.splice(u,1)}t.children.push(f),f.parent=t}}},e.manager._verticalAssistantLevelCountIterate=function(t,i,o){o.max<i&&(o.max=i),i++;for(var n=0;n<t.children.length;n++)e.manager._verticalAssistantLevelCountIterate(t.children[n],i,o)},e._addDottedLines=function(t){var i=t.nodes;if((t.groupDottedLines.length||t.dottedLines.length)&&(i=JSON.parse(JSON.stringify(i))),t.groupDottedLines.length)for(var o=[],n=0;n<t.groupDottedLines.length;n++){var r=t.groupDottedLines[n];r.rootId==null&&(r.rootId=r.to);var l=`balkan_group_dotted_${r.rootId}`;if(!o.has(l)){for(var a=0;a<i.length;a++)if(i[a].id==r.rootId){(c=JSON.parse(JSON.stringify(i[a]))).id=`balkan_group_dotted_${r.rootId}_balkan_id_${i[a].id}`,c.pid=void 0,c.stpid=i[a].id,i.push(c),o.push(l),i[a].tags||(i[a].tags=[]),i[a].tags.push("group-dotted-lines"),i[a].tags.push("group-dotted-lines-"+l);break}}for(a=0;a<i.length;a++)if(i[a].id==r.from){if((c=JSON.parse(JSON.stringify(i[a]))).id=`balkan_group_dotted_${r.rootId}_balkan_id_${i[a].id}`,c.pid=`balkan_group_dotted_${r.rootId}_balkan_id_${r.to}`,c.tags){var d=c.tags.indexOf("group-dotted-lines");d!=-1&&c.tags.splice(d,1)}if(c.tags||(c.tags=[]),c.tags.push("boc-dotted-connector"),r.tags)for(var s=0;s<r.tags.length;s++)c.tags.push(r.tags[s]);i.push(c);break}}if(t.dottedLines.length)for(n=0;n<t.dottedLines.length;n++){var p=t.dottedLines[n];for(p.rootId==null&&(p.rootId=p.to),a=0;a<i.length;a++)if(i[a].id==p.from){var c;if((c=JSON.parse(JSON.stringify(i[a]))).id=`balkan_dotted_${p.rootId}_balkan_id_${i[a].id}`,p.rootId==p.to?c.pid=p.to:c.pid=`balkan_dotted_${p.rootId}_balkan_id_${p.to}`,c.tags||(c.tags=[]),c.tags.push("boc-dotted-connector"),p.tags)for(s=0;s<p.tags.length;s++)c.tags.push(p.tags[s]);i.push(c);break}}return i},e===void 0&&(e={}),e.templates={},e.templates.base={defs:"",size:[250,120],expandCollapseSize:30,linkAdjuster:{fromX:0,fromY:0,toX:0,toY:0},ripple:{radius:0,color:"#e6e6e6",rect:null},assistanseLink:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="2px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} {xd},{yd} L{xe},{ye}"/>',svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',link:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} L{xd},{yd}"/>',pointer:'<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#C1C1C1" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',node:'<rect x="0" y="0" height="120" width="250" fill="none" stroke-width="1" stroke="#aeaeae" rx="7" ry="7"></rect>',plus:'<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#aeaeae"></line>',minus:'<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line>',nodeMenuButton:'<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" '+e.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',menuButton:'<div style="position:absolute;right:{p}px;top:{p}px; width:30px;height:50px;cursor:pointer;" '+e.attr.control_export_menu+'=""><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"></div>',img_0:'<clipPath id="{randId}"><circle cx="60" cy="60" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="20" y="20"  width="80" height="80"></image>',link_field_0:'<text text-anchor="middle" fill="#aeaeae" '+e.attr.width+'="290" x="0" y="0" style="font-size:10px;">{val}</text>',editFormHeaderColor:"#039BE5"},e.templates.ana={defs:"",size:[250,120],linkAdjuster:{fromX:0,fromY:0,toX:0,toY:0},ripple:{radius:0,color:"#e6e6e6",rect:null},expandCollapseSize:30,svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  style="display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',link:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="1px" fill="none" d="{rounded}" />',assistanseLink:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="2px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} {xd},{yd} L{xe},{ye}"/>',pointer:'<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#C1C1C1" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',node:'<rect x="0" y="0" height="{h}" width="{w}" fill="#039BE5" stroke-width="1" stroke="#aeaeae" rx="7" ry="7"></rect>',plus:'<circle cx="15" cy="15" r="15" class="boc-fill" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#aeaeae"></line>',minus:'<circle cx="15" cy="15" r="15" class="boc-fill" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line>',up:'<rect x="20" y="-25" width="30" height="17" fill="#aeaeae" rx="3" ry="3"></rect><line x1="35" x2="35" y1="0" y2="-8" stroke="#aeaeae" stroke-width="1"></line>',nodeMenuButton:'<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" '+e.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',menuButton:e.templates.base.menuButton,img_0:'<clipPath id="{randId}"><circle cx="50" cy="30" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="-10"  width="80" height="80"></image>',link_field_0:'<text text-anchor="middle" fill="#aeaeae" '+e.attr.width+'="290" x="0" y="0" style="font-size:10px;">{val}</text>',field_0:"<text "+e.attr.width+'="230" style="font-size: 18px;" fill="#ffffff" x="125" y="95" text-anchor="middle">{val}</text>',field_1:"<text "+e.attr.width+'="130" '+e.attr.text_overflow+'="multiline" style="font-size: 14px;" fill="#ffffff" x="230" y="30" text-anchor="end">{val}</text>',padding:[50,20,35,20],editFormHeaderColor:"#039BE5"},e.templates.split=Object.assign({},e.templates.ana),e.templates.split.size=[10,10],e.templates.split.node='<circle cx="5" cy="5" r="5" fill="none" stroke-width="1" stroke="#aeaeae"></circle>',e.templates.split.field_0="",e.templates.split.field_1="",e.templates.split.img_0="",e.templates.dot=Object.assign({},e.templates.split),e.templates.group=Object.assign({},e.templates.ana),e.templates.group.size=[250,120],e.templates.group.node='<rect rx="50" ry="50" x="0" y="0" height="{h}" width="{w}" fill="#f2f2f2" stroke-width="0"></rect>',e.templates.group.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}"/>',e.templates.group.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,{ew},25)" '+e.attr.control_node_menu_id+'="{id}"><g transform="matrix(1,0,0,1,-22,-8)"><rect x="0" y="0" fill="red" fill-opacity="0" width="18" height="22"></rect><line x1="0" y1="2" x2="9" y2="2" stroke="#aeaeae" stroke-width="1"></line><line x1="0" y1="9" x2="18" y2="9" stroke="#aeaeae" stroke-width="1"></line><line x1="0" y1="16" x2="22" y2="16" stroke="#aeaeae" stroke-width="1"></line></g></g>',e.templates.group.field_0="<text "+e.attr.width+'="230" style="font-size: 18px;" fill="#aeaeae" x="{cw}" y="30" text-anchor="middle">{val}</text>',e.templates.group.field_1="",e.templates.group.ripple={radius:50,color:"#aeaeae"},e.templates.invisibleGroup=Object.assign({},e.templates.group),e.templates.invisibleGroup.node="",e.templates.invisibleGroup.padding=[0,0,0,0],e.templates.invisibleGroup.field_0="",e.templates.invisibleGroup.nodeMenuButton="",e.templates.mirror={linkAdjuster:{},link:"",node:"",nodeMenuButton:"",size:[0,0]},e.templates.ula=Object.assign({},e.templates.ana),e.templates.ula.field_0="<text "+e.attr.width+'="145" style="font-size: 18px;" fill="#039BE5" x="100" y="55">{val}</text>',e.templates.ula.field_1="<text "+e.attr.width+'="145" '+e.attr.text_overflow+'="multiline" style="font-size: 14px;" fill="#afafaf" x="100" y="76">{val}</text>',e.templates.ula.node='<rect x="0" y="0" height="{h}" width="{w}" fill="#ffffff" stroke-width="1" stroke="#aeaeae"></rect><line x1="0" y1="0" x2="250" y2="0" stroke-width="2" stroke="#039BE5"></line>',e.templates.ula.img_0='<clipPath id="{randId}"><circle cx="50" cy="60" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="20" width="80" height="80" ></image>',e.templates.ula.menu='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,12)" '+e.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#ffffff" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#039BE5"></circle><circle cx="7" cy="0" r="2" fill="#039BE5"></circle><circle cx="14" cy="0" r="2" fill="#039BE5"></circle></g>',e.templates.ula.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" '+e.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="7" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="14" cy="0" r="2" fill="#AEAEAE"></circle></g>',e.templates.olivia=Object.assign({},e.templates.ana),e.templates.olivia.defs=`<style>
                                    #olivia_gradient {
                                        --color-stop-1: #ffffff;
                                        --color-stop-2: #eeeeee;
                                        --opacity-stop: 1;
                                    }
                                    .olivia-f0{
                                        font-size: 18px;
                                        fill: #757575;
                                    }
                                    .olivia-f1{
                                        font-size: 14px;
                                        fill: #757575;
                                    }
                                    .boc-dark .olivia-f0,.boc-dark .olivia-f1{
                                        fill: #aeaeae;
                                    }
                                    .boc-dark #olivia_gradient {
                                        --color-stop-1: #646464;
                                        --color-stop-2: #363636;
                                        --opacity-stop: 1;
                                    }
                                </style>
                                <linearGradient id="olivia_gradient" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="var(--color-stop-1)" stop-opacity="var(--opacity-stop)"/><stop offset="100%" stop-color="var(--color-stop-2)" stop-opacity="var(--opacity-stop)" /></linearGradient>`,e.templates.olivia.field_0="<text "+e.attr.width+'="135" class="olivia-f0" x="100" y="55">{val}</text>',e.templates.olivia.field_1="<text "+e.attr.width+'="135" class="olivia-f1" x="100" y="76">{val}</text>',e.templates.olivia.node='<rect fill="url(#olivia_gradient)" x="0" y="0" height="{h}" width="{w}" stroke-width="1" stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.olivia.img_0='<clipPath id="{randId}"><circle cx="50" cy="60" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="20" width="80" height="80" ></image>',e.templates.olivia.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" '+e.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="7" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="14" cy="0" r="2" fill="#AEAEAE"></circle></g>',e.templates.belinda=Object.assign({},e.templates.ana),e.templates.belinda.size=[180,180],e.templates.belinda.ripple={radius:90,color:"#e6e6e6",rect:null},e.templates.belinda.node='<circle cx="90" cy="90" r="90" fill="#039BE5" stroke-width="1" stroke="#aeaeae"></circle>',e.templates.belinda.img_0='<clipPath id="{randId}"><circle cx="90" cy="45" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="50" y="5" width="80" height="80" ></image>',e.templates.belinda.field_0="<text "+e.attr.width+'="170" style="font-size: 18px;" text-anchor="middle" fill="#ffffff"  x="90" y="105">{val}</text>',e.templates.belinda.field_1="<text "+e.attr.width+'="160" style="font-size: 14px;" text-anchor="middle" fill="#ffffff"  x="90" y="125">{val}</text>',e.templates.belinda.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}"/>',e.templates.belinda.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,79,5)" '+e.attr.control_node_menu_id+'="{id}"><rect x="0" y="0" fill="#000000" fill-opacity="0" width="22" height="22"></rect><line stroke-width="2" stroke="#000" x1="0" y1="3" x2="22" y2="3"></line><line stroke-width="2" stroke="#000" x1="0" y1="9" x2="22" y2="9"></line><line stroke-width="2" stroke="#000" x1="0" y1="15" x2="22" y2="15"></line></g>',e.templates.rony=Object.assign({},e.templates.ana),e.templates.rony.svg='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="background-color:#E8E8E8;display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',e.templates.rony.defs='<filter id="{randId}" x="0" y="0" width="200%" height="200%"><feOffset result="offOut" in="SourceAlpha" dx="5" dy="5"></feOffset><feGaussianBlur result="blurOut" in="offOut" stdDeviation="5"></feGaussianBlur><feBlend in="SourceGraphic" in2="blurOut" mode="normal"></feBlend></filter>',e.templates.rony.size=[180,250],e.templates.rony.ripple={color:"#F57C00",radius:5,rect:null},e.templates.rony.img_0='<clipPath id="{randId}"><circle cx="90" cy="160" r="60"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="30" y="100"  width="120" height="120"></image>',e.templates.rony.node='<rect filter="url(#{randId})" x="0" y="0" height="250" width="180" fill="#ffffff" stroke-width="0" rx="7" ry="7"></rect>',e.templates.rony.field_0="<text "+e.attr.width+'="165" style="font-size: 18px;" fill="#039BE5" x="90" y="40" text-anchor="middle">{val}</text>',e.templates.rony.field_1="<text "+e.attr.width+'="165" style="font-size: 14px;" fill="#F57C00" x="90" y="60" text-anchor="middle">{val}</text>',e.templates.rony.field_2="<text "+e.attr.width+'="165" style="font-size: 14px;" fill="#FFCA28" x="90" y="80" text-anchor="middle">{val}</text>',e.templates.rony.link='<path stroke="#039BE5" stroke-width="1px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} L{xd},{yd}"/>',e.templates.rony.plus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#039BE5" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#039BE5"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#039BE5"></line>',e.templates.rony.minus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#039BE5" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#039BE5"></line>',e.templates.rony.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,155,235)" '+e.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#F57C00"></circle><circle cx="7" cy="0" r="2" fill="#F57C00"></circle><circle cx="14" cy="0" r="2" fill="#F57C00"></circle></g>',e.templates.mery=Object.assign({},e.templates.ana),e.templates.mery.ripple={color:"#e6e6e6",radius:50,rect:null},e.templates.mery.node='<rect x="0" y="0" height="120" width="250" fill="#ffffff" stroke-width="1" stroke="#686868" rx="50" ry="50"></rect><rect x="0" y="45" height="30" width="250" fill="#039BE5" stroke-width="1"></rect>',e.templates.mery.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}" />',e.templates.mery.img_0='<clipPath id="{randId}"><circle cx="125" cy="60" r="24"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="95" y="33"  width="60" height="60"></image>',e.templates.mery.field_0="<text "+e.attr.width+'="220" style="font-size: 18px;" fill="#039BE5" x="125" y="30" text-anchor="middle">{val}</text>',e.templates.mery.field_1="<text "+e.attr.width+'="220" style="font-size: 14px;" fill="#039BE5" x="125" y="100" text-anchor="middle">{val}</text>',e.templates.mery.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,60)" '+e.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',e.templates.polina=Object.assign({},e.templates.ana),e.templates.polina.size=[300,80],e.templates.polina.ripple={color:"#e6e6e6",radius:40,rect:null},e.templates.polina.node='<rect x="0" y="0" height="80" width="300" fill="#039BE5" stroke-width="1" stroke="#686868" rx="40" ry="40"></rect>',e.templates.polina.img_0='<clipPath id="{randId}"><circle  cx="40" cy="40" r="35"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="0" y="0"  width="80" height="80"></image>',e.templates.polina.field_0="<text "+e.attr.width+'="210" style="font-size: 18px;" fill="#ffffff" x="80" y="30" text-anchor="start">{val}</text>',e.templates.polina.field_1="<text "+e.attr.width+'="210" style="font-size: 14px;" fill="#ffffff" x="80" y="55" text-anchor="start">{val}</text>',e.templates.polina.link='<path stroke="#686868" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}" />',e.templates.polina.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,285,33)" '+e.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="0" cy="7" r="2" fill="#ffffff"></circle><circle cx="0" cy="14" r="2" fill="#ffffff"></circle></g>',e.templates.mila=Object.assign({},e.templates.ana),e.templates.mila.node='<rect x="0" y="0" height="120" width="250" fill="#039BE5" stroke-width="1" stroke="#aeaeae"></rect><rect x="-5" y="70" height="30" width="260" fill="#ffffff" stroke-width="1" stroke="#039BE5"></rect><line x1="-5" x2="0" y1="100" y2="105" stroke-width="1" stroke="#039BE5"/><line x1="255" x2="250" y1="100" y2="105" stroke-width="1" stroke="#039BE5"/>',e.templates.mila.img_0='<image preserveAspectRatio="xMidYMid slice" xlink:href="{val}" x="20" y="5"  width="64" height="64"></image>',e.templates.mila.field_0="<text "+e.attr.width+'="240" style="font-size: 18px;" fill="#039BE5" x="125" y="92" text-anchor="middle">{val}</text>',e.templates.mila.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,110)" '+e.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',e.templates.diva=Object.assign({},e.templates.ana),e.templates.diva.size=[200,170],e.templates.diva.node='<rect x="0" y="80" height="90" width="200" fill="#039BE5"></rect><circle cx="100" cy="50" fill="#ffffff" r="50" stroke="#039BE5" stroke-width="2"></circle>',e.templates.diva.img_0='<clipPath id="{randId}"><circle cx="100" cy="50" r="45"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="50" y="0"  width="100" height="100"></image>',e.templates.diva.field_0="<text "+e.attr.width+'="185" style="font-size: 18px;" fill="#ffffff" x="100" y="125" text-anchor="middle">{val}</text>',e.templates.diva.field_1="<text "+e.attr.width+'="185" style="font-size: 14px;" fill="#ffffff" x="100" y="145" text-anchor="middle">{val}</text>',e.templates.diva.pointer='<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#039BE5" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',e.templates.diva.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,175,155)" '+e.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',e.templates.luba=Object.assign({},e.templates.ana),e.templates.luba.svg='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:block;background-color: #2E2E2E;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',e.templates.luba.defs='<linearGradient id="{randId}" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#646464;stop-opacity:1" /><stop offset="100%" style="stop-color:#363636;stop-opacity:1" /></linearGradient>',e.templates.luba.node='<rect fill="url(#{randId})" x="0" y="0" height="120" width="250" stroke-width="1" stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.luba.img_0='<clipPath id="{randId}"><circle cx="50" cy="25" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="-15"  width="80" height="80"></image>',e.templates.luba.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" '+e.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#aeaeae"></circle><circle cx="7" cy="0" r="2" fill="#aeaeae"></circle><circle cx="14" cy="0" r="2" fill="#aeaeae"></circle></g>',e.templates.luba.field_0="<text "+e.attr.width+'="235" style="font-size: 18px;" fill="#aeaeae" x="125" y="90" text-anchor="middle">{val}</text>',e.templates.luba.field_1="<text "+e.attr.width+'="140" style="font-size: 14px;" fill="#aeaeae" x="240" y="30" text-anchor="end">{val}</text>',e.templates.luba.plus='<rect x="0" y="0" width="36" height="36" rx="12" ry="12" fill="#2E2E2E" stroke="#aeaeae" stroke-width="1"></rect><line x1="4" y1="18" x2="32" y2="18" stroke-width="1" stroke="#aeaeae"></line><line x1="18" y1="4" x2="18" y2="32" stroke-width="1" stroke="#aeaeae"></line>',e.templates.luba.minus='<rect x="0" y="0" width="36" height="36" rx="12" ry="12" fill="#2E2E2E" stroke="#aeaeae" stroke-width="1"></rect><line x1="4" y1="18" x2="32" y2="18" stroke-width="1" stroke="#aeaeae"></line>',e.templates.luba.expandCollapseSize=36,e.templates.isla=Object.assign({},e.templates.ana),e.templates.isla.defs='<filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="isla-shadow"><feOffset dx="0" dy="4" in="SourceAlpha" result="shadowOffsetOuter1" /><feGaussianBlur stdDeviation="10" in="shadowOffsetOuter1" result="shadowBlurOuter1" /><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.2 0" in="shadowBlurOuter1" type="matrix" result="shadowMatrixOuter1" /><feMerge><feMergeNode in="shadowMatrixOuter1" /><feMergeNode in="SourceGraphic" /></feMerge></filter>',e.templates.isla.size=[180,120],e.templates.isla.node='<rect filter="url(#isla-shadow)" x="0" y="20" rx="7" ry="7" height="100" width="180" fill="#FFF" stroke-width="1" stroke="#039BE5" ></rect><rect x="25" y="75" rx="10" ry="10" height="20" width="130" fill="#039BE5" stroke-width="3" stroke="#039BE5"></rect><rect fill="#ffffff" stroke="#039BE5" stroke-width="1" x="70" y="0" rx="13" ry="13" width="40" height="40"></rect><circle stroke="#FFCA28" stroke-width="3" fill="none" cx="90" cy="12" r="8"></circle><path d="M75,34 C75,17 105,17 105,34" stroke="#FFCA28" stroke-width="3" fill="none"></path>',e.templates.isla.field_0="<text "+e.attr.width+'="120" style="font-size: 12px;" fill="#fff" x="90" y="90" text-anchor="middle">{val}</text>',e.templates.isla.field_1="<text "+e.attr.width+'="160" style="font-size: 13px;" fill="#039BE5" x="90" y="64" text-anchor="middle">{val}</text>',e.templates.isla.img_0='<clipPath id="{randId}"><rect filter="url(#isla-shadow)" fill="#ffffff" stroke="#039BE5" stroke-width="1" x="70" y="0" rx="13" ry="13" width="40" height="40"></rect></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="70" y="0"  width="40" height="40"></image>',e.templates.isla.minus='<circle cx="15" cy="15" r="15" fill="#F57C00" stroke="#F57C00" stroke-width="1"></circle><line x1="8" y1="15" x2="22" y2="15" stroke-width="1" stroke="#ffffff"></line>',e.templates.isla.plus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#039BE5" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#039BE5"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#039BE5"></line>',e.templates.isla.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,83,45)" '+e.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#F57C00"></circle><circle cx="7" cy="0" r="2" fill="#F57C00"></circle><circle cx="14" cy="0" r="2" fill="#F57C00"></circle></g>',e.templates.isla.ripple={radius:0,color:"#F57C00",rect:{x:0,y:20,width:180,height:100}},e.templates.deborah=Object.assign({},e.templates.polina),e.templates.deborah.size=[150,150],e.templates.deborah.node='<rect x="0" y="0" height="150" width="150" fill="#039BE5" stroke-width="1" stroke="#686868" rx="15" ry="15"></rect>',e.templates.deborah.img_0='<clipPath id="{randId}"><rect fill="#ffffff" stroke="#039BE5" stroke-width="1" x="5" y="5" rx="15" ry="15" width="140" height="140"></rect></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="5" y="5"  width="140" height="140"></image><rect x="3" y="5" height="30" width="144" fill="#039BE5" opacity="0.5" rx="3" ry="3"></rect><rect x="3" y="115" height="30" width="144" fill="#039BE5" opacity="0.5" rx="3" ry="3"></rect>',e.templates.deborah.field_0="<text "+e.attr.width+'="125" '+e.attr.text_overflow+'="ellipsis" style="font-size: 18px;" fill="#ffffff" x="15" y="25" text-anchor="start">{val}</text>',e.templates.deborah.field_1="<text "+e.attr.width+'="105" '+e.attr.text_overflow+'="ellipsis" style="font-size: 11px;" fill="#ffffff" x="15" y="135" text-anchor="start">{val}</text>',e.templates.deborah.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,125,130)" '+e.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',e.templates.subLevel=Object.assign({},e.templates.base),e.templates.subLevel.size=[0,0],e.templates.subLevel.node="",e.templates.subLevel.plus="",e.templates.subLevel.minus="",e.templates.subLevel.nodeMenuButton="",e.templates.group_dotted_lines=Object.assign({},e.templates.group),e.templates.group_dotted_lines.size=[250,120],e.templates.group_dotted_lines.link='<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="1px" fill="none" d="{rounded}" />',e.templates.group_dotted_lines.node='<rect rx="5" ry="5" x="0" y="0" height="{h}" width="{w}" fill="#e5e5e5" stroke-width="0"></rect>',e.templates.group_dotted_lines.nodeGroupDottedCloseButton='<g transform="matrix(1,0,0,1,{ew},0)"><circle cx="0.5" cy="21.5" r="12" fill="#F57C00"></circle>'+e.icon.close(25,25,"#fff",-13,8)+"</g>",e.templates.group_dotted_lines.field_0='<text data-width="230" style="font-size: 18px;" fill="#F57C00" x="20" y="30" text-anchor="start">Dotted Lines</text>',e.templates.group_dotted_lines.field_1="",e.templates.group_dotted_lines.img_0="",e.templates.group_dotted_lines.ripple.radius=5,e.templates.group_dotted_lines.min=Object.assign({},e.templates.olivia),e.templates.group_dotted_lines.min.nodeGroupDottedOpenButton='<g transform="matrix(1,0,0,1,220,10)"><rect x="0" y="0" width="22" height="22" stroke="#aeaeae" stroke-width="1" fill="#ffffff" rx="5" ry="5"></rect><text x="11" y="16" text-anchor="middle" style="font-size: 14px;" fill="#2A292E">{children-total-count}</text><rect x="0" y="0" width="22" height="22" style="opacity: 0" stroke="#aeaeae" stroke-width="1" fill="red" rx="5" ry="5"></rect></g>',e.ui={_defsIds:{},defs:function(t){var i="";for(var o in e.templates){var n=e.templates[o];n.defs&&(e.ui._defsIds[o]=e.randomId(),i+=n.defs.replaceAll("{randId}",e.ui._defsIds[o]))}return"<defs>"+i+t+"</defs>"},lonely:function(t){return t.nodes&&t.nodes.length?"":e.IT_IS_LONELY_HERE.replace("{link}",e.RES.IT_IS_LONELY_HERE_LINK)},pointer:function(t,i,o){return i===e.action.exporting?"":e.t(t.template,!1,o).pointer},node:function(t,i,o,n,r,l,a,d,s,p){var c=e.t(t.templateName,t.min,s),h=c.node.replaceAll("{w}",t.w).replaceAll("{h}",t.h);c.defs&&(h=h.replaceAll("{randId}",e.ui._defsIds[t.templateName])),a==null&&(a=n.nodeBinding);var f={node:t,data:i};for(var u in a){var v,x=a[u];i&&(v=i[x]);var _=e._lblIsImg(n,u);if(f.value=v,f.element=c[u],f.name=x,f.field=u,e.events.publish("field",[p,f])!==!1&&f.value!=null&&f.value!=null&&f.element!=null&&(!_||_&&!e.isNEU(f.value))){if(!_&&typeof f.value=="string"){var g=f.element;g&&(g=g.replaceAll("{ew}",t.w-(t.padding?t.padding[1]:0)).replaceAll("{cw}",t.w/2)),f.value=e.wrapText(f.value,g)}var y=f.element.replace("{val}",f.value);h+=y=y.replaceAll("{ew}",t.w-(t.padding?t.padding[1]:0)).replaceAll("{cw}",t.w/2).replaceAll("{randId}",e.randomId()).replaceAll("{randId2}",e.randomId())}}var b=e._getPosition(o,t,r,l),m="node";Array.isArray(t.tags)&&t.tags.length&&(m+=" "+t.tags.join(" ")),t.layout&&(m+=" tree-layout");var E="";t.lcn&&(E='lcn="'+t.lcn+'"');var w=e.nodeOpenTag.replace("{lcn}",E).replace("{id}",t.id).replace("{class}",m).replace("{sl}",t.sl).replace("{level}",t.level).replace("{x}",b.x).replace("{y}",b.y),S=e._getOpacity(o,t);return h=(w=w.replace("{opacity}",S))+(h+=e.ui.nodeBtns(n,t,d,c,p))+e.grCloseTag},nodeBtns:function(t,i,o,n,r){var l="";return t.nodeMenu==null||i.isSplit||o===e.action.exporting||(l+=n.nodeMenuButton.replace("{id}",i.id).replace("{cw}",i.w/2).replace("{ch}",i.h/2).replace("{ew}",i.w-(i.padding?i.padding[1]:0)).replace("{eh}",i.h-(i.padding?i.padding[2]:0))),t.nodeCircleMenu==null||i.isSplit||o===e.action.exporting||e.isNEU(n.nodeCircleMenuButton)||(l+='<g style="cursor:pointer;" transform="matrix(1,0,0,1,'+n.nodeCircleMenuButton.x+","+n.nodeCircleMenuButton.y+')" '+e.attr.control_node_circle_menu_id+'="'+i.id+'"><circle cx="0" cy="0" fill="'+n.nodeCircleMenuButton.color+'" r="'+n.nodeCircleMenuButton.radius+'" stroke-width="1" stroke="'+n.nodeCircleMenuButton.stroke+'"></circle><line x1="-'+n.nodeCircleMenuButton.radius/2+'" y1="-6" x2="'+n.nodeCircleMenuButton.radius/2+'" y2="-6" stroke-width="2" stroke="'+n.nodeCircleMenuButton.stroke+'"></line><line x1="-'+n.nodeCircleMenuButton.radius/2+'" y1="0" x2="'+n.nodeCircleMenuButton.radius/2+'" y2="0" stroke-width="2" stroke="'+n.nodeCircleMenuButton.stroke+'"></line><line x1="-'+n.nodeCircleMenuButton.radius/2+'" y1="6" x2="'+n.nodeCircleMenuButton.radius/2+'" y2="6" stroke-width="2" stroke="'+n.nodeCircleMenuButton.stroke+'"></line></g>'),l},expandCollapseBtn:function(t,i,o,n,r){var l="";if(n!==e.action.exporting&&!i.isSplit){var a=o[i.lcn?i.lcn:"base"],d=0,s=0,p=e.t(i.templateName,i.min,r);if(i.childrenIds.length>0){if(i.hasPartners){for(var c=!1,h=0;h<i.childrenIds.length;h++){var f=t.getNode(i.childrenIds[h]);!f||f.parentPartner||f.isPartner||(c=!0)}if(!c)return""}switch(a.orientation){case e.orientation.top:case e.orientation.top_left:d=i.x+i.w/2,s=i.y+i.h;break;case e.orientation.bottom:case e.orientation.bottom_left:d=i.x+i.w/2,s=i.y;break;case e.orientation.right:case e.orientation.right_top:d=i.x,s=i.y+i.h/2;break;case e.orientation.left:case e.orientation.left_top:d=i.x+i.w,s=i.y+i.h/2}if(d-=p.expandCollapseSize/2,s-=p.expandCollapseSize/2,t.getCollapsedIds(i).length?(l+=e.expcollOpenTag.replace("{id}",i.id).replace("{x}",d).replace("{y}",s),l+=p.plus,l+=e.grCloseTag):(l+=e.expcollOpenTag.replace("{id}",i.id).replace("{x}",d).replace("{y}",s),l+=p.minus,l+=e.grCloseTag),l.indexOf("{collapsed-children-count}")!=-1){var u=e.collapsedChildrenCount(t,i);l=l.replace("{collapsed-children-count}",u)}if(l.indexOf("{collapsed-children-total-count}")!=-1){var v=e.collapsedChildrenTotalCount(t,i);l=l.replace("{collapsed-children-total-count}",v)}if(l.indexOf("{children-count}")!=-1){var x=e.childrenCount(t,i);l=l.replace("{children-count}",x)}if(l.indexOf("{children-total-count}")!=-1){var _=e.childrenTotalCount(t,i);l=l.replace("{children-total-count}",_)}}t._nodeHasHiddenParent(i)&&(l+=e.upOpenTag.replace("{id}",i.id).replace("{x}",i.x).replace("{y}",i.y),l+=p.up,l+=e.grCloseTag)}var g={html:l,node:i};return e.events.publish("renderbuttons",[t,g]),g.html},link:function(t,i,o,n,r,l,a){var d=t.lcn?t.lcn:"base",s=i._layoutConfigs[d],p=e.t(t.templateName,t.min,o),c=[],h=[],f=s.levelSeparation/2;t.layout>0&&(f=s.mixedHierarchyNodesSeparation/2);var u=0,v=e.getRootOf(t).id,x=n[v][t.sl],_=void 0;if(t.hasPartners){_={ids:[],indexes:{},ppnodes:{},lastLeft:null,firstRight:null,maxSidePartnersWithChildren:0,rightIds:[],leftIds:[],partnerChildrenSplitSeparation:i.config.partnerChildrenSplitSeparation};for(var g=0;g<t.children.length;g++)(b=t.children[g]).parentPartner?(_.ppnodes[b.id]=b.parentPartner,_.ids.push(b.id),b.parentPartner.isPartner==1?(_.rightIds.indexOf(b.parentPartner.id)==-1&&_.rightIds.push(b.parentPartner.id),_.indexes[b.id]=_.rightIds.indexOf(b.parentPartner.id),_.firstRight||(_.firstRight=b)):b.parentPartner.isPartner==2&&(_.leftIds.indexOf(b.parentPartner.id)==-1&&_.leftIds.push(b.parentPartner.id),_.indexes[b.id]=_.leftIds.indexOf(b.parentPartner.id),_.lastLeft=b)):b.isPartner||(_.lastLeft=b,_.firstRight||(_.firstRight=b));_.maxSidePartnersWithChildren=Math.max(_.leftIds.length,_.rightIds.length),u=_.maxSidePartnersWithChildren==0?i.config.minPartnerSeparation/2:i.config.minPartnerSeparation/2+_.partnerChildrenSplitSeparation*_.maxSidePartnersWithChildren+_.partnerChildrenSplitSeparation/2}for(g=0;g<t.children.length;g++){var y,b=t.children[g],m=n[v][b.sl],E={xa:0,ya:0,xb:0,yb:0,xc:0,yc:0,xd:0,yd:0,x:0,y:0,rotate:0},w=(p=e.t(b.templateName,b.min,o)).link;if(b.isChildOfPartner)switch(s.orientation){case e.orientation.top:case e.orientation.top_left:var S=b.layout==1?void 0:m.minY-(m.minY-x.maxY)/2;E=e.ui._linkTopToBottom(b.parentPartner,b,p,f,S);break;case e.orientation.bottom:case e.orientation.bottom_left:S=b.layout==1?void 0:m.maxY-(m.maxY-x.minY)/2,E=e.ui._linkBottomToTop(b.parentPartner,b,p,f,S);break;case e.orientation.right:case e.orientation.right_top:S=b.layout==1?void 0:m.maxX-(m.maxX-x.minX)/2,E=e.ui._linkRightToLeft(b.parentPartner,b,p,f,S);break;case e.orientation.left:case e.orientation.left_top:S=b.layout==1?void 0:m.minX-(m.minX-x.maxX)/2,E=e.ui._linkLeftToRight(b.parentPartner,b,p,f,S)}else if(_&&_.ids.indexOf(b.id)!=-1)switch(s.orientation){case e.orientation.top:case e.orientation.top_left:E=e.ui._linkPpTop(_,t,b,m,x,p);break;case e.orientation.bottom:case e.orientation.bottom_left:E=e.ui._linkPpBottom(_,t,b,m,x,p);break;case e.orientation.right:case e.orientation.right_top:E=e.ui._linkPpRight(_,t,b,m,x,p);break;case e.orientation.left:case e.orientation.left_top:E=e.ui._linkPpLeft(_,t,b,m,x,p)}else{var A=b.isAssistant&&b.rightNeighbor&&b.rightNeighbor.isAssistant&&b.parent==b.rightNeighbor.parent,I=b.isAssistant&&b.leftNeighbor&&b.leftNeighbor.isAssistant&&b.parent==b.leftNeighbor.parent;if((A||b.layout>1)&&b.rightNeighbor&&b.rightNeighbor.isSplit)switch(s.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:E=e.ui._linkRightToLeft(b.rightNeighbor,b,p,f);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:E=e.ui._linkBottomToTop(b.rightNeighbor,b,p,f)}else if((I||b.layout>1)&&b.leftNeighbor&&b.leftNeighbor.isSplit)switch(s.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:E=e.ui._linkLeftToRight(b.leftNeighbor,b,p,f);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:E=e.ui._linkTopToBottom(b.leftNeighbor,b,p,f)}else switch(s.orientation){case e.orientation.top:case e.orientation.top_left:b.isPartner==1?E=e.ui._linkLeftToRight(t,b,p,u):b.isPartner==2?E=e.ui._linkRightToLeft(t,b,p,u):(S=b.layout==1?void 0:m.minY-(m.minY-x.maxY)/2,E=e.ui._linkTopToBottom(t,b,p,f,S));break;case e.orientation.bottom:case e.orientation.bottom_left:b.isPartner==1?E=e.ui._linkLeftToRight(t,b,p,u):b.isPartner==2?E=e.ui._linkRightToLeft(t,b,p,u):(S=b.layout==1?void 0:m.maxY-(m.maxY-x.minY)/2,E=e.ui._linkBottomToTop(t,b,p,f,S));break;case e.orientation.right:case e.orientation.right_top:b.isPartner==1?E=e.ui._linkTopToBottom(t,b,p,u):b.isPartner==2?E=e.ui._linkBottomToTop(t,b,p,u):(S=b.layout==1?void 0:m.maxX-(m.maxX-x.minX)/2,E=e.ui._linkRightToLeft(t,b,p,f,S));break;case e.orientation.left:case e.orientation.left_top:b.isPartner==1?E=e.ui._linkTopToBottom(t,b,p,u):b.isPartner==2?E=e.ui._linkBottomToTop(t,b,p,u):(S=b.layout==1?void 0:m.minX-(m.minX-x.maxX)/2,E=e.ui._linkLeftToRight(t,b,p,f,S))}}var M=e.ui._draggableLinkPath(i,t,b,E,f,s.orientation);if(M)y=M,w=w.replaceAll("{rounded}",M).replaceAll("{edge}",M).replaceAll("{curve}",y);else if(w.indexOf("{rounded}")!=-1)if(E.xa==E.xb&&E.xa==E.xc&&E.xa==E.xd||E.ya==E.yb&&E.ya==E.yc&&E.ya==E.yd)y="M"+E.xa+","+E.ya+" L"+E.xd+","+E.yd,w=w.replaceAll("{rounded}",y);else if(Math.abs(E.xa-E.xd)<=e.LINK_ROUNDED_CORNERS&&Math.abs(E.xa-E.xc)<=e.LINK_ROUNDED_CORNERS&&Math.abs(E.xa-E.xb)<=e.LINK_ROUNDED_CORNERS)y="M"+E.xa+","+E.ya+" L"+E.xa+","+E.yd,w=w.replaceAll("{rounded}",y);else if(Math.abs(E.ya-E.yd)<=e.LINK_ROUNDED_CORNERS&&Math.abs(E.ya-E.yc)<=e.LINK_ROUNDED_CORNERS&&Math.abs(E.ya-E.yb)<=e.LINK_ROUNDED_CORNERS)y="M"+E.xa+","+E.ya+" L"+E.xd+","+E.ya,w=w.replaceAll("{rounded}",y);else{var k=e.ui._roundedEdge(E.xa,E.ya,E.xb,E.yb,E.xc,E.yc),L=e.ui._roundedEdge(E.xb,E.yb,E.xc,E.yc,E.xd,E.yd);y="M"+k.x1+","+k.y1+" "+k.x2+","+k.y2+" Q"+k.qx1+","+k.qy1+" "+k.qx2+","+k.qy2+" L"+L.x2+","+L.y2+" Q"+L.qx1+","+L.qy1+" "+L.qx2+","+L.qy2+" L"+L.x3+","+L.y3,w=w.replaceAll("{rounded}",y)}else w.indexOf("{edge}")!=-1?(y="M"+E.xa+","+E.ya+" "+E.xb+","+E.yb+" "+E.xc+","+E.yc+" L"+E.xd+","+E.yd,w=w.replaceAll("{edge}",y)):w.indexOf("{curve}")!=-1?(y="M"+E.xa+","+E.ya+" C"+E.xb+","+E.yb+" "+E.xc+","+E.yc+" "+E.xd+","+E.yd,w=w.replaceAll("{curve}",y)):(y=w.replaceAll("{xa}",E.xa).replaceAll("{ya}",E.ya).replaceAll("{xb}",E.xb).replaceAll("{yb}",E.yb).replaceAll("{xc}",E.xc).replaceAll("{yc}",E.yc).replaceAll("{xd}",E.xd).replaceAll("{yd}",E.yd),w=y);c.push(e.linkOpenTag.replaceAll("{id}",t.id).replaceAll("{class}","link "+b.tags.join(" ")).replaceAll("{child-id}",b.id));var P={node:t,cnode:b,p:E,html:w,action:l};e.events.publish("render-link",[i,P]),c.push(P.html),a&&h.push({id:t.id,childId:b.id,html:P.html});var j="";for(var z in i.config.linkBinding){var T=i.config.linkBinding[z],N=i._get(b.id);if(N){var R=N[T];P.value=R,P.element=p[z],P.name=T,e.events.publish("label",[i,P])!==!1&&(e.isNEU(P.value)||e.isNEU(P.element)||(j+=P.element.replace("{val}",P.value)))}}if(j!=""){var V=E.x,U=E.y;b.movey!=null&&(U+=b.movey),j=e.linkFieldsOpenTag.replace("{x}",V).replace("{y}",U).replace("{rotate}",0)+j+e.grCloseTag,c.push(j)}c.push(e.grCloseTag)}return a?h:c.join("")},svg:function(t,i,o,n,r,l){return e.t(n.template,!1,l).svg.replace("{w}",t).replace("{h}",i).replace("{viewBox}",o).replace("{randId}",e.ui._defsIds[n.template]).replace("{mode}",n.mode).replace("{template}",n.template).replace("{content}",function(){return r})},menuButton:function(t){return t.menu==null?"":e.t(t.template,!1).menuButton.replaceAll("{p}",t.padding)},_roundedEdge:function(t,i,o,n,r,l){var a,d,s,p=e.LINK_ROUNDED_CORNERS,c=0;return t==o&&t==r||i==n&&i==l?(a=s=o,d=c=n):(t!=r&&o==r&&(a=s=o,d=n,i<l?c=n+p:i>l&&(c=n-p)),t<r&&o==r?o-=p:t>r&&o==r&&(o+=p),i!=l&&n==l&&(a=o,d=c=n,t<r?s=o+p:t>r&&(s=o-p)),i<l&&n==l?n-=p:i>l&&n==l&&(n+=p)),{x1:t,y1:i,x2:o,y2:n,x3:r,y3:l,qx1:a,qy1:d,qx2:s,qy2:c}},_linkTopToBottom:function(t,i,o,n,r){var l,a,d,s,p,c=0;return l=t.x+t.w/2+o.linkAdjuster.toX,a=t.y+t.h+o.linkAdjuster.toY,s=d=i.x+i.w/2+o.linkAdjuster.fromX,p=i.y+o.linkAdjuster.fromY,{xa:l,ya:a,xb:l,yb:c=t.rightNeighbor&&t.rightNeighbor.isAssistant&&i.templateName=="split"?t.rightNeighbor.y+t.rightNeighbor.h+n:t.templateName=="split"&&(i.isAssistant||i.layout>1)?p:i.templateName=="split"?a+n:r!=null?r:p-n,xc:d,yc:c,xd:s,yd:p,x:d,y:e.isNEU(i.parentPartner)?c+16:c,rotate:0}},_linkBottomToTop:function(t,i,o,n,r){var l,a,d,s,p,c=0;return l=t.x+t.w/2+o.linkAdjuster.toX,a=t.y+o.linkAdjuster.toY,s=d=i.x+i.w/2+o.linkAdjuster.fromX,p=i.y+i.h+o.linkAdjuster.fromY,{xa:l,ya:a,xb:l,yb:c=t.rightNeighbor&&t.rightNeighbor.isAssistant&&i.templateName=="split"?t.rightNeighbor.y-n:t.templateName=="split"&&(i.isAssistant||i.layout>1)?p:i.templateName=="split"?a-n:r!=null?r:p+n,xc:d,yc:c,xd:s,yd:p,x:d,y:c-14,rotate:0}},_linkRightToLeft:function(t,i,o,n,r){var l,a,d,s,p,c,h=0;return l=t.x+o.linkAdjuster.toX,a=t.y+t.h/2+o.linkAdjuster.toY,p=i.x+i.w+o.linkAdjuster.fromX,c=s=i.y+i.h/2+o.linkAdjuster.fromY,d=a,{xa:l,ya:a,xb:h=t.rightNeighbor&&t.rightNeighbor.isAssistant&&i.templateName=="split"?t.rightNeighbor.x-n:t.templateName=="split"&&(i.isAssistant||i.layout>1)?p:i.templateName=="split"?l-n:r!=null?r:p+n,yb:d,xc:h,yc:s,xd:p,yd:c,x:h-16,y:s,rotate:90}},_linkLeftToRight:function(t,i,o,n,r){var l,a,d,s,p,c,h=0;return l=t.x+t.w+o.linkAdjuster.toX,a=t.y+t.h/2+o.linkAdjuster.toY,p=i.x+o.linkAdjuster.fromX,c=s=i.y+i.h/2+o.linkAdjuster.fromY,d=a,{xa:l,ya:a,xb:h=t.rightNeighbor&&t.rightNeighbor.isAssistant&&i.templateName=="split"?t.rightNeighbor.x+t.rightNeighbor.w+n:t.templateName=="split"&&(i.isAssistant||i.layout>1)?p:i.templateName=="split"?l+n:r!=null?r:p-n,yb:d,xc:h,yc:s,xd:p,yd:c,x:h+14,y:s,rotate:270}},_linkPpTop:function(t,i,o,n,r,l){var a=t.ppnodes[o.id],d=a.y+a.h/2,s=n.minY-(n.minY-r.maxY)/2,p=(n.minY-r.maxY)/t.maxSidePartnersWithChildren/4,c=e.ui.__linkPpBottomTop(t,i,o,s,p,a),h=c.x;return s=c.mid,e.ui._linkTopToBottom({x:h,y:d,w:0,h:0},o,l,0,s)},_linkPpBottom:function(t,i,o,n,r,l){var a=t.ppnodes[o.id],d=a.y+a.h/2,s=n.maxY-(n.maxY-r.minY)/2,p=(n.maxY-r.minY)/t.maxSidePartnersWithChildren/4,c=e.ui.__linkPpBottomTop(t,i,o,s,p,a),h=c.x;return s=c.mid,e.ui._linkBottomToTop({x:h,y:d,w:0,h:0},o,l,0,s)},_linkPpLeft:function(t,i,o,n,r,l){var a=t.ppnodes[o.id],d=n.minX-(n.minX-r.maxX)/2,s=(n.minX-r.maxX)/t.maxSidePartnersWithChildren/4,p=a.x+a.w/2,c=e.ui.__linkPpLeftRight(t,i,o,d,s,a),h=c.y;return d=c.mid,e.ui._linkLeftToRight({x:p,y:h,w:0,h:0},o,l,0,d)},_linkPpRight:function(t,i,o,n,r,l){var a=t.ppnodes[o.id],d=n.maxX-(n.maxX-r.minX)/2,s=(n.maxX-r.minX)/t.maxSidePartnersWithChildren/4,p=a.x+a.w/2,c=e.ui.__linkPpLeftRight(t,i,o,d,s,a),h=c.y;return d=c.mid,e.ui._linkRightToLeft({x:p,y:h,w:0,h:0},o,l,0,d)},__linkPpBottomTop:function(t,i,o,n,r,l){var a=0;return l.isPartner==1?(a=l.x-i.partnerSeparation/2+t.indexes[o.id]*t.partnerChildrenSplitSeparation-(t.rightIds.length-1)*t.partnerChildrenSplitSeparation/2,t.lastLeft&&a<t.lastLeft.x+t.lastLeft.w/2?a<o.x+o.w/2?n-=(t.indexes[o.id]+1)*r:n-=(t.rightIds.length-t.indexes[o.id])*r:a<o.x+o.w/2?n+=(t.rightIds.length-t.indexes[o.id])*r:n+=(t.indexes[o.id]+1)*r):l.isPartner==2&&(a=l.x+l.w+i.partnerSeparation/2+t.indexes[o.id]*t.partnerChildrenSplitSeparation-(t.leftIds.length-1)*t.partnerChildrenSplitSeparation/2,t.firstRight&&a>t.firstRight.x+t.firstRight.w/2?a<o.x+o.w/2?n-=(t.indexes[o.id]+1)*r:n-=(t.leftIds.length-t.indexes[o.id])*r:a<o.x+o.w/2?n+=(t.leftIds.length-t.indexes[o.id])*r:n+=(t.indexes[o.id]+1)*r),{x:a,mid:n}},__linkPpLeftRight:function(t,i,o,n,r,l){var a=0;return l.isPartner==1?(a=l.y-i.partnerSeparation/2+t.indexes[o.id]*t.partnerChildrenSplitSeparation-(t.rightIds.length-1)*t.partnerChildrenSplitSeparation/2,t.lastLeft&&a<t.lastLeft.y+t.lastLeft.h/2?a<o.y+o.h/2?n-=(t.indexes[o.id]+1)*r:n-=(t.rightIds.length-t.indexes[o.id])*r:a<o.y+o.h/2?n+=(t.rightIds.length-t.indexes[o.id])*r:n+=(t.indexes[o.id]+1)*r):l.isPartner==2&&(a=l.y+l.h+i.partnerSeparation/2+t.indexes[o.id]*t.partnerChildrenSplitSeparation-(t.leftIds.length-1)*t.partnerChildrenSplitSeparation/2,t.firstRight&&a>t.firstRight.y+t.firstRight.h/2?a<o.y+o.h/2?n-=(t.indexes[o.id]+1)*r:n-=(t.leftIds.length-t.indexes[o.id])*r:a<o.y+o.h/2?n+=(t.leftIds.length-t.indexes[o.id])*r:n+=(t.indexes[o.id]+1)*r),{y:a,mid:n}},_draggableLinkPath:function(t,i,o,n,r,l){if(o.isPartner||o.isAssistant)return null;if(e._isMoved(o)&&!e._isMoved(i)){var a=[];switch(l){case e.orientation.top:case e.orientation.top_left:if(n.yb+r/2<n.yd)return null;s=n.xa<n.xd?o.x-r/2:o.x+o.w+r/2,p=o.y-r/2;break;case e.orientation.bottom:case e.orientation.bottom_left:if(n.yb-r/2>n.yd)return null;s=n.xa<n.xd?o.x-r/2:o.x+o.w+r/2,p=o.y+o.h+r/2;break;case e.orientation.right:case e.orientation.right_top:if(n.xb-r/2>n.xd)return null;p=n.ya<n.yd?o.y-r/2:o.y+o.h+r/2,s=o.x+o.w+r/2;break;case e.orientation.left:case e.orientation.left_top:if(n.xb+r/2<n.xd)return null;p=n.ya<n.yd?o.y-r/2:o.y+o.h+r/2,s=o.x-r/2}switch(l){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:a.push(["M",n.xa,n.ya]),a.push(["L",n.xb,n.yb]),a.push(["L",s,n.yb]),a.push(["L",s,p]),a.push(["L",n.xd,p]),a.push(["L",n.xd,n.yd]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:(a=[]).push(["M",n.xa,n.ya]),a.push(["L",n.xb,n.yb]),a.push(["L",n.xb,p]),a.push(["L",s,p]),a.push(["L",s,n.yd]),a.push(["L",n.xd,n.yd])}return e.roundPathCorners(a,e.LINK_ROUNDED_CORNERS,!1)}if(!e._isMoved(o)&&e._isMoved(i)){var d=!1;switch(a=[],l){case e.orientation.top:case e.orientation.top_left:if(n.ya+r/2>n.yb)d=!0,s=n.xa<n.xd?i.x+i.w+r/2:i.x-r/2,p=i.y+i.h+r;else{if(n.yb+r/2<n.yd)return null;s=n.xa<n.xd?o.x-r/2:o.x+o.w+r/2,p=o.y-r/2}break;case e.orientation.bottom:case e.orientation.bottom_left:if(n.ya-r/2<n.yb)d=!0,s=n.xa<n.xd?i.x+i.w+r/2:i.x-r/2,p=i.y-r;else{if(n.yb-r/2>n.yd)return null;s=n.xa<n.xd?o.x-r/2:o.x+o.w+r/2,p=o.y+o.h+r/2}break;case e.orientation.right:case e.orientation.right_top:if(n.xa-r/2<n.xb)d=!0,p=n.ya<n.yd?i.y+i.h+r/2:i.y-r/2,s=i.x-r;else{if(n.xb-r/2>n.xd)return null;p=n.ya<n.yd?o.y-r/2:o.y+o.h+r/2,s=o.x+o.w+r/2}break;case e.orientation.left:case e.orientation.left_top:if(n.xa+r/2>n.xb)d=!0,p=n.ya<n.yd?i.y+i.h+r/2:i.y-r/2,s=i.x+i.w+r;else{if(n.xb+r/2<n.xd)return null;p=n.ya<n.yd?o.y-r/2:o.y+o.h+r/2,s=o.x-r/2}}if(d)switch(l){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:a.push(["M",n.xa,n.ya]),a.push(["L",n.xa,p]),a.push(["L",s,p]),a.push(["L",s,n.yc]),a.push(["L",n.xc,n.yc]),a.push(["L",n.xd,n.yd]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:a.push(["M",n.xa,n.ya]),a.push(["L",s,n.ya]),a.push(["L",s,p]),a.push(["L",n.xc,p]),a.push(["L",n.xc,n.yc]),a.push(["L",n.xd,n.yd])}else switch(l){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:a.push(["M",n.xa,n.ya]),a.push(["L",n.xb,n.yb]),a.push(["L",s,n.yb]),a.push(["L",s,p]),a.push(["L",n.xd,p]),a.push(["L",n.xd,n.yd]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:a.push(["M",n.xa,n.ya]),a.push(["L",n.xb,n.yb]),a.push(["L",n.xb,p]),a.push(["L",s,p]),a.push(["L",s,n.yd]),a.push(["L",n.xd,n.yd])}return e.roundPathCorners(a,e.LINK_ROUNDED_CORNERS,!1)}if(e._isMoved(o)&&e._isMoved(i)){switch(a=[],l){case e.orientation.top:case e.orientation.top_left:if(n.ya+r>n.yd){var s=n.xa<n.xd?i.x+i.w+r/2:i.x-r/2,p=i.y+i.h+r,c=o.y-r;a.push(["M",n.xa,n.ya]),a.push(["L",n.xa,p]),a.push(["L",s,p]),a.push(["L",s,c]),a.push(["L",n.xc,c]),a.push(["L",n.xd,n.yd])}else a.push(["M",n.xa,n.ya]),a.push(["L",n.xa,i.y+i.h+r]),a.push(["L",n.xc,i.y+i.h+r]),a.push(["L",n.xd,n.yd]);break;case e.orientation.bottom:case e.orientation.bottom_left:n.ya-r<n.yd?(s=n.xa<n.xd?i.x+i.w+r/2:i.x-r/2,p=i.y-r,c=o.y+o.h+r,a.push(["M",n.xa,n.ya]),a.push(["L",n.xa,p]),a.push(["L",s,p]),a.push(["L",s,c]),a.push(["L",n.xc,c]),a.push(["L",n.xd,n.yd])):(a.push(["M",n.xa,n.ya]),a.push(["L",n.xa,i.y-r]),a.push(["L",n.xc,i.y-r]),a.push(["L",n.xd,n.yd]));break;case e.orientation.right:case e.orientation.right_top:if(n.xa-r<n.xd){p=n.ya<n.yd?i.y+i.h+r/2:i.y-r/2,s=i.x-r;var h=o.x+o.w+r;a.push(["M",n.xa,n.ya]),a.push(["L",s,n.ya]),a.push(["L",s,p]),a.push(["L",h,p]),a.push(["L",h,n.yc]),a.push(["L",n.xd,n.yd])}else a.push(["M",n.xa,n.ya]),a.push(["L",i.x-r,n.ya]),a.push(["L",i.x-r,n.yc]),a.push(["L",n.xd,n.yd]);break;case e.orientation.left:case e.orientation.left_top:n.xa+r>n.xd?(p=n.ya<n.yd?i.y+i.h+r/2:i.y-r/2,s=i.x+i.w+r,h=o.x-r,a.push(["M",n.xa,n.ya]),a.push(["L",s,n.ya]),a.push(["L",s,p]),a.push(["L",h,p]),a.push(["L",h,n.yc]),a.push(["L",n.xd,n.yd])):(a.push(["M",n.xa,n.ya]),a.push(["L",i.x+i.w+r,n.ya]),a.push(["L",i.x+i.w+r,n.yc]),a.push(["L",n.xd,n.yd]))}return e.roundPathCorners(a,e.LINK_ROUNDED_CORNERS,!1)}return null}},e===void 0&&(e={}),e._validateConfig=function(t){return!!t||(console.error("config is not defined"),!1)},e._arrayContains=function(t,i){if(t&&Array.isArray(t)){for(var o=t.length;o--;)if(t[o]===i)return!0}return!1},e._interceptions=function(t,i){if(!t)return[];if(!i)return[];var o=[];if(Array.isArray(t)&&Array.isArray(i))for(var n in t)for(var r in i)t[n]==i[r]&&o.push(t[n]);else if(Array.isArray(t)&&!Array.isArray(i))for(var n in t)for(var r in i)t[n]==r&&o.push(t[n]);else if(!Array.isArray(t)&&Array.isArray(i))for(var n in t)for(var r in i)n==i[r]&&o.push(i[r]);return o},e._getTags=function(t){return t.tags&&!Array.isArray(t.tags)?t.tags.split(","):t.tags&&Array.isArray(t.tags)?t.tags:[]},e._centerPointInPercent=function(t,i,o){var n=t.getBoundingClientRect(),r=i-n.left,l=o-n.top;return[r/(n.width/100),l/(n.height/100)]},e._trim=function(t){return t.replace(/^\s+|\s+$/g,"")},e._getTransform=function(t){var i=t.getAttribute("transform");return i=i.replace("matrix","").replace("(","").replace(")",""),e._browser().msie&&(i=i.replace(/ /g,",")),i="["+(i=e._trim(i))+"]",i=JSON.parse(i)},e.getScale=function(t,i,o,n,r,l,a,d){var s=1;if(t||n!==e.match.boundary)if(t||n!==e.match.width)if(t||n!==e.match.height)if(t){var p,c;s=(p=i/t[2])>(c=o/t[3])?c:p}else s=n;else s=o/d;else s=i/a;else s=(p=i/a)>(c=o/d)?c:p;return s&&s>r&&(s=r),s&&s<l&&(s=l),s},e.isObject=function(t){return t&&typeof t=="object"&&!Array.isArray(t)&&t!==null},e.fileUploadDialog=function(t){var i=document.createElement("INPUT");i.setAttribute("type","file"),i.style.display="none",i.onchange=function(){var o=this.files[0];t(o)},document.body.appendChild(i),i.click()},e.mergeDeep=function(t,i){if(e.isObject(t)&&e.isObject(i))for(var o in i)e.isObject(i[o])?(t[o]||Object.assign(t,{[o]:{}}),e.mergeDeep(t[o],i[o])):Object.assign(t,{[o]:i[o]});return t},e._lblIsImg=function(t,i){return!(!t.nodeBinding||typeof i!="string"||i.indexOf("img")==-1||!t.nodeBinding[i])},e._getFistImgField=function(t){if(t.nodeBinding){for(var i in t.nodeBinding)if(i.indexOf("img")!=-1)return t.nodeBinding[i]}return!1},e._fieldIsImg=function(t,i){if(t.nodeBinding){for(var o in t.nodeBinding)if(t.nodeBinding[o]==i)return e._lblIsImg(t,o)}return!1},e._guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},e.htmlRipple=function(t){var i=document.createElement("style");i.type="text/css",i.innerHTML=" .boc-ripple-container {position: absolute; top: 0; right: 0; bottom: 0; left: 0; } .boc-ripple-container span {transform: scale(0);border-radius:100%;position:absolute;opacity:0.75;background-color:#fff;animation: boc-ripple 1000ms; }@-moz-keyframes boc-ripple {to {opacity: 0;transform: scale(2);}}@-webkit-keyframes boc-ripple {to {opacity: 0;transform: scale(2);}}@-o-keyframes boc-ripple {to {opacity: 0;transform: scale(2);}}@keyframes boc-ripple {to {opacity: 0;transform: scale(2);}}",document.head.appendChild(i);var o,n,r,l=document.createElement("div");l.className="boc-ripple-container",t.addEventListener("mousedown",function(a){var d,s,p,c,h;return s=document.createElement("span"),p=this.offsetWidth,d=this.getBoundingClientRect(),h=a.pageX-d.left-p/2,c="top:"+(a.pageY-d.top-p/2)+"px; left: "+h+"px; height: "+p+"px; width: "+p+"px;",t.rippleContainer.appendChild(s),s.setAttribute("style",c)}),t.addEventListener("mouseup",(o=function(){for(;this.rippleContainer.firstChild;)this.rippleContainer.removeChild(this.rippleContainer.firstChild)},n=2e3,r=void 0,function(){var a,d;return d=this,a=arguments,clearTimeout(r),r=setTimeout(function(){return o.apply(d,a)},n)})),t.rippleContainer=l,t.appendChild(l)},e._moveToBoundaryArea=function(t,i,o,n){var r=i.slice(0);i[0]<o.left&&i[0]<o.right&&(r[0]=o.left>o.right?o.right:o.left),i[0]>o.right&&i[0]>o.left&&(r[0]=o.left>o.right?o.left:o.right),i[1]<o.top&&i[1]<o.bottom&&(r[1]=o.top>o.bottom?o.bottom:o.top),i[1]>o.bottom&&i[1]>o.top&&(r[1]=o.top>o.bottom?o.top:o.bottom),i[0]!==r[0]||i[1]!==r[1]?e.animate(t,{viewBox:i},{viewBox:r},300,e.anim.outPow,function(){n&&n()}):n&&n()},e.randomId=function(){return"_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)},e._getClientXY=function(t){return t.type.indexOf("touch")==-1?{x:t.clientX,y:t.clientY}:t.changedTouches.length?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:void 0},e._getClientTouchesXY=function(t,i){return t.type.indexOf("touch")!=-1?t.touches.length<i+1?{x:null,y:null}:{x:t.touches[i].clientX,y:t.touches[i].clientY}:{x:t.clientX,y:t.clientY}},e._getOffset=function(t,i){t&&(i.x+=t.offsetLeft,i.y+=t.offsetTop,e._getOffset(t.offsetParent,i))},e._getTopLeft=function(t){var i={x:0,y:0};return e._getOffset(t,i),i},e._getOffsetXY=function(t,i){if(i.type.indexOf("touch")==-1)return{x:i.offsetX,y:i.offsetY};if(i.touches.length){var o=e._getTopLeft(t);return{x:i.touches[0].pageX-o.x,y:i.touches[0].pageY-o.y}}if(i.changedTouches.length)return o=e._getTopLeft(t),isNaN(o.x)||isNaN(o.y)?{x:i.changedTouches[0].pageX,y:i.changedTouches[0].pageY}:{x:i.changedTouches[0].pageX-o.x,y:i.changedTouches[0].pageY-o.y}},e._pinchMiddlePointInPercent=function(t,i,o,n){var r=e._getTopLeft(t),l=n.touches[0].pageX-r.x,a=n.touches[0].pageY-r.y,d=n.touches[1].pageX-r.x,s=n.touches[1].pageY-r.y;return[((l-d)/2+d)/(i/100),((a-s)/2+s)/(o/100)]},e._browser=function(){var t=!!window.opr&&!!window.opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,i=typeof InstallTrigger!="undefined",o=/constructor/i.test(window.HTMLElement)||(!window.safari||window.safari!==void 0&&safari.pushNotification).toString()==="[object SafariRemoteNotification]",n=!!document.documentMode,r=!n&&!!window.StyleMedia,l=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime);return{opera:t,firefox:i,safari:o,msie:n,edge:r,chrome:l,blink:(l||t)&&!!window.CSS}},e._menuPosition=function(t,i,o){var n=t.getBoundingClientRect(),r=o.getBoundingClientRect(),l=i.getBoundingClientRect(),a=n.left-r.left,d=n.top-r.top;return n.top+l.height>r.top+r.height&&(d-=l.height),n.left-l.width<r.left&&(a+=l.width),{x:a,y:d}},e._getTemplate=function(t,i,o){if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=i[t[n]];if(r&&r.template)return r.template}return o},e._getMin=function(t,i){if(t.tags&&t.tags.length&&i.tags)for(var o=0;o<t.tags.length;o++){var n=i.tags[t.tags[o]];if(n&&n.min===!0)return!0}return i.min},e._getSubLevels=function(t,i){if(t&&t.length)for(var o=0;o<t.length;o++){var n=i[t[o]];if(n&&n.subLevels)return n.subLevels}return 0},e._isHTML=function(t){var i=new DOMParser().parseFromString(t,"text/html");return Array.from(i.body.childNodes).some(o=>o.nodeType===1)},e._getTestDiv=function(){var t=document.getElementById("orgchart_js_test_div");return t||((t=document.createElement("div")).id="orgchart_js_test_div",t.style.position="fixed",t.style.top="-10000px",t.style.left="-10000px",document.body.appendChild(t)),t},e._getLabelSize=function(t){var i=e._getTestDiv();return i.innerHTML="<svg>"+t+"</svg>",i.querySelector("text").getBoundingClientRect()},e.wrapText=function(t,i){var o=i.toLowerCase();if(o.indexOf("<text")==-1||o.indexOf(e.attr.width)==-1||o.indexOf("foreignobject")!=-1||i.indexOf(e.attr.width)==-1||e.ESCAPE_HTML&&typeof str=="string"&&e._isHTML(t))return e._escapeHtml(t);if(!e.ESCAPE_HTML&&e._isHTML(t))return t;var n=e._getTestDiv();i=i.replaceAll("{cw}",0),n.innerHTML="<svg>"+i+"</svg>";var r,l,a=new DOMParser().parseFromString(i,"text/xml").getElementsByTagName("text")[0],d=parseFloat(a.getAttribute("x")),s=parseFloat(a.getAttribute("y")),p=a.getAttribute("text-anchor"),c=a.getAttribute(e.attr.width),h=a.getAttribute(e.attr.text_overflow),f="http://www.w3.org/2000/svg",u=n.getElementsByTagName("svg")[0].getElementsByTagName("text")[0];h||(h="ellipsis");var v=h.split("-");if(v.length>1&&(r=parseInt(h.split("-")[1]),v.length>2&&v[2]=="ellipsis"&&(l=!0)),!c)return e._escapeHtml(t);if(c=parseFloat(c),d||(d=0),s||(s=0),d||(p="start"),h=="ellipsis"){u.removeChild(u.firstChild),u.textContent=t;for(var x=u.getComputedTextLength(),_=2;x>c;)u.textContent=t.substring(0,t.length-_),u.textContent+="...",x=u.getComputedTextLength(),_++;return _>2?`<title>${e._escapeHtml(t)}</title>${u.textContent}`:e._escapeHtml(t)}if(h.indexOf("multiline")!=-1){var g=t.split(" "),y=u.getBBox().height;u.textContent="";var b=document.createElementNS(f,"tspan"),m=document.createTextNode(g[0]);b.setAttributeNS(null,"x",d),b.setAttributeNS(null,"y",s),b.setAttributeNS(null,"text-anchor",p),b.appendChild(m),u.appendChild(b),_=1;for(var E=1,w=!1,S=1;S<g.length;S++){var A=b.firstChild.data.length;if(b.firstChild.data+=" "+g[S],b.getComputedTextLength()>c){if(b.firstChild.data=b.firstChild.data.slice(0,A),E++,r&&E>r){if(l&&u.children.length==r){var I=u.children[r-1].textContent;u.children[r-1].textContent=I.substring(0,I.length-3)+"...",w=!0}break}(b=document.createElementNS(f,"tspan")).setAttributeNS(null,"x",d),b.setAttributeNS(null,"y",s+y*_),b.setAttributeNS(null,"text-anchor",p),m=document.createTextNode(g[S]),b.appendChild(m),u.appendChild(b),_++}}var M="";if(u.innerHTML!=null)M=u.innerHTML,u.innerHTML="";else{var k="";for(S=u.childNodes.length-1;S>=0;S--)k=XMLSerializer().serializeToString(u.childNodes[S])+k,u.removeChild(u.childNodes[S]);M=k}return w?`<title>${e._escapeHtml(t)}</title>${M}`:M}},e._downloadFile=function(t,i,o,n,r){var l=new Blob([i],{type:t});if(n==1){var a=URL.createObjectURL(l);window.open(a,"_blank").focus()}else if(navigator.msSaveBlob)navigator.msSaveBlob(l,o);else{var d=document.createElement("a");if(d.download!==void 0){a=URL.createObjectURL(l),d.setAttribute("href",a);var s=o;s.toLowerCase().endsWith(r.toLowerCase())||(s=s+"."+r),d.setAttribute("download",s),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d)}}},e._getPosition=function(t,i,o,n){var r={x:i.x,y:i.y};if(o!=null&&(r.x=o),n!=null&&(r.y=o),t&&t.length==3){var l=t[0].indexOf(i.id);l!=-1&&t[1][l].transform!=null&&(o==null&&(r.x=t[1][l].transform[4]),n==null&&(r.y=t[1][l].transform[5]))}return r},e._getOpacity=function(t,i){var o=1;if(t&&t.length==3){var n=t[0].indexOf(i.id);n!=-1&&t[1][n].opacity!=null&&(o=t[1][n].opacity)}return o},e.t=function(t,i,o){var n=e.templates[t];n==null&&console.error(`Template "${t}" does not exist!`);var r=null;if(o!=null&&n.scaleLessThen){var l=[];for(var a in n.scaleLessThen){var d=parseFloat(a);o<d&&l.push(d)}if(l.length>0){l.sort(function(c,h){return c-h});var s=n.scaleLessThen[l[0]];for(var p in s)r==null&&(r=Object.assign({},n)),r[p]=s[p]}}return i?r==null?n.min?n.min:n:r.min?r.min:r:r==null?n:r},e.setNodeSize=function(t){var i=e.t(t.templateName,t.min);t.w=i&&i.size?i.size[0]:0,t.h=i&&i.size?i.size[1]:0},e._imgs2base64=function(t,i,o,n){var r=t.getElementsByTagName(i),l=r.length;l==0&&n();for(var a=0;a<l;a++)(function(){var d=a,s=r[d];e._getDataUri(s.getAttribute(o),function(p){p.success&&s.setAttribute(o,p.result),d==l-1&&n()})})()},e._getDataUri=function(t,i){if(t.indexOf("base64")!=-1)i({success:!1});else{var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){o.status===200?n.readAsDataURL(o.response):o.status===404&&i({success:!1,result:o.status})};var n=new FileReader;n.onloadend=function(){i({success:!0,result:n.result})},o.send()}},e._convertStringToArray=function(t,i){return e.ARRAY_FIELDS.indexOf(t)!=-1?e.isNEU(i)?[]:i.split(","):i},e._convertArrayToString=function(t){return!e.isNEU(t)&&Array.isArray(t)?t.join():t},e._csvToArray=function(t,i){i=i||e.CSV_DELIMITER;for(var o=new RegExp("(\\"+i+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+i+"\\r\\n]*))","gi"),n=[[]],r=null;r=o.exec(t);){var l,a=r[1];a.length&&a!==i&&n.push([]),l=r[2]?r[2].replace(new RegExp('""',"g"),'"'):r[3],n[n.length-1].push(l)}return n},e._json2xml=function(t){for(var i=document.implementation.createDocument("","",null),o=i.createElement("nodes"),n=0;n<t.length;n++){var r=i.createElement("node"),l=t[n];for(var a in l){var d=l[a];r.setAttribute(a,e._convertArrayToString(d))}o.appendChild(r)}return i.appendChild(o),'<?xml version="1.0" encoding="utf-8" ?>'+new XMLSerializer().serializeToString(i.documentElement)},e._xml2json=function(t){for(var i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("node"),o=[],n=0;n<i.length;n++){for(var r=i[n],l={},a=0;a<r.attributes.length;a++){var d=r.attributes[a];l[d.name]=e._convertStringToArray(d.name,d.value)}o.push(l)}return o},e.convertNodesToCsv=function(t){return e._json2csv(t)},e._json2csv=function(t){for(var i=[],o=function(a){for(var d="",s=0;s<i.length;s++){var p;(p=i[s]=="reportsTo"?null:a[i[s]]==null?"":a[i[s]])instanceof Date&&(p=p.toLocaleString());var c=(p=p===null?"":p.toString()).replace(/"/g,'""'),h=new RegExp(`("|;|
)`,"g");c.search(h)>=0&&(c='"'+c+'"'),s>0&&(d+=e.CSV_DELIMITER),d+=c}return d+`
`},n="",r=0;r<t.length;r++)for(var l in t[r])e._arrayContains(i,l)||(i.push(l),n+=l+e.CSV_DELIMITER);for(n=n.substring(0,n.length-1),n+=`
`,r=0;r<t.length;r++)n+=o(t[r]);return n=n.substring(0,n.length-1)},e.accentFold=function(t){return(t=t.toString().toLowerCase()).replace(/([])|([])|([])|([])|([])|([])|([])|([])|([])|([])/g,function(i,o,n,r,l,a,d,s,p,c,h){return o?"a":n?"c":r?"e":l?"i":a?"n":d?"o":s?"s":p?"u":c?"y":h?"ae":void 0})},e.copy=function(t){if(t===null||typeof t!="object"||"isActiveClone"in t)return t;if(t instanceof Date)var i=new t.constructor;else i=t.constructor();for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(t.isActiveClone=null,i[o]=e.copy(t[o]),delete t.isActiveClone);return i},e._getScrollSensitivity=function(){var t=e._browser();return t.msie&&e.scroll.ie?e.scroll.ie:t.edge&&e.scroll.edge?e.scroll.edge:t.safari&&e.scroll.safari?e.scroll.safari:t.chrome&&e.scroll.chrome?e.scroll.chrome:t.firefox&&e.scroll.firefox?e.scroll.firefox:t.opera&&e.scroll.opera?e.scroll.opera:{smooth:e.scroll.smooth,speed:e.scroll.speed}},e.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},e.isTrial=function(){return e.remote!==void 0},e.childrenCount=function(t,i){for(var o=0,n=0;n<i.childrenIds.length;n++)t.nodes[i.childrenIds[n]]&&o++;return o},e.childrenTotalCount=function(t,i){for(var o=0,n=0;n<i.childrenIds.length;n++){var r=t.nodes[i.childrenIds[n]];r&&(o++,o+=e.childrenTotalCount(t,r))}return o},e.collapsedChildrenCount=function(t,i){for(var o=0,n=0;n<i.childrenIds.length;n++){var r=t.nodes[i.childrenIds[n]];r&&r.collapsed===!0&&o++}return o},e.collapsedChildrenTotalCount=function(t,i,o){for(var n=0,r=0;r<i.childrenIds.length;r++){var l=t.nodes[i.childrenIds[r]];l&&((o||l.collapsed===!0)&&n++,n+=e.collapsedChildrenTotalCount(t,l,!0))}return n},e._setMinMaxXY=function(t,i){(i.minX==null||t.x!=null&&t.x<i.minX)&&(i.minX=t.x),(i.minY==null||t.y!=null&&t.y<i.minY)&&(i.minY=t.y),(i.maxX==null||t.x!=null&&t.x+t.w>i.maxX)&&(i.maxX=t.x+t.w),(i.maxY==null||t.y!=null&&t.y+t.h>i.maxY)&&(i.maxY=t.y+t.h)},e.getStParentNodes=function(t,i){for(i||(i=[]);t.parent;)t=t.parent;return t.stParent&&(i.push(t.stParent),e.getStParentNodes(t.stParent,i)),i},e.getRootOf=function(t){for(;t&&t.parent;)t=t.parent;return t},e._getViewBox=function(t){var i=null;return t?(i=(i="["+(i=t.getAttribute("viewBox"))+"]").replace(/\ /g,","),i=JSON.parse(i)):null},e.isNEU=function(t){return t==null||t===""},e.gradientCircleForDefs=function(t,i,o,n){function r(a,d,s,p){var c=(p-90)*Math.PI/180;return{x:a+s*Math.cos(c),y:d+s*Math.sin(c)}}function l(a,d,s,p,c){var h=r(a,d,s,c),f=r(a,d,s,p),u=c-p<=180?"0":"1";return["M",h.x,h.y,"A",s,s,0,u,0,f.x,f.y].join(" ")}return Array.isArray(i)||(i=[i,i,i,i,i,i]),`<linearGradient id="${t}_linearColors1" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="${i[0]}"></stop>
            <stop offset="100%" stop-color="${i[1]}"></stop>
        </linearGradient>
        <linearGradient id="${t}_linearColors2" x1="0.5" y1="0" x2="0.5" y2="1">
            <stop offset="0%" stop-color="${i[1]}"></stop>
            <stop offset="100%" stop-color="${i[2]}"></stop>
        </linearGradient>
        <linearGradient id="${t}_linearColors3" x1="1" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="${i[2]}"></stop>
            <stop offset="100%" stop-color="${i[3]}"></stop>
        </linearGradient>
        <linearGradient id="${t}_linearColors4" x1="1" y1="1" x2="0" y2="0">
            <stop offset="0%" stop-color="${i[3]}"></stop>
            <stop offset="100%" stop-color="${i[4]}"></stop>
        </linearGradient>
        <linearGradient id="${t}_linearColors5" x1="0.5" y1="1" x2="0.5" y2="0">
            <stop offset="0%" stop-color="${i[4]}"></stop>
            <stop offset="100%" stop-color="${i[5]}"></stop>
        </linearGradient>
        <linearGradient id="${t}_linearColors6" x1="0" y1="1" x2="1" y2="0">
            <stop offset="0%" stop-color="${i[5]}"></stop>
            <stop offset="100%" stop-color="${i[0]}"></stop>
        </linearGradient>        
        <g id="${t}">
            <path stroke-width="${n}" fill="none" stroke="url(#${t}_linearColors1)" d="${l(o,o,o,1,60)}"  />
            <path stroke-width="${n}" fill="none" stroke="url(#${t}_linearColors2)" d="${l(o,o,o,60,120)}"/>
            <path stroke-width="${n}" fill="none" stroke="url(#${t}_linearColors3)" d="${l(o,o,o,120,180)}" />
            <path stroke-width="${n}" fill="none" stroke="url(#${t}_linearColors4)" d="${l(o,o,o,180,240)}" />
            <path stroke-width="${n}" fill="none" stroke="url(#${t}_linearColors5)" d="${l(o,o,o,240,300)}" />
            <path stroke-width="${n}" fill="none" stroke="url(#${t}_linearColors6)" d="${l(o,o,o,300,1)}"/>
        </g>`},e._intersectionObserver=function(t,i){typeof IntersectionObserver=="function"?new IntersectionObserver(function(o,n){o.forEach(function(r){var l=r.intersectionRatio>0;r.intersectionRatio==0&&(l=r.isIntersecting),i(l)})}).observe(t):i(!0)},e.convertCsvToNodes=function(t){for(var i=e._csvToArray(t),o=i[0],n=[],r=1;r<i.length;r++){for(var l={},a=0;a<i[r].length;a++){var d=o[a],s=i[r][a];l[o[a]]=e._convertStringToArray(d,s)}l.id.trim()!=""&&n.push(l)}return n},e._escapeHtml=function(t){return e.ESCAPE_HTML&&typeof t=="string"?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):t},e._escapeDoubleQuotes=function(t){return typeof t=="string"?t.replace(/"/g,"&quot;"):t},e._escapeGreaterLessSign=function(t){return typeof t=="string"?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},e.roundPathCorners=function(t,i,o){function n(S,A,I){var M=A.x-S.x,k=A.y-S.y,L=Math.sqrt(M*M+k*k);return r(S,A,Math.min(1,I/L))}function r(S,A,I){return{x:S.x+(A.x-S.x)*I,y:S.y+(A.y-S.y)*I}}function l(S,A){S.length>2&&(S[S.length-2]=A.x,S[S.length-1]=A.y)}function a(S){return{x:parseFloat(S[S.length-2]),y:parseFloat(S[S.length-1])}}Array.isArray(t)||(t=(t=t.split(/[,\s]/).reduce(function(S,A){var I=A.match("([a-zA-Z])(.+)");return I?(S.push(I[1]),S.push(I[2])):S.push(A),S},[])).reduce(function(S,A){return parseFloat(A)==A&&S.length?S[S.length-1].push(A):S.push([A]),S},[]));var d=[];if(t.length>1){var s=a(t[0]),p=null;t[t.length-1][0]=="Z"&&t[0].length>2&&(p=["L",s.x,s.y],t[t.length-1]=p),d.push(t[0]);for(var c=1;c<t.length;c++){var h=d[d.length-1],f=t[c],u=f==p?t[1]:t[c+1];if(u&&h&&h.length>2&&f[0]=="L"&&u.length>2&&u[0]=="L"){var v,x,_=a(h),g=a(f),y=a(u);o?(v=r(g,h.origPoint||_,i),x=r(g,u.origPoint||y,i)):(v=n(g,_,i),x=n(g,y,i)),l(f,v),f.origPoint=g,d.push(f);var b=r(v,g,.5),m=r(g,x,.5),E=["C",b.x,b.y,m.x,m.y,x.x,x.y];E.origPoint=g,d.push(E)}else d.push(f)}if(p){var w=a(d[d.length-1]);d.push(["Z"]),l(d[0],w)}}else d=t;return d.reduce(function(S,A){return S+A.join(" ")+" "},"")},e._isMoved=function(t){return t.movex!=null||t.movey!=null},e._getDynamicGridCoulumns=function(t){for(var i=1;i<t&&!(t/i-i<=0);i++);return i%2!=0&&i>2&&i--,i},e.xScrollUI=function(t,i,o,n,r){this.element=t,this.requestParams=o,this.config=i,this.onSetViewBoxCallback=n,this.onDrawCallback=r,this.position=0,this.bar=null,this._event_id=e._guid()},e.xScrollUI.prototype.addListener=function(t){var i=this;if((this.config.mouseScrool==e.action.xScroll||this.config.mouseScrool==e.action.scroll)&&this.bar){var o=navigator.userAgent.indexOf("Mac OS")!==-1,n=e._getScrollSensitivity();(function(r,l,a){var d=!1;function s(){d=!0;var c=(i.position-i.bar.scrollLeft)/a;if(c>0)c++;else{if(c==0)return void(d=!1);c--}Math.ceil(i.bar.scrollLeft)==Math.ceil(i.position)?d=!1:(i.bar.scrollLeft+=c,p(s))}r.addEventListener("wheel",function(c){if(!c.ctrlKey){var h=0;if(i.config.mouseScrool==e.action.xScroll)(h=c.deltaX||c.wheelDeltaX)||(h=c.deltaY||c.wheelDeltaY);else if(i.config.mouseScrool==e.action.scroll&&!(h=o||!c.shiftKey?c.deltaX||c.wheelDeltaX:c.deltaY||c.wheelDeltaY))return;h=-h,h=Math.max(-1,Math.min(1,h)),i.position+=-h*l;var f=parseFloat(i.innerBar.clientWidth)-parseFloat(i.bar.clientWidth);i.position<0&&(i.position=0),i.position>f&&(i.position=f),d||s()}},{passive:!0});var p=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){setTimeout(c,20)}})(t,n.speed,n.smooth)}},e.xScrollUI.prototype.create=function(t){if(this.config.showXScroll===e.scroll.visible||this.config.mouseScrool===e.action.scroll||this.config.mouseScrool===e.action.xScroll){var i=this;this.bar&&this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.innerBar=document.createElement("div"),this.requestParams(),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",left:0,bottom:0,width:t+"px","overflow-x":"scroll",height:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",function(){if(this.ignore)this.ignore=!1;else{var o=i.requestParams(),n=(parseFloat(i.innerBar.clientWidth)-parseFloat(i.bar.clientWidth))/100,r=this.scrollLeft/n,l=(o.boundary.right-o.boundary.left)/100;o.viewBox[0]=r*l+o.boundary.left,i.onSetViewBoxCallback(o.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout(function(){i.onDrawCallback()},500)}})}},e.xScrollUI.prototype.setPosition=function(){if(this.bar){var t=this.requestParams(),i=(Math.abs(t.boundary.maxX-t.boundary.minX)+2*this.config.padding)*t.scale;switch(this.config.orientation){case e.orientation.right:case e.orientation.right_top:i=Math.abs(t.boundary.minX*t.scale)}this.innerBar.style.width=i+"px";var o=(t.boundary.right-t.boundary.left)/100,n=(t.viewBox[0]-t.boundary.left)/o;n<0?n=0:n>100&&(n=100);var r=(parseFloat(this.innerBar.clientWidth)-parseFloat(this.bar.clientWidth))/100,l=n*r;this.bar.ignore=!0,this.bar.scrollLeft=l,this.position=this.bar.scrollLeft,this.bar.style.visibility=r<=0?"hidden":"",this.config.showXScroll!==e.scroll.visible&&(this.bar.style.visibility="hidden"),e.events.publish("change",[this,{isScrollBarVisible:this.bar.style.visibility!="hidden"}])}},e.xScrollUI.prototype.on=function(t,i){return e.events.on(t,i,this._event_id),this},e.yScrollUI=function(t,i,o,n,r){this.element=t,this.requestParams=o,this.config=i,this.onSetViewBoxCallback=n,this.onDrawCallback=r,this.position=0,this.bar=null,this._event_id=e._guid()},e.yScrollUI.prototype.addListener=function(t){var i=this;if((this.config.mouseScrool==e.action.yScroll||this.config.mouseScrool==e.action.scroll)&&this.bar){var o=navigator.userAgent.indexOf("Mac OS")!==-1,n=e._getScrollSensitivity();(function(r,l,a){var d=!1;function s(){d=!0;var c=(i.position-i.bar.scrollTop)/a;if(c>0)c++;else{if(c==0)return void(d=!1);c--}Math.ceil(i.bar.scrollTop)==Math.ceil(i.position)?d=!1:(i.bar.scrollTop+=c,p(s))}r.addEventListener("wheel",function(c){if(!c.ctrlKey){var h=0;if(i.config.mouseScrool==e.action.yScroll)(h=c.deltaY||c.wheelDeltaY)||(h=c.deltaX||c.wheelDeltaX);else if(i.config.mouseScrool==e.action.scroll&&!(h=o||!c.shiftKey?c.deltaY||c.wheelDeltaY:c.deltaX||c.wheelDeltaX))return;h=-h,h=Math.max(-1,Math.min(1,h)),i.position+=-h*l;var f=parseFloat(i.innerBar.clientHeight)-parseFloat(i.bar.clientHeight);i.position<0&&(i.position=0),i.position>f&&(i.position=f),d||s()}},{passive:!0});var p=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){setTimeout(c,20)}})(t,n.speed,n.smooth)}},e.yScrollUI.prototype.create=function(t){if(this.config.showYScroll===e.scroll.visible||this.config.mouseScrool===e.action.scroll||this.config.mouseScrool===e.action.yScroll){var i=this;this.bar&&this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.innerBar=document.createElement("div"),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",right:0,bottom:0,height:t+"px","overflow-y":"scroll",width:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",function(){if(this.ignore)this.ignore=!1;else{var o=i.requestParams(),n=(parseFloat(i.innerBar.clientHeight)-parseFloat(i.bar.clientHeight))/100,r=this.scrollTop/n,l=(o.boundary.bottom-o.boundary.top)/100;o.viewBox[1]=r*l+o.boundary.top,i.onSetViewBoxCallback(o.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout(function(){i.onDrawCallback()},500)}})}},e.yScrollUI.prototype.setPosition=function(){if(this.bar){var t=this.requestParams(),i=(Math.abs(t.boundary.maxY-t.boundary.minY)+2*this.config.padding)*t.scale;switch(this.config.orientation){case e.orientation.bottom:case e.orientation.bottom_left:i=Math.abs(t.boundary.minY*t.scale)}this.innerBar.style.height=i+"px";var o=(t.boundary.bottom-t.boundary.top)/100,n=(t.viewBox[1]-t.boundary.top)/Math.abs(o);n<0?n=0:n>100&&(n=100);var r=(parseFloat(this.innerBar.clientHeight)-parseFloat(this.bar.clientHeight))/100,l=n*r;this.bar.ignore=!0,this.bar.scrollTop=l,this.position=this.bar.scrollTop,this.bar.style.visibility=r<=0?"hidden":"",this.config.showYScroll!==e.scroll.visible&&(this.bar.style.visibility="hidden"),e.events.publish("change",[this,{isScrollBarVisible:this.bar.style.visibility!="hidden"}])}},e.yScrollUI.prototype.on=function(t,i){return e.events.on(t,i,this._event_id),this},e.prototype.zoom=function(t,i,o,n){var r=this.getViewBox().slice(0),l=r,a=r[2],d=r[3];t===!0?(r[2]=r[2]/e.SCALE_FACTOR,r[3]=r[3]/e.SCALE_FACTOR):t===!1?(r[2]=r[2]*e.SCALE_FACTOR,r[3]=r[3]*e.SCALE_FACTOR):(r[2]=r[2]/t,r[3]=r[3]/t),i||(i=[50,50]),r[0]=l[0]-(r[2]-a)/(100/i[0]),r[1]=l[1]-(r[3]-d)/(100/i[1]);var s=this.getScale(r);if(r[2]=this.width()/s,r[3]=this.height()/s,t===!0&&s<this.config.scaleMax||t===!1&&s>this.config.scaleMin||t!=0&&t!=1&&s<this.config.scaleMax&&s>this.config.scaleMin){this._hideBeforeAnimation();var p=this;o?(clearTimeout(p._timeout),e.animate(this.getSvg(),{viewbox:this.getViewBox()},{viewbox:r},this.config.anim.duration,this.config.anim.func,function(){clearTimeout(p._timeout),p._timeout=setTimeout(function(){p._draw(!0,e.action.zoom,null,n)},500)})):(this.setViewBox(r),clearTimeout(p._timeout),p._timeout=setTimeout(function(){p._draw(!0,e.action.zoom,null,n)},500))}},e.loading={},e.loading.show=function(t){var i=document.createElement("div");i.id="boc-loading",i.innerHTML='<style>@-webkit-keyframes dot-keyframes {0% { opacity: .4; -webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}@keyframes dot-keyframes {0% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}.boc-loading-dots div {margin: 10px;}      .boc-dot-1 {background-color: #039BE5;}.boc-dot-2 {background-color: #F57C00;}.boc-dot-3 {background-color: #FFCA28;}      .boc-loading-dots {text-align: center;width: 100%; position: absolute; top: 0;}.boc-loading-dots--dot {-webkit-animation: dot-keyframes 1.5s infinite ease-in-out;animation: dot-keyframes 1.5s infinite ease-in-out;        border-radius: 10px;display: inline-block;height: 10px;width: 10px;}.boc-loading-dots--dot:nth-child(2) {-webkit-animation-delay: .5s;animation-delay: .5s;}.boc-loading-dots--dot:nth-child(3) {-webkit-animation-delay: 1s;animation-delay: 1s;}</style><div class="boc-loading-dots"><div class="boc-loading-dots--dot boc-dot-1"></div><div class="boc-loading-dots--dot boc-dot-2"></div><div class="boc-loading-dots--dot boc-dot-3"></div></div>',t.element.appendChild(i)},e.loading.hide=function(t){var i=t.element.querySelector("#boc-loading");i&&i.parentNode.removeChild(i)},e.pdfPrevUI={},e.loc||(e.loc={}),e.loc.ppdfCmdTitle="PDF Preview",e.loc.ppdfSave="Save",e.loc.ppdfCancel="Cancel",e.loc.ppdfFormat="Format",e.loc.ppdfFitToDrwaing="Fit",e.loc.ppdfA4="A4",e.loc.ppdfA3="A3",e.loc.ppdfA2="A2",e.loc.ppdfA1="A1",e.loc.ppdfLetter="Letter",e.loc.ppdfLegal="Legal",e.loc.ppdfLayout="Layout",e.loc.ppdfPortrait="Portrait",e.loc.ppdfLandscape="Landscape",e.loc.ppdfFittopagewidth="Fit to page width",e.loc.ppdfMargin="Margin",e.loc.ppdfHeader="Header",e.loc.ppdfFooter="Footer",e.loc.ppdfScale="Scale",e.pdfPrevUI.show=function(t,i){e.pdfPrevUI.hide(t),i=t._defaultExportOptions(i,"pdf");var o=document.createElement("div");o.classList.add(t.config.mode),o.id="boc-ppdf-btns",Object.assign(o.style,{position:"absolute",top:0,left:0,"background-color":"#fff","z-index":5,margin:"0 0 0 -265px","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",width:"265px",height:"100%","font-family":"Roboto,Helvetica",color:"#757575","text-align":"right",padding:"10px"}),t.element.appendChild(o),o.innerHTML="<h1>"+e.loc.ppdfCmdTitle+'</h1><div><button type="button" id="boc-prev-save" style="font-size: 14px; width: 90px;">'+e.loc.ppdfSave+'</button>&nbsp;<button type="button" id="boc-prev-cancel" style="width: 90px;font-size: 14px;">'+e.loc.ppdfCancel+'</button></div><div style="margin-top:30px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:30px;"><label for="boc-size">'+e.loc.ppdfFormat+': </label><select id="boc-ppdf-size" style="color: #757575; width: 150px; font-size: 14px;" id="boc-size"><option value="fit">'+e.loc.ppdfFitToDrwaing+'</option><option value="A4">'+e.loc.ppdfA4+'</option><option value="A3">'+e.loc.ppdfA3+'</option><option value="A2">'+e.loc.ppdfA2+'</option><option value="A1">'+e.loc.ppdfA1+'</option><option value="Letter">'+e.loc.ppdfLetter+'</option><option value="Legal">'+e.loc.ppdfLegal+'</option></select></div><div style="padding-top:10px;"><label for="boc-ppdf-layout">'+e.loc.ppdfLayout+': </label><select id="boc-ppdf-layout" style="color: #757575; width: 150px;font-size: 14px;" ><option value="false">'+e.loc.ppdfPortrait+'</option><option value="true">'+e.loc.ppdfLandscape+'</option></select></div><div style="padding-top:10px;"><label for="boc-scale">'+e.loc.ppdfScale+': </label><select id="boc-ppdf-scale" style="color: #757575; width: 150px;font-size: 14px;" id="boc-scale"><option value="fit">'+e.loc.ppdfFittopagewidth+'</option><option value="10">10%</option><option value="20">20%</option><option value="30">30%</option><option value="40">40%</option><option value="50">50%</option><option value="60">60%</option><option value="70">70%</option><option value="80">80%</option><option value="90">90%</option><option value="100">100%</option><option value="110">110%</option><option value="120">120%</option><option value="130">130%</option><option value="140">140%</option><option value="150">150%</option><option value="160">160%</option><option value="170">170%</option><option value="180">180%</option><option value="190">190%</option><option value="200">200%</option></select></div><div style="margin-top:10px;margin-bottom:10px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:10px;"><label for="boc-ppdf-header">'+e.loc.ppdfHeader+': </label><input id="boc-ppdf-header" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="boc-ppdf-footer">'+e.loc.ppdfFooter+': </label><input id="boc-ppdf-footer" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="boc-ppdf-margin">'+e.loc.ppdfMargin+': </label><input id="boc-ppdf-margin" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div>';var n=document.createElement("div");n.id="boc-ppdf-wrapper",Object.assign(n.style,{"overflow-y":"scroll","z-index":11,position:"absolute",top:0,left:"285px","background-color":"#eee",width:t.width()-270+"px",height:"100%"}),t.element.appendChild(n),n.innerHTML='<div id="boc-ppdf-content" style="width: 100%;margin-top:10px;margin-bottom:10px;opacity:0;"></div>';var r,l,a,d=t.element.querySelector("#boc-ppdf-size"),s=t.element.querySelector("#boc-ppdf-layout"),p=t.element.querySelector("#boc-ppdf-scale"),c=t.element.querySelector("#boc-ppdf-margin"),h=t.element.querySelector("#boc-ppdf-header"),f=t.element.querySelector("#boc-ppdf-footer");d.value=i.format,s.value=i.landscape,p.value=i.scale,c.value=i.margin,h.value=i.header,f.value=i.footer,e.animate(t.element.querySelector("#boc-ppdf-btns"),{margin:[0,0,0,-250]},{margin:[0,0,0,0]},300,e.anim.outSin,function(){t.exportPDF(i,e.pdfPrevUI._handler)}),t.element.querySelector("#boc-prev-cancel").addEventListener("click",function(){e.pdfPrevUI.hide(t)}),t.element.querySelector("#boc-prev-save").addEventListener("click",function(){t.exportPDF(i),e.pdfPrevUI.hide(t)}),e.pdfPrevUI._showHide(d,s,p),d.addEventListener("change",function(){e.animate(t.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#boc-ppdf-content").innerHTML="",i.format=d.value,t.exportPDF(i,e.pdfPrevUI._handler),e.pdfPrevUI._showHide(d,s,p)})}),s.addEventListener("change",function(){e.animate(t.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#boc-ppdf-content").innerHTML="",i.landscape=s.value=="true",t.exportPDF(i,e.pdfPrevUI._handler),e.pdfPrevUI._showHide(d,s,p)})}),p.addEventListener("change",function(){e.animate(t.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#boc-ppdf-content").innerHTML="",i.scale=p.value,t.exportPDF(i,e.pdfPrevUI._handler),e.pdfPrevUI._showHide(d,s,p)})}),c.addEventListener("keyup",function(){clearTimeout(r),r=setTimeout(function(){e.animate(t.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#boc-ppdf-content").innerHTML="";var u=c.value.split(",");if(u.length==4){for(var v=0;v<u.length;v++)u[v]=parseInt(u[v]);i.margin=u,t.exportPDF(i,e.pdfPrevUI._handler)}})},1e3)}),h.addEventListener("keyup",function(){clearTimeout(l),l=setTimeout(function(){e.animate(t.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#boc-ppdf-content").innerHTML="",i.header=h.value,t.exportPDF(i,e.pdfPrevUI._handler)})},1e3)}),f.addEventListener("keyup",function(){clearTimeout(a),a=setTimeout(function(){e.animate(t.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#boc-ppdf-content").innerHTML="",i.footer=f.value,t.exportPDF(i,e.pdfPrevUI._handler)})},1e3)})},e.pdfPrevUI._showHide=function(t,i,o){t.value=="A4"||t.value=="A3"||t.value=="A2"||t.value=="A1"||t.value=="Letter"||t.value=="Legal"?(i.parentNode.style.display="block",o.parentNode.style.display="block"):(i.parentNode.style.display="none",o.parentNode.style.display="none")},e.pdfPrevUI._handler=function(t,i,o){var n=i.options,r=i.pages,l=n.margin[0],a=n.margin[2],d=document.createElement("div");d.classList.add(t.config.mode),d.innerHTML=o.outerHTML,e._browser().msie&&(d.innerHTML=new XMLSerializer().serializeToString(o));for(var s=d.querySelector("svg"),p=t.element.querySelector("#boc-ppdf-content"),c=0;c<r.length;c++){var h=document.createElement("iframe");Object.assign(h.style,{display:"block",margin:"10px auto",border:"1px solid #eeeeee","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}),p.appendChild(h),s&&s.style.backgroundColor?h.style.backgroundColor=s.style.backgroundColor:h.style.backgroundColor="#fff";var f=h.contentWindow.document;f.open(),h.style.width=r[c].size.w+"px",h.style.height=r[c].size.h+"px",h.style.margin="10 auto",r[c].backgroundColor&&(h.style.backgroundColor=r[c].backgroundColor);var u=n.header;r[c].header&&(u=r[c].header),u&&(u=u.replace("{current-page}",c+1).replace("{total-pages}",r.length));var v=n.footer;r[c].footer&&(v=r[c].footer),v&&(v=v.replace("{current-page}",c+1).replace("{total-pages}",r.length)),r[c].html?f.write(e._exportHtml(r[c].html,i.styles,n,r[c].innerSize.w,r[c].innerSize.h,u,v,t.config.mode)):(s.setAttribute("viewBox",r[c].vb),f.write(e._exportHtml(d.innerHTML,i.styles,n,r[c].innerSize.w,r[c].innerSize.h,u,v,t.config.mode)));var x=f.getElementById("boc-header"),_=f.getElementById("boc-footer");if(x){var g=l-x.offsetHeight-7;x.style.top=g+"px"}if(_){var y=a-_.offsetHeight-7;_.style.bottom=y+"px"}f.close()}var b=t.element.querySelector("#boc-ppdf-content");e.animate(b,{opacity:0},{opacity:1},300,e.anim.outSin)},e.pdfPrevUI._getViewBox=function(t){var i=null;return t?(i=(i="["+(i=t.getAttribute("viewBox"))+"]").replace(/\ /g,","),i=JSON.parse(i)):null},e._exportHtml=function(t,i,o,n,r,l,a,d){for(var s="",p=0;p<o.margin.length;p++)s+=o.margin[p]+"px ";var c='<!DOCTYPE html><html style="margin:0;padding:0;"><head></head>'+i+'<body class="boc-'+d+'" style="margin:0; padding:0;"><div style="margin: '+s+";overflow:hidden;width:"+n+"px;height:"+r+'px">';return l&&(c+='<div id="boc-header" style="width:'+n+"px;color:#757575;position:absolute;left:"+o.margin[3]+'px;top:0;">'+l+"</div>"),c+=t,a&&(c+='<div id="boc-footer" style="width:'+n+"px;color:#757575;position:absolute;left:"+o.margin[3]+'px;bottom:0;">'+a+"</div>"),c+="</div>",c+="</body></html>"},e.pdfPrevUI.hide=function(t){var i=t.element.querySelector("#boc-ppdf-wrapper");if(i){i.parentNode.removeChild(i),i.style.opacity=0;var o=t.element.querySelector("#boc-ppdf-btns");o.parentNode.removeChild(o)}},e===void 0&&(e={}),e.events.on("renderdefs",function(t,i){for(var o=0;o<t.config.clinks.length;o++){var n=t.config.clinks[o].template;n||(n="orange");var r=e.clinkTemplates[n];i.defs+=r.defs}}),e.events.on("prerender",function(t,i){e.RENDER_CLINKS_BEFORE_NODES&&t._clink(t,i)}),e.events.on("render",function(t,i){e.RENDER_CLINKS_BEFORE_NODES||t._clink(t,i)}),e.events.on("drag",function(t,i,o,n){if(t instanceof e&&t.config.movable&&n)for(var r=0;r<n.length;r++){for(var l=n[r],a=t.element.querySelectorAll(`[data-c-l-from="${l}"]`),d=t.element.querySelectorAll(`[data-c-l-to="${l}"]`),s=0;s<a.length;s++)a[s].parentNode.removeChild(a[s]);for(s=0;s<d.length;s++)d[s].parentNode.removeChild(d[s])}}),e.prototype._clink=function(t,i){for(var o="",n=0;n<this.config.clinks.length;n++){let S=function(A,I,M){M==null&&(M=1);var k=I.x-A.x,L=I.y-A.y,P=Math.sqrt(Math.pow(I.x-A.x,2)+Math.pow(I.y-A.y,2))/3;return P=P/(Math.sqrt(k*k+L*L)*M)*e.clinkCurve(r),{x:A.x+k/2-L*P,y:A.y+L/2+k*P}};var r=this.config.clinks[n],l=t.getNode(r.from),a=t.getNode(r.to);if(l&&i.res.visibleNodeIds.indexOf(l.id)!=-1&&a&&i.res.visibleNodeIds.indexOf(a.id)!=-1){var d=l.x,s=l.y,p=a.x,c=a.y,h={},f={},u=d+l.w/2,v=p+a.w/2,x=s+l.h/2,_=c+a.h/2,g=1;switch(this.config.orientation){case e.orientation.top:case e.orientation.top_left:u<=v?(g=1,h.x=u+l.w/10,f.x=v-a.w/10):(g=-1,h.x=u-l.w/10,f.x=v+a.w/10),s==c?(g=1,h.y=s,f.y=c):s>c?(h.y=s,f.y=c+a.h):(h.y=s+l.h,f.y=c);break;case e.orientation.bottom:case e.orientation.bottom_left:u<=v?(g=-1,h.x=u+l.w/10,f.x=v+a.w/10):(g=1,h.x=u-l.w/10,f.x=v+a.w/10),s==c?(g=-1,h.y=s+l.h,f.y=c+a.h):s>c?(h.y=s,f.y=c+a.h):(h.y=s+l.h,f.y=c);break;case e.orientation.left:case e.orientation.left_top:x<=_?(g=-1,h.y=x+l.h/5,f.y=_+a.h/5):(g=1,h.y=x-l.h/5,f.y=_+a.h/5),d==p?(g=-1,h.x=d,f.x=p):d>p?(h.x=d,f.x=p+a.w):(h.x=d+l.w,f.x=p);break;case e.orientation.right:case e.orientation.right_top:x<=_?(g=1,h.y=x+l.h/5,f.y=_+a.h/5):(g=-1,h.y=x-l.h/5,f.y=_+a.h/5),d==p?(g=1,h.x=d+l.w,f.x=p+a.w):d>p?(h.x=d,f.x=p+a.w):(h.x=d+l.w,f.x=p)}var y=S(h,f,g),b=r.template;b||(b="orange");var m=e.clinkTemplates[b];if(r.label){var E=e.clinkLabelPosition(r,h,f,y);o+=m.label.replace("{x}",E.x).replace("{y}",E.y).replace("{val}",r.label)}var w="M"+h.x+","+h.y+"C"+h.x+","+h.y+" "+y.x+","+y.y+" "+f.x+","+f.y;o+=("<g "+e.attr.c_link_from+'="{from}" '+e.attr.c_link_to+'="{to}">').replace("{from}",l.id).replace("{to}",a.id)+m.link.replaceAll("{d}",w)+'<path stroke="transparent" stroke-width="15" fill="none" d="'+w+'" />',o+=e.grCloseTag}}i.content+=o},e.clinkLabelPosition=function(t,i,o,n){var r=(o.x-i.x)/2+i.x,l=(o.y-i.y)/2+i.y;return{x:(r-n.x)/2+n.x,y:(l-n.y)/2+n.y}},e.clinkCurve=function(t){return e.CLINK_CURVE},e.prototype.addClink=function(t,i,o,n){this._putInUndoStack(),this.clearRedo();for(var r=this.config.clinks.length-1;r>=0;r--){var l=this.config.clinks[r];l.from==t&&l.to==i&&this.config.clinks.splice(r,1)}return this.config.clinks.push({from:t,to:i,label:o,template:n}),e.events.publish("updated",[this]),this},e.prototype.removeClink=function(t,i){this._putInUndoStack(),this.clearRedo();for(var o=this.config.clinks.length-1;o>=0;o--){var n=this.config.clinks[o];n.from==t&&n.to==i&&this.config.clinks.splice(o,1)}return e.events.publish("updated",[this]),this},e.clinkTemplates={},e.clinkTemplates.orange={defs:'<marker id="arrowOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path marker-start="url(#dotOrange)" marker-end="url(#arrowOrange)" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#F57C00" text-anchor="middle" x="{x}" y="{y}">{val}</text>'},e.clinkTemplates.blue={defs:'<marker id="arrowBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path marker-start="url(#dotBlue)" marker-end="url(#arrowBlue)" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},e.clinkTemplates.yellow={defs:'<marker id="arrowYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path marker-start="url(#dotYellow)" marker-end="url(#arrowYellow)" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#FFCA28"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},e===void 0&&(e={}),e.events.on("renderdefs",function(t,i){for(var o=0;o<t.config.slinks.length;o++){var n=t.config.slinks[o].template;n||(n="orange");var r=e.slinkTemplates[n];i.defs+=r.defs}}),e.events.on("render",function(t,i){t._slinks(t,i)}),e.events.on("drag",function(t,i,o,n){if(t instanceof e&&t.config.movable&&n)for(var r=0;r<n.length;r++){for(var l=n[r],a=t.element.querySelectorAll(`[data-s-l-from="${l}"]`),d=t.element.querySelectorAll(`[data-s-l-to="${l}"]`),s=0;s<a.length;s++)a[s].parentNode.removeChild(a[s]);for(s=0;s<d.length;s++)d[s].parentNode.removeChild(d[s])}}),e.prototype._slinks=function(t,i){var o="",n=this.getScale(),r=i.res.boundary;function l(c,h,f){var u=[],v=null,x="left",_=c.lcn?c.lcn:"base",g=t._layoutConfigs[_];switch(g.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:h.x>c.x&&(x="right");break;case e.orientation.left:case e.orientation.left_top:case e.orientation.right:case e.orientation.right_top:x="top",h.y>c.y&&(x="bottom")}var y=e.t(c.templateName,c.min,n),b=g.levelSeparation;c.parent&&c.parent.layout&&(b=g.mixedHierarchyNodesSeparation);var m={p:c.x+c.w/2+y.expandCollapseSize,q:c.y,r:c.x+c.w/2+y.expandCollapseSize,s:r.minY+b};if(c.sl==h.sl)switch(v=h,g.orientation){case e.orientation.top:case e.orientation.top_left:u.push([m.p,m.q]),u.push([m.p,m.q-b/3]),y=e.t(v.templateName,v.min,n),u.push([v.x+v.w/2+y.expandCollapseSize,u[u.length-1][1]]),u.push([u[u.length-1][0],v.y]);break;case e.orientation.bottom:case e.orientation.bottom_left:m.q=c.y+c.h,m.s=r.maxY-b,u.push([m.p,m.q]),u.push([m.r,c.y+c.h+b/3]),y=e.t(v.templateName,v.min,n),u.push([v.x+v.w/2+y.expandCollapseSize,u[u.length-1][1]]),u.push([u[u.length-1][0],v.y+v.h]);break;case e.orientation.left:case e.orientation.left_top:m.p=c.x,m.q=c.y+c.h/2+y.expandCollapseSize,m.r=r.minX-b,m.s=c.y+c.h/2+y.expandCollapseSize,u.push([m.p,m.q]),u.push([c.x-b/3,m.q]),y=e.t(v.templateName,v.min,n),u.push([u[u.length-1][0],v.y+v.h/2+y.expandCollapseSize]),u.push([v.x,u[u.length-1][1]]);break;case e.orientation.right:case e.orientation.right_top:m.p=c.x+c.w,m.q=c.y+c.h/2+y.expandCollapseSize,m.r=r.maxX+b,m.s=c.y+c.h/2+y.expandCollapseSize,u.push([m.p,m.q]),u.push([c.x+c.w+b/3,m.q]),y=e.t(v.templateName,v.min,n),u.push([u[u.length-1][0],v.y+v.h/2+y.expandCollapseSize]),u.push([v.x+v.w,u[u.length-1][1]])}else{switch(g.orientation){case e.orientation.top:case e.orientation.top_left:u.push([m.p,m.q]),u.push([m.r,c.y-b/3]);break;case e.orientation.bottom:case e.orientation.bottom_left:m.q=c.y+c.h,m.s=r.maxY-b,u.push([m.p,m.q]),u.push([m.r,c.y+c.h+b/3]);break;case e.orientation.left:case e.orientation.left_top:m.p=c.x,m.q=c.y+c.h/2+y.expandCollapseSize,m.r=r.minX-b,m.s=c.y+c.h/2+y.expandCollapseSize,u.push([m.p,m.q]),u.push([c.x-b/3,m.q]);break;case e.orientation.right:case e.orientation.right_top:m.p=c.x+c.w,m.q=c.y+c.h/2+y.expandCollapseSize,m.r=r.maxX+b,m.s=c.y+c.h/2+y.expandCollapseSize,u.push([m.p,m.q]),u.push([c.x+c.w+b/3,m.q])}for(var E=c,w=c;w.parent;)w=w.parent;for(;v==null;){var S=!1,A=E.parent,I=A.leftNeighbor,M=A.rightNeighbor;if(A.id==h.id?v=A:e._intersects(A,m,g)&&(m=e._addPoint(A,u,g,m,x),S=!0),A.id!=h.id){for(;I;){if(I.id==h.id){v=I;break}e._intersects(I,m,g)&&(m=e._addPoint(I,u,g,m,x),S=!0),I=I.leftNeighbor}for(;M;){if(M.id==h.id){v=M;break}e._intersects(M,m,g)&&(m=e._addPoint(M,u,g,m,x),S=!0),M=M.rightNeighbor}}if(!S){var k=u[u.length-1][0],L=0;if(A.parent){b=g.levelSeparation,A.parent.layout&&(b=g.mixedHierarchyNodesSeparation);var P=t.manager.bordersByRootIdAndLevel[w.id][A.parent.sl];switch(g.orientation){case e.orientation.top:case e.orientation.top_left:L=P.maxY+b*(2/3);break;case e.orientation.bottom:case e.orientation.bottom_left:L=P.minY-b*(2/3);break;case e.orientation.left:case e.orientation.left_top:k=P.maxX+b*(2/3),L=u[u.length-1][1];break;case e.orientation.right:case e.orientation.right_top:k=P.minX-b*(2/3),L=u[u.length-1][1]}}u.push([k,L])}E=A}switch(y=e.t(v.templateName,v.min,n),u.splice(u.length-1,1),g.orientation){case e.orientation.top:case e.orientation.top_left:u.push([v.x+v.w/2+y.expandCollapseSize,u[u.length-1][1]]),u.push([u[u.length-1][0],v.y+v.h]);break;case e.orientation.bottom:case e.orientation.bottom_left:u.push([v.x+v.w/2+y.expandCollapseSize,u[u.length-1][1]]),u.push([u[u.length-1][0],v.y]);break;case e.orientation.left:case e.orientation.left_top:u.push([u[u.length-1][0],v.y+v.h/2+y.expandCollapseSize]),u.push([v.x+v.w,u[u.length-1][1]]);break;case e.orientation.right:case e.orientation.right_top:u.push([u[u.length-1][0],v.y+v.h/2+y.expandCollapseSize]),u.push([v.x,u[u.length-1][1]])}}var j=d.template;j||(j="orange");var z,T,N=null;switch((y=e.slinkTemplates[j]).labelPosition){case"start":N={x:u[1][0],y:u[1][1]};break;case"middle":var R=Math.ceil(u.length/2);z=u[R],T=u[R-1],N={x:(z[0]+T[0])/2,y:(z[1]+T[1])/2};break;case"end":N={x:u[u.length-2][0],y:u[u.length-2][1]}}f&&(u=u.reverse()),u[0].unshift("M");for(var V=1;V<u.length;V++)u[V].unshift("L");var U=e.roundPathCorners(u,e.LINK_ROUNDED_CORNERS,!1);if(d.label){var F=y.label.replace("{x}",N.x).replace("{y}",N.y).replace("{val}",d.label),K=e._getLabelSize(F),C=-K.height/2;switch(g.orientation){case e.orientation.bottom:case e.orientation.bottom_left:C=K.height}o+=y.label.replace("{x}",N.x).replace("{y}",N.y+C).replace("{val}",d.label)}var B=c.id,O=h.id;f&&(B=h.id,O=c.id),o+=("<g "+e.attr.s_link_from+'="{from}" '+e.attr.s_link_to+'="{to}">').replace("{from}",B).replace("{to}",O)+y.link.replaceAll("{d}",U)+'<path stroke="transparent" stroke-width="15" fill="none" d="'+U+'" />',o+=e.grCloseTag}for(var a=0;a<this.config.slinks.length;a++){var d=this.config.slinks[a],s=t.getNode(d.from),p=t.getNode(d.to);s&&p&&i.res.visibleNodeIds.indexOf(p.id)!=-1&&i.res.visibleNodeIds.indexOf(s.id)!=-1&&(s.sl>=p.sl?l(s,p,!1):l(p,s,!0))}i.content+=o},e.prototype.addSlink=function(t,i,o,n){this._putInUndoStack(),this.clearRedo();for(var r=this.config.slinks.length-1;r>=0;r--){var l=this.config.slinks[r];l.from==t&&l.to==i&&this.config.slinks.splice(r,1)}return this.config.slinks.push({from:t,to:i,label:o,template:n}),e.events.publish("updated",[this]),this},e.prototype.removeSlink=function(t,i){this._putInUndoStack(),this.clearRedo();for(var o=this.config.slinks.length-1;o>=0;o--){var n=this.config.slinks[o];n.from==t&&n.to==i&&this.config.slinks.splice(o,1)}return e.events.publish("updated",[this]),this},e.slinkTemplates={},e.slinkTemplates.orange={defs:'<marker id="arrowSlinkOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkOrange)" marker-end="url(#arrowSlinkOrange)" stroke-linejoin="round" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text dominant-baseline="middle" fill="#F57C00" alignment-baseline="middle" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},e.slinkTemplates.blue={defs:'<marker id="arrowSlinkBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkBlue)" marker-end="url(#arrowSlinkBlue)" stroke-linejoin="round" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},e.slinkTemplates.yellow={defs:'<marker id="arrowSlinkYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkYellow)" marker-end="url(#arrowSlinkYellow)" stroke-linejoin="round" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text  fill="#FFCA28" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},e.events.on("renderbuttons",function(t,i){if(i.node&&i.node.tags&&i.node.tags.has("group-dotted-lines")){var o=t.getScale(),n=e.t(i.node.templateName,i.node.min,o),r="";i.node.min?(n.nodeGroupDottedOpenButton||console.error(`[${i.node.templateName}].nodeGroupDottedOpenButton is not defined`),r+=`<g style="cursor:pointer;"  data-ctrl-n-dotted-open="${i.node.id}" transform="matrix(1,0,0,1,${i.node.x},${i.node.y})">`,r+=n.nodeGroupDottedOpenButton):(n.nodeGroupDottedCloseButton||console.error(`[${i.node.templateName}].nodeGroupDottedCloseButton is not defined`),r+=`<g style="cursor:pointer;" transform="matrix(1,0,0,1,${i.node.x},${i.node.y})" data-ctrl-n-dotted-close="${i.node.id}">`,r+=n.nodeGroupDottedCloseButton),r=(r+="</g>").replaceAll("{cw}",i.node.w/2).replaceAll("{ch}",i.node.h/2).replaceAll("{ew}",i.node.w-(i.node.padding?i.node.padding[1]:0)).replaceAll("{eh}",i.node.h-(i.node.padding?i.node.padding[2]:0));var l=t.getNode(i.node.stChildrenIds[0]);if(r.indexOf("{collapsed-children-count}")!=-1){var a=e.collapsedChildrenCount(t,l);r=r.replace("{collapsed-children-count}",a)}if(r.indexOf("{collapsed-children-total-count}")!=-1){var d=e.collapsedChildrenTotalCount(t,l);r=r.replace("{collapsed-children-total-count}",d)}if(r.indexOf("{children-count}")!=-1){var s=e.childrenCount(t,l);r=r.replace("{children-count}",s)}if(r.indexOf("{children-total-count}")!=-1){var p=e.childrenTotalCount(t,l);r=r.replace("{children-total-count}",p)}i.html+=r}}),e.events.on("redraw",function(t,i){if(t.config.groupDottedLines.length){for(var o=t.element.querySelectorAll("[data-ctrl-n-dotted-close]"),n=0;n<o.length;n++)o[n].addEventListener("click",function(){var l=this.getAttribute("data-ctrl-n-dotted-close");t.minimize(l)});var r=t.element.querySelectorAll("[data-ctrl-n-dotted-open]");for(n=0;n<r.length;n++)r[n].addEventListener("click",function(){var l=this.getAttribute("data-ctrl-n-dotted-open");t.maximize(l)})}}),e===void 0&&(e={}),e.prototype.undo=function(t){if(this.config.undoRedoStorageName){var i=this.undoStepsCount();if(i!=0){this._putInRedoStack();var o=`${this.config.undoRedoStorageName}_undo_`+(i-1),n=sessionStorage.getItem(o);sessionStorage.removeItem(o);var r=JSON.parse(n);this.config.nodes=r.nodes,this.config.clinks=r.clinks,this.config.slinks=r.slinks,this.config.groupDottedLines=r.groupDottedLines,this.config.dottedLines=r.dottedLines,e.events.publish("updated",[this]),this.filterUI.update(),this.draw(e.action.update,void 0,t),this.undoRedoUI.refresh()}}},e.prototype.redo=function(t){if(this.config.undoRedoStorageName){var i=this.redoStepsCount();if(i!=0){this._putInUndoStack();var o=`${this.config.undoRedoStorageName}_redo_`+(i-1),n=sessionStorage.getItem(o);sessionStorage.removeItem(o);var r=JSON.parse(n);this.config.nodes=r.nodes,this.config.clinks=r.clinks,this.config.slinks=r.slinks,this.config.groupDottedLines=r.groupDottedLines,this.config.dottedLines=r.dottedLines,e.events.publish("updated",[this]),this.filterUI.update(),this.draw(e.action.update,void 0,t),this.undoRedoUI.refresh()}}},e.prototype.clearRedo=function(){if(this.config.undoRedoStorageName){for(var t=`${this.config.undoRedoStorageName}_redo_`,i=Object.keys(sessionStorage),o=0;i.indexOf(t+o)!=-1;)sessionStorage.removeItem(t+o),o++;this.undoRedoUI.refresh()}},e.prototype.clearUndo=function(){if(this.config.undoRedoStorageName){for(var t=`${this.config.undoRedoStorageName}_undo_`,i=Object.keys(sessionStorage),o=0;i.indexOf(t+o)!=-1;)sessionStorage.removeItem(t+o),o++;this.undoRedoUI.refresh()}},e.prototype.undoStepsCount=function(){for(var t=`${this.config.undoRedoStorageName}_undo_`,i=Object.keys(sessionStorage),o=0;i.indexOf(t+o)!=-1;)o++;return o},e.prototype.redoStepsCount=function(){for(var t=`${this.config.undoRedoStorageName}_redo_`,i=Object.keys(sessionStorage),o=0;i.indexOf(t+o)!=-1;)o++;return o},e.prototype._putInUndoStack=function(){if(this.config.undoRedoStorageName){var t=`${this.config.undoRedoStorageName}_undo_`+this.undoStepsCount();sessionStorage.setItem(t,JSON.stringify({nodes:this.config.nodes,clinks:this.config.clinks,slinks:this.config.slinks,groupDottedLines:this.config.groupDottedLines,dottedLines:this.config.dottedLines}))}},e.prototype._putInRedoStack=function(){if(this.config.undoRedoStorageName){var t=`${this.config.undoRedoStorageName}_redo_`+this.redoStepsCount();sessionStorage.setItem(t,JSON.stringify({nodes:this.config.nodes,clinks:this.config.clinks,slinks:this.config.slinks,groupDottedLines:this.config.groupDottedLines,dottedLines:this.config.dottedLines}))}},e===void 0&&(e={}),e.undoRedoUI=function(){this.instance=null,this._event_id=e._guid()},e.undoRedoUI.prototype.init=function(t){t.config.undoRedoStorageName&&(this.instance=t,this.refresh())},e.undoRedoUI.prototype.refresh=function(){var t=this;if(this.instance.config.undoRedoStorageName){var i={undoStepsCount:this.instance.undoStepsCount(),redoStepsCount:this.instance.redoStepsCount()};if(e.events.publish("change",[this,i])!==!1){var o=this.instance.element.querySelector("[data-undo]"),n=this.instance.element.querySelector("[data-redo]");if(!o||!n){var r=document.createElement("div");r.classList.add("boc-undo-redo"),r.innerHTML=`<span data-undo>${e.icon.undo(50,50,"")}<span class="boc-undo-i"></span></span>
                            <span data-redo>${e.icon.redo(50,50,"")}<span class="boc-redo-i"></span></span>`,this.instance.element.appendChild(r),o=this.instance.element.querySelector("[data-undo]"),n=this.instance.element.querySelector("[data-redo]"),o.addEventListener("click",function(){t.instance.undo()}),n.addEventListener("click",function(){t.instance.redo()})}i.undoStepsCount>0?(o.classList.add("boc-ur-clickable"),o.querySelector(".boc-undo-i").innerHTML=i.undoStepsCount,o.querySelector(".boc-undo-i").style.display="inline-block"):(o.classList.remove("boc-ur-clickable"),o.querySelector(".boc-undo-i").style.display="none"),i.redoStepsCount>0?(n.classList.add("boc-ur-clickable"),n.querySelector(".boc-redo-i").innerHTML=i.redoStepsCount,n.querySelector(".boc-redo-i").style.display="inline-block"):(n.classList.remove("boc-ur-clickable"),n.querySelector(".boc-redo-i").style.display="none")}}},e.undoRedoUI.prototype.on=function(t,i){return e.events.on(t,i,this._event_id),this},e.undoRedoUI.prototype.onChange=function(t){return this.on("change",function(i,o){return t.call(i,o)})},e.events.on("redraw",function(t,i){if(t.config.miniMap){if(t.manager.action!=e.action.move){e.miniMap._settings._scale=Math.min(e.miniMap.width/(t.response.boundary.maxX-t.response.boundary.minX),e.miniMap.height/(t.response.boundary.maxY-t.response.boundary.minY)),e.miniMap._settings._translateX=-t.response.boundary.minX*e.miniMap._settings._scale+(e.miniMap.width-(t.response.boundary.maxX-t.response.boundary.minX)*e.miniMap._settings._scale)/2,e.miniMap._settings._translateY=-t.response.boundary.minY*e.miniMap._settings._scale+(e.miniMap.height-(t.response.boundary.maxY-t.response.boundary.minY)*e.miniMap._settings._scale)/2;var o=t.getViewBox();e.miniMap._init(t),e.miniMap._drawMainCanvas(t),e.miniMap._drawRectSelectorCanvas(t,o);var n,r,l,a,d=t.element.querySelector('[data-id="mini-map-focus"]'),s=!1,p=null;d.onmousedown=function(h){var f,u,v,x=d.getBoundingClientRect(),_=x.left,g=x.top;if(n=parseInt(h.clientX-_),r=parseInt(h.clientY-g),f=r,u=(n-e.miniMap._settings._translateX)/e.miniMap._settings._scale,v=(f-e.miniMap._settings._translateY)/e.miniMap._settings._scale,u>o[0]&&u<o[0]+o[2]&&v>o[1]&&v<o[1]+o[3])return h.preventDefault(),h.stopPropagation(),void(s=!0)},d.onmousemove=function(h){if(s){h.preventDefault(),h.stopPropagation(),e.miniMap._mouseMove=!0;var f=d.getBoundingClientRect(),u=f.left,v=f.top;l=parseInt(h.clientX-u),a=parseInt(h.clientY-v);var x=(l-n)/e.miniMap._settings._scale,_=(a-r)/e.miniMap._settings._scale;o[0]=x+o[0],o[1]=_+o[1],t.setViewBox(o),p&&(clearTimeout(p),p=null),p=setTimeout(function(){t._draw(!0,e.action.move)},300),e.miniMap._drawRectSelectorCanvas(t,o),n=l,r=a}},d.onmouseup=function(h){s&&(h.preventDefault(),h.stopPropagation(),s=!1)},d.onmouseout=function(h){s&&(h.preventDefault(),h.stopPropagation(),s=!1,e.miniMap._mouseMove=!1)},d.onclick=function(h){if(h.preventDefault(),h.stopPropagation(),e.miniMap._mouseMove)e.miniMap._mouseMove=!1;else{var f=d.getBoundingClientRect(),u=f.left,v=f.top;l=parseInt(h.clientX-u),a=parseInt(h.clientY-v);var x=l/e.miniMap._settings._scale,_=a/e.miniMap._settings._scale;o[0]=x-(o[0]+o[2]-o[0])/2-e.miniMap._settings._translateX/e.miniMap._settings._scale,o[1]=_-(o[1]+o[3]-o[1])/2-e.miniMap._settings._translateY/e.miniMap._settings._scale,t.setViewBox(o),p&&(clearTimeout(p),p=null),p=setTimeout(function(){t._draw(!0,e.action.move)},300),e.miniMap._drawRectSelectorCanvas(t,o)}}}}else{var c=t.element.querySelector('[data-id="mini-map"]');c&&c.parentNode.removeChild(c)}}),e.miniMap={},e.miniMap._settings={_translateX:0,_translateY:0,_scale:1},e.miniMap._drawMainCanvas=function(t){var i=t.element.querySelector('[data-id="mini-map-main"]'),o=i.getContext("2d");e.miniMap._initCtx(t,i,1);var n=0,r=[];(function l(a,d){if(Array.isArray(d))for(var s=0;s<d.length;s++)l(a,d[s]);else{for(o.fillStyle=e.miniMap.colors[3],o.beginPath(),o.lineWidth="0.5",o.fillRect(d.x,d.y,d.w,d.h),o.strokeRect(d.x,d.y,d.w,d.h),s=0;s<d.stChildrenIds.length;s++)n++,r.includes(d.id)||(n==1?o.fillStyle=e.miniMap.colors[0]:n==2?o.fillStyle=e.miniMap.colors[1]:n==3&&(o.fillStyle=e.miniMap.colors[2]),o.beginPath(),o.fillRect(d.x,d.y,d.w,d.h),o.strokeRect(d.x,d.y,d.w,d.h),r.push(d.id)),l(a,a.getNode(d.stChildrenIds[s])),n--;for(s=0;s<d.childrenIds.length;s++)l(a,a.getNode(d.childrenIds[s]))}})(t,t.roots)},e.miniMap._drawRectSelectorCanvas=function(t,i){var o=t.element.querySelector('[data-id="mini-map-focus"]'),n=o.getContext("2d");e.miniMap._initCtx(t,o,e.miniMap.opacity);var r=i[0],l=i[1],a=i[2],d=i[3];n.lineWidth=.5/e.miniMap._settings._scale,n.strokeStyle=e.miniMap.focusStroke,n.globalAlpha=1,n.clearRect(r,l,a,d),n.strokeRect(r,l,a,d)},e.miniMap._initCtx=function(t,i,o){var n=i.getContext("2d");i.width=i.width,i.height=i.height,n.clearRect(0,0,e.miniMap.width,e.miniMap.height),n.globalAlpha=o,o!=1&&(n.fillStyle=e.miniMap.selectorBackgroundColor,n.fillRect(0,0,e.miniMap.width,e.miniMap.height)),n.translate(e.miniMap._settings._translateX,e.miniMap._settings._translateY),n.scale(e.miniMap._settings._scale,e.miniMap._settings._scale)},e.miniMap._init=function(t){if(!t.element.querySelector('[data-id="mini-map"]')){var i=document.createElement("canvas");i.width=e.miniMap.width,i.height=e.miniMap.height,i.setAttribute("data-id","mini-map-main"),i.style.display="inline-block",i.style.backgroundColor=e.miniMap.backgroundColor,i.style.position="absolute",i.style.top=0,i.style.left=0;var o=document.createElement("canvas");o.width=e.miniMap.width,o.height=e.miniMap.height,o.setAttribute("data-id","mini-map-focus"),o.style.display="inline-block",o.style.position="absolute",o.style.top=0,o.style.left=0;var n=document.createElement("div");n.setAttribute("data-id","mini-map"),n.style.position="absolute";for(var r=["top","right","left","bottom"],l=0;l<r.length;l++){var a=r[l];e.isNEU(e.miniMap.position[a])||(e.miniMap.position[a]=="padding"?n.style[a]=t.config.padding+"px":n.style[a]=e.miniMap.position[a]+"px")}n.style.border=e.miniMap.border,n.style.padding=e.miniMap.padding+"px",n.style.backgroundColor=e.miniMap.backgroundColor;var d=document.createElement("div");d.style.position="relative",d.style.width=e.miniMap.width+"px",d.style.height=e.miniMap.height+"px",d.appendChild(i),d.appendChild(o),n.appendChild(d),t.element.appendChild(n);var s=function(u,v){t.__mouseScrollHandler(n,v)};t._addEvent(n,"DOMMouseScroll",s),t._addEvent(n,"mousewheel",s);var p=0,c=0,h=function(u){e.miniMap._mouseMove=!0;var v=u.clientX-p,x=u.clientY-c;if(!e.isNEU(n.style.left)){var _=parseFloat(n.style.left)+v;n.style.left=`${_}px`}if(!e.isNEU(n.style.right)){var g=parseFloat(n.style.right)-v;n.style.right=`${g}px`}if(!e.isNEU(n.style.bottom)){var y=parseFloat(n.style.bottom)-x;n.style.bottom=`${y}px`}if(!e.isNEU(n.style.top)){var b=parseFloat(n.style.top)+x;n.style.top=`${b}px`}p=u.clientX,c=u.clientY},f=function(){document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",f)};e.miniMap.draggable&&n.addEventListener("mousedown",function(u){p=u.clientX,c=u.clientY,document.addEventListener("mousemove",h),document.addEventListener("mouseup",f)})}},e.miniMap.colors=["#E0E0E0","#BDBDBD","#9E9E9E","#757575"],e.miniMap.selectorBackgroundColor="white",e.miniMap.backgroundColor="white",e.miniMap.focusStroke="#f57c00",e.miniMap.opacity=.4,e.miniMap.border="1px solid #aeaeae",e.miniMap.width=250,e.miniMap.height=140,e.miniMap.padding=5,e.miniMap.position={top:void 0,left:"padding",right:void 0,bottom:"padding"},e.miniMap.draggable=!0,e._search={},e._search.search=function(t,i,o,n,r,l,a){var d=[],s=i.toLowerCase(),p=s.split(" ");if(a&&p.length>1){var c=p[0];a[c]&&(o=[a[c]],p=(s=s.replace(c,"").trim()).split(" "))}p=p.filter(function(b,m,E){return E.indexOf(b)===m});for(var h={},f=0;f<t.length;f++)for(var u=t[f],v=0;v<o.length;v++){var x=o[v];if(!e.isNEU(u[x])){var _=u[x];if((i=e._search.searchAndComputeScore(p,_,x,l))!=null){var g=u.id;if(h[g]){if(h[g]&&h[g]<i.__score){h[g]=i.__score;for(var y=d.length-1;y>=0;y--)d[y].id==g&&d.splice(y,1);e._search.addNodeToResult(d,n,u,i,x,r)}}else h[g]=i.__score,e._search.addNodeToResult(d,n,u,i,x,r)}}}return d.sort(function(b,m){return b.__score<m.__score?1:b.__score>m.__score?-1:0}),d},e._search.addNodeToResult=function(t,i,o,n,r,l){var a={};a.id=o.id,e.isNEU(o[l])||(a[l]=o[l]);for(var d=0;d<i.length;d++){var s=i[d];e.isNEU(o[s])||e.isNEU(a[s])&&(a[s]=o[s])}n!=null&&(e.isNEU(a.__score)&&(a.__score=n.__score),e.isNEU(a.__searchField)&&(a.__searchField=r),e.isNEU(a.__searchMarks)&&(a.__searchMarks=n.__searchMarks)),t.push(a)},e._search.searchAndComputeScore=function(t,i,o,n){if(e.isNEU(i)||e.isNEU(t)||!t.length)return null;typeof i!="string"&&(i=i.toString());var r=i.toLowerCase(),l=e._search.searchIndexesOf(r,t);if(!l.length)return null;for(var a=r.length/100,d=0,s=0,p=d>0?100:0,c=0,h=0;h<t.length;h++)for(var f=t[h],u=0;u<l.length;u++)if(f.indexOf(l[u].searchPhrase)!=-1){c++;break}var v=100/(t.length/c);if(l.length){for(s=l[0].start,u=0;u<l.length;u++)if(d+=l[u].length,l[u].start<s&&(s=l[u].start),u>=1&&l[u-1].start>l[u].start){p=0;break}}var x=0;d!=0&&(x=d/a);var _=d>0?100:0;s!=0&&(_=100-s/a);var g=0;n&&n[o]&&(g=n[o]),v&&(v=v/100*50),x>0&&(x=x/100*10),_>0&&(_=_/100*10),p>0&&(p=p/100*10),g>0&&(g=g/100*20);var y=Math.round(1e4*(v+x+_+p+g));for(l.sort(function(m,E){return m.start<E.start?-1:m.start>E.start?1:0}),u=l.length-1;u>=0;u--)for(h=0;h<l.length;h++)h<u&&l[h].start+l[h].length>l[u].start&&l.splice(u,1);var b=i;for(u=l.length-1;u>=0;u--)b=(b=b.insert(l[u].start+l[u].length,"</mark>")).insert(l[u].start,"<mark>");return{__searchMarks:b,__score:y}},e._search.searchIndexesOf=function(t,i){var o=[];if(!e.isNEU(t))for(var n=0;n<i.length;n++){var r=i[n];if(!e.isNEU(r))for(var l=0;(l=t.indexOf(r,l))>-1;)o.push({length:r.length,start:l,searchPhrase:r}),l+=r.length}return o.sort(function(a,d){return a.length<d.length?1:a.length>d.length||a.start<d.start?-1:a.start>d.start?1:0}),o=o.filter(function(a){for(var d=!1,s=0;s<o.length;s++){var p=o[s].start,c=o[s].start+o[s].length-1,h=a.start,f=a.start+a.length-1;if(p==h&&c==f){d=!1;break}if(p>=h&&c<=f){d=!0;break}if(p<=h&&c>=f){d=!0;break}}return!d})},e.events.on("redraw",function(t,i){if(t.config.state){var o=[],n=[];(function r(l){if(Array.isArray(l))for(var a=0;a<l.length;a++)r(l[a]);else{for((typeof l.id!="string"||typeof l.id=="string"&&l.id.indexOf("split")==-1&&l.id.indexOf("mirror")==-1)&&(o.push(l.id),l.min==1&&n.push(l.id)),a=0;a<l.stChildren.length;a++)r(l.stChildren[a]);for(a=0;a<l.children.length;a++)r(l.children[a])}})(t.roots),e.state._put(t.config.roots,t.width(),t.height(),t.response.viewBox,o,n,t.response.adjustify,t.config.state)}}),e.state={},e.state._buildStateNames=function(t){return{paramScale:t+"-scale",paramX:t+"-x",paramY:t+"-y",paramExp:t+"-exp",paramMin:t+"-min",paramRoots:t+"-roots",paramAdjustify:t+"-adjustify"}},e.state._put=function(t,i,o,n,r,l,a,d){if(d&&!e.isNEU(r)&&r.length!=0){var s=e.state._buildStateNames(d.name),p={roots:t,scale:Math.min(i/n[2],o/n[3]),x:n[0],y:n[1],exp:r,min:l,adjustify:a};if(d.writeToUrlParams){var c=new URLSearchParams(window.location.search);c.has(s.paramScale)?c.set(s.paramScale,p.scale):c.append(s.paramScale,p.scale),c.has(s.paramX)?c.set(s.paramX,p.x):c.append(s.paramX,p.x),c.has(s.paramY)?c.set(s.paramY,p.y):c.append(s.paramY,p.y),c.has(s.paramExp)?c.set(s.paramExp,p.exp.join("*")):c.append(s.paramExp,p.exp.join("*")),c.has(s.paramRoots)&&Array.isArray(p.roots)?c.set(s.paramRoots,p.roots.join("*")):Array.isArray(p.roots)&&c.append(s.paramRoots,p.roots.join("*")),c.has(s.paramMin)?c.set(s.paramMin,p.min.join("*")):c.append(s.paramMin,p.min.join("*")),c.has(s.paramAdjustify)?c.set(s.paramAdjustify,p.adjustify.x+"*"+p.adjustify.y):c.append(s.paramAdjustify,p.adjustify.x+"*"+p.adjustify.y),window.history.replaceState(null,null,"?"+c)}d.writeToIndexedDB&&(p.id=d.name,e.idb.put(p,function(h){h==0&&console.error("Cannot write row - "+d.name)})),d.writeToLocalStorage&&e.localStorage.setItem(d.name,JSON.stringify(p))}},e.state._get=function(t,i,o,n){if(t){var r=e.state._buildStateNames(t.name);if(t.readFromUrlParams){var l=new URLSearchParams(window.location.search);if(l.has(r.paramScale)&&l.has(r.paramX)&&l.has(r.paramY)&&l.has(r.paramExp)&&l.has(r.paramMin)&&l.has(r.paramAdjustify)){var a={},d=parseFloat(l.get(r.paramScale)),s=parseFloat(l.get(r.paramX)),p=parseFloat(l.get(r.paramY));(h=[])[0]=s,h[1]=p,h[2]=i/d,h[3]=o/d,a.vb=h,a.scale=d,a.x=s,a.y=p,a.roots=null,l.has(r.paramRoots)&&(a.roots=l.get(r.paramRoots).split("*")),a.exp=l.get(r.paramExp).split("*"),a.min=l.get(r.paramMin).split("*");var c=l.get(r.paramAdjustify).split("*");return a.adjustify={x:parseFloat(c[0]),y:parseFloat(c[1])},void n(a)}if(!t.readFromIndexedDB&&!t.readFromLocalStorage)return void n(null)}if(t.readFromLocalStorage){var h;if((a=e.localStorage.getItem(t.name))!=null)return a=JSON.parse(a),(h=[])[0]=a.x,h[1]=a.y,h[2]=i/a.scale,h[3]=o/a.scale,a.vb=h,void n(a);if(!t.readFromIndexedDB)return void n(null)}t.readFromIndexedDB&&e.idb.read(t.name,function(f,u){if(f==0)console.error("Cannot read from - "+t.name),n(null);else if(f==null)n(null);else{var v=[];v[0]=u.x,v[1]=u.y,v[2]=i/u.scale,v[3]=o/u.scale,u.vb=v,n(u)}})}else n(null)},e.state.clear=function(t){if(!t)return!1;try{localStorage.removeItem(t);var i=e.state._buildStateNames(t),o=new URLSearchParams(window.location.search);o.has(i.paramScale)&&o.delete(i.paramScale),o.has(i.paramX)&&o.delete(i.paramX),o.has(i.paramY)&&o.delete(i.paramY),o.has(i.paramExp)&&o.delete(i.paramExp),o.has(i.paramRoots)&&o.delete(i.paramRoots),o.has(i.paramMin)&&o.delete(i.paramMin),o.has(i.paramAdjustify)&&o.delete(i.paramAdjustify),window.history.replaceState(null,null,"?"+o),e.idb.delete(t,function(n){n==0&&console.error("Cannot delete row - "+t)})}catch{}},e._magnify={},e.prototype.magnify=function(t,i,o,n,r){n||(n=this.config.anim);var l=this.getNode(t),a=this.getNodeElement(t);if(l||a){var d=e._magnify[t];d&&(d.timer!=null&&clearInterval(d.timer),d.timerBack!=null&&clearInterval(d.timerBack),a.setAttribute("transform","matrix("+d.transformStart.toString()+")"),e._magnify[t]=null),o&&(a=a.cloneNode(!0),this.getSvg().appendChild(a));var s=e._getTransform(a),p=JSON.parse(JSON.stringify(s));p[0]=i,p[3]=i;var c=l.w+l.w*(i-1),h=l.h+l.h*(i-1);p[4]+=(l.w-c)/2,p[5]+=(l.h-h)/2;var f=e.animate(a,{transform:s},{transform:p},n.duration,n.func);e._magnify[t]={timer:f,transformStart:s,nodeElement:a,front:o},r&&r(a)}},e.prototype.magnifyBack=function(t,i,o){i||(i=this.config.anim);var n=e._magnify[t];if(n){n.timer!=null&&clearInterval(n.timer),n.timerBack!=null&&clearInterval(n.timerBack);var r=e._getTransform(n.nodeElement);n.timerBack=e.animate(n.nodeElement,{transform:r},{transform:n.transformStart},i.duration,i.func,function(l){var a=l[0].getAttribute(e.attr.node_id);e._magnify[a]&&e._magnify[a].front&&(l[0].parentNode.removeChild(l[0]),e._magnify[a]=null),o&&o(l[0])})}},e===void 0&&(e={}),e.events.on("init",function(t,i){if(t.config.keyNavigation&&(t._addEvent(window,"keydown",t._windowKeyDownHandler),e.isNEU(t._keyNavigationActiveNodeId)&&t.roots&&t.roots.length)){var o=t.roots[0].id;e.isNEU(t.config.keyNavigation.focusId)||(o=t.config.keyNavigation.focusId),t._keyNavigationActiveNodeId=o,t.center(t._keyNavigationActiveNodeId)}}),e.prototype._windowKeyDownHandler=function(t,i){for(var o=i.target,n=null;o&&o!=this.element;){if(o.hasAttribute&&o.hasAttribute(e.attr.node_id)){n=o.getAttribute(e.attr.node_id);break}o=o.parentNode}if(o){var r=n?this.getNode(n):null,l={node:r,data:n?this.get(n):null,event:i};if(e.events.publish("key-down",[this,l])!==!1&&r){if(i.code=="KeyF")this.searchUI.find("");else if(i.code=="ArrowRight"||r.isAssistant&&i.code=="ArrowDown"||r.isPartner&&i.code=="ArrowDown"){if(s=this.getNode(r.pid)){var a=s.childrenIds.indexOf(r.id);if(++a<s.childrenIds.length){var d=s.childrenIds[a];this._keyNavigationActiveNodeId=d,this.center(d)}}}else if(i.code=="ArrowLeft")(s=this.getNode(r.pid))&&(a=s.childrenIds.indexOf(r.id),--a>=0&&(d=s.childrenIds[a],this._keyNavigationActiveNodeId=d,this.center(d)));else if(i.code=="ArrowUp"){var s;(s=this.getNode(r.pid))&&(d=s.id,(r.isAssistant||s.hasAssistants||r.isPartner||s.hasPartners)&&(a=s.childrenIds.indexOf(r.id),--a>=0&&(d=s.childrenIds[a])),this._keyNavigationActiveNodeId=d,this.center(d))}else if(i.code=="ArrowDown")r.childrenIds.length&&(this._keyNavigationActiveNodeId=r.childrenIds[0],this.center(r.childrenIds[0]));else if(i.code=="Space"){var p=o.getAttribute(e.attr.node_id);return void this.toggleExpandCollapse(p,i)}}}},e.events.on("redraw",function(t,i){t.config.keyNavigation&&e._keyNavigation(t)}),e.events.on("click",function(t,i){t.config&&t.config.keyNavigation&&(t._keyNavigationActiveNodeId=i.node.id,t.center(i.node.id))}),e._keyNavigation=function(t){var i=t.element.querySelector(":focus");if(i&&i.parentElement&&i.parentElement.hasAttribute(e.attr.node_id)){var o=i.parentElement;(r=(n=i).querySelector("title"))&&r.parentNode.removeChild(r),n.removeAttribute("tabindex")}if(!e.isNEU(t._keyNavigationActiveNodeId)&&(o=t.getNodeElement(t._keyNavigationActiveNodeId))&&o.children.length){var n;(n=o.children[0]).setAttribute("tabindex",2);var r,l={text:"",id:t._keyNavigationActiveNodeId};e.events.publish("screen-reader-text",[t,l]),!e.isNEU(l.text)&&((r=document.createElementNS("http://www.w3.org/2000/svg","title")).innerHTML=l.text,n.appendChild(r)),e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&t.searchUI.hide(),n.focus()}},e.elements={},e.elements.textbox=function(t,i,o,n){var r=e.elements._vidrf(t,i,n);if(r.doNotRender)return{html:""};var l="";return i.btn&&(l=`<a href="#" data-input-btn="" class="boc-link boc-link-boc-button">${i.btn}</a>`),{html:`<div class="boc-form-field" style="min-width: ${o};">
                    <div class="boc-input" data-boc-input="" ${r.disabledAttribute} ${r.vlidators}>
                        <label for="${r.id}">${e._escapeGreaterLessSign(r.label)}</label>
                        <input ${r.readOnlyAttribute} data-binding="${e._escapeDoubleQuotes(r.binding)}" maxlength="256" id="${r.id}" name="${r.id}" type="text" value="${e._escapeDoubleQuotes(r.value)}" autocomplete="off">
                        ${l}
                    </div>
                </div>`,id:r.id,value:r.value}},e.elements.checkbox=function(t,i,o,n){var r=e.elements._vidrf(t,i,n);if(r.doNotRender)return{html:""};var l=r.value?"checked":"",a=n?'onclick="return false;"':"";return{html:`<div class="boc-form-field"  style="min-width: ${o};" >
                        <label class="boc-checkbox" data-boc-input="" ${r.disabledAttribute}>
                            <input ${l} ${a} data-binding="${e._escapeDoubleQuotes(r.binding)}" type="checkbox"><span class="boc-checkbox-checkmark" type="checkbox"></span>${e._escapeGreaterLessSign(r.label)}
                        </label>
                    </div>`,id:r.id,value:l}},e.elements.select=function(t,i,o,n){if(n)return e.elements.textbox(t,i,o,n);var r=e.elements._vidrf(t,i,n);return r.doNotRender?{html:""}:{html:`<div class="boc-form-field" style="min-width: ${o};">
                    <div class="boc-input" data-boc-input="" ${r.disabledAttribute} ${r.vlidators}>
                        <label for="${r.id}">${e._escapeGreaterLessSign(r.label)}</label>
                        <select data-binding="${e._escapeDoubleQuotes(r.binding)}" ${r.readOnlyAttribute} id="${r.id}" name="${r.id}">
                            ${function(){for(var l="",a=0;a<r.options.length;a++){var d=r.options[a];l+=`<option ${d.value==r.value?"selected":""} value="${e._escapeDoubleQuotes(d.value)}">${e._escapeGreaterLessSign(d.text)}</option>`}return l}()}                           
                        </select>
                    </div>
                </div>`,id:r.id,value:r.value}},e.elements.multiSelect=function(t,i,o,n){if(n)return e.elements.textbox(t,i,o,n);var r=e.elements._vidrf(t,i,n);return r.doNotRender?{html:""}:{html:`<div class="boc-form-field" style="min-width: ${o};">
                    <div class="boc-input" data-boc-input="" ${r.disabledAttribute} ${r.vlidators}>
                        <label for="${r.id}">${e._escapeGreaterLessSign(r.label)}</label>
                        <select class="multiple" data-binding="${e._escapeDoubleQuotes(r.binding)}" ${r.readOnlyAttribute} id="${r.id}" name="${r.id}" multiple>
                            ${function(){for(var l="",a=0;a<r.options.length;a++){var d=r.options[a];l+=`<option ${r.value.includes(d.value)?"selected":""} value="${e._escapeDoubleQuotes(d.value)}">${e._escapeGreaterLessSign(d.text)}</option>`}return l}()}                           
                        </select>
                    </div>
                </div>`,id:r.id,value:r.value}},e.elements.date=function(t,i,o,n){var r=e.elements._vidrf(t,i,n);return r.doNotRender?{html:""}:{html:`<div class="boc-form-field" style="min-width: ${o};">
                    <div class="boc-input" data-boc-input="" ${r.disabledAttribute} ${r.vlidators}>
                        <label for="${r.id}" class="hasval">${e._escapeGreaterLessSign(r.label)}</label>
                        <input data-binding="${e._escapeDoubleQuotes(r.binding)}" ${r.readOnlyAttribute} maxlength="256" id="${r.id}" name="${r.id}" type="date" value="${e._escapeDoubleQuotes(r.value)}" autocomplete="off">
                    </div>
                </div>`,id:r.id,value:r.value}},e.elements._vidrf=function(t,i,o){var n={};if(i.binding||(i.binding=""),i.label||(i.label=""),i.type!="select"||Array.isArray(i.options)?n.options=i.options:n.options=[],n.value=t&&!e.isNEU(t[i.binding])?t[i.binding]:"",o&&n.options){for(var r=0;r<n.options.length;r++)if(n.options[r].value==n.value){n.value=n.options[r].text;break}}if(n.id=e.elements.generateId(),n.disabledAttribute=o?"data-boc-input-disabled":"",n.readOnlyAttribute=o?"readonly":"",n.id=n.id,o&&e.isNEU(n.value)&&(n.doNotRender=!0),o&&i.binding=="photo"&&(n.id=null,n.doNotRender=!0),n.binding=i.binding,n.label=i.label,n.vlidators="",i.vlidators)for(var l in i.vlidators)n.vlidators+=`data-v-${l}="${i.vlidators[l]}" `;return n},e.elements.ids=[],e.elements.generateId=function(){for(;;){var t="_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4);if(!e.elements.ids.has(t))return e.elements.ids.push(t),t}},e.input={},e.input._timeout=null,e.input.initWithTimeout=function(){e.input._timeout&&(clearTimeout(e.input._timeout),e.input._timeout=null),e.input._timeout=setTimeout(e.input.init,200)},e.input.init=function(t){var i;i=t?t.querySelectorAll("[data-boc-input]"):document.querySelectorAll("[data-boc-input]");for(var o=0;o<i.length;o++){var n=i[o],r=null;n.type&&n.type.toLowerCase()=="hidden"&&(r=n),r||(r=n.querySelector("input")),r||(r=n.querySelector("select"));var l=n.querySelector("label");l&&(r.value||r.type=="select-one"&&r.selectedOptions&&r.selectedOptions.length&&r.selectedOptions[0].value==""&&r.selectedOptions[0].innerHTML)&&l.classList.add("hasval"),r.type.toLowerCase()!="checkbox"&&r.addEventListener("focus",function(){this.classList.remove("boc-validation-error");var a=this.parentNode.querySelector("label");a.classList.add("focused");var d=a.querySelector(".boc-validation-error-message");d&&d.parentNode.removeChild(d)}),r.type.toLowerCase()!="checkbox"&&r.addEventListener("blur",function(){e.input.blurHandler(this)})}},e.input.blurHandler=function(t){var i=t.parentNode.querySelector("label");i.classList.remove("focused"),t.value||t.type=="date"?i.classList.add("hasval"):i.classList.remove("hasval")},e.input.validate=function(t){var i=null;t.type&&t.type.toLowerCase()=="hidden"&&(i=t),i||(i=t.querySelector("input")),i||(i=t.querySelector("select"));var o=t.querySelector("label");if(i.classList.remove("boc-validation-error"),o){var n=o.querySelector(".boc-validation-error-message");n&&n.parentNode.removeChild(n)}!i.selectedOptions&&i.value&&(i.value=i.value.trim());var r=t.getAttribute("data-v-required"),l=t.getAttribute("data-v-password"),a=t.getAttribute("data-v-email"),d=t.getAttribute("data-v-emails");return r&&i.value==""?(o.innerHTML+='<span class="boc-validation-error-message">&nbsp;'+r+"</span>",i.classList.add("boc-validation-error"),!1):l&&!e.input.validatePassword(i.value)?(o.innerHTML+='<span class="boc-validation-error-message">&nbsp;'+l+"</span>",i.classList.add("boc-validation-error"),!1):a&&!e.input.isValidEmail(i.value)?(o.innerHTML+='<span class="boc-validation-error-message">&nbsp;'+a+"</span>",i.classList.add("boc-validation-error"),!1):!(d&&!e.input.isValidEmails(i.value))||(o.innerHTML+='<span class="boc-validation-error-message">&nbsp;'+d+"</span>",i.classList.add("boc-validation-error"),!1)},e.input.validateAndGetData=function(t){for(var i=t.querySelectorAll("[data-boc-input]"),o=!0,n=0;n<i.length;n++){var r=i[n];e.input.validate(r)||(o=!1)}if(!o)return!1;var l=t.querySelectorAll("[data-binding]"),a={};for(n=0;n<l.length;n++){var d=l[n],s=d.getAttribute("data-binding");if(d.type.toLowerCase()=="checkbox")a[s]=d.checked;else if(d.selectedOptions&&d.hasAttribute("multiple")){var p=d.selectedOptions;a[s]=Array.from(p).map(({value:c})=>c)}else a[s]=d.value}return a},e.input.validatePassword=function(t){return t&&(t=t.trim()),!(t.length<5)&&!(t.length>18)&&t.indexOf(" ")==-1},e.input.isValidEmails=function(t){if(t)for(var i=t.split(","),o=0;o<i.length;o++){var n=i[o].trim();if(!e.input.isValidEmail(n))return!1}return!0},e.input.isValidEmail=function(t){return t&&(t=t.trim()),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())},e.ui.css=function(){return'<style data-boc-styles>.boc-button{background-color:#039be5;cursor:pointer;width:calc(100%);height:50px;color:#fff;padding-top:5px;padding-left:7px;padding-right:7px;text-align:center;text-transform:uppercase;border:1px solid #3fc0ff;display:inline-block;border-radius:5px}.boc-button.orange{background-color:#f57c00;border:1px solid #ffa03e}.boc-button.yellow{background-color:#ffca28;border:1px solid #ffdf7c}.boc-button.lower{text-transform:unset}.boc-button.transparent{background-color:transparent}.boc-button:hover{background-color:#35afea}.boc-button.orange:hover{background-color:#f79632}.boc-button.yellow:hover{background-color:#ffd452}.boc-button:active{transform:matrix(.98,0,0,.98,0,0)}.boc-button-icon{text-align:initial;cursor:pointer;margin-bottom:15px;color:#039be5}.boc-dark .boc-button-icon:hover{background-color:#2d2d2d}.boc-light .boc-button-icon:hover{background-color:#ececec}.boc-button-icon>img{height:24px;width:24px;vertical-align:middle;padding:7px}.boc-button:focus{outline:0}.boc-button-icon>img{filter:invert(46%) sepia(66%) saturate(2530%) hue-rotate(171deg) brightness(95%) contrast(98%)}.boc-light .boc-button.transparent{color:#039be5}.boc-light .boc-button.transparent:hover{color:#fff}.boc-button-loading{background-color:transparent;cursor:pointer;width:calc(100% - 2px);height:50px;color:#fff;text-align:center;text-transform:uppercase;border:1px solid #027cb7;display:inline-block;display:flex;justify-content:center;align-items:center;display:none}.boc-button-loading .boc-loading-dots div{margin:0 10px}.boc-link-boc-button{position:absolute;right:10px;top:-1px}@media screen and (max-width:1000px){.boc-link-boc-button{right:50px}}[data-boc-input-disabled] .boc-link-boc-button{display:none}[dir=rtl] .boc-link-boc-button{left:10px;right:unset}.boc-img-button{width:48px;height:48px;cursor:pointer;border-radius:50%;background-color:#039be5;background-repeat:no-repeat;background-size:24px 24px;background-position:center center;margin:3px;display:inline-block}.boc-img-button:hover{background-color:#f57c00}.boc-checkbox{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.boc-checkbox input{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.boc-checkbox-checkmark{position:absolute;top:0;left:0;height:25px;width:25px;border-radius:5px}.boc-dark [data-boc-input-disabled] .boc-checkbox-checkmark,.boc-dark [data-boc-input-disabled].boc-checkbox input:checked~.boc-checkbox-checkmark,.boc-light [data-boc-input-disabled] .boc-checkbox-checkmark,.boc-light [data-boc-input-disabled].boc-checkbox input:checked~.boc-checkbox-checkmark{background-color:#aeaeae!important}[data-boc-input-disabled].boc-checkbox{cursor:default}[dir=rtl] .boc-checkbox-checkmark{right:0}[dir=rtl] .boc-checkbox{padding-left:unset;padding-right:35px}.boc-dark .boc-checkbox-checkmark{background-color:#333;border:1px solid #5b5b5b}.boc-light .boc-checkbox-checkmark{background-color:#fff;border:1px solid #c7c7c7}.boc-dark .boc-checkbox:hover input~.boc-checkbox-checkmark{background-color:#3c3c3c}.boc-light .boc-checkbox:hover input~.boc-checkbox-checkmark{background-color:#f8f9f9}.boc-dark .boc-checkbox input:checked~.boc-checkbox-checkmark{background-color:#039be5}.boc-light .boc-checkbox input:checked~.boc-checkbox-checkmark{background-color:#039be5}.boc-checkbox-checkmark:after{content:"";position:absolute;display:none}.boc-checkbox input:checked~.boc-checkbox-checkmark:after{display:block}.boc-checkbox .boc-checkbox-checkmark:after{left:9px;top:5px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.boc-filter{user-select:none}.boc-light .boc-filter{color:#757575}.boc-dark .boc-filter{color:#ccc}.boc-filter>div>div{display:inline-block;padding:3px 10px;cursor:pointer}.boc-filter-menu fieldset,.boc-filter>div,.filter-field-selected{border-radius:5px}.boc-filter-menu fieldset{overflow-y:auto;max-height:300px}.boc-filter>div.boc-filter-menu{padding:10px}.boc-light .boc-filter>div.boc-filter-menu,.boc-light .filter-field-selected{background-color:#f8f9f9}.boc-dark .boc-filter>div.boc-filter-menu,.boc-dark .filter-field-selected{background-color:#3c3c3c}.boc-light .boc-filter>div{background-color:#eee}.boc-dark .boc-filter>div{background-color:#333}.boc-form-perspective{transform-style:preserve-3d;perspective:500px;position:absolute;top:32px}.boc-form{box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;padding:14px;transform-origin:top center;user-select:none;display:none;position:relative;max-height:calc(100vh - 100px);overflow-y:auto;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.boc-form-bottom{border-bottom-left-radius:unset;border-bottom-right-radius:unset;border-top-left-radius:5px;border-top-right-radius:5px}.boc-form .separator{margin:0 10px}@media screen and (max-width:1000px){.boc-form-perspective{min-width:100%;max-height:calc(100% - 32px);left:unset!important;right:unset!important;transform:none!important}.boc-form .set{max-height:calc(100vh - 74px)}.boc-form-fieldset{max-width:unset!important}}.boc-light .boc-form .separator{border-bottom:1px solid #c7c7c7}.boc-dark .boc-form .separator{border-bottom:1px solid #5b5b5b}.boc-light .boc-form{background-color:#fff}.boc-dark .boc-form{background-color:#252526}.boc-item{padding:6px 12px 6px 12px;display:flex;flex-direction:row}.boc-light .boc-form .boc-item.selected,.boc-light .boc-form .boc-item:hover{background-color:#0074e8;color:#fff}.boc-dark .boc-form .boc-item.selected,.boc-dark .boc-form .boc-item:hover{background-color:#094771;color:#fff}.boc-item.selected img,.boc-item:hover img{filter:invert(100%)}.boc-item.selected img{visibility:visible!important}.boc-form-fieldset{display:flex;flex-wrap:wrap;margin:0!important}.boc-form-field{flex:1 0 21%;margin:3px;min-width:200px}.boc-form-field-100{flex:1 0 96%;margin:3px;min-width:200px}.boc-input{position:relative}.boc-input>input,.boc-input>select{height:50px;padding:18px 10px 2px 9px;width:100%;box-sizing:border-box;border-style:solid;border-width:1px}.boc-input select{height:50px;padding:20px 5px 4px 5px}[data-boc-input-disabled].boc-input>input,[data-boc-input-disabled].boc-input>select{border-color:transparent!important}.boc-light [data-boc-input-disabled]>input,.boc-light [data-boc-input-disabled]>select{background-color:#fff!important}.boc-dark [data-boc-input-disabled]>input,.boc-dark [data-boc-input-disabled]>select{background-color:#252526!important}[data-boc-input-disabled]>select{appearance:none;padding-left:8px}.boc-input>label{display:inline-block;position:absolute;padding-left:10px;padding-right:10px;color:#acacac;cursor:text;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;-ms-transition:all .1s ease-out;-o-transition:all .1s ease-out;transition:all .1 ease-out;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:initial;text-align:initial;white-space:nowrap}.boc-input>label{top:12px;overflow:hidden;text-overflow:ellipsis;max-width:calc(100% - 14px)}.boc-input>label.focused,.boc-input>label.hasval{top:-1px}.boc-input>input,.boc-input>select{outline:0;border-radius:5px}.boc-dark .boc-input>label.focused,.boc-light .boc-input>label.focused{color:#039be5}.boc-dark .boc-input>input,.boc-dark .boc-input>select{color:#ccc;background-color:#333;border-color:#5b5b5b}.boc-light .boc-input>input,.boc-light .boc-input>select{color:#757575;background-color:#fff;border-color:#c7c7c7}.boc-light .boc-input>input:focus,.boc-light .boc-input>select:focus{border-color:#039be5;background-color:#f8f9f9}.boc-dark .boc-input>input:focus,.boc-dark .boc-input>select:focus{border-color:#039be5;background-color:#3c3c3c}.boc-dark .boc-input>input.boc-validation-error,.boc-dark .boc-input>select.boc-validation-error,.boc-light .boc-input>input.boc-validation-error,.boc-light .boc-input>select.boc-validation-error{border-color:#ca2a2a}.boc-dark .boc-validation-error-message,.boc-light .boc-validation-error-message{color:#ca2a2a}.boc-input select.multiple{height:initial}.boc-link{color:#039be5;cursor:pointer;text-decoration:underline}.boc-link:hover{color:#f57c00}.boc-dark ::-webkit-scrollbar,.boc-light ::-webkit-scrollbar{width:15px;height:15px}.boc-dark ::-webkit-scrollbar-corner{background:#1e1e1e}.boc-dark ::-webkit-scrollbar-track{background:#1e1e1e;border-left:1px solid #333;border-top:1px solid #333}.boc-dark ::-webkit-scrollbar-thumb{background:#424242}.boc-dark ::-webkit-scrollbar-thumb:hover{background:#4f4f4f}.boc-dark ::-webkit-scrollbar-thumb:active{background:#5e5e5e}.boc-light ::-webkit-scrollbar-corner{background:#fff}.boc-light ::-webkit-scrollbar-track{background:#fff;border-left:1px solid #ddd;border-top:1px solid #ddd}.boc-light ::-webkit-scrollbar-thumb{background:#c1c1c1}.boc-light ::-webkit-scrollbar-thumb:hover{background:#929292}.boc-light ::-webkit-scrollbar-thumb:active{background:#666}.boc-edit-form{position:fixed;top:0;right:0;height:100%;width:100%;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;display:flex;flex-direction:column;height:100%;width:400px}@media screen and (max-width:1000px){.boc-edit-form{width:100%}}.boc-dark .boc-edit-form{background-color:#252526}.boc-light .boc-edit-form{background-color:#fff}.boc-edit-form-header{height:200px;text-align:center;border-radius:10px}.export-service .boc-edit-form-header{border-radius:unset}.boc-edit-form-title{color:#fff;margin:0;padding:14px 17px 7px 17px}.boc-edit-form-avatar{border-radius:50%;width:150px;height:150px;position:absolute;top:75px;border:5px solid #fff;left:50%;transform:translateX(-50%);background-color:#cacaca;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0}.boc-edit-form-close{position:absolute;right:14px;top:14px;width:34px;height:34px;cursor:pointer}.boc-edit-form-fields{flex-grow:1;overflow-y:auto;overflow-x:hidden}.boc-edit-form-fields-inner{margin:0 7px 20px 7px}.boc-chart-menu{opacity:0;display:inline-block;position:absolute;text-align:left;user-select:none;min-width:270px;box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;font:13px/28px Helvetica,"Segoe UI",Arial,sans-serif;border-radius:10px}.boc-chart-menu>div:hover img{filter:invert(100%)}.boc-chart-menu [data-item]{text-align:start;padding:7px 10px}.boc-dark .boc-chart-menu [data-item]{background-color:#252526;color:#acacac;border-bottom:1px solid #333}.boc-dark .boc-chart-menu [data-item]:hover{background-color:#094771!important;color:#fff!important}.boc-dark .boc-chart-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.boc-light .boc-chart-menu [data-item]{background-color:#fff;color:#333;border-bottom:1px solid #c7c7c7}.boc-light .boc-chart-menu [data-item]:hover{background-color:#0074e8!important;color:#fff!important}.boc-light .boc-chart-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.boc-chart-menu [data-item] svg{vertical-align:middle}.boc-chart-menu [data-item]:first-child{border-top-left-radius:7px;border-top-right-radius:7px}.boc-chart-menu [data-item]:last-child{border-bottom-width:0;border-bottom-style:none;border-bottom-left-radius:7px;border-bottom-right-radius:7px}.boc-search{position:absolute}@media screen and (max-width:500px){.boc-search{width:calc(100% - 30px);left:15px}}.boc-search .boc-input{margin-bottom:0}.boc-search-input{color:#7a7a7a;width:100%;border:none;outline:0;padding-top:10px;padding-right:47px}.boc-search-image-td{width:43px}.boc-search-text-td{padding-inline-end:7px;line-height:15px;text-align:start}.boc-search table{box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;margin:0 3.5px 0 3.5px;width:calc(100% - 7px);border-radius:7px}.boc-search table tr:first-child td:first-child{border-top-left-radius:7px}.boc-search table tr:first-child td:last-child{border-top-right-radius:7px}[dir=rtl] .boc-search table tr:first-child td:first-child{border-top-left-radius:unset;border-top-right-radius:7px}[dir=rtl] .boc-search table tr:first-child td:last-child{border-top-right-radius:unset;border-top-left-radius:7px}.boc-search table tr:last-child td:first-child{border-bottom-left-radius:7px}.boc-search table tr:last-child td:last-child{border-bottom-right-radius:7px}[dir=rtl] .boc-search table tr:last-child td:first-child{border-bottom-left-radius:unset;border-bottom-right-radius:7px}[dir=rtl] .boc-search table tr:last-child td:last-child{border-bottom-right-radius:unset;border-bottom-left-radius:7px}.boc-dark .boc-search table{background-color:#252526;color:#acacac}.boc-search [data-search-item-id]{cursor:pointer}.boc-search-photo{margin:7px 7px 0 7px;width:32px;height:32px;background-size:cover;background-position:top center;border-radius:50%;display:inline-block;border:1px solid #8c8c8c}.boc-search [data-search-item-id]:hover .boc-link{color:#ffca28}.boc-search [data-search-item-id]:hover .boc-link:hover{color:#f57c00}.boc-dark .boc-search [data-search-item-id] td{border-top:1px solid #333}.boc-dark .boc-search [data-search-item-id]:hover,.boc-dark .boc-search [data-selected=yes]{background-color:#094771;color:#fff}.boc-light .boc-search table{background-color:#fff;color:#333}.boc-light .boc-search [data-search-item-id] td{border-top:1px solid #c7c7c7}.boc-light .boc-search [data-search-item-id]:hover,.boc-light .boc-search [data-selected=yes]{background-color:#0074e8;color:#fff}.boc-search [data-search-item-id]:first-child td{border-top:unset}.boc-ripple-container{position:absolute;top:0;right:0;bottom:0;left:0}.boc-drag-over rect{opacity:.5}.boc-ripple-container span{transform:scale(0);border-radius:100%;position:absolute;opacity:.75;background-color:#fff;animation:boc-ripple 1s}@-moz-keyframes boc-ripple{to{opacity:0;transform:scale(2)}}@-webkit-keyframes boc-ripple{to{opacity:0;transform:scale(2)}}@-o-keyframes boc-ripple{to{opacity:0;transform:scale(2)}}@keyframes boc-ripple{to{opacity:0;transform:scale(2)}}.boc-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.boc-slider:before{position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;-webkit-transition:.4s;transition:.4s}.boc-slider.round{border-radius:24px}.boc-slider.round:before{border-radius:50%}svg text:hover{cursor:default}svg.boc-cursor-grab,svg.boc-cursor-grab text:hover{cursor:grab}svg.boc-cursor-nodrop,svg.boc-cursor-nodrop text:hover{cursor:no-drop}svg.boc-cursor-copy,svg.boc-cursor-copy text:hover{cursor:copy}svg.boc-cursor-move,svg.boc-cursor-move text:hover{cursor:move}#boc-close-btn:focus,#boc-close-btn:hover{color:#000;text-decoration:none;cursor:pointer}#boc-id-select:focus{outline:.5px solid #aeaeae}#boc-sampleDialog #title:hover{cursor:default;background:gray}.boc-light{background-color:#fff;font:13px/28px Helvetica,"Segoe UI",Arial,sans-serif}.boc-dark{background-color:#1e1e1e;font:13px/28px Helvetica,"Segoe UI",Arial,sans-serif}.boc-light .boc-fill{fill:#fff}.boc-dark .boc-fill{fill:#1e1e1e}.boc-dark input,.boc-dark select,.boc-light input,.boc-light select{font:16px Helvetica,"Segoe UI",Arial,sans-serif}.boc-dark h1,.boc-light h1{font-size:30px;line-height:1}.boc-edit-form{position:absolute;border-radius:10px}.export-service .boc-edit-form{border-radius:unset}.boc-dark .boc-edit-form{color:#acacac}.boc-light .boc-edit-form{color:#333}.boc-dark ::-webkit-calendar-picker-indicator{filter:invert(70%)}.boc-light ::-webkit-calendar-picker-indicator{filter:invert(50%)}.boc-edit-form-instruments{margin:42px 10px 0 10px;text-align:center;min-height:70px}.boc-img-button svg{position:relative;top:12px}.boc-light .boc-toolbar-container svg circle,.boc-light .boc-toolbar-container svg line,.boc-light .boc-toolbar-container svg path{stroke:#8c8c8c!important}.boc-dark .boc-toolbar-container svg circle,.boc-dark .boc-toolbar-container svg line,.boc-dark .boc-toolbar-container svg path{stroke:#8c8c8c!important}.boc-dark .boc-toolbar-container svg rect{fill:#252526!important}.boc-dark .boc-toolbar-container [data-tlbr=minus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-bottom:1px solid #5b5b5b!important}.boc-dark .boc-toolbar-container [data-tlbr=plus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-top:1px solid #5b5b5b!important}.boc-dark .boc-toolbar-container [data-tlbr]>svg{border:1px solid #5b5b5b!important;background-color:#252526!important}.boc-toolbar-layout{height:123px;padding-top:20px;position:absolute;width:100%;left:"0";bottom:"-145px"}.boc-light .boc-toolbar-layout{border-top:1px solid #c7c7c7;background-color:#f9f9f9}.boc-dark .boc-toolbar-layout{border-top:1px solid #5b5b5b;background-color:#2b2b2b}.boc-dotted-connector path{stroke-dasharray:7}.boc-undo-redo{position:absolute;top:23px;left:23px}@media screen and (max-width:500px){.boc-undo-redo{position:absolute;top:83px;left:23px}}.boc-light .boc-undo-redo path{fill:#cacaca}.boc-dark .boc-undo-redo path{fill:#5b5b5b}.boc-light .boc-undo-redo .boc-ur-clickable path{fill:#9c9c9c}.boc-dark .boc-undo-redo .boc-ur-clickable path{fill:#8c8c8c}.boc-undo-redo .boc-ur-clickable rect{cursor:pointer}.boc-undo-redo>span{position:relative;display:inline-block;user-select:none}.boc-undo-redo .boc-undo-i{left:-6px;top:-6px}.boc-undo-redo .boc-redo-i{right:-6px;bottom:6px}.boc-undo-redo>span>span{color:#fff;position:absolute;display:inline-block;min-width:20px;min-height:20px;border-radius:50%;line-height:20px;text-align:center;padding:1px;user-select:none;cursor:pointer}.boc-light .boc-undo-redo>span>span{background-color:#9c9c9c}.boc-dark .boc-undo-redo>span>span{background-color:#8c8c8c}</style>'},e===void 0&&(e={}),e.prototype.onField=function(t){return this.on("field",function(i,o){return t.call(i,o)})},e.prototype.onInit=function(t){return this.on("init",function(i){return t.call(i)})},e.prototype.onRedraw=function(t){return this.on("redraw",function(i){return t.call(i)})},e.prototype.onUpdateNode=function(t){return this.on("update",function(i,o,n){var r={oldData:o,newData:n};return t.call(i,r)})},e.prototype.onUpdated=function(t){return this.on("updated",function(i){return t.call(i)})},e.prototype.onRemoveNode=function(t){return this.on("remove",function(i,o,n){var r={id:o,newPidsAndStpidsForIds:n};return t.call(i,r)})},e.prototype.onAddNode=function(t){return this.on("add",function(i,o){var n={data:o};return t.call(i,n)})},e.prototype.onDrop=function(t){return this.on("drop",function(i,o,n,r,l){var a={dragId:o,dropId:n,dragNodeElement:r,event:l};return t.call(i,a)})},e.prototype.onDrag=function(t){return this.on("drag",function(i,o,n,r){var l={dragId:o,event:n,nodeIds:r};return t.call(i,l)})},e.prototype.onExpandCollpaseButtonClick=function(t){return this.on("expcollclick",function(i,o,n,r){var l={collapsing:o,id:n,ids:r};return t.call(i,l)})},e.prototype.onExportStart=function(t){return this.on("exportstart",function(i,o){return t.call(i,o)})},e.prototype.onExportEnd=function(t){return this.on("exportend",function(i,o){return t.call(i,o)})},e.prototype.onNodeClick=function(t){return this.on("click",function(i,o){return t.call(i,o)})},e.prototype.onNodeDoubleClick=function(t){return this.on("dbclick",function(i,o){var n={data:o};return t.call(i,n)})},e.filterUI=function(){},e.filterUI.prototype.init=function(t){this.instance=t,this.element=null,this.filterBy=null,this._event_id=e._guid()},e.filterUI.prototype.addFilterTag=function(t){if(!this.instance.config.filterBy||e.isNEU(t))return!1;if(this.filterBy!==null||typeof this.instance.config.filterBy!="object"||Array.isArray(this.instance.config.filterBy)||(this.filterBy=JSON.parse(JSON.stringify(this.instance.config.filterBy))),this.filterBy!=null)for(var i in this.filterBy){var o=t[i];if(o!=null){var n=this.filterBy[i];if(n!=null){var r=n[o];if(r!=null&&r.checked===!1)return!0}}}return!1},e.filterUI.prototype.show=function(t){var i=this.element.querySelector('[data-filter-field="'+t+'"]');i&&i.click()},e.filterUI.prototype.hide=function(){var t=this.instance.element.querySelector("[data-filter-close]");t&&t.click()},e.filterUI.prototype.update=function(){if(this.instance.config.filterBy){var t={};if(this.instance.config.filterBy=="all")for(var i=e.manager.getAllFields(this.instance.config),o=0;o<i.length;o++){var n=i[o];n!="tags"&&n!="id"&&n!="pid"&&n!="ppid"&&n!="stpid"&&(t[n]={})}else if(Array.isArray(this.instance.config.filterBy))for(o=0;o<this.instance.config.filterBy.length;o++)t[this.instance.config.filterBy[o]]={};else if(typeof this.instance.config.filterBy=="object")for(var r in this.instance.config.filterBy)t[r]={};for(var l in t){var a=t[l];for(o=0;o<this.instance.config.nodes.length;o++){var d=this.instance.config.nodes[o][l];d!=null&&(a[d]||(a[d]={checked:!0,text:d}))}}if(this.filterBy!=null){for(var s in t)if(this.filterBy[s])for(var p in t[s])this.filterBy[s][p]&&(t[s][p]=this.filterBy[s][p])}if(e.FILTER_ALPHABETICALLY){var c=Object.keys(t).sort(),h=t;for(t={},o=0;o<c.length;o++)t[f=c[o]]=h[f];for(var l in t)for(a=t[l],t[l]={},c=Object.keys(a).sort(),o=0;o<c.length;o++){var f=c[o];t[l][f]=a[f]}}this.filterBy=t;var u=this;this.element=this.instance.element.querySelector("[data-filter]"),this.element&&this.element.parentNode.removeChild(this.element),this.element=document.createElement("div"),this.element.setAttribute("data-filter",""),this.element.style.position="absolute",this.element.setAttribute("class","boc-filter"),this.instance.config.undoRedoStorageName?(this.element.style.top=0,this.element.style.left="50%",this.element.style.transform="translate(-50%)"):(this.element.style.top=this.instance.config.padding+"px",this.element.style.left=this.instance.config.padding+"px");var v="";for(var s in this.filterBy){var x={name:s,html:`<div data-filter-field="${s}">${s}</div>`};e.events.publish("add-filter",[u,x]),v+=x.html}this.element.innerHTML=`<div>${v}</div>`,this.element.addEventListener("click",function(_){if(_.target.hasAttribute("data-filter-close")||_.target.hasAttribute("data-filter-field")){for(var g=_.target.getAttribute("data-filter-field"),y=u.instance.element.querySelectorAll("[data-filter-menu]"),b=0;b<y.length;b++)y[b].style.display="none";var m=u.instance.element.querySelectorAll(".filter-field-selected");for(b=0;b<m.length;b++)m[b].classList.remove("filter-field-selected");var E=u.instance.element.querySelector("[data-filter-close]");if(E&&E.parentNode.removeChild(E),_.target.hasAttribute("data-filter-close")||!_.target.hasAttribute("data-filter-field"))return;var w=u.instance.element.querySelector(`[data-filter-menu="${g}"]`);if(!w){var S="checked";for(var A in u.filterBy[g])u.filterBy[g][A].checked||(S="");var I={name:g,text:e.filterUI.all,value:g,checked:!0,html:`<div>
                        <input data-all type="checkbox" id="${g}" name="${g}" ${S}>
                        <label for="${g}">${e.filterUI.all}</label>
                    </div>`};e.events.publish("add-item",[u,I]);var M=I.html;for(var k in u.filterBy[g]){var L=u.filterBy[g][k],P=L.text;P==null&&(P=k),I={name:g,text:P,value:k,checked:L.checked,html:`<div>
                            <input  type="checkbox" id="${g}_${k}" name="${k}" ${L.checked?"checked":""}>
                            <label for="${g}_${k}">${P}</label>
                        </div>`},e.events.publish("add-item",[u,I]),M+=I.html}w=document.createElement("div");var j=e.filterUI.textFilterBy;w.innerHTML=`<fieldset>
                                                    <legend>${j} ${g}:</legend>
                                                    ${M}
                                                </fieldset>`,w.setAttribute("data-filter-menu",g),w.classList.add("boc-filter-menu"),_.target.parentNode.parentNode.appendChild(w);var z=w.querySelectorAll("input");for(b=0;b<z.length;b++)z[b].addEventListener("change",function(T){for(var N=T.target;N&&!N.hasAttribute("data-filter-menu");)N=N.parentNode;if(N){var R=N.getAttribute("data-filter-menu");if(T.target.hasAttribute("data-all")){for(var V=T.target.parentNode.parentNode.querySelectorAll("input"),U=0;U<V.length;U++)if(V[U]!=T.target)for(var F in V[U].checked=T.target.checked,u.filterBy[R])u.filterBy[R][F].checked=T.target.checked}else if(u.filterBy[R][this.name]!=null&&(u.filterBy[R][this.name].checked=this.checked),this.checked){for(var K=u.instance.config.nodes,C=0;C<K.length;C++)if(K[C][R]==this.name){for(var B=K[C];B;)if(e.isNEU(B.stpid))B=e.isNEU(B.pid)?null:u.instance._get(B.pid);else if((B=u.instance._get(B.stpid))[R]){var O=T.target.parentNode.parentNode.querySelector('[name="'+B[R]+'"]');O?(O.checked=this.checked,u.filterBy[R][B[R]].checked=this.checked):console.error('Cannot find element with selector: [name="'+B[R]+'"]')}}}var q=!0;for(var W in u.filterBy[R])u.filterBy[R][W].checked||(q=!1);N.querySelector("[data-all]").checked=q,u.instance.draw()}})}w.style.display="block",_.target.classList.add("filter-field-selected"),(E=document.createElement("div")).classList.add("close"),E.innerHTML="x",E.setAttribute("data-filter-close",""),_.target.parentNode.appendChild(E),e.events.publish("show-items",[u,{name:g}])}}),this.instance.element.appendChild(this.element),e.events.publish("update",[this,{}])}},e.filterUI.prototype.on=function(t,i){return e.events.on(t,i,this._event_id),this},e.filterUI.textFilterBy="Filter by",e.filterUI.all="[All]",e===void 0&&(e={}),e.remote===void 0&&(e.remote={}),e.LIMIT_NODES=!0,e.remote._fromResDTO=function(t,i,o,n,r){var l=i[t.id];t.x=l.p[0],t.y=l.p[1],t.w=l.p[2],t.h=l.p[3],l.ln!=null&&(t.leftNeighbor=r[l.ln]),l.rn!=null&&(t.rightNeighbor=r[l.rn]);for(var a=0;a<t.stChildren.length;a++)e.remote._fromResDTO(t.stChildren[a],i,o,n,r);for(a=0;a<t.children.length;a++)e.remote._fromResDTO(t.children[a],i,o,n,r)},e.remote._toReqDTO=function(t,i){var o={p:[t.id,t.parent!=null?t.parent.id:null,t.stParent!=null?t.stParent.id:null,t.w,t.h]};t.children.length>0&&(o.c=e.remote._convertToIdArray(t.children)),t.stChildren.length>0&&(o.v=e.remote._convertToIdArray(t.stChildren)),t.layout!=null&&t.layout!=0&&(o.l=t.layout),t.isAssistant&&(o.a=1),t.isSplit&&(o.s=t.isSplit),t.isMirror&&(o.im=t.isMirror),t.padding&&(o.q=t.padding),t.lcn&&(o.k=t.lcn),t.stContainerNodes&&(o.b=e.remote._convertToIdArray(t.stContainerNodes)),t.isPartner&&(o.i=t.isPartner),t.hasPartners&&(o.g=t.hasPartners),t.partnerSeparation&&(o.e=t.partnerSeparation),i.push(o);for(var n=0;n<t.stChildren.length;n++)e.remote._toReqDTO(t.stChildren[n],i);for(n=0;n<t.children.length;n++)e.remote._toReqDTO(t.children[n],i)},e.remote._toReqLayoutConfigsDTO=function(t){var i={};for(var o in t){var n=t[o];i[o]||(i[o]=[]),i[o][0]=n.orientation,i[o][1]=n.levelSeparation,i[o][2]=n.mixedHierarchyNodesSeparation,i[o][3]=n.subtreeSeparation,i[o][4]=n.siblingSeparation,i[o][5]=n.layout,i[o][6]=n.columns,i[o][7]=n.collapse,i[o][8]=n.assistantSeparation,i[o][9]=n.partnerNodeSeparation}return i},e.remote._convertToIdArray=function(t){for(var i=[],o=0;o<t.length;o++)i.push(t[o].id);return i},e.remote._setPositions=function(t,i,o,n){for(var r=[],l=[],a=e.remote._toReqLayoutConfigsDTO(i),d=0;d<t.length;d++)l.push(t[d].id),e.remote._toReqDTO(t[d],r);var s={n:r,c:a,r:l,v:"8.14.00"};if(e.LIMIT_NODES||(s.l=!0),e.remote._fromReqDTO!=null)e.remote._fromReqDTO(s.n,s.r,s.c,function(c){for(var h=0;h<t.length;h++)e.remote._fromResDTO(t[h],c,0,t,n);o()});else{s=JSON.stringify(s);var p=e.localStorage.getItem(s);p&&(p=JSON.parse(p)),p&&!p.limit?e.remote._proceed(t,p,n,o):e.remote._findRegion(function(c){e._ajax(c,"post",s,"json",function(h){h.error?o(2):(e.remote._proceed(t,h,n,o),e.localStorage.setItem(s,JSON.stringify(h)))})})}},e.remote._proceed=function(t,i,o,n){if(typeof i=="string"&&(i=JSON.parse(i)),i.limit&&i.limit==1)n(i.limit);else{for(var r=0;r<t.length;r++)e.remote._fromResDTO(t[r],i,0,t,o);n()}},e.remote._findRegion=function(t){var i=e.localStorage.getItem(e.FUNC_URL_NAME);if(i)t(i);else{for(var o=["defunc2","cusfunc2","bsfunc2","acfunc2","kcfunc2","safunc2","wifunc2"],n=[],r=0;r<o.length;r++)n.push(new XMLHttpRequest);for(r=0;r<o.length;r++)(function(){var l="https://"+o[r]+e.SERVER_PREFIX,a=n[r];a.onreadystatechange=function(){if(this.readyState==4&&this.status==200){e.localStorage.setItem(e.FUNC_URL_NAME,l),t(l);for(var d=0;d<n.length;d++)n[d].abort()}},a.open("GET",l,!0),a.send()})()}}})($e);var Re=$e.exports;const ut={class:"col-12",id:"tree"},ft={__name:"MiOrganigramaPage",setup(D){const e=Ue({});We(()=>{const i=t();e.value=new Re(document.getElementById("tree"),{mouseScrool:Re.action.ctrlZoom,scaleInitial:i.scaleInitial,enableSearch:i.enableSearch,template:"isla",padding:20,subtreeSeparation:50,miniMap:!0,enableSearch:!1,enableDragDrop:!1,collapse:{level:3,allChildren:!0},layout:Re.layout.grid,mixedHierarchyNodesSeparation:5,align:Re.ORIENTATION,slinks:[{from:"AUXILIAR_BODEGA",to:"COORDINACION TELCONET"}],toolbar:{fullScreen:!0,zoom:!0,fit:!0,expandAll:!0},nodeBinding:{field_0:"Empleado",field_1:"Cargo"},scaleInitial:i.scaleInitial,tags:{AUDITOR_INTERNO:{template:"ula"}}}),e.value.load([{id:"DIRECTORIO",tags:["DIRECTORIO"],Empleado:"GERENCIA"},{id:"ACCIONISTA",pid:"DIRECTORIO",tags:["ACCIONISTA"],Empleado:"Jean Patricio Pazmi\xF1o Barros",Cargo:"Accionista",img:"/storage/fotosPerfiles/HbMVQIG5Uw.jpeg"},{id:"PRESIDENTE",pid:"DIRECTORIO",tags:["PRESIDENTE"],Empleado:"Yanina Vanessa Loja Torres",Cargo:"Presidente",img:"/storage/fotosPerfiles/qhL7YouZh4.jpeg"},{id:"GERENTE_PROCESOS",pid:"DIRECTORIO",tags:["GERENTE_PROCESOS"],Empleado:"Veronica Valencia",Cargo:"Gerente de Procesos"},{id:"GERENTE_GENERAL",pid:"DIRECTORIO",tags:["GERENTE_GENERAL"],Empleado:"Wellington Fernando Barros Sanchez",Cargo:"Gerente General",img:"/storage/fotosPerfiles/6sfs4jX8jH.jpeg"},{id:"AUDITOR_INTERNO",pid:"DIRECTORIO",tags:["AUDITOR_INTERNO","external"],Empleado:"Jairo Alexander Qui\xF1ones Monta\xF1o",Cargo:"Auditor Interno",img:"/storage/fotosPerfiles/PnSjTUnQQ1.jpeg"},{id:"CONTADOR_EXTERNO",pid:"GERENTE_GENERAL",tags:["CONTADOR_EXTERNO"],Empleado:"Angel Quito",Cargo:"Contador General"},{id:"CONTABILIDAD",pid:"CONTADOR_EXTERNO",tags:["CONTABILIDAD","department"],Empleado:"Contabilidad"},{id:"CONTADOR_GENERAL",pid:"CONTABILIDAD",tags:["CONTADOR_GENERAL"],Empleado:"Mariuxi Isabel Valarezo Armijos",Cargo:"Coordinador Contable",img:"/storage/fotosPerfiles/Qrch5rNuBb.jpeg"},{id:"AUXILIAR_CONTABLE_1",pid:"CONTADOR_GENERAL",tags:["AUXILIAR_CONTABLE"],Empleado:"Allison Brigitte Muentes Gonzabay",Cargo:"Auxiliar Contable",img:"/storage/fotosPerfiles/HlF29ovXOA.jpeg"},{id:"AUXILIAR_CONTABLE_2",pid:"CONTADOR_GENERAL",tags:["AUXILIAR_CONTABLE"],Empleado:"Solange Carolina Romero Feijoo",Cargo:"Auxiliar Contable",img:"/storage/fotosPerfiles/2ywSn3dObX.jpeg"},{id:"AUXILIAR_CONTABLE_3",pid:"CONTADOR_GENERAL",tags:["AUXILIAR_CONTABLE"],Empleado:"Maiby Gineth Lapo Velez",Cargo:"Auxiliar Contable",img:"/storage/fotosPerfiles/WsJ3VGyzik.jpeg"},{id:"RRHH",pid:"GERENTE_GENERAL",tags:["RRHH","department"],Empleado:"Recursos Humanos"},{id:"JEFE_RRHH",pid:"RRHH",tags:["JEFE_RRHH"],Empleado:"Nombre del Jefe de RRHH",Cargo:"Jefe RRHH",img:"URL_de_la_imagen"},{id:"ASISTENTE_RRHH",pid:"JEFE_RRHH",tags:["ASISTENTE_RRHH"],Empleado:"Nombre del Asistente de RRHH",Cargo:"Asistente RRHH",img:"URL_de_la_imagen"},{id:"INFORMATICA",pid:"GERENTE_GENERAL",tags:["INFORMATICA","department"],Empleado:"Inform\xE1tica"},{id:"COORDINADOR_INFORMATICA",pid:"INFORMATICA",tags:["COORDINADOR_INFORMATICA"],Empleado:"Wilson Steven Cordova Eras",Cargo:"Coordinador de Inform\xE1tica",img:"/storage/fotosPerfiles/tQ08NuZawZ.jpeg"},{id:"TECNICO_HELP_DESK",pid:"COORDINADOR_INFORMATICA",tags:["TECNICO_HELP_DESK"],Empleado:"Erick Antonio Ca\xF1arte Vega",Cargo:"T\xE9cnico Help Desk",img:"URL_de_la_imagen"},{id:"PROGRAMADOR",pid:"COORDINADOR_INFORMATICA",tags:["PROGRAMADOR"],Empleado:"Juan Bryan Cuesta Vera",Cargo:"Programador",img:"/storage/fotosPerfiles/tGINpIuMDC.jpeg"},{id:"SSA",pid:"GERENTE_GENERAL",tags:["SSA","department"],Empleado:"Seguridad, Salud y Ambiente (SSA)"},{id:"JEFE_SSA",pid:"SSA",tags:["JEFE_SSA"],Empleado:"Arnaldo Jose Serrano Coello",Cargo:"Jefe Unidad SSA",img:"/storage/fotosPerfiles/8vgsdMgg1x.jpeg"},{id:"TECNICO_AMBIENTAL",pid:"JEFE_SSA",tags:["TECNICO_AMBIENTAL"],Empleado:"Brigitte Estefania Andrango Rodriguez",Cargo:"T\xE9cnico Ambiental",img:"/storage/fotosPerfiles/UPEOXzdCMg.jpeg"},{id:"MEDICO_OCUPACIONAL",pid:"JEFE_SSA",tags:["MEDICO_OCUPACIONAL"],Empleado:"Jefferson Paclito Freire Torres",Cargo:"M\xE9dico Ocupacional",img:"/storage/fotosPerfiles/9QoUNExA7i.jpeg"},{id:"SERVICIOS_GENERALES",pid:"GERENTE_GENERAL",tags:["SERVICIOS_GENERALES","department"],Empleado:"Servicios Generales"},{id:"JEFE_SERVICIOS_GENERALES",pid:"SERVICIOS_GENERALES",tags:["JEFE_SERVICIOS_GENERALES"],Empleado:"Arnaldo Jose Serrano Coello",Cargo:"Jefe de Servicios Generales",img:"/storage/fotosPerfiles/8vgsdMgg1x.jpeg"},{id:43,pid:"JEFE_SERVICIOS_GENERALES",tags:["AUXILIAR_LIMPIEZA"],Empleado:"Sally Andrea Caicedo Parra",Cargo:"Auxiliar de Limpieza",img:"/storage/fotosPerfiles/OzLlF3qUvP.png"},{id:201,pid:"JEFE_SERVICIOS_GENERALES",tags:["CHOFER"],Empleado:"Luis Eduardo Chapa Romero",Cargo:"Chofer",img:"/storage/fotosPerfiles/OePhTa4Or3.jpeg"},{id:216,pid:"JEFE_SERVICIOS_GENERALES",tags:["AUXILIAR_LIMPIEZA","external"],Empleado:"Isabel Maritza Contreras Caicedo",Cargo:"Auxiliar de Limpieza (Externa)",img:"/storage/fotosPerfiles/5OjhaUEvMr.jpeg",template:"external"},{id:"BODEGA",pid:"GERENTE_GENERAL",tags:["BODEGA","department"],Empleado:"Bodega"},{id:"COORDINADOR_BODEGA",pid:"BODEGA",tags:["COORDINADOR_BODEGA"],Empleado:"Eugenia Maribel Ortega Aguilar",Cargo:"Coordinador de Bodega",img:"/storage/fotosPerfiles/o2JZuWVgoV.jpeg"},{id:"AUXILIAR_BODEGA",pid:"COORDINADOR_BODEGA",tags:["AUXILIAR_BODEGA"],Empleado:"Juan Jose Torres Quezada",Cargo:"Auxiliar de Bodega",img:"/storage/fotosPerfiles/a9hXrUhiy5.jpeg"},{id:"TECNICO",pid:"GERENTE_GENERAL",tags:["TECNICO","department"],Empleado:"T\xE9cnico"},{id:"JEFE_TECNICO",pid:"TECNICO",tags:["JEFE_TECNICO"],Empleado:"Jonnathan Adrian Veintimilla Segarra",Cargo:"Jefe T\xE9cnico",img:"/storage/fotosPerfiles/dJ69lfw1Vu.jpeg"},{id:"COORDINACION TELCONET",pid:"JEFE_TECNICO",tags:["COORDINACION TELCONET"],Empleado:"Ruben Dar\xEDo Loja Torres",Cargo:"Coordinador Telconet",img:"/storage/fotosPerfiles/VM71KPFrmn.jpeg"},{id:"COORDINACION NEDETEL",pid:"JEFE_TECNICO",tags:["COORDINACION NEDETEL"],Empleado:"Leiver Joao Celi",Cargo:"Coordinador Nedetel",img:"/storage/fotosPerfiles/rdUDc0l3he.jpeg"},{id:"COORDINACION GIS",pid:"JEFE_TECNICO",tags:["COORDINACION GIS"],Empleado:"Jonnathan Adrian Veintimilla Segarra",Cargo:"Coordinador GIS",img:"/storage/fotosPerfiles/fj7IzD20lT.jpeg"},{id:"JEFATURA DE PROYECTOS",pid:"JEFE_TECNICO",tags:["JEFATURA DE PROYECTOS"],Empleado:"Jonnathan Adrian Veintimilla Segarra",Cargo:"JEFE DE PROYECTOS",img:"/storage/fotosPerfiles/fj7IzD20lT.jpeg"},{id:46,pid:"COORDINACION TELCONET",tags:["ASISTENTE_OPERACIONES"],Empleado:"Ashley Milena Orellana Fernandez",Cargo:"Asistente de Operaciones",img:"/storage/fotosPerfiles/TaFtsPSQwM.jpeg"},{id:47,pid:46,tags:["LIDER_CUADRILLA"],Empleado:"Jairo Ignacio Seguiche Castro",Cargo:"L\xEDder de Cuadrilla",img:"/storage/fotosPerfiles/bx77huXx60.jpeg"},{id:"TECNICO_CABLISTA_1",pid:47,tags:["TECNICO_CABLISTA"],Empleado:"Jean Carlos Toala Pinargote",Cargo:"T\xE9cnico Cablista"},{id:"TECNICO_CABLISTA_2",pid:47,tags:["TECNICO_CABLISTA"],Empleado:"Michael Stalyn Briones Mendoza",Cargo:"T\xE9cnico Cablista"},{id:"TECNICO_CABLISTA_3",pid:47,tags:["TECNICO_CABLISTA"],Empleado:"Jose Jacinto Palma Choez",Cargo:"T\xE9cnico Cablista"},{id:"AYUDANTE_CABLISTA_1",pid:47,tags:["AYUDANTE_CABLISTA"],Empleado:"Jose Gabriel Pillazagua Gonzalez",Cargo:"Ayudante Cablista"},{id:"TECNICO_CABLISTA_4",pid:47,tags:["TECNICO_CABLISTA"],Empleado:"Victor Antonio Orobio Castro",Cargo:"T\xE9cnico Cablista"},{id:"AYUDANTE_CABLISTA_2",pid:47,tags:["AYUDANTE_CABLISTA"],Empleado:"Walter Eduardo Zambrano Pillasagua",Cargo:"Ayudante Cablista"},{id:"AYUDANTE_CABLISTA_3",pid:47,tags:["AYUDANTE_CABLISTA"],Empleado:"Anthony Abel Leon Gonzalez",Cargo:"Ayudante Cablista"},{id:"AYUDANTE_CABLISTA_4",pid:47,tags:["AYUDANTE_CABLISTA"],Empleado:"Luis Carlos Seguiche Choez",Cargo:"Ayudante Cablista"},{id:"AYUDANTE_CABLISTA_5",pid:47,tags:["AYUDANTE_CABLISTA"],Empleado:"Erick Alexis Mera Rodriguez",Cargo:"Ayudante Cablista"},{id:38,pid:46,tags:["LIDER_CUADRILLA"],Empleado:"Jean Carlos Parrales Cobe\xF1a",Cargo:"L\xEDder de Cuadrilla"},{id:"TECNICO_CABLISTA_5",pid:38,tags:["TECNICO_CABLISTA"],Empleado:"Jostin Jandry Parrales Cobe\xF1a",Cargo:"T\xE9cnico Cablista"},{id:"TECNICO_CABLISTA_6",pid:38,tags:["TECNICO_CABLISTA"],Empleado:"Vicente Ariel Toala Pincay",Cargo:"T\xE9cnico Cablista"},{id:"TECNICO_CABLISTA_7",pid:38,tags:["TECNICO_CABLISTA"],Empleado:"Ronald Steven Toala Pinargote",Cargo:"T\xE9cnico Cablista"},{id:"AYUDANTE_CABLISTA_6",pid:38,tags:["AYUDANTE_CABLISTA"],Empleado:"Jairo Gabriel Rivas Alvarado",Cargo:"Ayudante Cablista"},{id:"AYUDANTE_CABLISTA_7",pid:38,tags:["AYUDANTE_CABLISTA"],Empleado:"Edwin Teodoro Toala Santana",Cargo:"Ayudante Cablista"},{id:"AYUDANTE_CABLISTA_8",pid:38,tags:["AYUDANTE_CABLISTA"],Empleado:"Miguel Bolivar Perez Cevallos",Cargo:"Ayudante Cablista"},{id:"TECNICO_CABLISTA_8",pid:38,tags:["TECNICO_CABLISTA"],Empleado:"Darwin Angel Loor Pincay",Cargo:"T\xE9cnico Cablista"},{id:"AYUDANTE_CABLISTA_9",pid:38,tags:["AYUDANTE_CABLISTA"],Empleado:"Francisco Eusebio Pe\xF1afiel Perez",Cargo:"Ayudante Cablista"},{id:"AYUDANTE_CABLISTA_10",pid:38,tags:["AYUDANTE_CABLISTA"],Empleado:"Victor Hugo Zambrano Pivaque",Cargo:"Ayudante Cablista"},{id:"AYUDANTE_CABLISTA_11",pid:38,tags:["AYUDANTE_CABLISTA"],Empleado:"Jose Luis Piza Alvarado",Cargo:"Ayudante Cablista"},{id:"ALBA\xD1IL_1",pid:46,tags:["ALBA\xD1IL"],Empleado:"Ruben Dario Armijos Sanchez",Cargo:"Alba\xF1il"},{id:"AYUDANTE_OBRA_CIVIL_1",pid:46,tags:["AYUDANTE_OBRA_CIVIL"],Empleado:"Jefferson Leonardo Laaz Loor",Cargo:"Ayudante de Obra Civil"},{id:"TECNICO_AIRE_1",pid:46,tags:["TECNICO_AIRE"],Empleado:"T\xE9cnico de Aires",Cargo:"T\xE9cnico de Aires"},{id:"CHOFER_GRUA_1",pid:46,tags:["CHOFER_GRUA"],Empleado:"Chofer de Gr\xFAa",Cargo:"Chofer de Gr\xFAa"},{id:30,pid:"COORDINACION NEDETEL",tags:["COORDINADOR_TECNICO"],Empleado:"Nicolas Eduardo Pazmi\xF1o Barros",Cargo:"Coordinador T\xE9cnico",img:"/storage/fotosPerfiles/du9a4HHSDQ.jpeg"},{id:39,pid:"COORDINACION NEDETEL",tags:["COORDINADOR_TECNICO"],Empleado:"Alberto Daniel Salas Reina",Cargo:"Coordinador T\xE9cnico",img:"/storage/fotosPerfiles/pFjz0mhHiD.jpeg"},{id:76,pid:"COORDINACION NEDETEL",tags:["COORDINADOR_STAND_BY"],Empleado:"Miguel Angel Palma Macias",Cargo:"Coordinador Stand By",img:"/storage/fotosPerfiles/OrWQxnD17w.jpeg"},{id:226,pid:"COORDINACION NEDETEL",tags:["COORDINADOR_TECNICO"],Empleado:"Kelvin Francisco Menendez Cede\xF1o",Cargo:"Coordinador T\xE9cnico",img:"/storage/fotosPerfiles/K6G0zJtgBy.jpeg"},{id:415,pid:"COORDINACION NEDETEL",tags:["COORDINADOR_STAND_BY"],Empleado:"Carlos Eduardo Izquierdo Ganchoso",Cargo:"Coordinador Stand By",img:"/storage/fotosPerfiles/Cu3VeP47jf.jpeg"},{id:61,pid:226,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Angel Geovanny Chamba Enriquez",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/pWtAtBVuPG.jpeg"},{id:71,pid:226,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Wilmer Fabian Lema Chulli",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/axYQhzDoVQ.jpeg"},{id:90,pid:226,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Agustin Patricio Zambrano Guzman",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/QoWP7rBJv0.jpeg"},{id:121,pid:226,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Juan Heriberto Vargas Ang\xFCisaca",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/uS8uHtTkGF.jpeg"},{id:128,pid:226,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Oscar Eduardo Mora Cevallos",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/r9KFvmR1P3.jpeg"},{id:138,pid:226,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Luis Gabriel Gonzales Merelo",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/ys1di2qBDm.jpeg"},{id:153,pid:226,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Diego German Moran Jimenez",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/qCkjUoPbfn.jpeg"},{id:361,pid:226,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Denilson Bladimir Mocha Vacacela",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/if4aKMFSqv.jpeg"},{id:403,pid:226,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Josue Andres Quinte Granda",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/d4x7vCPQhO.jpeg"},{id:31,pid:30,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Patricio Rodrigo Mendez",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/VM71KPFrmn.jpeg"},{id:37,pid:30,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Diego Hernan I\xF1amagua Lala",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/G8izQveP0x.jpeg"},{id:48,pid:30,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Jonnathan Adrian Panchi Diaz",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/zagBt5rcUQ.png"},{id:51,pid:30,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Jimmy Javier Macas Chuchuca",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/dFOt5cEwnY.png"},{id:53,pid:30,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Jefferson Rafael Abad Zumba",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/gYBSlT9ncK.png"},{id:126,pid:30,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Bryan Jose Guerrero Prado",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/LVeahleBkX.jpeg"},{id:133,pid:30,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Christian Xavier Sangurima Tenepaguay",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/DyWcIx7HYc.jpeg"},{id:54,pid:39,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Jonathan Francisco Aguilar Alcivar",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/xr0j9ZJTgg.png"},{id:88,pid:39,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Alexander Leonel Toapanta Arroyo",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/0zj0mqzZTP.jpeg"},{id:163,pid:39,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Patricio Gabriel Villamarin Imbaquingo",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/a7771WybUu.jpeg"},{id:223,pid:39,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Jose Luis Cede\xF1o Macias",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/8DPokLUZYt.jpeg"},{id:358,pid:39,tags:["TECNICO_LIDER_GRUPO"],Empleado:"Jeferson Alfredo Vera Cadena",Cargo:"T\xE9cnico L\xEDder de Grupo",img:"/storage/fotosPerfiles/fStzgm0TO9.jpeg"},{id:33,pid:"COORDINACION GIS",tags:["DIBUJANTE GIS"],Empleado:"Joselyn Ariana Ramos Hidalgo",Cargo:"Dibujante",img:"/storage/fotosPerfiles/ZkYIo1iSC4.jpeg"},{id:"SUPERVISOR_DE_CAMPO_1",pid:"JEFATURA DE PROYECTOS",tags:["SUPERVISOR_DE_CAMPO"],Empleado:"Kevin Fernando Camacho Garcia",Cargo:"Supervisor de Campo",img:"/storage/fotosPerfiles/WSZNJxUcic.png"},{id:"SUPERVISOR_DE_CAMPO_2",pid:"JEFATURA DE PROYECTOS",tags:["SUPERVISOR_DE_CAMPO"],Empleado:"Kelvin Francisco Menendez Cede\xF1o",Cargo:"Supervisor de Campo",img:"/storage/fotosPerfiles/K6G0zJtgBy.jpeg"},{id:"VENTAS",pid:"GERENTE_GENERAL",tags:["VENTAS","department"],Empleado:"Comercial"},{id:"COORDINADOR_VENTAS",pid:"VENTAS",tags:["COORDINADOR_VENTAS"],Empleado:"Coordinador de Ventas"},{id:"SUPERVISOR_VENTAS_1",pid:"COORDINADOR_VENTAS",tags:["SUPERVISOR_VENTAS"],Empleado:"Sandra Del Rocio Arizaga Tandazo",Cargo:"Supervisora de Ventas",img:""},{id:"SUPERVISOR_VENTAS_2",pid:"COORDINADOR_VENTAS",tags:["SUPERVISOR_VENTAS"],Empleado:"Raul Ignacio Vera Astudillo",Cargo:"Supervisor de Ventas",img:""},{id:"SUPERVISOR_VENTAS_3",pid:"COORDINADOR_VENTAS",tags:["SUPERVISOR_VENTAS"],Empleado:"Claudia Stefania Loor Delgado",Cargo:"Supervisora de Ventas",img:"/storage/fotosPerfiles/pmIofLxdNN.jpeg"},{id:"VENDEDOR_1",pid:"SUPERVISOR_VENTAS_1",tags:["VENDEDOR"],Empleado:"Galo Bernardo Abril Idrovo",Cargo:"Vendedor"},{id:"VENDEDOR_2",pid:"SUPERVISOR_VENTAS_1",tags:["VENDEDOR"],Empleado:"Diego Armando Santander Velez",Cargo:"Vendedor"},{id:"VENDEDOR_3",pid:"SUPERVISOR_VENTAS_1",tags:["VENDEDOR"],Empleado:"Adrian Steven Gomez Pumayugra",Cargo:"Vendedor"},{id:"VENDEDOR_4",pid:"SUPERVISOR_VENTAS_1",tags:["VENDEDOR"],Empleado:"Henry Adan Flores Duran",Cargo:"Vendedor"},{id:"VENDEDOR_5",pid:"SUPERVISOR_VENTAS_1",tags:["VENDEDOR"],Empleado:"Juan Carlos Escandon Loja",Cargo:"Vendedor"},{id:"VENDEDOR_6",pid:"SUPERVISOR_VENTAS_1",tags:["VENDEDOR"],Empleado:"Diego Patricio Duran Calle",Cargo:"Vendedor"},{id:"VENDEDOR_7",pid:"SUPERVISOR_VENTAS_1",tags:["VENDEDOR"],Empleado:"Dario Javier Pesantez Romero",Cargo:"Vendedor"},{id:"VENDEDOR_8",pid:"SUPERVISOR_VENTAS_1",tags:["VENDEDOR"],Empleado:"Carlos Daniel Perez Orellana",Cargo:"Vendedor"},{id:"VENDEDOR_9",pid:"SUPERVISOR_VENTAS_1",tags:["VENDEDOR"],Empleado:"Henry Sebastian Minchala Calle",Cargo:"Vendedor"},{id:"VENDEDOR_10",pid:"SUPERVISOR_VENTAS_1",tags:["VENDEDOR"],Empleado:"Karla Elizabeth Ramirez Granda",Cargo:"Vendedor"},{id:"VENDEDOR_11",pid:"SUPERVISOR_VENTAS_1",tags:["VENDEDOR"],Empleado:"Nicholas Guerra Macias",Cargo:"Vendedor"},{id:"VENDEDOR_12",pid:"SUPERVISOR_VENTAS_1",tags:["VENDEDOR"],Empleado:"Alexis Mateo Heredia Quizhpi",Cargo:"Vendedor"},{id:"VENDEDOR_13",pid:"SUPERVISOR_VENTAS_1",tags:["VENDEDOR"],Empleado:"Danny Fernando Flores Heredia",Cargo:"Vendedor"},{id:"VENDEDOR_14",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Wilson Andres Aquino Calderon",Cargo:"Vendedor"},{id:"VENDEDOR_15",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Jhon Estarqui Farias Cervantes",Cargo:"Vendedor"},{id:"VENDEDOR_16",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Glenda Mariana Macias Alfonso",Cargo:"Vendedor"},{id:"VENDEDOR_17",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Jorge Enrique Villalva Mosquera",Cargo:"Vendedor"},{id:"VENDEDOR_18",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Axel Santiago Ojeda Mora",Cargo:"Vendedor"},{id:"VENDEDOR_19",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Walter Stalin Perez Castrillon",Cargo:"Vendedor"},{id:"VENDEDOR_20",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Miguel Angel Ortiz Caceres",Cargo:"Vendedor"},{id:"VENDEDOR_21",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Roberto David Sanchez Rivera",Cargo:"Vendedor"},{id:"VENDEDOR_22",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Christian Fernando Vasquez Beltran",Cargo:"Vendedor"},{id:"VENDEDOR_23",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Catalina Vanessa Mina Plata",Cargo:"Vendedor"},{id:"VENDEDOR_24",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Arisa Milena Garzon Yagual",Cargo:"Vendedor"},{id:"VENDEDOR_25",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Noely Katherine Pe\xF1a Mina",Cargo:"Vendedor"},{id:"VENDEDOR_26",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Alberto Isaac Lindao Bararata",Cargo:"Vendedor"},{id:"VENDEDOR_27",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Sandra Maria Panezo Panezo",Cargo:"Vendedor"},{id:"VENDEDOR_28",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Jorge Alberto Collaguazo Reyes",Cargo:"Vendedor"},{id:"VENDEDOR_29",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Jessica Maria Saa Rodriguez",Cargo:"Vendedor"},{id:"VENDEDOR_30",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Martha Priscilla Alvarez Paye",Cargo:"Vendedor"},{id:"VENDEDOR_31",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Roberth Alexander Briones Perez",Cargo:"Vendedor"},{id:"VENDEDOR_32",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Jefferson Alexis Tubay Pincay",Cargo:"Vendedor"},{id:"VENDEDOR_33",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Cesar Xavier Torres Bohorquez",Cargo:"Vendedor"},{id:"VENDEDOR_34",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Jina Maria Pita Vergara",Cargo:"Vendedor"},{id:"VENDEDOR_35",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Ana Maria Fuentes Briones",Cargo:"Vendedor"},{id:"VENDEDOR_36",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Tania Janeth Toala Villarroel",Cargo:"Vendedor"},{id:"VENDEDOR_37",pid:"SUPERVISOR_VENTAS_2",tags:["VENDEDOR"],Empleado:"Diana Elizabeth Alvarado Reyes",Cargo:"Vendedor"},{id:"VENDEDOR_38",pid:"SUPERVISOR_VENTAS_3",tags:["VENDEDOR"],Empleado:"Guido Oteiza Benavides",Cargo:"Vendedor"},{id:"VENDEDOR_39",pid:"SUPERVISOR_VENTAS_3",tags:["VENDEDOR"],Empleado:"Juan Carlos Delgado Guasumba",Cargo:"Vendedor"},{id:"VENDEDOR_40",pid:"SUPERVISOR_VENTAS_3",tags:["VENDEDOR"],Empleado:"Luis Fernando Asqui Placencia",Cargo:"Vendedor"},{id:"VENDEDOR_41",pid:"SUPERVISOR_VENTAS_3",tags:["VENDEDOR"],Empleado:"Sandra Elizabeth Rambay Solorzano",Cargo:"Vendedor"},{id:"VENDEDOR_42",pid:"SUPERVISOR_VENTAS_3",tags:["VENDEDOR"],Empleado:"Hanmito Antonio Quevedo Loaiza",Cargo:"Vendedor"},{id:"VENDEDOR_43",pid:"SUPERVISOR_VENTAS_3",tags:["VENDEDOR"],Empleado:"Miriam Mariuxi Cardenas Sanmartin",Cargo:"Vendedor"},{id:"VENDEDOR_44",pid:"SUPERVISOR_VENTAS_3",tags:["VENDEDOR"],Empleado:"Joseph David Barreiro Lucin",Cargo:"Vendedor"},{id:"VENDEDOR_45",pid:"SUPERVISOR_VENTAS_3",tags:["VENDEDOR"],Empleado:"Lady Marcela Tenezaca Romero",Cargo:"Vendedor"},{id:"VENDEDOR_46",pid:"SUPERVISOR_VENTAS_3",tags:["VENDEDOR"],Empleado:"Maria Fernanda Pacheco Sanchez",Cargo:"Vendedor"},{id:"VENDEDOR_47",pid:"SUPERVISOR_VENTAS_3",tags:["VENDEDOR"],Empleado:"Joselyn Michelle Soriano Tebante",Cargo:"Vendedor"},{id:"VENDEDOR_48",pid:"SUPERVISOR_VENTAS_3",tags:["VENDEDOR"],Empleado:"Yeimy Veronica Gracia Miranda",Cargo:"Vendedor"},{id:"VENDEDOR_49",pid:"SUPERVISOR_VENTAS_3",tags:["VENDEDOR"],Empleado:"Ines Maria Barahona Chango",Cargo:"Vendedor"}])});function t(){let o=new URLSearchParams(window.location.search).get("fit"),n=!0,r=1;return o=="yes"&&(n=!1,r=Re.match.boundary),{enableSearch:n,scaleInitial:r}}return(i,o)=>(ne(),re("div",ut))}};var gt=He(ft,[["__scopeId","data-v-b8d5fbcc"]]),mt=Ke({components:{TabLayoutFilterTabs2:rt,MiOrganigramaPage:gt},setup(){const D=new at(ht,new pt),{entidad:e,disabled:t,accion:i,listadosAuxiliares:o}=D.useReferencias(),{setValidador:n,cargarVista:r,obtenerListados:l,listar:a}=D.useComportamiento(),{onReestablecer:d,onConsultado:s}=D.useHooks(),p=Ue(["interno","externo"]),c=Ue(""),{empleados:h,filtrarEmpleados:f}=st(o);d(()=>{e.empleado_id=null,e.cargo=""}),r(async()=>{await l({empleados:{controller:new Ze,params:{estado:1}}}),h.value=o.empleados});const u=Qe(()=>({empleado_id:{required:Oe},cargo:{required:Oe},tipo:{required:Oe},departamento:{required:Oe},nivel:{required:Oe},jefe_id:{required:!1}})),v=nt(u,e);n(v.value);function x(g){a({estado:g},!1)}function _(){const g=h.value.find(y=>y.id===e.empleado_id);g?e.cargo=g.cargo||"":e.cargo="",console.log("Cargo actualizado:",e.cargo)}return{mixin:D,disabled:t,organigrama:e,configuracionColumnas:ct,tabOptionsOrganigrama:et,v$:v,accion:i,filtrarOrganigrama:x,empleados:h,filtrarEmpleados:f,ordenarLista:dt,obtenerCargo:_,tipos:p,departamentos:c}}});const bt={class:"row q-col-gutter-sm q-py-md"},vt={class:"col-12 col-md-6"},yt={class:"error-msg"},xt={class:"col-12 col-md-6"},_t={class:"error-msg"},Et={class:"col-12 col-md-6"},St={class:"error-msg"},wt={class:"col-12 col-md-6"},At={class:"error-msg"},It={class:"col-12 col-md-6"},Ct={class:"error-msg"},kt={class:"col-12 col-md-6"},Nt={class:"error-msg"},Lt={class:"col-12"};function Ot(D,e,t,i,o,n){const r=je("mi-organigrama-page"),l=je("tab-layout-filter-tabs2");return ne(),tt(l,{mixin:D.mixin,configuracionColumnas:D.configuracionColumnas,tabOptions:D.tabOptionsOrganigrama,permitirEliminar:!1,mostrarButtonSubmits:!0,filtrar:D.filtrarOrganigrama,tabDefecto:"1",ajustarCeldas:"",forzarListar:!0},{formulario:oe(()=>[le(ot,{onSubmit:it(()=>{},["prevent"])},{default:oe(()=>[J("div",bt,[J("div",vt,[e[9]||(e[9]=J("label",{class:"q-mb-sm block"},"Empleado",-1)),le(De,{modelValue:D.organigrama.empleado_id,"onUpdate:modelValue":[e[0]||(e[0]=a=>D.organigrama.empleado_id=a),D.obtenerCargo],options:D.empleados,"transition-show":"jump-up","transition-hide":"jump-down",disable:D.disabled,"options-dense":"",dense:"",outlined:"",error:!!D.v$.empleado_id.$errors.length,onBlur:D.v$.empleado_id.$touch,"error-message":"Debes seleccionar un empleado","use-input":"","input-debounce":"0",onFilter:D.filtrarEmpleados,onPopupShow:e[1]||(e[1]=a=>D.ordenarLista(D.empleados,"nombres")),"option-value":a=>a.id,"option-label":a=>a.nombres+" "+a.apellidos,"emit-value":"","map-options":""},{error:oe(()=>[(ne(!0),re(Ce,null,Ie(D.v$.empleado_id.$errors,a=>(ne(),re("div",{key:a.$uid},[J("div",yt,ke(a.$message),1)]))),128))]),"no-option":oe(()=>[le(Ve,null,{default:oe(()=>[le(Fe,{class:"text-grey"},{default:oe(()=>e[8]||(e[8]=[ze(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","error","onBlur","onFilter","onUpdate:modelValue","option-value","option-label"])]),J("div",xt,[e[10]||(e[10]=J("label",{class:"q-mb-sm block"},"Cargo",-1)),le(Pe,{modelValue:D.organigrama.cargo,"onUpdate:modelValue":e[2]||(e[2]=a=>D.organigrama.cargo=a),error:!!D.v$.cargo.$errors.length,dense:"",outlined:"",readonly:""},{error:oe(()=>[(ne(!0),re(Ce,null,Ie(D.v$.cargo.$errors,a=>(ne(),re("div",{key:a.$uid},[J("div",_t,ke(a.$message),1)]))),128))]),_:1},8,["modelValue","error"])]),J("div",Et,[e[11]||(e[11]=J("label",{class:"q-mb-sm block"},"Tipo",-1)),le(De,{modelValue:D.organigrama.tipo,"onUpdate:modelValue":e[3]||(e[3]=a=>D.organigrama.tipo=a),options:D.tipos.map(a=>({label:a,value:a})),error:!!D.v$.tipo.$errors.length,dense:"",outlined:"","emit-value":"","map-options":""},{error:oe(()=>[(ne(!0),re(Ce,null,Ie(D.v$.tipo.$errors,a=>(ne(),re("div",{key:a.$uid},[J("div",St,ke(a.$message),1)]))),128))]),_:1},8,["modelValue","options","error"])]),J("div",wt,[e[12]||(e[12]=J("label",{class:"q-mb-sm block"},"Departamento",-1)),le(Pe,{modelValue:D.organigrama.departamento,"onUpdate:modelValue":e[4]||(e[4]=a=>D.organigrama.departamento=a),error:!!D.v$.departamento.$errors.length,dense:"",outlined:""},{error:oe(()=>[(ne(!0),re(Ce,null,Ie(D.v$.departamento.$errors,a=>(ne(),re("div",{key:a.$uid},[J("div",At,ke(a.$message),1)]))),128))]),_:1},8,["modelValue","error"])]),J("div",It,[e[13]||(e[13]=J("label",{class:"q-mb-sm block"},"Nivel",-1)),le(Pe,{modelValue:D.organigrama.nivel,"onUpdate:modelValue":e[5]||(e[5]=a=>D.organigrama.nivel=a),type:"number",error:!!D.v$.departamento.$errors.length,dense:"",outlined:""},{error:oe(()=>[(ne(!0),re(Ce,null,Ie(D.v$.nivel.$errors,a=>(ne(),re("div",{key:a.$uid},[J("div",Ct,ke(a.$message),1)]))),128))]),_:1},8,["modelValue","error"])]),J("div",kt,[e[15]||(e[15]=J("label",{class:"q-mb-sm block"},"Jefe Inmediato",-1)),le(De,{modelValue:D.organigrama.jefe_id,"onUpdate:modelValue":e[6]||(e[6]=a=>D.organigrama.jefe_id=a),options:D.empleados,"transition-show":"jump-up","transition-hide":"jump-down",disable:D.disabled,"options-dense":"",dense:"",outlined:"",error:!!D.v$.jefe_id.$errors.length,onBlur:D.v$.jefe_id.$touch,"error-message":"Debes seleccionar un jefe","use-input":"","input-debounce":"0",onFilter:D.filtrarEmpleados,onPopupShow:e[7]||(e[7]=a=>D.ordenarLista(D.empleados,"nombres")),"option-value":a=>a.id,"option-label":a=>a.nombres+" "+a.apellidos,"emit-value":"","map-options":""},{error:oe(()=>[(ne(!0),re(Ce,null,Ie(D.v$.jefe_id.$errors,a=>(ne(),re("div",{key:a.$uid},[J("div",Nt,ke(a.$message),1)]))),128))]),"no-option":oe(()=>[le(Ve,null,{default:oe(()=>[le(Fe,{class:"text-grey"},{default:oe(()=>e[14]||(e[14]=[ze(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","error","onBlur","onFilter","option-value","option-label"])]),J("div",Lt,[le(r)])])]),_:1})]),_:1},8,["mixin","configuracionColumnas","tabOptions","filtrar"])}var ui=He(mt,[["render",Ot]]);export{ui as default};
