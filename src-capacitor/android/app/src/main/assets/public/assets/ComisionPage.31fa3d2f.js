var P=Object.defineProperty;var Q=(o,e,l)=>e in o?P(o,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[e]=l;var d=(o,e,l)=>(Q(o,typeof e!="symbol"?e+"":e,l),l);import{Q as c,a as g}from"./QItemSection.9a955ec6.js";import{Q as $}from"./QSelect.6ce302d7.js";import{bw as F,s as N,d as S,m as j,c as L,da as T,dc as D,_ as I,t as O,v as a,P as U,F as s,z as r,y as n,x as t,H as u,G as f,D as C,I as E,a4 as A,K as b}from"./index.6449c167.js";import{Q as M}from"./QForm.ca56f146.js";import{E as z}from"./entidadAuditable.75a46700.js";import{T as G}from"./TabLayout.0bce4313.js";import{b as H}from"./utils.521b98f3.js";import{u as K}from"./index.490dde02.js";import{C as R}from"./ContenedorSimpleMixin.09c9bed5.js";import{P as J}from"./PlanesController.71566c58.js";import"./QChip.95469f73.js";import"./position-engine.70d0a89f.js";import"./format.8ac60962.js";import"./QTabs.6c234f27.js";import"./QResizeObserver.9af84680.js";import"./QTabPanels.49d2362a.js";import"./touch.9135741d.js";import"./QPopupProxy.72ff1d6d.js";import"./QPage.5d173a8a.js";import"./buttonSubmits.fe817da3.js";import"./EssentialTable.00c17e97.js";import"./QToolbar.8dbe891b.js";import"./use-fullscreen.a7661f85.js";import"./QBadge.e6f320cd.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.fd079679.js";import"./QFile.90d9394a.js";import"./VisorImagen.75b3c53f.js";import"./logo.4781eea2.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./i18n-validators.29e2545c.js";import"./index.0198dd12.js";import"./EssentialTablePagination.d5c1010a.js";class W extends z{constructor(){super();d(this,"plan");d(this,"plan_info");d(this,"forma_pago");d(this,"comision");d(this,"tipo_vendedor");this.plan=null,this.plan_info=null,this.forma_pago=null,this.comision=null,this.tipo_vendedor=null}}class X extends F{constructor(){super(N.comisiones)}}const Y=[{name:"plan_info",field:"plan_info",label:"Plan",align:"left",sortable:!0},{name:"forma_pago",field:"forma_pago",label:"Forma Pago",align:"left",sortable:!0},{name:"comision",field:"comision",label:"Comision",align:"left",sortable:!0},{name:"tipo_vendedor",field:"tipo_vendedor",label:"Tipo Vendedor",align:"left",sortable:!0}];var Z=S({components:{TabLayout:G},setup(){H().setQuasar(j());const o=new R(W,new X),{entidad:e,disabled:l,accion:y,listadosAuxiliares:m}=o.useReferencias(),{setValidador:V,obtenerListados:v,cargarVista:i}=o.useComportamiento(),w=K({plan:{required:!0},forma_pago:{required:!0},comision:{required:!0},tipo_vendedor:{required:!0}},e);V(w.value);const p=L([]);i(async()=>{await v({planes:{controller:new J,params:{campos:"id,nombre"}}}),p.value=m.planes});function q(_,h){if(_===""){h(()=>{p.value=m.planes});return}h(()=>{const B=_.toLowerCase();p.value=m.planes.filter(k=>k.nombres.toLowerCase().indexOf(B)>-1||k.apellidos.toLowerCase().indexOf(B)>-1)})}return{mixin:o,comision:e,tipos_vendedores:T,disabled:l,accion:y,v$:w,formas_pagos:D,planes:p,filtrarPlanes:q,configuracionColumnas:Y}}});const x={class:"row q-col-gutter-sm q-mb-md"},oo={class:"col-12 col-md-3"},eo={class:"error-msg"},io={class:"col-12 col-md-3"},so={class:"error-msg"},no={class:"col-12 col-md-3"},ro={class:"error-msg"},ao={class:"col-12 col-md-3"},lo={class:"error-msg"};function to(o,e,l,y,m,V){const v=O("tab-layout");return a(),U(v,{mixin:o.mixin,configuracionColumnas:o.configuracionColumnas},{formulario:s(()=>[r(M,{onSubmit:e[4]||(e[4]=A(()=>{},["prevent"]))},{default:s(()=>[n("div",x,[n("div",oo,[e[6]||(e[6]=n("label",{class:"q-mb-sm block"},"Plan",-1)),r($,{modelValue:o.comision.plan,"onUpdate:modelValue":e[0]||(e[0]=i=>o.comision.plan=i),options:o.planes,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"",disable:o.disabled,readonly:o.disabled,error:!!o.v$.plan.$errors.length,onBlur:o.v$.plan.$touch,"error-message":"Debes seleccionar un plan","use-input":"","input-debounce":"0",onFilter:o.filtrarPlanes,"option-value":i=>i.id,"option-label":i=>i.nombre,"emit-value":"","map-options":""},{error:s(()=>[(a(!0),t(f,null,u(o.v$.plan.$errors,i=>(a(),t("div",{key:i.$uid},[n("div",eo,b(i.$message),1)]))),128))]),"no-option":s(()=>[r(c,null,{default:s(()=>[r(g,{class:"text-grey"},{default:s(()=>e[5]||(e[5]=[C(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","readonly","error","onBlur","onFilter","option-value","option-label"])]),n("div",io,[e[8]||(e[8]=n("label",{class:"q-mb-sm block"},"Forma de Pago",-1)),r($,{modelValue:o.comision.forma_pago,"onUpdate:modelValue":e[1]||(e[1]=i=>o.comision.forma_pago=i),options:o.formas_pagos,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"",disable:o.disabled,readonly:o.disabled,error:!!o.v$.forma_pago.$errors.length,onBlur:o.v$.forma_pago.$touch,"error-message":"Debes seleccionar una forma de pago","use-input":"","input-debounce":"0","option-value":i=>i.label,"option-label":i=>i.value,"emit-value":"","map-options":""},{error:s(()=>[(a(!0),t(f,null,u(o.v$.forma_pago.$errors,i=>(a(),t("div",{key:i.$uid},[n("div",so,b(i.$message),1)]))),128))]),"no-option":s(()=>[r(c,null,{default:s(()=>[r(g,{class:"text-grey"},{default:s(()=>e[7]||(e[7]=[C(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","readonly","error","onBlur","option-value","option-label"])]),n("div",no,[e[9]||(e[9]=n("label",{class:"q-mb-sm block"},"Comision",-1)),r(E,{modelValue:o.comision.comision,"onUpdate:modelValue":e[2]||(e[2]=i=>o.comision.comision=i),placeholder:"Obligatorio",type:"number",disable:o.disabled,error:!!o.v$.comision.$errors.length,onBlur:o.v$.comision.$touch,outlined:"",dense:""},{error:s(()=>[(a(!0),t(f,null,u(o.v$.comision.$errors,i=>(a(),t("div",{key:i.$uid},[n("div",ro,b(i.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onBlur"])]),n("div",ao,[e[11]||(e[11]=n("label",{class:"q-mb-sm block"},"Tipo de Vendedor",-1)),r($,{modelValue:o.comision.tipo_vendedor,"onUpdate:modelValue":e[3]||(e[3]=i=>o.comision.tipo_vendedor=i),options:o.tipos_vendedores,"transition-show":"jump-up","transition-hide":"jump-down",disable:o.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",hint:"Obligatorio",error:!!o.v$.tipo_vendedor.$errors.length,onBlur:o.v$.tipo_vendedor.$touch,"option-value":i=>i.nombre,"option-label":i=>i.descripcion,"emit-value":"","map-options":""},{error:s(()=>[(a(!0),t(f,null,u(o.v$.tipo_vendedor.$errors,i=>(a(),t("div",{key:i.$uid},[n("div",lo,b(i.$message),1)]))),128))]),"no-option":s(()=>[r(c,null,{default:s(()=>[r(g,{class:"text-grey"},{default:s(()=>e[10]||(e[10]=[C(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","error","onBlur","option-value","option-label"])])])]),_:1})]),_:1},8,["mixin","configuracionColumnas"])}var Ho=I(Z,[["render",to]]);export{Ho as default};
