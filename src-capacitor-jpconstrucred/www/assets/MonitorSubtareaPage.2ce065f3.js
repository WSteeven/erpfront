import{c as O,p as Q,u as N,e as S,g as G,i as L,bV as g,q as $,bA as k,v as H,x as C,y as Z,S as J,H as _,B as c,D as n,R as K,G as U,F as W}from"./index.846478c1.js";import{Q as X}from"./QPage.b0adedad.js";import{c as Y}from"./configuracionColumnasSubtarea.8fe8990f.js";import{u as x}from"./BotonesTablaSubtarea.19245789.js";import{S as oo}from"./Subtarea.3371ad54.js";import{t as ao}from"./tareas.utils.309e0dff.js";import{u as to}from"./ArchivoSeguimiento.5a3d8353.js";import{u as ro}from"./utils.19b149f6.js";import{E as io}from"./EssentialTableTabs.d6bee6af.js";import{M as eo}from"./ModalEntidad.5edc5f68.js";import{C as no}from"./CausaIntervencionController.7f60b753.js";import{M as so}from"./MotivoSuspendidoController.37745a9d.js";import{C as mo}from"./ComportamientoModalesSubtarea.1bf844d6.js";import{M as po}from"./MotivoPausaController.dd319651.js";import{C as lo}from"./ContenedorSimpleMixin.1a882cca.js";import{S as co}from"./SubtareaController.3e94a71c.js";import"./EssentialTable.01bbad48.js";import"./QSelect.d8222f79.js";import"./QChip.697486c2.js";import"./QItemSection.ca64420c.js";import"./QMenu.c0bc1e4b.js";import"./position-engine.456d5331.js";import"./format.8ac60962.js";import"./QFile.c3222262.js";import"./QTable.d5868e69.js";import"./use-fullscreen.18eeae01.js";import"./QToolbar.2bb5adc4.js";import"./QBtnGroup.b7cc3fd9.js";import"./QBadge.60ffdb76.js";import"./QPopupProxy.7844573b.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e43b947c.js";import"./VisorImagen.93b8e0f6.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.eba095ef.js";import"./i18n-validators.06501904.js";import"./index.209eea81.js";import"./BotonesTablaTicket.01fac7eb.js";import"./ComponenteModal.domain.3bd8db1f.js";import"./index.15c331c5.js";import"./DepartamentoController.bdbe4dde.js";import"./FiltrosListadosTicket.b2d31d99.js";import"./filtrosListadosGenerales.c330183b.js";import"./QScrollArea.23ee706d.js";import"./QResizeObserver.847ee253.js";import"./QScrollObserver.5aff62ae.js";import"./TouchPan.efa9afab.js";import"./touch.9135741d.js";import"./es.edeb524b.js";import"./dayjs.min.80d1628b.js";import"./entidadAuditable.75a46700.js";import"./TablaFilasDinamicas.4d54c4da.js";import"./buttonSubmits.31738227.js";import"./Archivo.c26f5472.js";import"./use-slider.ea43cb2c.js";import"./TicketController.e7cafd4b.js";import"./CategoriaTipoTicketController.468f3545.js";import"./TipoTicketController.cd5660a2.js";import"./MotivoCanceladoTicketController.9eb1ef2f.js";import"./QTabs.19bbf6a5.js";import"./QTabPanels.ca44a1cd.js";import"./use-panel.27349585.js";import"./trabajoAsignado.8c426916.js";import"./ComportamientoModalesTicketAsignado.ac02a485.js";import"./FiltroMiBodegaEmpleado.0f616ef0.js";import"./ClienteMaterialEmpleadoController.24905e1f.js";import"./listadoMaterialesDevolucion.71dfd77c.js";import"./FiltroMiBodegaProyecto.fdb1482f.js";import"./EtapaController.2ce7dfae.js";import"./ProyectoController.13ba2d04.js";import"./movilizacionSubtarea.b7ad97cf.js";import"./QUploader.c061fd0f.js";import"./QCircularProgress.b5ba4a87.js";import"./configuracionColumnasArchivoSubtarea.215f4ffd.js";import"./EssentialTablePagination.3349ebcb.js";import"./configuracion_general.cac1c388.js";import"./ConfiguracionController.1234694f.js";import"./QExpansionItem.a87f342e.js";import"./configuracionColumnasMovilizacionSubtarea.e610a352.js";import"./configuracionColumnasEmpleadoGrupo.222e165b.js";import"./FiltrosListadosTarea.67667058.js";import"./DesignarResponsableTrabajo.e08f8925.js";import"./QBtnToggle.0b8ca156.js";import"./EssentialSelectableTable.57ea1b28.js";import"./selector.b0f0805f.js";import"./SelectorController.6c5262b2.js";import"./Empleado.20234ba0.js";import"./GrupoController.4b93b360.js";import"./LabelAbrirModal.791a07ad.js";import"./TabLayout.b05b8b79.js";import"./ArchivoSubtareaController.7b4c8f40.js";import"./TipoTrabajoController.cc2ba365.js";import"./AlimentacionGrupoPage.b1c5e4c0.js";import"./QForm.0a21c4a5.js";import"./TareaController.4af45b78.js";import"./ClienteFinalController.2979258d.js";import"./MovilizacionSubtareaController.362ed692.js";import"./ClienteFinalPage.5f36b064.js";import"./ClienteController.b9526fcf.js";import"./ProvinciaController.d70d9565.js";import"./RegistroTendido.82e2a092.js";import"./configuracionColumnasProductos.4f52212a.js";var uo=O({components:{EssentialTableTabs:io,ModalesEntidad:eo},setup(){const o=to();ro().setQuasar(Q());const a=N(),r=new lo(oo,new co),{listado:i,listadosAuxiliares:d,filtros:u}=r.useReferencias(),{filtrar:e,listar:s,cargarVista:h,obtenerListados:v}=r.useComportamiento();h(async()=>{await v({motivosSuspendidos:new so,motivosPausas:new po,causasIntervenciones:new no})});const m=new mo,{btnIniciar:M,btnPausar:j,btnReanudar:F,btnSeguimiento:A,btnReagendar:E,btnRealizar:T,btnSuspender:w,btnCancelar:V,btnFinalizar:I,btnVerAlimentacion:R,setFiltrarTrabajoAsignado:y,guardadoModalesSubtarea:P}=x(i,m,d);y(l);const b=S(),p=S(),q=G(()=>!i.value.length),z=!a.esContabilidad,B={titulo:"M\xE1s detalles",icono:"bi-eye",accion:({entidad:t})=>{o.idSubtareaSeleccionada=t.id,o.accion=k.consultar,m.abrirModalEntidad("SubtareaPage")}};function l(t){const f="id,codigo_tarea,codigo_subtarea,titulo,estado,grupo,grupo_id,empleado_responsable,empleado_responsable_id,coordinador,tipo_trabajo,cantidad_adjuntos,fecha_solicitud,es_ventana,fecha_hora_creacion,fecha_inicio_trabajo,hora_inicio_trabajo,hora_fin_trabajo,fecha_hora_asignacion,fecha_hora_agendado,fecha_hora_ejecucion,fecha_hora_realizado,fecha_hora_finalizacion,dias_ocupados,fecha_hora_suspendido,motivo_suspendido,fecha_hora_cancelado,motivo_cancelado,subtarea_dependiente,canton,cliente,cliente_id,proyecto,proyecto_id,puede_ejecutar,puede_suspender,es_responsable,tarea_id";u.fields={estado:t,campos:f},b.value=t,p.value.getSearchValue()?p.value.toSearch():s({estado:t,campos:f,paginate:!0})}L(()=>l(a.esContabilidad?g.FINALIZADO:g.AGENDADO));function D(t){e(t)}return{refTabla:p,mixin:r,tabActual:b,columnasSubtareas:[...Y,$],listado:i,tabOptionsEstadosSubtareasMonitor:ao,btnConsultarSubtarea:B,btnIniciar:M,btnPausar:j,btnReanudar:F,btnRealizar:T,modalesSubtarea:m,btnSeguimiento:A,btnReagendar:E,btnSuspender:w,btnCancelar:V,btnFinalizar:I,btnVerAlimentacion:R,filtrarSubtareas:l,filtrar:e,aplicarFiltro:D,altoFijo:q,mostrarTabs:z,guardadoModalesSubtarea:P}}});const bo={class:"column q-mb-md q-gutter-sm items-center"};function fo(o,a,r,i,d,u){const e=C("essential-table-tabs"),s=C("modales-entidad");return Z(),J(X,{padding:""},{default:_(()=>[c("div",bo,[a[2]||(a[2]=c("b",{class:"text-h5 text-bold"},"Monitor",-1)),a[3]||(a[3]=c("small",null,"Ten una visi\xF3n completa de todos los trabajos y sus estados.",-1)),n(K,{color:"primary",class:"q-px-md",to:{name:"tareas"},"no-caps":"",dense:"",square:"",unelevated:""},{default:_(()=>[a[1]||(a[1]=U("Ir a Control de tareas ")),n(W,{name:"bi-box-arrow-in-right",class:"q-ml-sm"})]),_:1})]),n(e,{ref:"refTabla",class:"custom-shadow5 borde rounded",titulo:"Existen "+o.listado.length+" subtarea(s) en estado "+o.tabActual+".",configuracionColumnas:o.columnasSubtareas,datos:o.listado,tabOptions:o.tabOptionsEstadosSubtareasMonitor,accion1:o.btnConsultarSubtarea,accion2:o.btnIniciar,accion3:o.btnPausar,accion4:o.btnReanudar,accion5:o.btnRealizar,accion6:o.btnReagendar,accion7:o.btnSeguimiento,accion8:o.btnSuspender,accion9:o.btnCancelar,accion10:o.btnFinalizar,accion11:o.btnVerAlimentacion,separador:"cell",permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,"mostrar-botones":!1,"mostrar-footer":"",permitirFiltrar:!0,onTabSeleccionado:o.filtrarSubtareas,tabDefecto:o.tabActual,altoFijo:o.altoFijo,onFiltrar:o.aplicarFiltro,onLimpiarListado:a[0]||(a[0]=()=>o.listado=[]),mostrarExportar:!0,"ajustar-celdas":"",paginate:"",mixin:o.mixin},null,8,["titulo","configuracionColumnas","datos","tabOptions","accion1","accion2","accion3","accion4","accion5","accion6","accion7","accion8","accion9","accion10","accion11","onTabSeleccionado","tabDefecto","altoFijo","onFiltrar","mixin"]),n(s,{comportamiento:o.modalesSubtarea,"mixin-modal":o.mixin,"confirmar-cerrar":!1,persistente:!1,onGuardado:o.guardadoModalesSubtarea},null,8,["comportamiento","mixin-modal","onGuardado"])]),_:1})}var ct=H(uo,[["render",fo]]);export{ct as default};
