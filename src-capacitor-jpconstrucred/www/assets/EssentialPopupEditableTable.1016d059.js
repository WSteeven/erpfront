import{ad as qe,e as h,g as K,bO as Ce,n as le,ay as we,l as N,h as Ve,R as k,v as oe,c as ne,f as he,i as Ee,s as $e,y as n,z as b,I as X,J as ie,M as p,S as r,H as i,G as w,N as te,L as t,bT as se,D as s,F as m,B as g,k as Fe,K as Y,a4 as He,x as R,a6 as H,bf as Be,a8 as _,bg as ze,a5 as je,aa as J}from"./index.846478c1.js";import{Q as D}from"./QChip.697486c2.js";import{Q as G,a as ee}from"./QSelect.d8222f79.js";import{a as Q}from"./QToolbar.2bb5adc4.js";import{Q as Se}from"./QBtnGroup.b7cc3fd9.js";import{Q as I,a as Oe}from"./QTable.d5868e69.js";import{Q as Ue,a as ae}from"./QItemSection.ca64420c.js";import{Q as Qe}from"./use-fullscreen.18eeae01.js";import{Q as Ie}from"./QMenu.c0bc1e4b.js";import{e as Me,h as Te}from"./utils.19b149f6.js";import{C as Ae,O as Pe,c as Ne,S as De,o as Le,h as Re}from"./EssentialTable.01bbad48.js";import{Q as Ke,a as Ge,C as Je}from"./QPopupProxy.7844573b.js";function L(e,o=new WeakMap){if(Object(e)!==e)return e;if(o.has(e))return o.get(e);const v=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const f=e.valueOf();if(Object(f)!==f){const $=new e.constructor(f);return o.set(e,$),$}}return o.set(e,v),e instanceof Set?e.forEach(f=>{v.add(L(f,o))}):e instanceof Map&&e.forEach((f,$)=>{v.set($,L(f,o))}),Object.assign(v,...Object.keys(e).map(f=>({[f]:L(e[f],o)})))}var W=qe({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:o,emit:v}){const{proxy:f}=Ve(),{$q:$}=f,F=h(null),u=h(""),c=h("");let B=!1;const j=K(()=>Ce({initialValue:u.value,validate:e.validate,set:a,cancel:l,updatePosition:q},"value",()=>c.value,E=>{c.value=E}));function a(){e.validate(c.value)!==!1&&(z()===!0&&(v("save",c.value,u.value),v("update:modelValue",c.value)),S())}function l(){z()===!0&&v("cancel",c.value,u.value),S()}function q(){le(()=>{F.value.updatePosition()})}function z(){return we(c.value,u.value)===!1}function S(){B=!0,F.value.hide()}function M(){B=!1,u.value=L(e.modelValue),c.value=L(e.modelValue),v("beforeShow")}function T(){v("show")}function O(){B===!1&&z()===!0&&(e.autoSave===!0&&e.validate(c.value)===!0?(v("save",c.value,u.value),v("update:modelValue",c.value)):v("cancel",c.value,u.value)),v("beforeHide")}function A(){v("hide")}function P(){const E=o.default!==void 0?[].concat(o.default(j.value)):[];return e.title&&E.unshift(N("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&E.push(N("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[N(k,{flat:!0,color:e.color,label:e.labelCancel||$.lang.label.cancel,onClick:l}),N(k,{flat:!0,color:e.color,label:e.labelSet||$.lang.label.set,onClick:a})])),E}return Object.assign(f,{set:a,cancel:l,show(E){F.value!==null&&F.value.show(E)},hide(E){F.value!==null&&F.value.hide(E)},updatePosition:q}),()=>{if(e.disable!==!0)return N(Ie,{ref:F,class:"q-popup-edit",cover:e.cover,onBeforeShow:M,onShow:T,onBeforeHide:O,onHide:A,onEscapeKey:l},P)}}});const We=ne({props:{configuracionColumnas:{type:Object,required:!0}},emits:["filtrosEditados"],setup(e,{emit:o}){const v=he(e.configuracionColumnas.flatMap(u=>u.field!=="acciones"?{field:u.field,label:u.label,value:null,type:u.type,options:u.options}:[])),f=function(){const u=new Object;v.forEach(c=>{u[c.field]=$(c)}),o("filtrosEditados",u)};Ee(()=>f());const $=u=>u.value===""?null:u.value;return{camposFiltro:v,emitEvent:f,resetearFiltros:()=>{const u=new Object;v.forEach(c=>{u[c.field]=null}),o("filtrosEditados",u)},maskFecha:$e}}}),Xe={key:0,class:"row q-col-gutter-xs q-py-xs col-12"},Ye={key:0},Ze={key:1,class:"q-mb-sm block"},xe={class:"row items-center justify-end"};function _e(e,o,v,f,$,F){return e.configuracionColumnas&&e.configuracionColumnas.length>0?(n(),b("div",Xe,[(n(!0),b(X,null,ie(e.camposFiltro,u=>(n(),b("div",{key:u.field,class:"col-md-2 col-12 q-mb-md"},[u.type==="boolean"?(n(),b("br",Ye)):(n(),b("label",Ze,p(u.label),1)),u.type==="boolean"?(n(),r(te,{key:2,modelValue:u.value,"onUpdate:modelValue":[c=>u.value=c,o[0]||(o[0]=c=>e.emitEvent())]},{default:i(()=>[w(p(u.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])):t("",!0),u.type==="select"?(n(),r(G,{key:3,outlined:"",modelValue:u.value,"onUpdate:modelValue":[c=>u.value=c,o[1]||(o[1]=c=>e.emitEvent())],options:u.options,dense:"","options-densed":"",clearable:""},null,8,["modelValue","onUpdate:modelValue","options"])):t("",!0),["boolean","select"].includes(u.type)?t("",!0):(n(),r(Y,{key:4,modelValue:u.value,"onUpdate:modelValue":[c=>u.value=c,o[3]||(o[3]=c=>e.emitEvent())],type:u.type!=="date"?u.type:null,outlined:"",dense:"",clearable:""},se({_:2},[u.type==="date"?{name:"append",fn:i(()=>[s(m,{name:"event",class:"cursor-pointer"},{default:i(()=>[s(Ke,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[s(Ge,{modelValue:u.value,"onUpdate:modelValue":[c=>u.value=c,o[2]||(o[2]=c=>e.emitEvent())],mask:e.maskFecha,"today-btn":""},{default:i(()=>[g("div",xe,[Fe(s(k,{label:"Cerrar",color:"primary",flat:""},null,512),[[Je]])])]),_:2},1032,["modelValue","onUpdate:modelValue","mask"])]),_:2},1024)]),_:2},1024)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","type"]))]))),128))])):t("",!0)}var ea=oe(We,[["render",_e]]),aa=ne({components:{CustomButtons:Ae,BotonesPaginacion:Pe,EditarTablaModal:Ne,SelectorImagen:De,TableFilters:ea},props:{configuracionColumnas:{type:Object,required:!0},datos:{type:Array,required:!0},titulo:{type:String,default:"Listado"},separador:{type:String,default:"horizontal"},permitirConsultar:{type:Boolean,default:!0},permitirEditar:{type:Boolean,default:!0},permitirEliminar:{type:Boolean,default:!0},permitirBuscar:{type:Boolean,default:!0},mostrarCantidadElementos:{type:Boolean,default:!0},mostrarColumnasVisibles:{type:Boolean,default:!0},permitirFiltrar:{type:Boolean,default:!1},estilos:{type:String,required:!1},altoFijo:{type:Boolean,default:!0},mostrarHeader:{type:Boolean,default:!0},mostrarFooter:{type:Boolean,default:!0},accion1Header:{type:Object,required:!1},accion2Header:{type:Object,required:!1},accion3Header:{type:Object,required:!1},accion4Header:{type:Object,required:!1},accion5Header:{type:Object,required:!1},mostrarExportar:{type:Boolean,default:!1},tipoSeleccion:{type:String,default:"none"},accion1:{type:Object,required:!1},accion2:{type:Object,required:!1},accion3:{type:Object,required:!1},accion4:{type:Object,required:!1},accion5:{type:Object,required:!1},accion6:{type:Object,required:!1},accion7:{type:Object,required:!1},accion8:{type:Object,required:!1},accion9:{type:Object,required:!1},accion10:{type:Object,required:!1},permitirEditarCeldas:{type:Boolean,default:!0},editarFilaLocal:{type:Boolean,default:!0},permitirEditarModal:{type:Boolean,default:!1},modalMaximized:{type:Boolean,default:!0},grid:{type:Boolean,default:!0}},emits:["selected","toggle-filtros","filtrar","consultar","editar","eliminar","fila-modificada","onScroll","guardar-fila"],setup(e,{emit:o}){const v=h(),f=h(),$=h(),F=h(),u=h(),c=h(),B=h(),j=h(),a=h(!1),l=h(!1),q=h(Me(e.configuracionColumnas)),z=h([]),S=h({sortBy:"desc",descending:!1,page:1,rowsPerPage:e.altoFijo?15:0});He(()=>f.value=e.datos);const M=K(()=>f.value.length-1),T=K(()=>Math.ceil(f.value.length/S.value.rowsPerPage)),O=h(!1),A=()=>o("selected",z.value),P=K(()=>l.value?"Ocultar filtros":"Mostrar filtros"),E=d=>o("consultar",d),y=d=>{o("editar",d),e.permitirEditarModal&&(c.value=d.entidad,B.value=d.posicion,u.value.abrir())},re=d=>o("eliminar",d);function Z(){c.value=null}const ue=d=>d.table_index?f.value.findIndex(V=>V.table_index===d.table_index):d.id?e.datos.findIndex(V=>V.id===d.id):B.value;function de(d){const V=ue(d);console.log(V,d),console.log(e.editarFilaLocal),console.log(B.value);const C={...f.value[V],...d};console.log(C),e.editarFilaLocal&&(f.value[V]=C),o("guardar-fila",C),Z()}function ce({to:d}){!O.value&&d===M.value&&(O.value=!0,setTimeout(()=>{le(()=>{O.value=!1,o("onScroll")})},500))}function me(d){o("fila-modificada",d)}function fe(d,V){return d&&d.visible&&d.hasOwnProperty("visible")?d.visible({entidad:V.row,posicion:V.rowIndex}):d!==void 0}function be(d,V){return typeof(d==null?void 0:d.icono)=="function"?d.icono({entidad:V.row,posicion:V.rowIndex}):d==null?void 0:d.icono}function ve(){console.log("consultar cien"),console.log(F.value),j.value.filtrar()}function ye(){j.value.agregarFiltro()}function pe(d){o("filtrar",d)}function ge(){l.value=!l.value,f.value=[],o("toggle-filtros",l.value)}function ke(){const d=[e.configuracionColumnas.map(U=>x(U.label))].concat(e.datos.map(U=>e.configuracionColumnas.map(C=>x(typeof C.field=="function"?C.field(U):U[C.field===void 0?C.name:C.field],C.format,U)).join(","))).join(`\r
`);Re("table-export.csv",d,"text/csv")!==!0&&console.log("No se puede descargar...")}function x(d,V,U){let C=V!==void 0?V(d,U):d;return C=C==null?"":String(C),C=C.split('"').join('""'),`"${C}"`}return{refEditarModal:u,referencia:v,refTableFilters:j,filter:$,visibleColumns:q,selected:z,inFullscreen:a,mostrarFiltros:l,offset:Le,pagesNumber:T,pagination:S,seleccionar:A,extraerVisible:fe,extraerIcono:be,filtrar:ve,agregarFiltro:ye,toggleFiltros:ge,listado:f,exportTable:ke,tituloBotonFiltros:P,establecerFiltros:pe,formatBytes:Te,consultar:E,editar:y,eliminar:re,guardarCeldaEditada:me,fila:c,guardarFila:de,limpiarFila:Z,onScroll:ce}}});const la={key:0,class:"text-right text-grey-7"},oa={class:"full-width row flex-center text-primary q-gutter-sm"},na={key:0,class:"text-bold text-center full-width rounded q-mb-md"},ia={key:2,class:"row q-col-gutter-xs full-width q-mb-md"},ta={class:"col-md-8 col-12"},sa={key:0,class:"col-md-4 col-12"},ra={class:"row"};const ua={key:3,class:"row full-width justify-between q-col-gutter-x-sm items-center q-mb-md"},da={class:"row q-gutter-xs justify-end q-mb-md"},ca={class:"row col-12"},ma={class:"row full-width q-gutter-xs"},fa={class:"row inline full-width block q-col-gutter-x-xs text-left"},ba=["props"],va={key:0},ya={key:1},pa={key:2},ga={key:3},ka={key:4},qa={key:5},Ca={key:6},wa={key:7},Va={key:1},ha={key:1};function Ea(e,o,v,f,$,F){const u=R("EditarTablaModal"),c=R("botones-paginacion"),B=R("table-filters"),j=R("CustomButtons");return n(),b(X,null,[s(u,{ref:"refEditarModal",configuracionColumnas:e.configuracionColumnas,fila:e.fila,onLimpiar:e.limpiarFila,onEditar:e.guardarFila,modalMaximized:e.modalMaximized},null,8,["configuracionColumnas","fila","onLimpiar","onEditar","modalMaximized"]),!e.$q.screen.xs&&e.datos.length&&e.permitirEditarCeldas?(n(),b("div",la,[s(D,{class:"bg-grey-2 text-info",color:"info"},{default:i(()=>[s(m,{name:"bi-info-circle-fill",color:"info",size:"xs",class:"q-mr-sm"}),o[7]||(o[7]=g("small",null,"Haz clic sobre una celda para editarla",-1))]),_:1})])):t("",!0),s(Oe,{ref:"referencia","hide-header":!e.mostrarHeader,grid:e.grid&&e.$q.screen.xs,columns:e.configuracionColumnas,rows:e.listado,filter:e.filter,onFilter:o[5]||(o[5]=a=>e.handleFilter()),"row-key":"id","visible-columns":e.visibleColumns,separator:e.$q.screen.xs?"horizontal":e.separador,"hide-bottom":!e.mostrarFooter,flat:"",bordered:"",selection:e.tipoSeleccion,selected:e.selected,"onUpdate:selected":o[6]||(o[6]=a=>e.selected=a),style:_(e.estilos),class:H(["bg-body-table my-sticky-column-table borde",{"alto-fijo-desktop":!e.inFullscreen&&e.altoFijo&&!e.$q.screen.xs,"alto-fijo-mobile":!e.inFullscreen&&e.altoFijo&&e.$q.screen.xs,"my-sticky-dynamic2":!e.inFullscreen&&e.altoFijo,"bg-body-table-dark-color":e.$q.screen.xs&&e.$q.dark.isActive,"my-sticky-column-table-dark":e.$q.dark.isActive,"my-sticky-column-table-light":!e.$q.dark.isActive,"rounded-header":e.$q.screen.xs,"bg-header-table":e.mostrarFiltros}]),"virtual-scroll":"","virtual-scroll-item-size":e.offset,pagination:e.pagination,"no-data-label":"A\xFAn no se han agregado elementos","wrap-cells":""},se({"no-data":i(({message:a})=>[g("div",oa,[s(m,{size:"2em",name:"bi-exclamation-triangle-fill"}),g("span",null,p(a),1)])]),pagination:i(a=>[s(c,{scope:a},null,8,["scope"])]),"body-cell-acciones":i(a=>[e.$q.screen.xs?t("",!0):(n(),r(I,{key:0,props:a},{default:i(()=>[g("div",fa,[e.permitirConsultar||e.permitirEditar||e.permitirEliminar?(n(),r(Se,{key:0,rounded:"",unelevated:"",class:"inline text-left"},{default:i(()=>[e.permitirConsultar?(n(),r(k,{key:0,class:"bg-primary q-px-md",dense:"",glossy:"",onClick:l=>e.consultar({entidad:a.row,posicion:a.rowIndex})},{default:i(()=>[s(m,{name:"bi-eye",size:"xs",color:"white"}),s(Q,{class:"bg-dark"},{default:i(()=>o[13]||(o[13]=[w(" Consultar ")])),_:1})]),_:2},1032,["onClick"])):t("",!0),e.permitirEditar?(n(),r(k,{key:1,class:"bg-secondary q-px-md",glossy:"",dense:"",onClick:l=>e.editar({entidad:a.row,posicion:a.rowIndex})},{default:i(()=>[s(m,{name:"bi-pencil-square",size:"xs",color:"white"}),s(Q,{class:"bg-dark"},{default:i(()=>o[14]||(o[14]=[w(" Editar ")])),_:1})]),_:2},1032,["onClick"])):t("",!0),e.permitirEliminar?(n(),r(k,{key:2,class:"bg-negative q-px-md",glossy:"",dense:"",onClick:l=>e.eliminar({entidad:a.row,posicion:a.rowIndex})},{default:i(()=>[s(m,{name:"bi-trash3",size:"xs",color:"white"}),s(Q,{class:"bg-dark"},{default:i(()=>o[15]||(o[15]=[w(" Eliminar ")])),_:1})]),_:2},1032,["onClick"])):t("",!0)]),_:2},1024)):t("",!0),e.accion1?(n(),r(j,{key:1,accion1:e.accion1,accion2:e.accion2,accion3:e.accion3,accion4:e.accion4,accion5:e.accion5,accion6:e.accion6,accion7:e.accion7,accion8:e.accion8,accion9:e.accion9,accion10:e.accion10,propsTable:a,listado:e.listado},null,8,["accion1","accion2","accion3","accion4","accion5","accion6","accion7","accion8","accion9","accion10","propsTable","listado"])):t("",!0)])]),_:2},1032,["props"]))]),item:i(a=>[e.$q.screen.xs?(n(),r(Be,{key:0,class:H([a.selected?"bg-grey-2":"","q-py-xs q-my-none custom-shadows full-width border-bottom no-border srodunded-card"]),style:_(a.selected?"transform: scale(0.95);":"")},{default:i(()=>[e.tipoSeleccion!=="none"?(n(),r(ze,{key:0},{default:i(()=>[s(te,{dense:"",modelValue:a.selected,"onUpdate:modelValue":l=>a.selected=l,label:a.row.name},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1024)):t("",!0),s(Qe,{dense:""},{default:i(()=>[(n(!0),b(X,null,ie(a.cols,l=>(n(),r(Ue,{key:l.name},{default:i(()=>[s(ae,null,{default:i(()=>[s(ee,null,{default:i(()=>[w(p(l.label),1)]),_:2},1024)]),_:2},1024),s(ae,{caption:"",class:"text-right text-grey-7 label-card-table"},{default:i(()=>[l.name==="acciones"?(n(),b("div",{key:0,props:a,class:"q-gutter-sm"},[e.permitirConsultar?(n(),r(k,{key:0,class:"bg-btn-table",round:"",glossy:"",dense:"",onClick:q=>e.consultar({entidad:a.row,posicion:a.rowIndex})},{default:i(()=>[s(m,{name:"bi-eye",size:"xs"}),s(Q,{class:"bg-dark"},{default:i(()=>o[16]||(o[16]=[w(" Consultar ")])),_:1})]),_:2},1032,["onClick"])):t("",!0),e.permitirEditar?(n(),r(k,{key:1,class:"bg-btn-table",round:"",glossy:"",color:"secondary",dense:"",onClick:q=>e.editar({entidad:a.row,posicion:a.rowIndex})},{default:i(()=>[s(m,{name:"bi-pencil-square",color:"white",size:"xs"}),s(Q,{class:"bg-dark"},{default:i(()=>o[17]||(o[17]=[w(" Editar ")])),_:1})]),_:2},1032,["onClick"])):t("",!0),e.permitirEliminar?(n(),r(k,{key:2,class:"bg-btn-table",round:"",color:"negative",glossy:"",dense:"",onClick:q=>e.eliminar({entidad:a.row,posicion:a.rowIndex})},{default:i(()=>[s(m,{name:"bi-trash3",size:"xs"}),s(Q,{class:"bg-dark"},{default:i(()=>o[18]||(o[18]=[w(" Eliminar ")])),_:1})]),_:2},1032,["onClick"])):t("",!0),s(j,{accion1:e.accion1,accion2:e.accion2,accion3:e.accion3,accion4:e.accion4,accion5:e.accion5,accion6:e.accion6,accion7:e.accion7,accion8:e.accion8,accion9:e.accion9,accion10:e.accion10,propsTable:a},null,8,["accion1","accion2","accion3","accion4","accion5","accion6","accion7","accion8","accion9","accion10","propsTable"])],8,ba)):(n(),r(ee,{key:1},{default:i(()=>[l.name==="pagado"?(n(),b("span",va,[l.value?(n(),r(m,{key:0,name:"bi-check",color:"positive",size:"md"})):(n(),r(m,{key:1,name:"bi-x",color:"negative",size:"md"}))])):t("",!0),l.name==="activo"?(n(),b("span",ya,[l.value?(n(),r(m,{key:0,name:"bi-check-circle-fill",color:"positive",size:"xs"})):t("",!0)])):t("",!0),l.name==="es_ventana"?(n(),b("span",pa,[l.value?(n(),r(m,{key:0,name:"bi-check-circle-fill",color:"positive",size:"xs"})):t("",!0)])):t("",!0),l.name==="finalizado"?(n(),b("span",ga,[l.value?(n(),r(m,{key:0,name:"bi-check-circle-fill",color:"positive",size:"xs"})):(n(),r(m,{key:1,name:"bi-check-circle",color:"grey-6",size:"xs"}))])):t("",!0),l.name==="es_responsable"?(n(),b("span",ka,[l.value?(n(),r(m,{key:0,name:"bi-check-circle-fill",color:"positive",size:"xs"})):t("",!0)])):t("",!0),l.name==="tamanio_bytes"?(n(),b("span",qa,p(e.formatBytes(l.value)),1)):t("",!0),l.name==="tiene_subtareas"?(n(),b("span",Ca,[l.value?(n(),r(m,{key:0,name:"bi-check-circle-fill",color:"positive",size:"sm"})):t("",!0)])):t("",!0),g("div",{class:H({"q-mb-xs":e.$q.screen.xs})},[l.value==="EN CAMINO"?(n(),r(D,{key:0,class:"bg-blue-1 text-primary"},{default:i(()=>[s(m,{name:"bi-car-front-fill",color:"primary",class:"q-mr-xs"}),o[19]||(o[19]=w(p("En camino")))]),_:1})):t("",!0),l.value==="RUTA COMPLETADA"?(n(),r(D,{key:1,class:"bg-green-1 text-positive"},{default:i(()=>[s(m,{name:"bi-check-circle-fill",color:"positive",class:"q-mr-xs"}),o[20]||(o[20]=w(p("RUTA COMPLETADA")))]),_:1})):t("",!0)],2),["pagado","activo","es_ventana","finalizado","estado","es_responsable","tamanio_bytes","tiene_subtareas"].includes(l.name)?t("",!0):(n(),b("span",wa,p(l.value),1))]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["class","style"])):t("",!0)]),"body-cell":i(a=>[(n(),r(I,{key:a.col.name,props:a},{default:i(()=>[g("span",{class:H({"text-white":e.$q.dark.isActive,"text-dark":!e.$q.dark.isActive})},p(a.row[a.col.name]),3),a.col.editable?(n(),r(W,{key:0,modelValue:a.row[a.col.name],"onUpdate:modelValue":l=>a.row[a.col.name]=l,"auto-save":"",onHide:l=>e.guardarCeldaEditada(a.row)},{default:i(l=>[a.col.type!="toggle"||a.col.type!="select"?(n(),r(Y,{key:0,modelValue:l.value,"onUpdate:modelValue":q=>l.value=q,type:a.col.type?a.col.type:"text",hint:a.col.hint,dense:"",autofocus:"",onKeyup:je(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","type","hint","onKeyup"])):(n(),r(J,{key:1,"keep-color":"",modelValue:l.value,"onUpdate:modelValue":q=>l.value=q,label:l.value?"SIi":"NOi"},null,8,["modelValue","onUpdate:modelValue","label"])),o[21]||(o[21]=g("template",null,null,-1))]),_:2},1032,["modelValue","onUpdate:modelValue","onHide"])):t("",!0)]),_:2},1032,["props"]))]),"body-cell-facturable":i(a=>[(n(),r(I,{key:a.col.name,props:a},{default:i(()=>[s(m,{size:"md",name:a.row[a.col.name]?"bi-toggle2-on":"bi-toggle2-off",color:a.row[a.col.name]?"positive":"negative"},null,8,["name","color"]),a.col.editable&&e.permitirEditarCeldas?(n(),r(W,{key:0,modelValue:a.row[a.col.name],"onUpdate:modelValue":l=>a.row[a.col.name]=l,title:"\xBFEs "+a.col.name+"?","auto-save":"",onHide:l=>e.guardarCeldaEditada(a.row)},{default:i(l=>[s(J,{modelValue:l.value,"onUpdate:modelValue":q=>l.value=q,label:l.value?"SI":"NO"},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1032,["modelValue","onUpdate:modelValue","title","onHide"])):t("",!0)]),_:2},1032,["props"]))]),"body-cell-grava_iva":i(a=>[(n(),r(I,{key:a.col.name,props:a},{default:i(()=>[s(m,{size:"md",name:a.row[a.col.name]?"bi-toggle2-on":"bi-toggle2-off",color:a.row[a.col.name]?"positive":"negative"},null,8,["name","color"]),a.col.editable&&e.permitirEditarCeldas?(n(),r(W,{key:0,modelValue:a.row[a.col.name],"onUpdate:modelValue":l=>a.row[a.col.name]=l,title:"\xBFGrava IVA? ","auto-save":"",onHide:l=>e.guardarCeldaEditada(a.row)},{default:i(l=>[s(J,{modelValue:l.value,"onUpdate:modelValue":q=>l.value=q,label:l.value?"SI":"NO"},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1032,["modelValue","onUpdate:modelValue","onHide"])):t("",!0)]),_:2},1032,["props"]))]),"body-cell-unidad_medida":i(a=>[(n(),r(I,{key:a.col.name,props:a},{default:i(()=>[a.col.type==="select"&&a.col.editable?(n(),r(G,{key:0,modelValue:a.row[a.col.name],"onUpdate:modelValue":l=>a.row[a.col.name]=l,options:a.col.options,"options-label":l=>l.label,"options-value":l=>l.value,"options-dense":"",outlined:"",disable:!e.permitirEditarCeldas,dense:"","emit-value":"","map-options":""},null,8,["modelValue","onUpdate:modelValue","options","options-label","options-value","disable"])):(n(),b("span",Va,p(a.row[a.col.name]),1))]),_:2},1032,["props"]))]),"body-cell-estado":i(a=>[s(I,{props:a},{default:i(()=>[a.value?(n(),r(m,{key:0,name:"bi-check-circle-fill",color:"positive",size:"sm"})):t("",!0),a.value?t("",!0):(n(),r(m,{key:1,name:"bi-x-circle-fill",color:"negative",size:"sm"}))]),_:2},1032,["props"])]),"body-cell-condicion":i(a=>[(n(),r(I,{key:a.col.name,props:a},{default:i(()=>[a.col.type==="select"&&a.col.editable?(n(),r(G,{key:0,modelValue:a.row[a.col.name],"onUpdate:modelValue":l=>a.row[a.col.name]=l,options:a.col.options,"options-label":l=>l.label,"options-value":l=>l.value,"options-dense":"",outlined:"",disable:!e.permitirEditarCeldas,dense:"","emit-value":"","map-options":""},null,8,["modelValue","onUpdate:modelValue","options","options-label","options-value","disable"])):(n(),b("span",ha,p(a.row[a.col.name]),1))]),_:2},1032,["props"]))]),_:2},[e.mostrarHeader?{name:"top",fn:i(a=>{var l,q,z,S,M,T,O,A,P,E;return[e.mostrarFiltros?(n(),b("div",na,[s(D,{class:"bg-white text-positive"},{default:i(()=>[s(m,{name:"bi-funnel",class:"q-mr-sm"}),o[8]||(o[8]=w(" Modo filtro activado "))]),_:1})])):t("",!0),e.titulo?(n(),b("div",{key:1,class:H(["row text-primary text-subtitle2 q-mb-lg items-center justify-center block",{"titulo-tabla2":!e.$q.screen.xs,"justify-center":e.$q.screen.xs}])},[e.$q.screen.xs?t("",!0):(n(),r(m,{key:0,name:"bi-grip-vertical",color:"info",class:"q-mr-sm"})),w(" "+p(e.titulo),1)],2)):t("",!0),e.permitirBuscar?(n(),b("div",ia,[g("div",ta,[s(Y,{modelValue:e.filter,"onUpdate:modelValue":o[0]||(o[0]=y=>e.filter=y),outlined:"",dense:"",clearable:"",class:"",placeholder:"Buscar...",debounce:"300",color:"primary"},{append:i(()=>[s(m,{name:"search"})]),_:1},8,["modelValue"])]),e.mostrarColumnasVisibles?(n(),b("div",sa,[g("div",ra,[s(G,{modelValue:e.visibleColumns,"onUpdate:modelValue":o[1]||(o[1]=y=>e.visibleColumns=y),multiple:"",outlined:"",dense:"","options-dense":"","display-value":e.$q.lang.table.columns,"emit-value":"","map-options":"",options:e.configuracionColumnas,"option-value":"name","options-cover":"",class:"col-9"},null,8,["modelValue","display-value","options"]),s(k,{flat:"",round:"",dense:"",icon:a.inFullscreen?"bi-fullscreen-exit":"bi-fullscreen",onClick:()=>{a.toggleFullscreen(),e.inFullscreen=!a.inFullscreen},class:"q-ml-md"},{default:i(()=>[s(Q,{class:"bg-dark"},{default:i(()=>[w(p(a.inFullscreen?"Salir de pantalla completa":"Abrir en pantalla completa"),1)]),_:2},1024)]),_:2},1032,["icon","onClick"])])])):t("",!0),t("",!0)])):t("",!0),e.permitirFiltrar||e.mostrarCantidadElementos?(n(),b("div",ua,[s(D,{class:H(["q-px-md",{"bg-grey-8":e.$q.dark.isActive}])},{default:i(()=>[o[10]||(o[10]=w(p("Total de elementos: ")+" ")),g("b",null,p(e.datos.length),1)]),_:1},8,["class"]),g("div",da,[e.mostrarFiltros?(n(),r(k,{key:0,color:"indigo-4","no-caps":"",push:"",onClick:o[2]||(o[2]=y=>e.agregarFiltro())},{default:i(()=>[s(m,{name:"bi-plus",size:"xs",class:"q-mr-sm"}),o[11]||(o[11]=w(" Agregar filtro"))]),_:1})):t("",!0),e.mostrarFiltros?(n(),r(k,{key:1,color:"indigo","no-caps":"",push:"",onClick:o[3]||(o[3]=y=>e.filtrar())},{default:i(()=>[s(m,{name:"bi-funnel",class:"q-mr-sm",size:"xs"}),o[12]||(o[12]=w(" Aplicar filtros"))]),_:1})):t("",!0),e.mostrarExportar?(n(),r(k,{key:2,color:"positive",icon:"archive",label:"Exportar a csv","no-caps":"",push:"",onClick:e.exportTable},null,8,["onClick"])):t("",!0),e.permitirFiltrar?(n(),r(k,{key:3,color:e.mostrarFiltros?"negative":"primary","no-caps":"",push:"",onClick:o[4]||(o[4]=y=>e.toggleFiltros())},{default:i(()=>[s(m,{name:e.mostrarFiltros?"bi-eye-slash":"bi-eye",class:"q-mr-sm",size:"xs"},null,8,["name"]),w(" "+p(e.tituloBotonFiltros),1)]),_:1},8,["color"])):t("",!0)])])):t("",!0),g("div",ca,[e.permitirFiltrar&&e.mostrarFiltros?(n(),r(B,{key:0,ref:"refTableFilters",configuracionColumnas:e.configuracionColumnas,onFiltrar:e.establecerFiltros},null,8,["configuracionColumnas","onFiltrar"])):t("",!0)]),g("div",ma,[e.extraerVisible(e.accion1Header,a)?(n(),r(k,{key:0,color:(q=(l=e.accion1Header)==null?void 0:l.color)!=null?q:"primary",class:H({"q-mb-sm":e.$q.screen.xs,"full-width":e.$q.screen.xs}),push:"",rounded:"","no-caps":"",glossy:"",onClick:e.accion1Header.accion},{default:i(()=>{var y;return[s(m,{name:(y=e.extraerIcono(e.accion1Header))!=null?y:"",size:"xs",class:"q-pr-sm"},null,8,["name"]),g("span",null,p(e.accion1Header.titulo),1),s(Q,{class:"bg-dark"},{default:i(()=>[w(p(e.accion1Header.tooltip),1)]),_:1})]}),_:1},8,["color","class","onClick"])):t("",!0),e.extraerVisible(e.accion2Header,a)?(n(),r(k,{key:1,color:(S=(z=e.accion2Header)==null?void 0:z.color)!=null?S:"primary",class:H({"q-mb-sm":e.$q.screen.xs,"full-width":e.$q.screen.xs}),push:"",rounded:"",glossy:"","no-caps":"",onClick:e.accion2Header.accion},{default:i(()=>{var y;return[s(m,{name:(y=e.extraerIcono(e.accion2Header))!=null?y:"",size:"xs",class:"q-pr-sm"},null,8,["name"]),g("span",null,p(e.accion2Header.titulo),1)]}),_:1},8,["color","class","onClick"])):t("",!0),e.extraerVisible(e.accion3Header,a)?(n(),r(k,{key:2,color:(T=(M=e.accion3Header)==null?void 0:M.color)!=null?T:"primary",class:H({"q-mb-sm":e.$q.screen.xs,"full-width":e.$q.screen.xs}),push:"",glossy:"",rounded:"","no-caps":"",onClick:e.accion3Header.accion},{default:i(()=>{var y;return[s(m,{name:(y=e.extraerIcono(e.accion3Header))!=null?y:"",size:"xs",class:"q-pr-sm"},null,8,["name"]),g("span",null,p(e.accion3Header.titulo),1)]}),_:1},8,["color","class","onClick"])):t("",!0),e.extraerVisible(e.accion4Header,a)?(n(),r(k,{key:3,color:(A=(O=e.accion4Header)==null?void 0:O.color)!=null?A:"primary",class:H({"q-mb-sm":e.$q.screen.xs,"full-width":e.$q.screen.xs}),push:"",glossy:"",rounded:"","no-caps":"",onClick:e.accion4Header.accion},{default:i(()=>{var y;return[s(m,{name:(y=e.extraerIcono(e.accion4Header))!=null?y:"",size:"xs",class:"q-pr-sm"},null,8,["name"]),g("span",null,p(e.accion4Header.titulo),1)]}),_:1},8,["color","class","onClick"])):t("",!0),e.extraerVisible(e.accion5Header,a)?(n(),r(k,{key:4,color:(E=(P=e.accion5Header)==null?void 0:P.color)!=null?E:"primary",class:H({"q-mb-sm":e.$q.screen.xs,"full-width":e.$q.screen.xs}),push:"",glossy:"",rounded:"","no-caps":"",onClick:e.accion5Header.accion},{default:i(()=>{var y;return[s(m,{name:(y=e.extraerIcono(e.accion5Header))!=null?y:"",size:"xs",class:"q-pr-sm"},null,8,["name"]),g("span",null,p(e.accion5Header.titulo),1)]}),_:1},8,["color","class","onClick"])):t("",!0)])]}),key:"0"}:void 0]),1032,["hide-header","grid","columns","rows","filter","visible-columns","separator","hide-bottom","selection","selected","style","class","virtual-scroll-item-size","pagination"])],64)}var Ta=oe(aa,[["render",Ea]]);export{Ta as E};
