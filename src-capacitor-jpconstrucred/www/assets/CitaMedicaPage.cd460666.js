var Ue=Object.defineProperty;var Le=(e,a,l)=>a in e?Ue(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l;var m=(e,a,l)=>(Le(e,typeof a!="symbol"?a+"":a,l),l);import{Q as Qe}from"./QBtnToggle.0b8ca156.js";import{Q as Ge,a as He}from"./QItemSection.ca64420c.js";import{Q as H}from"./QSelect.d8222f79.js";import{A as Je,t as Ce,bG as Se,u as Ee,U as Ze,bA as ie,bi as Ke,bz as We,c as Xe,E as re,e as B,f as Ye,g as y,a2 as xe,s as ea,q as aa,v as ia,x as J,y as c,z as r,D as n,H as b,B as t,L as v,T as oa,S as ta,G as sa,I as $,J as P,M as g,Q as na,K as A,F as x,k as me,R as ue}from"./index.846478c1.js";import{Q as pe,a as be,C as fe}from"./QPopupProxy.7844573b.js";import{z as d,A as ee,y as E,B as la,D as da,F as ca,G as ra,H as ma}from"./EssentialTable.01bbad48.js";import{S as _e}from"./utils.19b149f6.js";import{u as ua}from"./filtrosListadosGenerales.c330183b.js";import{u as pa,D as ba}from"./DetallePaciente.f7bd1a61.js";import{r as ae,a as S}from"./i18n-validators.06501904.js";import{E as fa}from"./entidadAuditable.75a46700.js";import{u as va}from"./index.15c331c5.js";import{T as ha}from"./TabLayoutFilterTabs2.94e4b3e1.js";import{E as Ca}from"./EssentialTableTabs.d6bee6af.js";import{M as Ea}from"./ModalEntidad.5edc5f68.js";import{C as _a}from"./ContenedorSimpleMixin.1a882cca.js";import{C as Ma,a as ga}from"./ComponenteModal.domain.3bd8db1f.js";import{D as Aa}from"./DiagnosticoRecetaPage.ef801401.js";import{E as Da}from"./Empleado.20234ba0.js";import"./QBtnGroup.b7cc3fd9.js";import"./QChip.697486c2.js";import"./QMenu.c0bc1e4b.js";import"./position-engine.456d5331.js";import"./format.8ac60962.js";import"./QFile.c3222262.js";import"./QTable.d5868e69.js";import"./use-fullscreen.18eeae01.js";import"./QToolbar.2bb5adc4.js";import"./QBadge.60ffdb76.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e43b947c.js";import"./VisorImagen.93b8e0f6.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.eba095ef.js";import"./index.209eea81.js";import"./QTabs.19bbf6a5.js";import"./QResizeObserver.847ee253.js";import"./QTabPanels.ca44a1cd.js";import"./use-panel.27349585.js";import"./touch.9135741d.js";import"./QPage.b0adedad.js";import"./buttonSubmits.31738227.js";import"./EssentialTablePagination.3349ebcb.js";import"./configuracion_general.cac1c388.js";import"./ConfiguracionController.1234694f.js";import"./QScrollArea.23ee706d.js";import"./QScrollObserver.5aff62ae.js";import"./TouchPan.efa9afab.js";import"./QExpansionItem.a87f342e.js";import"./SimpleLayout.8d9b09cb.js";import"./GestorArchivos.33ade07b.js";import"./QUploader.c061fd0f.js";import"./QCircularProgress.b5ba4a87.js";import"./configuracionColumnasArchivoSubtarea.215f4ffd.js";import"./CieController.c0ba984d.js";const ve=[{name:"paciente",field:"paciente",label:"Paciente",align:"left",sortable:!0},{name:"sintomas",field:"sintomas",label:"Sintomas",align:"left",sortable:!0},{name:"fecha_hora_solicitud",field:"fecha_hora_solicitud",label:"Fecha y hora de solicitud",align:"left",sortable:!0}];class Ta{constructor(){m(this,"axios");m(this,"cargando",new _e);this.axios=Je.getInstance()}async agendar(a){return await this.solicitud("/agendar",a)}async cancelar(a,l){return this.solicitud("/cancelar",a,{motivo_cancelacion:l})}async rechazar(a,l){return this.solicitud("/rechazar",a,{motivo_rechazo:l})}async solicitud(a,l,h){try{const _=this.axios.getEndpoint(Ce.citas_medicas)+a+"/"+l;this.cargando.activar();const o=await this.axios.post(_,h);return{response:o,result:o.data.modelo}}catch(_){const o=_;throw new Se(o)}finally{this.cargando.desactivar()}}}function he(e,a,l,h,_){const o=Ee(),D=pa(),V=new Ta,{confirmar:k,prompt:q,notificarCorrecto:i}=Ze(),Z={titulo:"Cancelar cita",icono:"bi-x",color:"negative",visible:({entidad:f})=>h.value===d.PENDIENTE&&o.user.id===f.paciente_id,accion:async({entidad:f,posicion:z})=>{q({mensaje:"Escriba el motivo de la cancelaci\xF3n",accion:j=>{k("\xBFEst\xE1 seguro de cancelar la cita m\xE9dica?",async()=>{const{response:F}=await V.cancelar(f.id,j);i(F.data.mensaje),L(z)})}})}},K={titulo:"Rechazar",icono:"bi-x",color:"negative",visible:()=>h.value===d.PENDIENTE&&o.can("puede.rechazar.citas_medicas"),accion:async({entidad:f,posicion:z})=>{q({mensaje:"Escriba el motivo del rechazo",accion:j=>{k("\xBFEst\xE1 seguro de rechazar la cita m\xE9dica?",async()=>{const{response:F}=await V.rechazar(f.id,j);i(F.data.mensaje),L(z)})}})}},I={titulo:"Consulta m\xE9dica",icono:"bi-capsule-pill",color:"blue-grey",visible:()=>[d.AGENDADO,d.ATENDIDO].includes(h.value)&&o.can("puede.crear.diagnosticos_recetas")&&o.can("puede.editar.diagnosticos_recetas"),accion:({entidad:f})=>{console.log(f),D.idCita=f.id,D.empleado=f.paciente_id,D.tipoCitaMedica=f.tipo_cita_medica,_.abrirModalEntidad("DiagnosticoRecetaPage")}},W={titulo:"Agendar cita",icono:"bi-pencil-square",color:"positive",visible:()=>h.value===d.PENDIENTE&&![d.CANCELADO,d.RECHAZADO].includes(h.value),accion:async({entidad:f})=>{await l({id:f.id}),a.value=ie.editar}};function L(f){f>=0&&e.value.splice(f,1)}return{btnCancelarCita:Z,btnRechazar:K,btnDiagnosticoReceta:I,btnAgendarCita:W}}class ya extends fa{constructor(){super();m(this,"sintomas");m(this,"observacion");m(this,"fecha_hora_cita");m(this,"estado_cita_medica");m(this,"tipo_cita_medica");m(this,"paciente");m(this,"paciente_id");m(this,"estado");m(this,"fecha_hora_cancelado");m(this,"fecha_hora_rechazo");m(this,"motivo_cancelacion");m(this,"motivo_rechazo");m(this,"dado_alta");m(this,"fecha_hora_solicitud");m(this,"fecha_hora_accidente");m(this,"tipo_cambio_cargo");m(this,"fecha_accidente");m(this,"hora_accidente");m(this,"fecha_cita_medica");m(this,"hora_cita_medica");m(this,"certificado_alta");m(this,"observaciones_alta");m(this,"restricciones_alta");m(this,"accidente");this.sintomas=null,this.observacion=null,this.fecha_hora_cita=null,this.estado_cita_medica=null,this.tipo_cita_medica=null,this.paciente=null,this.paciente_id=null,this.estado=null,this.motivo_cancelacion=null,this.motivo_rechazo=null,this.fecha_hora_cancelado=null,this.fecha_hora_rechazo=null,this.dado_alta=!1,this.fecha_hora_solicitud=null,this.fecha_hora_accidente=null,this.tipo_cambio_cargo=null,this.fecha_accidente=null,this.hora_accidente=null,this.fecha_cita_medica=null,this.hora_cita_medica=null,this.certificado_alta=null,this.observaciones_alta=null,this.restricciones_alta=null,this.accidente=null}}class Na{constructor(){m(this,"DiagnosticoRecetaPage");this.DiagnosticoRecetaPage=Ke(new Ma("Consulta m\xE9dica",Aa))}}class $a extends ga{constructor(){super(new Na)}}class Va extends We{constructor(){super(Ce.citas_medicas)}}var ka=Xe({components:{TabLayoutTabs:ha,EssentialTableTabs:Ca,DetallePaciente:ba,ModalesEntidad:Ea},emits:["guardado"],setup(e,{emit:a}){const l=Ee(),h=new Va,_=new _a(ya,h),{entidad:o,accion:D,disabled:V,listadosAuxiliares:k}=_.useReferencias(),{setValidador:q,listar:i,cargarVista:Z,obtenerListados:K,consultar:I,reestablecer:W}=_.useComportamiento(),{onConsultado:L,onBeforeModificar:f,onGuardado:z,onReestablecer:X,onModificado:j,onBeforeGuardar:F}=_.useHooks();Z(async()=>{await K({empleados:{controller:new re,params:{campos:"id,nombres,apellidos,departamento_id,responsable_departamento",estado:1}}})});const Me=new re,R=B(d.PENDIENTE),U=B(d.PENDIENTE),ge=B(),Q=Ye(new Da),O=new _e,oe=B(ee.PARA_MI),N=B([]),T=B([]),te=y(()=>xe().name==="accidentes"),G=new $a,Ae=[...ve,{name:"dado_alta",field:"dado_alta",label:"Dado alta"}],{empleados:se,filtrarEmpleados:De,ordenarEmpleados:Te}=ua(k),{btnCancelarCita:ye,btnRechazar:Ne,btnDiagnosticoReceta:$e,btnAgendarCita:Ve}=he(N,D,I,R,G),{btnCancelarCita:ke,btnRechazar:Re,btnDiagnosticoReceta:Pe,btnAgendarCita:qe}=he(T,D,I,U,G),Ie=s=>{R.value=s;const p={estado_cita_medica:R.value,paciente_id:l.user.id};l.esMedico&&delete p.paciente_id,i(p)},ne=async s=>{try{O.activar();const p={campos:"id,foto_url,nombres,apellidos,identificacion,nombre_canton,email,fecha_nacimiento,tipo_sangre,genero,telefono,area_info,nombre_cargo,fecha_ingreso,canton"},{result:u}=await Me.consultar(s,p);Q.hydrate(u)}catch(p){console.log(p)}finally{O.desactivar()}},le=async s=>{try{O.activar();const p={estado_cita_medica:s!=null?s:d.PENDIENTE,paciente_id:l.user.id,tipo_cita_medica:E.ENFERMEDAD_COMUN.value};(l.esMedico||l.esAdministrador)&&delete p.paciente_id;const{result:u}=await h.listar(p);N.value=u,R.value=s!=null?s:d.PENDIENTE}catch(p){console.log(p)}finally{O.desactivar()}},de=async s=>{try{O.activar();const p={estado_cita_medica:s!=null?s:d.PENDIENTE,paciente_id:l.user.id,tipo_cita_medica:E.ACCIDENTE_DE_TRABAJO.value};(l.esMedico||l.esAdministrador)&&delete p.paciente_id;const{result:u}=await h.listar(p);T.value=u,U.value=s!=null?s:d.PENDIENTE}catch(p){console.log(p)}finally{O.desactivar()}},Oe=({entidad:s})=>{I(s),D.value=ie.consultar},we=s=>{const p=s.entidad,u=N.value.findIndex(C=>C.id===s.entidad.cita_medica_id),M=T.value.findIndex(C=>C.id===s.entidad.cita_medica_id);switch(s.page){case"DiagnosticoRecetaPage":if(s.hook==="onGuardado"&&(u&&N.value.splice(u,1),M&&T.value.splice(M,1)),s.hook==="onModificado"&&(u&&N.value.splice(u,1,o),M)){const C=T.value[M];C.dado_alta=p.dado_alta,T.value.splice(M,1,C)}G.cerrarModalEntidad();break}},Be={sintomas:{required:ae},paciente:{required:ae},tipo_cita_medica:{required:ae},fecha_accidente:{requiredIf:S(()=>o.tipo_cita_medica==E.ACCIDENTE_DE_TRABAJO.value)},hora_accidente:{requiredIf:S(()=>o.tipo_cita_medica==E.ACCIDENTE_DE_TRABAJO.value)},fecha_cita_medica:{requiredIf:S(()=>o.estado_cita_medica==d.AGENDADO)},hora_cita_medica:{requiredIf:S(()=>o.estado_cita_medica==d.AGENDADO)}},ce=va(Be,o);q(ce.value),L(async()=>{var u,M,C,w;const s=(M=(u=o.fecha_hora_cita)==null?void 0:u.split(" "))!=null?M:[],p=(w=(C=o.fecha_hora_accidente)==null?void 0:C.split(" "))!=null?w:[];o.fecha_cita_medica=s[0],o.hora_cita_medica=s[1],o.fecha_accidente=p[0],o.hora_accidente=p[1],o.paciente_id&&await ne(o.paciente_id)}),F(()=>{o.fecha_hora_accidente=o.fecha_accidente+" "+o.hora_accidente}),f(()=>{o.fecha_hora_cita=o.fecha_cita_medica+" "+o.hora_cita_medica,o.paciente=o.paciente_id}),z((s,p)=>{const u=p.modelo;R.value===d.PENDIENTE&&u.tipo_cita_medica===E.ENFERMEDAD_COMUN.value&&N.value.push(u),U.value===d.PENDIENTE&&u.tipo_cita_medica===E.ACCIDENTE_DE_TRABAJO.value&&T.value.push(u),a("guardado",u)}),j((s,p)=>{var M,C;const u=p.modelo;if(R.value===d.PENDIENTE&&u.tipo_cita_medica===E.ENFERMEDAD_COMUN.value&&[d.RECHAZADO,d.CANCELADO,d.AGENDADO].includes((M=u.estado_cita_medica)!=null?M:"")){const w=N.value.findIndex(Y=>Y.id===u.id);N.value.splice(w,1)}if(U.value===d.PENDIENTE&&u.tipo_cita_medica===E.ACCIDENTE_DE_TRABAJO.value&&[d.RECHAZADO,d.CANCELADO,d.AGENDADO].includes((C=u.estado_cita_medica)!=null?C:"")){const w=T.value.findIndex(Y=>Y.id===u.id);T.value.splice(w,1)}}),X(()=>{o.estado_cita_medica=d.PENDIENTE,se.value=k.empleados,o.paciente=l.user.id,oe.value=ee.PARA_MI,Q.hydrate(l.user)}),o.estado_cita_medica=d.PENDIENTE,te.value||(o.paciente=l.user.id,Q.hydrate(l.user));const ze={label:E.ENFERMEDAD_COMUN.label,accion:le},je={label:E.ACCIDENTE_DE_TRABAJO.label,accion:de},Fe=y(()=>{var s;return o.paciente_id===((s=l.user)==null?void 0:s.id)});return{v$:ce,mixin:_,accion:D,disabled:V,acciones:ie,modales:G,citaMedica:o,configuracionColumnasCitaMedica:ve,tabCita:R,tabCitaAccidenteTrabajo:U,filtrarCitaMedica:Ie,tabOptionsEstadosCitaMedica:la,empleado:Q,estadosCitaMedica:d,mostrarAgendado:y(()=>o.estado_cita_medica===d.AGENDADO),esMedico:y(()=>l.esMedico),esAdministrador:y(()=>l.esAdministrador),esPaciente:Fe,estaPendiente:y(()=>o.estado_cita_medica===d.PENDIENTE),estaCancelado:y(()=>o.estado_cita_medica===d.CANCELADO),estaRechazado:y(()=>o.estado_cita_medica===d.RECHAZADO),esAccidenteTrabajo:y(()=>o.tipo_cita_medica===E.ACCIDENTE_DE_TRABAJO.value),maskFecha:ea,selectEstadoCita:y(()=>l.esMedico||l.esAdministrador?da:ca),opcionesDestinoCitaMedica:ee,destinoCitaMedica:oe,selectTipoCitaMedica:ra,empleados:se,filtrarEmpleados:De,ordenarEmpleados:Te,tiposCitaMedica:E,enfermedadesComunes:N,accidentesTrabajo:T,consultarCitasMedicasEnfermedadComun:le,consultarCitasMedicasAccidenteTrabajo:de,enfermedadComunTabPanel:ze,accidenteTrabajoTabPanel:je,accionesTabla:aa,consultarCitaMedica:Oe,tabLayout:ge,guardadoCitaMedica:we,configuracionColumnasCitaMedicaAccidenteTransito:Ae,selectTipoCambioCargo:ma,btnCancelarCitaEnfermedadComun:ye,btnRechazarEnfermedadComun:Ne,btnDiagnosticoRecetaEnfermedadComun:$e,btnAgendarCitaEnfermedadComun:Ve,btnCancelarCitaAccidenteTrabajo:ke,btnRechazarAccidenteTrabajo:Re,btnDiagnosticoRecetaAccidenteTrabajo:Pe,btnAgendarCitaAccidenteTrabajo:qe,consultarEmpleado:ne,enRutaAccidentes:te,consultar:I,reestablecer:W}}});const Ra={class:"row q-col-gutter-x-sm q-ma-md q-mb-md"},Pa={key:0,class:"col-12 text-center q-mb-md"},qa={key:0,class:"col-12"},Ia={key:1,class:"col-12 q-pt-md"},Oa={class:"error-msg"},wa={class:"row q-mx-md rounded-card q-col-gutter-sm q-mb-md"},Ba={key:0,class:"col-12 col-md-6 col-mb-md"},za={class:"col-12 col-md-6 col-mb-md"},ja={class:"col-12 col-md-6 col-mb-md"},Fa={class:"error-msg"},Ua={key:1,class:"col-12 col-md-6 col-mb-md"},La={key:2,class:"col-12 col-md-3"},Qa={class:"row items-center justify-end"},Ga={class:"error-msg"},Ha={key:3,class:"col-12 col-md-3"},Ja={class:"error-msg"},Sa={class:"col-12 col-mb-md"},Za={key:4,class:"col-12 col-md-3"},Ka={class:"row items-center justify-end"},Wa={key:5,class:"col-12 col-md-3"},Xa={key:6,class:"col-12 col-md-6 col-mb-md"},Ya={key:7,class:"text-negative col-12 col-md-6 col-mb-md"},xa={key:8,class:"text-negative col-12 col-md-6 col-mb-md"},ei={key:9,class:"text-negative col-12 col-md-6 col-mb-md"},ai={key:10,class:"text-negative col-12 col-md-6 col-mb-md"},ii={key:0,class:"row q-col-gutter-sm q-px-md q-py-sm bg-light-green-2 border-positive-banner"},oi={class:"col-12 text-positive q-mb-md"},ti={class:"col-12 col-md-6 q-mb-md"},si={class:"col-12 col-md-6 q-mb-md"};function ni(e,a,l,h,_,o){const D=J("detalle-paciente"),V=J("essential-table-tabs"),k=J("tab-layout-tabs"),q=J("modales-entidad");return c(),r($,null,[n(k,{mixin:e.mixin,configuracionColumnas:e.configuracionColumnasCitaMedica,full:!0,mostrarListado:!1,customPanel1:e.enRutaAccidentes?null:e.enfermedadComunTabPanel,customPanel2:e.enRutaAccidentes?null:e.accidenteTrabajoTabPanel,onTabSeleccionado:a[19]||(a[19]=i=>e.tabLayout=i),"permitir-cancelar":!e.enRutaAccidentes,"ajustar-celdas":""},{formulario:b(()=>[t("div",Ra,[e.esMedico?(c(),r("div",Pa,[a[20]||(a[20]=t("label",{class:"text-center block q-mb-sm"},"Seleccione un destino para cita m\xE9dica",-1)),n(Qe,{modelValue:e.destinoCitaMedica,"onUpdate:modelValue":a[0]||(a[0]=i=>e.destinoCitaMedica=i),class:"toggle-button-positive","no-caps":"","toggle-color":"positive",unelevated:"",options:[{label:e.opcionesDestinoCitaMedica.PARA_MI,value:e.opcionesDestinoCitaMedica.PARA_MI},{label:e.opcionesDestinoCitaMedica.PARA_OTRO_EMPLEADO,value:e.opcionesDestinoCitaMedica.PARA_OTRO_EMPLEADO}]},null,8,["modelValue","options"])])):v("",!0),n(oa,{name:"scale",mode:"out-in"},{default:b(()=>[e.destinoCitaMedica===e.opcionesDestinoCitaMedica.PARA_MI?(c(),r("div",qa,[e.empleado.id?(c(),ta(D,{key:0,empleado:e.empleado},null,8,["empleado"])):v("",!0)])):v("",!0)]),_:1}),e.destinoCitaMedica===e.opcionesDestinoCitaMedica.PARA_OTRO_EMPLEADO?(c(),r("div",Ia,[a[22]||(a[22]=t("label",{class:"q-mb-sm block"},"Seleccione un empleado",-1)),n(H,{modelValue:e.citaMedica.paciente,"onUpdate:modelValue":a[1]||(a[1]=i=>e.citaMedica.paciente=i),options:e.empleados,"transition-show":"scale","transition-hide":"scale",disable:e.disabled,"options-dense":"",dense:"",outlined:"","use-input":"","input-debounce":"0",error:!!e.v$.paciente.$errors.length,onBlur:e.v$.paciente.$touch,onFilter:e.filtrarEmpleados,onPopupShow:a[2]||(a[2]=i=>e.ordenarEmpleados(e.empleados)),"option-label":i=>i.apellidos+" "+i.nombres,"option-value":i=>i.id,"emit-value":"","map-options":""},{"no-option":b(()=>[n(Ge,null,{default:b(()=>[n(He,{class:"text-grey"},{default:b(()=>a[21]||(a[21]=[sa(" No hay resultados ")])),_:1})]),_:1})]),error:b(()=>[(c(!0),r($,null,P(e.v$.paciente.$errors,i=>(c(),r("div",{key:i.$uid},[t("div",Oa,g(i.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","error","onBlur","onFilter","option-label","option-value"])])):v("",!0)]),n(na,{class:"bg-border q-mb-lg"}),t("div",wa,[e.mostrarAgendado?(c(),r("div",Ba,[a[23]||(a[23]=t("label",{class:"q-mb-sm block"},"Fecha y hora de solicitud",-1)),n(A,{modelValue:e.citaMedica.fecha_hora_solicitud,"onUpdate:modelValue":a[3]||(a[3]=i=>e.citaMedica.fecha_hora_solicitud=i),outlined:"",disable:"",dense:""},null,8,["modelValue"])])):v("",!0),t("div",za,[a[24]||(a[24]=t("label",{class:"q-mb-sm block text-positive text-bold"},"Estado",-1)),n(H,{modelValue:e.citaMedica.estado_cita_medica,"onUpdate:modelValue":a[4]||(a[4]=i=>e.citaMedica.estado_cita_medica=i),options:e.selectEstadoCita,"transition-show":"scale","transition-hide":"scale",disable:e.accion===e.acciones.nuevo||e.disabled,"options-dense":"",dense:"",outlined:"",color:"positive","option-label":i=>i.label,"option-value":i=>i.value,"use-input":"","input-debounce":"0","emit-value":"","map-options":""},null,8,["modelValue","options","disable","option-label","option-value"])]),t("div",ja,[a[25]||(a[25]=t("label",{class:"q-mb-sm block"},"Tipo de cita",-1)),n(H,{modelValue:e.citaMedica.tipo_cita_medica,"onUpdate:modelValue":a[5]||(a[5]=i=>e.citaMedica.tipo_cita_medica=i),options:e.selectTipoCitaMedica,"transition-show":"scale","transition-hide":"scale",disable:e.disabled,"options-dense":"",dense:"",outlined:"","option-label":i=>i.label,"option-value":i=>i.value,"use-input":"","input-debounce":"0","emit-value":"","map-options":"",error:!!e.v$.tipo_cita_medica.$errors.length,onBlur:e.v$.tipo_cita_medica.$touch},{error:b(()=>[(c(!0),r($,null,P(e.v$.tipo_cita_medica.$errors,i=>(c(),r("div",{key:i.$uid},[t("div",Fa,g(i.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","option-label","option-value","error","onBlur"])]),e.citaMedica.tipo_cita_medica===e.tiposCitaMedica.ACCIDENTE_DE_TRABAJO.value?(c(),r("div",Ua,[a[26]||(a[26]=t("label",{class:"q-mb-sm block"},"Cambio de cargo",-1)),n(H,{modelValue:e.citaMedica.tipo_cambio_cargo,"onUpdate:modelValue":a[6]||(a[6]=i=>e.citaMedica.tipo_cambio_cargo=i),options:e.selectTipoCambioCargo,"transition-show":"scale","transition-hide":"scale",disable:e.disabled,hint:"Opcional","options-dense":"",dense:"",outlined:"","option-label":i=>i.label,"option-value":i=>i.value,"use-input":"","input-debounce":"0","emit-value":"","map-options":""},null,8,["modelValue","options","disable","option-label","option-value"])])):v("",!0),e.esAccidenteTrabajo?(c(),r("div",La,[a[27]||(a[27]=t("label",{class:"q-mb-sm block"},"Fecha del accidente",-1)),n(A,{modelValue:e.citaMedica.fecha_accidente,"onUpdate:modelValue":a[8]||(a[8]=i=>e.citaMedica.fecha_accidente=i),disable:e.disabled,outlined:"",type:"datetime",dense:"",error:!!e.v$.fecha_accidente.$errors.length,onBlur:e.v$.fecha_accidente.$touch},{append:b(()=>[n(x,{name:"event",class:"cursor-pointer"},{default:b(()=>[n(pe,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:b(()=>[n(be,{modelValue:e.citaMedica.fecha_accidente,"onUpdate:modelValue":a[7]||(a[7]=i=>e.citaMedica.fecha_accidente=i),mask:e.maskFecha,"today-btn":""},{default:b(()=>[t("div",Qa,[me(n(ue,{label:"Cerrar",color:"primary",flat:""},null,512),[[fe]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:b(()=>[(c(!0),r($,null,P(e.v$.fecha_accidente.$errors,i=>(c(),r("div",{key:i.$uid},[t("div",Ga,g(i.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onBlur"])])):v("",!0),e.esAccidenteTrabajo?(c(),r("div",Ha,[a[28]||(a[28]=t("label",{class:"q-mb-sm block"},"Hora del accidente",-1)),n(A,{modelValue:e.citaMedica.hora_accidente,"onUpdate:modelValue":a[9]||(a[9]=i=>e.citaMedica.hora_accidente=i),type:"time",disable:e.disabled,step:"1","stack-label":"",outlined:"",dense:"",error:!!e.v$.hora_accidente.$errors.length,onBlur:e.v$.hora_accidente.$touch},{error:b(()=>[(c(!0),r($,null,P(e.v$.hora_accidente.$errors,i=>(c(),r("div",{key:i.$uid},[t("div",Ja,g(i.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onBlur"])])):v("",!0),t("div",Sa,[a[29]||(a[29]=t("label",{class:"q-mb-sm block"},"Sintomas",-1)),n(A,{modelValue:e.citaMedica.sintomas,"onUpdate:modelValue":a[10]||(a[10]=i=>e.citaMedica.sintomas=i),placeholder:"Describa los sintomas que presenta...",disable:e.esPaciente||e.disabled,outlined:"",dense:"",autogrow:"",type:"textarea",error:!!e.v$.sintomas.$errors.length,onBlur:e.v$.sintomas.$touch},{error:b(()=>[(c(!0),r($,null,P(e.v$.sintomas.$errors,i=>(c(),r("div",{key:i.$uid},[t("div",null,g(i.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onBlur"])]),e.esMedico||e.esAdministrador&&!(e.estaCancelado||e.estaRechazado||e.estaPendiente)?(c(),r("div",Za,[a[30]||(a[30]=t("label",{class:"q-mb-sm block"},"Fecha de la cita",-1)),n(A,{modelValue:e.citaMedica.fecha_cita_medica,"onUpdate:modelValue":a[12]||(a[12]=i=>e.citaMedica.fecha_cita_medica=i),disable:e.disabled,outlined:"",type:"datetime",dense:"",error:!!e.v$.fecha_cita_medica.$errors.length,onBlur:e.v$.fecha_cita_medica.$touch},{append:b(()=>[n(x,{name:"event",class:"cursor-pointer"},{default:b(()=>[n(pe,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:b(()=>[n(be,{modelValue:e.citaMedica.fecha_cita_medica,"onUpdate:modelValue":a[11]||(a[11]=i=>e.citaMedica.fecha_cita_medica=i),mask:e.maskFecha,"today-btn":""},{default:b(()=>[t("div",Ka,[me(n(ue,{label:"Cerrar",color:"primary",flat:""},null,512),[[fe]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:b(()=>[(c(!0),r($,null,P(e.v$.fecha_cita_medica.$errors,i=>(c(),r("div",{key:i.$uid},[t("div",null,g(i.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onBlur"])])):v("",!0),e.esMedico||e.esAdministrador&&!(e.estaCancelado||e.estaRechazado||e.estaPendiente)?(c(),r("div",Wa,[a[31]||(a[31]=t("label",{class:"q-mb-sm block"},"Hora de la cita",-1)),n(A,{modelValue:e.citaMedica.hora_cita_medica,"onUpdate:modelValue":a[13]||(a[13]=i=>e.citaMedica.hora_cita_medica=i),type:"time",disable:e.disabled,"stack-label":"",outlined:"",dense:"",error:!!e.v$.hora_cita_medica.$errors.length,onBlur:e.v$.hora_cita_medica.$touch},{error:b(()=>[(c(!0),r($,null,P(e.v$.hora_cita_medica.$errors,i=>(c(),r("div",{key:i.$uid},[t("div",null,g(i.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onBlur"])])):v("",!0),e.citaMedica.estado_cita_medica!==e.estadosCitaMedica.PENDIENTE&&(e.esMedico||e.esAdministrador)?(c(),r("div",Xa,[a[32]||(a[32]=t("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),n(A,{modelValue:e.citaMedica.observacion,"onUpdate:modelValue":a[14]||(a[14]=i=>e.citaMedica.observacion=i),placeholder:"Coloque una observaci\xF3n opcional para que el paciente la considere al momento de presentarse a la cita...",disable:e.disabled,outlined:"",dense:"",autogrow:"",type:"textarea"},null,8,["modelValue","disable"])])):v("",!0),e.citaMedica.fecha_hora_cancelado&&(e.esMedico||e.esAdministrador)?(c(),r("div",Ya,[a[33]||(a[33]=t("label",{class:"q-mb-sm block"},"Fecha y hora cancelado",-1)),n(A,{modelValue:e.citaMedica.fecha_hora_cancelado,"onUpdate:modelValue":a[15]||(a[15]=i=>e.citaMedica.fecha_hora_cancelado=i),disable:e.disabled,outlined:"",dense:"",autogrow:"",type:"textarea"},null,8,["modelValue","disable"])])):v("",!0),e.estaCancelado?(c(),r("div",xa,[a[34]||(a[34]=t("label",{class:"q-mb-sm block"},"Motivo cancelaci\xF3n",-1)),n(A,{modelValue:e.citaMedica.motivo_cancelacion,"onUpdate:modelValue":a[16]||(a[16]=i=>e.citaMedica.motivo_cancelacion=i),disable:e.disabled,outlined:"",dense:"",autogrow:"",type:"textarea"},null,8,["modelValue","disable"])])):v("",!0),e.citaMedica.fecha_hora_rechazo&&e.esMedico?(c(),r("div",ei,[a[35]||(a[35]=t("label",{class:"q-mb-sm block"},"Fecha y hora rechazo",-1)),n(A,{modelValue:e.citaMedica.fecha_hora_rechazo,"onUpdate:modelValue":a[17]||(a[17]=i=>e.citaMedica.fecha_hora_rechazo=i),disable:e.disabled,outlined:"",dense:"",autogrow:"",type:"textarea"},null,8,["modelValue","disable"])])):v("",!0),e.esMedico&&e.estaRechazado?(c(),r("div",ai,[a[36]||(a[36]=t("label",{class:"q-mb-sm block"},"Motivo rechazo",-1)),n(A,{modelValue:e.citaMedica.motivo_rechazo,"onUpdate:modelValue":a[18]||(a[18]=i=>e.citaMedica.motivo_rechazo=i),disable:e.disabled,outlined:"",dense:"",autogrow:"",type:"textarea"},null,8,["modelValue","disable"])])):v("",!0)]),e.mostrarAgendado&&e.esPaciente&&e.accion!==e.acciones.editar?(c(),r("div",ii,[t("div",oi,[n(x,{name:"bi-check-circle-fill",class:"q-mr-sm"}),a[37]||(a[37]=t("b",null,"Su cita ha sido agendada exitosamente!",-1))]),t("div",ti,[a[38]||(a[38]=t("label",{class:"q-mb-sm block"},"Fecha y hora de cita",-1)),t("b",null,g(e.citaMedica.fecha_hora_cita),1)]),t("div",si,[a[39]||(a[39]=t("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),t("b",null,g(e.citaMedica.observacion),1)]),a[40]||(a[40]=t("div",{class:"col-12 q-mb-md"},[t("i",null,g("Asistir 5 minutos antes")),t("br"),t("i",null,g("Reincorporarse inmmediatamente luego de su consulta m\xE9dica"))],-1))])):v("",!0)]),[e.enfermedadComunTabPanel.label]:b(()=>[n(V,{titulo:"Enfermedades com\xFAnes",configuracionColumnas:[...e.configuracionColumnasCitaMedica,e.accionesTabla],datos:e.enfermedadesComunes,ajustarCeldas:!0,permitirEditar:!1,permitirEliminar:!1,tabOptions:e.tabOptionsEstadosCitaMedica,onTabSeleccionado:e.consultarCitasMedicasEnfermedadComun,onConsultar:e.consultarCitaMedica,tabDefecto:e.tabCita,accion1:e.btnAgendarCitaEnfermedadComun,accion2:e.btnDiagnosticoRecetaEnfermedadComun},null,8,["configuracionColumnas","datos","tabOptions","onTabSeleccionado","onConsultar","tabDefecto","accion1","accion2"])]),[e.accidenteTrabajoTabPanel.label]:b(()=>[n(V,{titulo:"Accidentes de trabajo",configuracionColumnas:[...e.configuracionColumnasCitaMedicaAccidenteTransito,e.accionesTabla],datos:e.accidentesTrabajo,ajustarCeldas:!0,permitirEditar:!1,permitirEliminar:!1,tabOptions:e.tabOptionsEstadosCitaMedica,onTabSeleccionado:e.consultarCitasMedicasAccidenteTrabajo,onConsultar:e.consultarCitaMedica,tabDefecto:e.tabCitaAccidenteTrabajo,accion1:e.btnAgendarCitaAccidenteTrabajo,accion2:e.btnDiagnosticoRecetaAccidenteTrabajo},null,8,["configuracionColumnas","datos","tabOptions","onTabSeleccionado","onConsultar","tabDefecto","accion1","accion2"])]),_:2},1032,["mixin","configuracionColumnas","customPanel1","customPanel2","permitir-cancelar"]),n(q,{comportamiento:e.modales,"mixin-modal":e.mixin,"confirmar-cerrar":!1,persistente:!1,onGuardado:e.guardadoCitaMedica},null,8,["comportamiento","mixin-modal","onGuardado"])],64)}var ro=ia(ka,[["render",ni]]);export{ro as default};
