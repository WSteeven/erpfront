var Q=Object.defineProperty;var R=(e,o,t)=>o in e?Q(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t;var u=(e,o,t)=>(R(e,typeof o!="symbol"?o+"":o,t),t);import{a0 as _,a1 as E,bG as I,c as S,g as $,f as U,U as A,a4 as N,p as O,e as D,s as j,cI as F,v as L,y as r,S as G,H as i,B as l,z as n,L as V,a7 as T,D as a,J as m,I as p,K as g,F as q,k as M,R as B,G as z,M as c}from"./index.846478c1.js";import{Q as H,a as J,C as K}from"./QPopupProxy.7844573b.js";import{Q as W,a as X}from"./QItemSection.ca64420c.js";import{Q as Y}from"./QSelect.d8222f79.js";import{Q as Z}from"./QPage.b0adedad.js";import{S as x,i as ee,n as oe}from"./utils.19b149f6.js";import{u as se}from"./configuracion_general.cac1c388.js";import{E as le}from"./entidadAuditable.75a46700.js";import{u as te}from"./index.15c331c5.js";import{r as f}from"./i18n-validators.06501904.js";import{e as re}from"./index.209eea81.js";import"./format.8ac60962.js";import"./QMenu.c0bc1e4b.js";import"./position-engine.456d5331.js";import"./QChip.697486c2.js";import"./ConfiguracionController.1234694f.js";class ne{constructor(){u(this,"store",_());u(this,"Router",E())}async registro(o){try{const t=await this.store.registro(o);return this.Router.replace({name:"puestos_disponibles"}),t}catch(t){if(t instanceof I)switch(t.status){case 412:this.Router.replace({name:"ResetearContrasena"});break}throw t}}}class ie extends le{constructor(){super();u(this,"nombres");u(this,"apellidos");u(this,"tipo_documento_identificacion");u(this,"numero_documento_identificacion");u(this,"telefono");u(this,"email");u(this,"password");u(this,"fecha_nacimiento");this.nombres=null,this.apellidos=null,this.tipo_documento_identificacion=null,this.numero_documento_identificacion=null,this.telefono=null,this.email=null,this.password=null,this.fecha_nacimiento=null}}var ae=S({name:"LoginPostulante",setup(){var y;const e=se();(y=e.configuracion)!=null&&y.nombre_empresa||e.consultarConfiguracion();const o=$(()=>{var d;return(d=e.configuracion)==null?void 0:d.nombre_empresa}),t=U(new ie),w=new ne,b=A(),v=new x;N(()=>{var d;return document.title=(d=o.value)!=null?d:""});const s=O(),h=te({nombres:{required:f},apellidos:{required:f},numero_documento_identificacion:{required:f},telefono:{required:f},email:{required:f,email:re},password:{required:f},tipo_documento_identificacion:{required:f},fecha_nacimiento:{required:f}},t),k=async()=>{if(!s.loading.isActive)try{v.activar(),await h.value.$validate()&&(await w.registro(t),v.desactivar(),b.notificarCorrecto("Bienvenido a "+o.value))}catch(d){if(ee(d)){const P=d.erroresValidacion;await oe(P,b)}}finally{v.desactivar()}},C=$(()=>t.nombres==null||t.nombres==""||t.password==null||t.password=="");return{v$:h,isPwd:D(!0),postulante:t,maskFecha:j,logoClaro:$(()=>{var d;return(d=e.configuracion)==null?void 0:d.logo_claro}),logoOscuro:$(()=>{var d;return(d=e.configuracion)==null?void 0:d.logo_oscuro}),enableLoginButton:C,registro:k,tiposDocumentosIdentificaciones:F}}});const de={class:"row items-stretch justify-between q-px-md q-px-xl-md"},ue={key:0,class:"col-6 gt-sm flex flex-center window-height"},me={class:"hero-left"},pe=["src"],ce={class:"col-12 col-md-6 flex flex-center window-height"},fe={class:"right-wrap"},ge={class:"text-center q-mb-md"},ve=["src"],$e={class:"reg-card bg-white rounded-card"},be={class:"row q-col-gutter-sm"},we={class:"col-12 col-md-6"},he={class:"col-12 col-md-6"},ye={class:"q-mt-sm"},Ve={class:"row items-center justify-end"},qe={class:"row q-col-gutter-sm q-mt-sm"},Be={class:"col-12 col-md-6"},ke={class:"col-12 col-md-6"},Ce={class:"row q-col-gutter-sm q-mt-sm"},Pe={class:"col-12 col-md-6"},Qe={class:"col-12 col-md-6"},Re={class:"q-mt-sm"},_e={class:"q-mt-md"};function Ee(e,o,t,w,b,v){return r(),G(Z,{class:"bg-white my-font"},{default:i(()=>[l("div",de,[!e.$q.screen.xs&&!e.$q.screen.sm?(r(),n("div",ue,[l("div",me,[l("img",{src:e.$q.dark.isActive?e.logoOscuro:e.logoClaro,alt:"logo grande",class:"hero-logo"},null,8,pe)])])):V("",!0),l("div",ce,[l("div",fe,[l("div",ge,[e.$q.screen.xs||e.$q.screen.sm?(r(),n("img",{key:0,src:e.$q.dark.isActive?e.logoOscuro:e.logoClaro,alt:"logo peque\xF1o",class:"top-logo"},null,8,ve)):V("",!0),o[12]||(o[12]=l("div",{class:"brand-title"},[l("span",{class:"text-primary"},"FIRST"),l("span",{class:"text-secondary"},"RED")],-1)),o[13]||(o[13]=l("div",{class:"text-bold text-grey-13"},"Enterprise Resource Planning",-1))]),o[24]||(o[24]=l("div",{class:"or-divider q-mb-md"},[l("span",null,"Registro de Postulante")],-1)),l("div",$e,[l("form",{onSubmit:o[11]||(o[11]=T(()=>{},["prevent"])),class:"q-px-lg q-pt-lg q-pb-md"},[o[23]||(o[23]=l("p",{class:"form-lead q-mb-md text-block"}," \xA1Qu\xE9 bueno volverte a ver! An\xEDmate a ser parte de nuestro equipo. ",-1)),l("div",be,[l("div",we,[o[14]||(o[14]=l("label",{class:"label label-lg"},"Nombres",-1)),a(g,{modelValue:e.postulante.nombres,"onUpdate:modelValue":o[0]||(o[0]=s=>e.postulante.nombres=s),placeholder:"Obligatorio",error:!!e.v$.nombres.$errors.length,onBlur:e.v$.nombres.$touch,outlined:"",dense:"",class:"field-52 input-soft input-lg"},{error:i(()=>[(r(!0),n(p,null,m(e.v$.nombres.$errors,s=>(r(),n("div",{key:s.$uid,class:"error-msg"},c(s.$message),1))),128))]),_:1},8,["modelValue","error","onBlur"])]),l("div",he,[o[15]||(o[15]=l("label",{class:"label label-lg"},"Apellidos",-1)),a(g,{modelValue:e.postulante.apellidos,"onUpdate:modelValue":o[1]||(o[1]=s=>e.postulante.apellidos=s),placeholder:"Obligatorio",error:!!e.v$.apellidos.$errors.length,onBlur:e.v$.apellidos.$touch,outlined:"",dense:"",class:"field-52 input-soft input-lg"},{error:i(()=>[(r(!0),n(p,null,m(e.v$.apellidos.$errors,s=>(r(),n("div",{key:s.$uid,class:"error-msg"},c(s.$message),1))),128))]),_:1},8,["modelValue","error","onBlur"])])]),l("div",ye,[o[16]||(o[16]=l("label",{class:"label label-sm"},"Fecha de nacimiento",-1)),a(g,{modelValue:e.postulante.fecha_nacimiento,"onUpdate:modelValue":o[3]||(o[3]=s=>e.postulante.fecha_nacimiento=s),placeholder:"Obligatorio",error:!!e.v$.fecha_nacimiento.$errors.length,onBlur:e.v$.fecha_nacimiento.$touch,readonly:"",outlined:"",dense:"",class:"field-44 input-soft"},{append:i(()=>[a(q,{name:"event",class:"cursor-pointer"},{default:i(()=>[a(H,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[a(J,{modelValue:e.postulante.fecha_nacimiento,"onUpdate:modelValue":o[2]||(o[2]=s=>e.postulante.fecha_nacimiento=s),mask:e.maskFecha,"today-btn":""},{default:i(()=>[l("div",Ve,[M(a(B,{label:"Cerrar",color:"primary",flat:""},null,512),[[K]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:i(()=>[(r(!0),n(p,null,m(e.v$.fecha_nacimiento.$errors,s=>(r(),n("div",{key:s.$uid,class:"error-msg"},c(s.$message),1))),128))]),_:1},8,["modelValue","error","onBlur"])]),l("div",qe,[l("div",Be,[o[18]||(o[18]=l("label",{class:"label"},"Tipo de Identificaci\xF3n",-1)),a(Y,{modelValue:e.postulante.tipo_documento_identificacion,"onUpdate:modelValue":o[4]||(o[4]=s=>e.postulante.tipo_documento_identificacion=s),options:e.tiposDocumentosIdentificaciones,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"","use-input":"","input-debounce":0,error:!!e.v$.tipo_documento_identificacion.$errors.length,onBlur:e.v$.tipo_documento_identificacion.$touch,"option-value":s=>s.value,"option-label":s=>s.nombre,"emit-value":"","map-options":"",class:"field-44 input-soft"},{error:i(()=>[(r(!0),n(p,null,m(e.v$.tipo_documento_identificacion.$errors,s=>(r(),n("div",{key:s.$uid,class:"error-msg"},c(s.$message),1))),128))]),"no-option":i(()=>[a(W,null,{default:i(()=>[a(X,{class:"text-grey"},{default:i(()=>o[17]||(o[17]=[z("No hay resultados")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","onBlur","option-value","option-label"])]),l("div",ke,[o[19]||(o[19]=l("label",{class:"label"},"N\xFAmero de Identificaci\xF3n",-1)),a(g,{modelValue:e.postulante.numero_documento_identificacion,"onUpdate:modelValue":o[5]||(o[5]=s=>e.postulante.numero_documento_identificacion=s),placeholder:"Obligatorio",error:!!e.v$.numero_documento_identificacion.$errors.length,onBlur:e.v$.numero_documento_identificacion.$touch,outlined:"",dense:"",class:"field-44 input-soft"},{error:i(()=>[(r(!0),n(p,null,m(e.v$.numero_documento_identificacion.$errors,s=>(r(),n("div",{key:s.$uid,class:"error-msg"},c(s.$message),1))),128))]),_:1},8,["modelValue","error","onBlur"])])]),l("div",Ce,[l("div",Pe,[o[20]||(o[20]=l("label",{class:"label"},"Tel\xE9fono",-1)),a(g,{modelValue:e.postulante.telefono,"onUpdate:modelValue":o[6]||(o[6]=s=>e.postulante.telefono=s),type:"tel",placeholder:"Obligatorio",error:!!e.v$.telefono.$errors.length,onBlur:e.v$.telefono.$touch,outlined:"",dense:"",class:"field-44 input-soft"},{error:i(()=>[(r(!0),n(p,null,m(e.v$.telefono.$errors,s=>(r(),n("div",{key:s.$uid,class:"error-msg"},c(s.$message),1))),128))]),_:1},8,["modelValue","error","onBlur"])]),l("div",Qe,[o[21]||(o[21]=l("label",{class:"label"},"Email",-1)),a(g,{modelValue:e.postulante.email,"onUpdate:modelValue":o[7]||(o[7]=s=>e.postulante.email=s),type:"email",placeholder:"Obligatorio",error:!!e.v$.email.$errors.length,onBlur:e.v$.email.$touch,outlined:"",dense:"",class:"field-44 input-soft"},{error:i(()=>[(r(!0),n(p,null,m(e.v$.email.$errors,s=>(r(),n("div",{key:s.$uid,class:"error-msg"},c(s.$message),1))),128))]),_:1},8,["modelValue","error","onBlur"])])]),l("div",Re,[o[22]||(o[22]=l("label",{class:"label"},"Contrase\xF1a",-1)),a(g,{modelValue:e.postulante.password,"onUpdate:modelValue":o[9]||(o[9]=s=>e.postulante.password=s),outlined:"",dense:"",onBlur:e.v$.password.$touch,error:!!e.v$.password.$errors.length,type:e.isPwd?"password":"text",hint:"No comparta su contrase\xF1a con nadie",class:"field-44 input-soft"},{append:i(()=>[a(q,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:o[8]||(o[8]=s=>e.isPwd=!e.isPwd)},null,8,["name"])]),error:i(()=>[(r(!0),n(p,null,m(e.v$.password.$errors,s=>(r(),n("div",{key:s.$uid,class:"error-msg"},c(s.$message),1))),128))]),_:1},8,["modelValue","onBlur","error","type"])]),l("div",_e,[a(B,{color:"primary",label:"Registrarse",class:"full-width btn-44 bg-secondary text-white q-mb-xs","no-caps":"",unelevated:"",disable:e.enableLoginButton,onClick:o[10]||(o[10]=s=>e.registro())},null,8,["disable"])])],32)])])])])]),_:1})}var Xe=L(ae,[["render",Ee],["__scopeId","data-v-6c3577e8"]]);export{Xe as default};
