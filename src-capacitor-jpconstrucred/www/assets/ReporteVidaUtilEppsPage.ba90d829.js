import{Q as v}from"./QSelect.d8222f79.js";import{c as b,U as _,be as g,p as u,f as x,A as Q,bH as w,t as A,v as E,y as R,S as C,H as r,D as i,B as t,bf as N,R as V,F as I}from"./index.846478c1.js";import{Q as P}from"./QPage.b0adedad.js";import{Q as S,a as T}from"./QLayout.a706f694.js";import{T as y}from"./Transaccion.ef293505.js";import{T as h}from"./TransaccionIngresoController.9485e9bb.js";import{u as k,A as q}from"./utils.19b149f6.js";import{C as B}from"./ContenedorSimpleMixin.1a882cca.js";import{E as $}from"./EssentialTable.01bbad48.js";import"./QChip.697486c2.js";import"./QItemSection.ca64420c.js";import"./QMenu.c0bc1e4b.js";import"./position-engine.456d5331.js";import"./format.8ac60962.js";import"./QScrollObserver.5aff62ae.js";import"./QResizeObserver.847ee253.js";import"./entidadAuditable.75a46700.js";import"./QFile.c3222262.js";import"./QTable.d5868e69.js";import"./use-fullscreen.18eeae01.js";import"./QToolbar.2bb5adc4.js";import"./QBtnGroup.b7cc3fd9.js";import"./QBadge.60ffdb76.js";import"./QPopupProxy.7844573b.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e43b947c.js";import"./VisorImagen.93b8e0f6.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.eba095ef.js";import"./i18n-validators.06501904.js";import"./index.209eea81.js";var O=b({components:{EssentialTable:$},setup(){const s=new B(y,new h),{listado:o}=s.useReferencias(),{notificarError:p,notificarAdvertencia:m}=_();g().setQuasar(u()),k().setQuasar(u());const a=x({tipo:"",accion:""});async function d(e){try{const n=Q.getInstance(),c=w.URL_BASE+"/"+n.getEndpoint(A.reporte_vida_util_epps),f=a.tipo==="INVENTARIO"?"reporte_vida_util_inventario":"reporte_vida_util_asignados";switch(e){case"excel":a.accion="excel",await q(c,"POST","blob","xlsx",f,a);break;default:a.accion="";const l=await n.post(c,a);l.data.results&&(o.value=l.data.results,l.data.results.length<1&&m("No se obtuvieron resultados"))}}catch(n){console.log(n),p("Error al obtener reporte")}}return{mixin:s,reporte:a,buscarReporte:d,tiposReportes:[{value:"INVENTARIO",label:"Vida \xFAtil de EPPs en Inventario"},{value:"ASIGNADOS",label:"Vida \xFAtil de EPPs asignados a Personal"}]}}});const U={class:"col"},F={class:"row q-col-gutter-sm q-pa-sm q-py-md"},H={class:"col-12 col-md-6"},j={class:"col-6 col-md-6 q-mt-sm"},D={class:"text-center"};function L(s,o,p,m,a,d){return R(),C(T,null,{default:r(()=>[i(S,null,{default:r(()=>[i(P,{padding:""},{default:r(()=>[t("div",U,[i(N,{class:"rounded-card custom-shadow"},{default:r(()=>[t("div",F,[t("div",H,[o[2]||(o[2]=t("label",{class:"q-mb-sm block"},"Tipo de Reporte",-1)),i(v,{modelValue:s.reporte.tipo,"onUpdate:modelValue":o[0]||(o[0]=e=>s.reporte.tipo=e),options:s.tiposReportes,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"","option-value":e=>e.value,"option-label":e=>e.label,"emit-value":"","map-options":""},null,8,["modelValue","options","option-value","option-label"])]),t("div",j,[o[4]||(o[4]=t("label",null," \xA0",-1)),t("div",D,[i(V,{color:"positive",class:"full-width","no-caps":"","no-wrap":"",push:"",glossy:"",onClick:o[1]||(o[1]=e=>s.buscarReporte("excel"))},{default:r(()=>[i(I,{name:"bi-file-earmark-excel-fill",size:"xs",class:"q-mr-sm"}),o[3]||(o[3]=t("span",null,"Excel",-1))]),_:1})])])])]),_:1})])]),_:1})]),_:1})]),_:1})}var Eo=E(O,[["render",L]]);export{Eo as default};
