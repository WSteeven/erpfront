import{s as x,a as y,I as w,z as O}from"./EssentialTable.01bbad48.js";import{S as T}from"./utils.19b149f6.js";import{r as A}from"./i18n-validators.06501904.js";import{u as L}from"./index.15c331c5.js";import{c as M,E as B,e as l,f as D,s as I,v as $,x as E,y as k,S as F,H as V,B as q,D as z}from"./index.846478c1.js";import{F as H,S as N,a as R}from"./FormularioSolicitudExamen.ea88db7a.js";import{T as j}from"./TabLayoutFilterTabs2.94e4b3e1.js";import{M as P}from"./ModalEntidad.5edc5f68.js";import{C as G}from"./ContenedorSimpleMixin.1a882cca.js";import{E as J,c as K}from"./ExamenSolicitado.a72f3d28.js";import{E as Q}from"./Empleado.20234ba0.js";import{u as U}from"./DetallePaciente.f7bd1a61.js";import"./QSelect.d8222f79.js";import"./QChip.697486c2.js";import"./QItemSection.ca64420c.js";import"./QMenu.c0bc1e4b.js";import"./position-engine.456d5331.js";import"./format.8ac60962.js";import"./QFile.c3222262.js";import"./QTable.d5868e69.js";import"./use-fullscreen.18eeae01.js";import"./QToolbar.2bb5adc4.js";import"./QBtnGroup.b7cc3fd9.js";import"./QBadge.60ffdb76.js";import"./QPopupProxy.7844573b.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e43b947c.js";import"./VisorImagen.93b8e0f6.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.eba095ef.js";import"./index.209eea81.js";import"./entidadAuditable.75a46700.js";import"./SimpleLayout.8d9b09cb.js";import"./buttonSubmits.31738227.js";import"./LaboratorioClinicoController.3b4f5163.js";import"./filtrosListadosGenerales.c330183b.js";import"./EmpleadoPermisosController.7d4890fe.js";import"./QTabs.19bbf6a5.js";import"./QResizeObserver.847ee253.js";import"./QTabPanels.ca44a1cd.js";import"./use-panel.27349585.js";import"./touch.9135741d.js";import"./QPage.b0adedad.js";import"./EssentialTableTabs.d6bee6af.js";import"./EssentialTablePagination.3349ebcb.js";import"./configuracion_general.cac1c388.js";import"./ConfiguracionController.1234694f.js";function W(o){return{btnAprobar:{titulo:"Aprobar",icono:"bi-cash-coin",color:"positive",visible:()=>o.value===x.SOLICITADO.value,accion:()=>{}}}}var X=M({components:{TabLayoutTabs:j,Estado:y,ModalesEntidad:P,FormularioSolicitudExamen:H},setup(){const o=U(),e=new G(N,new R),{entidad:t,accion:p}=e.useReferencias(),{setValidador:d,listar:u}=e.useComportamiento(),{onConsultado:m}=e.useHooks(),c=new B,s=l(x.SOLICITADO.value),f=D(new Q),n=new T,S=l(),h=l(),{btnAprobar:v}=W(s),g=i=>{n.activar();try{s.value=i;const a={estado_solicitud_examen:s.value,registro_empleado_examen_id:o.idRegistroEmpleadoExamen};u(a)}catch(a){console.log(a)}finally{n.desactivar()}},C=async i=>{n.activar();const a={campos:"id,foto_url,nombres,apellidos,identificacion,nombre_canton,email,fecha_nacimiento,tipo_sangre,genero,telefono,area_info,nombre_cargo,fecha_ingreso,canton,jefe_inmediato,edad"};try{const{result:r}=await c.consultar(i,a);f.hydrate(r)}catch(r){console.log(r)}finally{n.desactivar()}},_=L({registro_empleado_examen:{required:A}},t);return d(_.value),m(async()=>{t.empleado_id&&C(t.empleado_id),t.examenes_solicitados=t.examenes_solicitados.map(i=>{var r,b;const a=new J;return a.hydrate(i),a.fecha_asistencia=((r=i.fecha_hora_asistencia)==null?void 0:r.split(" ")[0])||null,a.hora_asistencia=((b=i.fecha_hora_asistencia)==null?void 0:b.split(" ")[1])||null,a})}),{v$:_,mixin:e,solicitudExamen:t,configuracionColumnasSolicitudExamen:K,tabSolicitud:s,filtrarSolicitudes:g,tabOptionsEstadosSolicitudExamen:w,empleado:f,estadosCitaMedica:O,maskFecha:I,fecha_cita_medica:S,hora_cita_medica:h,accion:p,btnAprobar:v}}});const Y={class:"q-pa-md"};function Z(o,e,t,p,d,u){const m=E("formulario-solicitud-examen"),c=E("tab-layout-tabs");return k(),F(c,{mixin:o.mixin,configuracionColumnas:o.configuracionColumnasSolicitudExamen,full:!0,tabOptions:o.tabOptionsEstadosSolicitudExamen,filtrar:o.filtrarSolicitudes,tabDefecto:o.tabSolicitud,forzarListar:!0,"permitir-consultar":!0,"permitir-editar":!0,"mostrar-button-submits":!!o.empleado.id},{formulario:V(()=>[q("div",Y,[z(m,{mixin:o.mixin,empleado:o.empleado},null,8,["mixin","empleado"])])]),_:1},8,["mixin","configuracionColumnas","tabOptions","filtrar","tabDefecto","mostrar-button-submits"])}var Uo=$(X,[["render",Z]]);export{Uo as default};
