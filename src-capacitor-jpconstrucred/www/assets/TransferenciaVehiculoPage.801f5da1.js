var He=Object.defineProperty;var Ke=(e,o,V)=>o in e?He(e,o,{enumerable:!0,configurable:!0,writable:!0,value:V}):e[o]=V;var c=(e,o,V)=>(Ke(e,typeof o!="symbol"?o+"":o,V),V);import{Q as T,a as I}from"./QItemSection.ca64420c.js";import{Q as h,a as te}from"./QSelect.d8222f79.js";import{c as We,U as Xe,u as Ye,e as y,a3 as p,s as Z,bA as de,A as ce,bH as ue,t as me,v as Ze,x as pe,y as l,S as be,H as r,a7 as _e,B as i,D as n,G as C,z as d,I as b,J as f,M as m,R as D,F,O as xe,P as eo,K as j,k as oo,L as _}from"./index.846478c1.js";import{Q as ao,a as so,C as io}from"./QPopupProxy.7844573b.js";import{Q as ro}from"./QForm.0a21c4a5.js";import{C as no}from"./ContenedorSimpleMixin.1a882cca.js";import{r as v}from"./i18n-validators.06501904.js";import{u as lo}from"./index.15c331c5.js";import{T as to}from"./TabLayoutFilterTabs2.94e4b3e1.js";import{G as co}from"./GestorArchivos.33ade07b.js";import{T as uo}from"./TransferenciaVehiculoController.3e9772de.js";import{E as mo}from"./entidadAuditable.75a46700.js";import{S as po,v as x,a as bo,A as fo}from"./utils.19b149f6.js";import{d as vo,e as fe}from"./vehiculos.utils.c31e027d.js";import{C as ve}from"./ConductorController.f5ed7b77.js";import{V as ge}from"./VehiculoController.8465b13a.js";import{u as go}from"./filtrosListadosGenerales.c330183b.js";import{r as ee}from"./funcionesActualizacionListados.ab1b54f3.js";import{u as ho}from"./vehiculo.44fdc084.js";import{A as Vo}from"./ArchivoController.689a40cd.js";import{G as he}from"./GarajeController.9ae550a3.js";import"./QChip.697486c2.js";import"./QMenu.c0bc1e4b.js";import"./position-engine.456d5331.js";import"./format.8ac60962.js";import"./index.209eea81.js";import"./QTabs.19bbf6a5.js";import"./QResizeObserver.847ee253.js";import"./QTabPanels.ca44a1cd.js";import"./use-panel.27349585.js";import"./touch.9135741d.js";import"./QPage.b0adedad.js";import"./EssentialTableTabs.d6bee6af.js";import"./QBadge.60ffdb76.js";import"./EssentialTablePagination.3349ebcb.js";import"./QTable.d5868e69.js";import"./use-fullscreen.18eeae01.js";import"./QToolbar.2bb5adc4.js";import"./QBtnGroup.b7cc3fd9.js";import"./EssentialTable.01bbad48.js";import"./QFile.c3222262.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e43b947c.js";import"./VisorImagen.93b8e0f6.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.eba095ef.js";import"./buttonSubmits.31738227.js";import"./QUploader.c061fd0f.js";import"./QCircularProgress.b5ba4a87.js";import"./configuracionColumnasArchivoSubtarea.215f4ffd.js";const $o=[{name:"vehiculo",field:"vehiculo",label:"Vehiculo",align:"left",sortable:!0},{name:"entrega",field:"entrega",label:"P. Entrega",align:"left",sortable:!0},{name:"responsable",field:"responsable",label:"Responsable",align:"left",sortable:!0},{name:"estado",field:"estado",label:"Estado",align:"left",sortable:!0}];class Ve extends mo{constructor(){super();c(this,"vehiculo");c(this,"entrega");c(this,"canton");c(this,"responsable");c(this,"responsable_id");c(this,"observacion_recibe");c(this,"observacion_entrega");c(this,"fecha_entrega");c(this,"motivo");c(this,"estado");c(this,"garaje");c(this,"latitud");c(this,"longitud");c(this,"accesorios");c(this,"estado_carroceria");c(this,"estado_mecanico");c(this,"estado_electrico");c(this,"fecha_aceptacion");c(this,"devuelve");c(this,"asignacion");c(this,"transferencia");this.vehiculo=null,this.entrega=null,this.responsable=null,this.responsable_id=null,this.observacion_recibe=null,this.observacion_entrega=null,this.motivo=null,this.estado=null,this.garaje=null,this.latitud=null,this.longitud=null,this.fecha_entrega=null,this.fecha_aceptacion=null,this.canton=null,this.accesorios=null,this.estado_carroceria=null,this.estado_mecanico=null,this.estado_electrico=null,this.devuelve=null,this.asignacion=null,this.transferencia=null}}class Ao{constructor(o,V){c(this,"refArchivo");c(this,"transferencia");this.transferencia=o,this.refArchivo=V}async validar(){if((this.transferencia.estado=="ACEPTADO"||this.transferencia.estado=="PENDIENTE")&&this.refArchivo.value.cantElementos+this.refArchivo.value.listadoArchivos.length<6)throw new Error("Debe ingresar al menos 6 fotograf\xEDas o archivos adjuntos del veh\xEDculo que se va a asignar");return!0}}var Eo=We({name:"TransferenciaVehiculo",components:{TabLayoutFilterTabs2:to,GestorArchivos:co},setup(){const e=new no(Ve,new uo,new Vo),{entidad:o,disabled:V,listadosAuxiliares:$,accion:G,tabs:oe}=e.useReferencias(),{setValidador:M,obtenerListados:J,cargarVista:a,listar:B}=e.useComportamiento(),{onGuardado:$e,onBeforeModificar:Ae,onConsultado:Ee,onReestablecer:ye}=e.useHooks(),{prompt:Ce,notificarCorrecto:we,notificarAdvertencia:ae,notificarError:ke}=Xe(),N=Ye(),R=new po,g=ho(),[S,O,Ne,se]=fe,q=y(S.label),A=y(),z=y(),Se=y(!1);let w=["GATA HIDRAULICA","LLANTA DE EMERGENCIA","TRIANGULOS REFLECTIVOS"];const L=y(w);let E=["SIN CHOQUES","EN BUEN ESTADO","EN PERFECTAS CONDICIONES"],k=["FIN DE CONTRATO","SALIDA DE VACACIONES","PERMISOS (ESPECIFICAR)","CAMBIO DE GRUPO"];const P=y(E),Q=y(k),H=y([]),{empleados:K,filtrarEmpleados:qe,cantones:ie,filtrarCantones:Te,vehiculos:W,filtrarVehiculos:Ie}=go($);a(async()=>{await J({empleados:new ve,vehiculos:new ge,garajes:{controller:new he,params:{activo:1}}}),K.value=$.empleados,W.value=$.vehiculos,H.value=$.garajes,$.cantones=JSON.parse(p.getItem("cantones").toString()),ie.value=$.cantones,ne(),o.entrega=N.user.id,o.estado=S.label,o.fecha_entrega=x(Z),g.asignacion.id&&await Ue()});const re=lo({vehiculo:{required:v},canton:{required:v},accesorios:{required:v},garaje:{required:v},latitud:{required:v},longitud:{required:v},motivo:{required:v},estado_carroceria:{required:v},estado_mecanico:{required:v},estado_electrico:{required:v},responsable:{required:v},fecha_entrega:{required:v}},o);M(re.value);const Oe=new Ao(o,A);e.agregarValidaciones(Oe),$e(s=>{z.value=s,setTimeout(async()=>{X()},1),g.resetearAsignacionVehiculo()}),Ae(()=>{z.value=o.id,setTimeout(()=>X(),1)}),Ee(()=>{setTimeout(()=>{A.value.listarArchivosAlmacenados(o.id)},1),p.set("accesoriosVehiculos",JSON.stringify(o.accesorios));const s=[...o.estado_mecanico?o.estado_mecanico:[],...o.estado_electrico?o.estado_electrico:[],...o.estado_electrico?o.estado_electrico:[]];s.every(function(u){return u===null})?p.set("estadosVehiculos",JSON.stringify(E)):p.set("estadosVehiculos",JSON.stringify(Array.from(new Set(s)))),ne()}),ye(()=>{setTimeout(()=>{A.value.limpiarListado(),A.value.quiero_subir_archivos=!1,A.value.cantElementos=0},300),o.entrega=N.user.id,o.estado=S.label,o.fecha_entrega=x(Z)});async function X(){console.log(A.value),await A.value.subir()}async function Ue(){console.log("A copiar",g.asignacion),o.asignacion=g.asignacion.id,o.vehiculo=g.asignacion.vehiculo_id,o.entrega=g.asignacion.responsable_id,o.canton=g.asignacion.canton_id,o.accesorios=g.asignacion.accesorios,o.estado_carroceria=g.asignacion.estado_carroceria,o.estado_mecanico=g.asignacion.estado_mecanico,o.estado_electrico=g.asignacion.estado_electrico}function ne(){if(p.getItem("accesoriosVehiculos")){const s=p.getItem("accesoriosVehiculos"),t=JSON.parse((s==null?void 0:s.toString())||"[]");w=t,L.value=t}if(p.getItem("estadosVehiculos")){const s=p.getItem("estadosVehiculos"),t=JSON.parse((s==null?void 0:s.toString())||"[]");E=t,P.value=t}if(p.getItem("motivosTransferenciaVehiculos")){const s=p.getItem("motivosTransferenciaVehiculos"),t=JSON.parse((s==null?void 0:s.toString())||"[]");k=t,Q.value=t}}async function le(s){switch(q.value=s,s){case S.label:B({estado:S.label});break;case O.label:B({estado:O.label,devuelto:0,transferido:0});break;case se.label:B({estado:se.label});break;default:B({estado:Ne.label})}}async function De(s,t){try{R.activar();const u=ce.getInstance(),Y=ue.URL_BASE+"/"+u.getEndpoint(me.transferencias_vehiculos)+"/imprimir/"+s,U="acta_transferencia_vehiculo_"+t+"_"+Date.now();await fo(Y,"GET","blob","pdf",U)}catch(u){ae("Error al imprimir el acta. "+u)}finally{R.desactivar()}}function Fe(s,t){s=s.toUpperCase(),s.length>0&&(k.includes(s)||(k.push(s),t(s,"add-unique"),p.set("motivosTransferenciaVehiculos",JSON.stringify(k))))}function je(s,t){s=s.toUpperCase(),s.length>0&&(E.includes(s)||(E.push(s),t(s,"add-unique"),p.set("estadosVehiculos",JSON.stringify(E))))}function Be(s,t){s=s.toUpperCase(),s.length>0&&(w.includes(s)||(w.push(s),t(s,"add-unique"),p.set("accesoriosVehiculos",JSON.stringify(w))))}function Re(s,t){s=s.toUpperCase(),t(()=>{s==""?Q.value=k:Q.value=k.filter(u=>u.toUpperCase().indexOf(s)>-1)})}function Le(s,t){s=s.toUpperCase(),t(()=>{s==""?P.value=E:P.value=E.filter(u=>u.toUpperCase().indexOf(s)>-1)})}function Pe(s,t){s=s.toUpperCase(),t(()=>{s==""?L.value=w:L.value=w.filter(u=>u.toUpperCase().indexOf(s)>-1)})}async function Qe(){await ee($,"vehiculos",W,new ge)}async function Ge(){await ee($,"garajes",H,new he,{activo:1})}async function Me(){await ee($,"empleados",K,new ve)}async function Je(s,t){try{R.activar();const u=ce.getInstance(),Y=ue.URL_BASE+"/"+u.getEndpoint(me.transferencias_vehiculos)+"/devolver-vehiculo/"+s,U=await u.post(Y,t);if(U.status=200)return we(U.data.mensaje),!0;ae(U.data.mensaje)}catch(u){ke("Error al marcar como pagada la matr\xEDcula. "+u)}finally{R.desactivar()}}function ze(){bo(s=>{o.latitud=s.coords.latitude,o.longitud=s.coords.longitude})}return{mixin:e,transferencia:o,v$:re,accion:G,acciones:de,disabled:V,configuracionColumnas:$o,tabActual:q,refArchivo:A,idRegistro:z,btnSubirArchivos:Se,store:N,tabOptions:vo,empleados:K,filtrarEmpleados:qe,cantones:ie,filtrarCantones:Te,vehiculos:W,filtrarVehiculos:Ie,estadosTransferenciasVehiculos:fe,accesorios:L,motivos:Q,estados:P,garajes:H,filtrarTransferencias:le,crearMotivo:Fe,filtrarMotivos:Re,crearAccesorio:Be,filtrarAccesorios:Pe,crearEstado:je,filtrarEstados:Le,recargarVehiculos:Qe,recargarEmpleados:Me,recargarGarajes:Ge,subirArchivos:X,obtenerCoordenadas:ze,btnImprimirActaResponsabilidadTransferencia:{titulo:"Imprimir Acta",color:"secondary",icono:"bi-printer",accion:async({entidad:s})=>{await De(s.id,s.vehiculo)},visible:()=>q.value===O.label},btnDevolverVehiculo:{titulo:"Devolver Veh\xEDculo",color:"primary",accion:async({entidad:s})=>{Ce({titulo:"Observaci\xF3n",mensaje:"Ingrese alguna observaci\xF3n",requerido:!0,accion:async u=>{await Je(s.id,{observacion:u}),await le(q.value)}})},visible:({entidad:s})=>q.value===O.label&&(N.user.id===s.responsable_id||N.esAdministradorVehiculos)},btnTransferirVehiculo:{titulo:"Transferir",tooltip:"Transferir el veh\xEDculo a otro chofer",color:"positive",icono:"bi-arrow-left-right",accion:async({entidad:s})=>{G.value=de.nuevo,o.hydrate(new Ve),o.vehiculo=s.vehiculo_id,o.entrega=s.responsable_id,o.canton=null,o.responsable=null,o.responsable_id=null,o.observacion_recibe=null,o.observacion_entrega=null,o.fecha_entrega=x(Z),o.motivo=null,o.estado=S.label,o.accesorios=s.accesorios,o.estado_carroceria=s.estado_carroceria,o.estado_mecanico=s.estado_mecanico,o.estado_electrico=s.estado_electrico,o.fecha_aceptacion=null,o.devuelve=null,o.asignacion=null,o.transferencia=s.id,o.responsable=null,o.responsable_id=null,oe.value="formulario"},visible:({entidad:s})=>q.value===O.label&&N.user.id===s.responsable_id}}}});const yo={class:"row q-col-gutter-sm q-py-md"},Co={class:"col-12 col-md-3 q-mb-md"},wo={class:"col-12 col-md-3 q-mb-md"},ko={class:"error-msg"},No={class:"col-12 col-md-3 q-mb-md"},So={class:"error-msg"},qo={class:"col-12 col-md-3"},To={class:"error-msg"},Io={class:"col-12 col-md-3"},Oo={class:"row items-center justify-end"},Uo={class:"error-msg"},Do={class:"col-12 col-md-3 q-mb-md"},Fo={class:"error-msg"},jo={key:0,class:"col-12 col-md-3"},Bo={class:"col-12 col-md-3 q-mb-md"},Ro={class:"error-msg"},Lo={class:"col-12 col-md-3 q-mb-md"},Po={class:"error-msg"},Qo={class:"col-12 col-md-3 q-mb-md"},Go={class:"error-msg"},Mo={key:1,class:"col-12 col-md-3"},Jo={class:"col-12 col-md-3 q-mb-md"},zo={class:"error-msg"},Ho={class:"col-12 col-md-3"},Ko={class:"col-12 col-md-3"},Wo={class:"error-msg"},Xo={class:"col-12 col-md-3"},Yo={class:"error-msg"},Zo={class:"col-12 col-md-3 q-mb-md"},_o={class:"col-12 col-md-3 q-mb-md"},xo={class:"error-msg"},ea={class:"col-12 q-mb-md"};function oa(e,o,V,$,G,oe){const M=pe("gestor-archivos"),J=pe("tab-layout-filter-tabs2");return l(),be(J,{mixin:e.mixin,configuracionColumnas:e.configuracionColumnas,ajustarCeldas:"","tab-options":e.tabOptions,tabDefecto:e.tabActual,filtrar:e.filtrarTransferencias,"titulo-pagina":"Transferencia de Veh\xEDculos",permitirEditar:e.tabActual=="PENDIENTE",accion1:e.btnDevolverVehiculo,accion2:e.btnTransferirVehiculo,accion3:e.btnImprimirActaResponsabilidadTransferencia},{formulario:r(()=>[(l(),be(ro,{key:0,onSubmit:o[19]||(o[19]=_e(()=>{},["prevent"]))},{default:r(()=>[i("div",yo,[i("div",Co,[o[21]||(o[21]=i("label",{class:"q-mb-sm block"},"Empleado entrega",-1)),n(h,{modelValue:e.transferencia.entrega,"onUpdate:modelValue":o[0]||(o[0]=a=>e.transferencia.entrega=a),options:e.empleados,"transition-show":"scale","transition-hide":"scale","options-dense":"",clearable:"",dense:"",outlined:"",disable:"","option-label":a=>a.apellidos+" "+a.nombres,"option-value":a=>a.id,"emit-value":"","map-options":""},{"no-option":r(()=>[n(T,null,{default:r(()=>[n(I,{class:"text-grey"},{default:r(()=>o[20]||(o[20]=[C(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","option-label","option-value"])]),i("div",wo,[o[23]||(o[23]=i("label",{class:"q-mb-sm block"},"Empleado recibe (responsable)",-1)),n(h,{modelValue:e.transferencia.responsable,"onUpdate:modelValue":o[1]||(o[1]=a=>e.transferencia.responsable=a),options:e.empleados,"transition-show":"scale","transition-hide":"scale","options-dense":"",clearable:"",dense:"",outlined:"",disable:e.disabled,"use-input":"","input-debounce":"0",onFilter:e.filtrarEmpleados,error:!!e.v$.responsable.$errors.length,onBlur:e.v$.responsable.$touch,"option-label":a=>a.apellidos+" "+a.nombres,"option-value":a=>a.id,"option-disable":a=>a.id==e.transferencia.entrega,"emit-value":"","map-options":""},{"no-option":r(()=>[n(T,null,{default:r(()=>[n(I,{class:"text-grey"},{default:r(()=>o[22]||(o[22]=[C(" No hay resultados ")])),_:1})]),_:1})]),error:r(()=>[(l(!0),d(b,null,f(e.v$.responsable.$errors,a=>(l(),d("div",{key:a.$uid},[i("div",ko,m(a.$message),1)]))),128))]),after:r(()=>[n(D,{color:"positive",onClick:e.recargarEmpleados},{default:r(()=>[n(F,{size:"xs",class:"q-mr-sm",name:"bi-arrow-clockwise"})]),_:1},8,["onClick"])]),_:1},8,["modelValue","options","disable","onFilter","error","onBlur","option-label","option-value","option-disable"])]),i("div",No,[o[25]||(o[25]=i("label",{class:"q-mb-sm block"},"Veh\xEDculo",-1)),n(h,{modelValue:e.transferencia.vehiculo,"onUpdate:modelValue":o[2]||(o[2]=a=>e.transferencia.vehiculo=a),options:e.vehiculos,hint:"Agregue elementos desde el panel de veh\xEDculos","transition-show":"scale","transition-hide":"scale","options-dense":"",clearable:"",dense:"",outlined:"",disable:e.disabled,"use-input":"","input-debounce":"0",onFilter:e.filtrarVehiculos,"option-label":a=>a.placa,"option-value":a=>a.id,error:!!e.v$.vehiculo.$errors.length,onBlur:e.v$.vehiculo.$touch,"emit-value":"","map-options":""},{option:r(a=>[n(T,xe(eo(a.itemProps)),{default:r(()=>[n(I,null,{default:r(()=>[n(te,null,{default:r(()=>[C(m(a.opt.placa),1)]),_:2},1024),n(te,{caption:""},{default:r(()=>[C(m(a.opt.marca+" "+a.opt.modelo),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"no-option":r(()=>[n(T,null,{default:r(()=>[n(I,{class:"text-grey"},{default:r(()=>o[24]||(o[24]=[C(" No hay resultados ")])),_:1})]),_:1})]),error:r(()=>[(l(!0),d(b,null,f(e.v$.vehiculo.$errors,a=>(l(),d("div",{key:a.$uid},[i("div",So,m(a.$message),1)]))),128))]),after:r(()=>[n(D,{color:"positive",onClick:e.recargarVehiculos},{default:r(()=>[n(F,{size:"xs",class:"q-mr-sm",name:"bi-arrow-clockwise"})]),_:1},8,["onClick"])]),_:1},8,["modelValue","options","disable","onFilter","option-label","option-value","error","onBlur"])]),i("div",qo,[o[27]||(o[27]=i("label",{class:"q-mb-sm block"},"Ciudad",-1)),n(h,{modelValue:e.transferencia.canton,"onUpdate:modelValue":o[3]||(o[3]=a=>e.transferencia.canton=a),options:e.cantones,disable:e.disabled,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"",error:!!e.v$.canton.$errors.length,"option-label":a=>a.canton,"option-value":a=>a.id,onFilter:e.filtrarCantones,"use-input":"","input-debounce":"0","emit-value":"","map-options":""},{"no-option":r(()=>[n(T,null,{default:r(()=>[n(I,{class:"text-grey"},{default:r(()=>o[26]||(o[26]=[C(" No hay resultados ")])),_:1})]),_:1})]),error:r(()=>[(l(!0),d(b,null,f(e.v$.canton.$errors,a=>(l(),d("div",{key:a.$uid},[i("div",To,m(a.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","error","option-label","option-value","onFilter"])]),i("div",Io,[o[28]||(o[28]=i("label",{class:"q-mb-sm block"},"Fecha de entrega ",-1)),n(j,{modelValue:e.transferencia.fecha_entrega,"onUpdate:modelValue":o[5]||(o[5]=a=>e.transferencia.fecha_entrega=a),placeholder:"Obligatorio",error:!!e.v$.fecha_entrega.$errors.length,disable:e.disabled,onBlur:e.v$.fecha_entrega.$touch,outlined:"",dense:""},{append:r(()=>[n(F,{name:"event",class:"cursor-pointer"},{default:r(()=>[n(ao,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[n(so,{modelValue:e.transferencia.fecha_entrega,"onUpdate:modelValue":o[4]||(o[4]=a=>e.transferencia.fecha_entrega=a),options:e.optionsFecha,mask:e.maskFecha,"today-btn":""},{default:r(()=>[i("div",Oo,[oo(n(D,{label:"Cerrar",color:"primary",flat:""},null,512),[[io]])])]),_:1},8,["modelValue","options","mask"])]),_:1})]),_:1})]),error:r(()=>[(l(!0),d(b,null,f(e.v$.fecha_entrega.$errors,a=>(l(),d("div",{key:a.$uid},[i("div",Uo,m(a.$message),1)]))),128))]),_:1},8,["modelValue","error","disable","onBlur"])]),i("div",Do,[o[29]||(o[29]=i("label",{class:"q-mb-sm block"},"Motivo",-1)),n(h,{modelValue:e.transferencia.motivo,"onUpdate:modelValue":o[6]||(o[6]=a=>e.transferencia.motivo=a),"options-dense":"",hint:"Selecciona o ingresa un motivo",disable:e.disabled,dense:"",outlined:"","use-input":"","use-chips":"",error:!!e.v$.motivo.$errors.length,"input-debounce":"0",onNewValue:e.crearMotivo,options:e.motivos,onFilter:e.filtrarMotivos},{error:r(()=>[(l(!0),d(b,null,f(e.v$.motivo.$errors,a=>(l(),d("div",{key:a.$uid},[i("div",Fo,m(a.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onNewValue","options","onFilter"])]),e.transferencia.observacion_entrega||e.accion==e.acciones.nuevo?(l(),d("div",jo,[o[30]||(o[30]=i("label",{class:"q-mb-sm block"},"Observaci\xF3n (persona que entrega) ",-1)),n(j,{modelValue:e.transferencia.observacion_entrega,"onUpdate:modelValue":o[7]||(o[7]=a=>e.transferencia.observacion_entrega=a),placeholder:"Opcional",autogrow:"",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):_("",!0),i("div",Bo,[o[31]||(o[31]=i("label",{class:"q-mb-sm block"},"Estado de carrocer\xEDa",-1)),n(h,{modelValue:e.transferencia.estado_carroceria,"onUpdate:modelValue":o[8]||(o[8]=a=>e.transferencia.estado_carroceria=a),"options-dense":"",hint:"Selecciona o ingresa uno o varios \xEDtem",disable:e.disabled,dense:"",outlined:"","use-input":"","use-chips":"",multiple:"",error:!!e.v$.estado_carroceria.$errors.length,"input-debounce":"0",onNewValue:e.crearEstado,options:e.estados,onFilter:e.filtrarEstados},{error:r(()=>[(l(!0),d(b,null,f(e.v$.estado_carroceria.$errors,a=>(l(),d("div",{key:a.$uid},[i("div",Ro,m(a.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onNewValue","options","onFilter"])]),i("div",Lo,[o[32]||(o[32]=i("label",{class:"q-mb-sm block"},"Estado Mec\xE1nico",-1)),n(h,{modelValue:e.transferencia.estado_mecanico,"onUpdate:modelValue":o[9]||(o[9]=a=>e.transferencia.estado_mecanico=a),"options-dense":"",hint:"Selecciona o ingresa uno o varios \xEDtem",disable:e.disabled,dense:"",outlined:"","use-input":"","use-chips":"",multiple:"",error:!!e.v$.estado_mecanico.$errors.length,"input-debounce":"0",onNewValue:e.crearEstado,options:e.estados,onFilter:e.filtrarEstados},{error:r(()=>[(l(!0),d(b,null,f(e.v$.estado_mecanico.$errors,a=>(l(),d("div",{key:a.$uid},[i("div",Po,m(a.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onNewValue","options","onFilter"])]),i("div",Qo,[o[33]||(o[33]=i("label",{class:"q-mb-sm block"},"Estado El\xE9ctrico y A/AC",-1)),n(h,{modelValue:e.transferencia.estado_electrico,"onUpdate:modelValue":o[10]||(o[10]=a=>e.transferencia.estado_electrico=a),"options-dense":"",hint:"Selecciona o ingresa uno o varios \xEDtem",disable:e.disabled,dense:"",outlined:"","use-input":"","use-chips":"",multiple:"",error:!!e.v$.estado_electrico.$errors.length,"input-debounce":"0",onNewValue:e.crearEstado,options:e.estados,onFilter:e.filtrarEstados},{error:r(()=>[(l(!0),d(b,null,f(e.v$.estado_electrico.$errors,a=>(l(),d("div",{key:a.$uid},[i("div",Go,m(a.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onNewValue","options","onFilter"])]),e.transferencia.observacion_recibe||e.accion==e.acciones.editar?(l(),d("div",Mo,[o[34]||(o[34]=i("label",{class:"q-mb-sm block"},"Observaci\xF3n (receptor)",-1)),n(j,{modelValue:e.transferencia.observacion_recibe,"onUpdate:modelValue":o[11]||(o[11]=a=>e.transferencia.observacion_recibe=a),placeholder:"Opcional",autogrow:"",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):_("",!0),i("div",Jo,[o[36]||(o[36]=i("label",{class:"q-mb-sm block"},"Garaje",-1)),n(h,{modelValue:e.transferencia.garaje,"onUpdate:modelValue":o[12]||(o[12]=a=>e.transferencia.garaje=a),options:e.garajes,"options-dense":"",dense:"",outlined:"",error:!!e.v$.garaje.$errors.length,disable:e.disabled,"option-value":a=>a.id,"option-label":a=>a.nombre,"emit-value":"","map-options":""},{error:r(()=>[(l(!0),d(b,null,f(e.v$.garaje.$errors,a=>(l(),d("div",{key:a.$uid},[i("div",zo,m(a.$message),1)]))),128))]),"no-option":r(()=>[n(T,null,{default:r(()=>[n(I,{class:"text-grey"},{default:r(()=>o[35]||(o[35]=[C(" No hay resultados ")])),_:1})]),_:1})]),after:r(()=>[n(D,{color:"positive",onClick:e.recargarGarajes},{default:r(()=>[n(F,{size:"xs",class:"q-mr-sm",name:"bi-arrow-clockwise"})]),_:1},8,["onClick"])]),_:1},8,["modelValue","options","error","disable","option-value","option-label"])]),i("div",Ho,[o[38]||(o[38]=i("label",{class:"q-mb-sm block"},"Ubicaci\xF3n",-1)),n(D,{color:"positive","no-caps":"","no-wrap":"",class:"full-width",onClick:o[13]||(o[13]=a=>e.obtenerCoordenadas()),disable:e.disabled},{default:r(()=>[n(F,{name:"bi-geo-alt",size:"xs",class:"q-mr-xs"}),o[37]||(o[37]=C(" Obtener ubicaci\xF3n"))]),_:1},8,["disable"])]),i("div",Ko,[o[39]||(o[39]=i("label",{class:"q-mb-sm block"},"Latitud",-1)),n(j,{modelValue:e.transferencia.latitud,"onUpdate:modelValue":o[14]||(o[14]=a=>e.transferencia.latitud=a),placeholder:"Opcional",autogrow:"",error:!!e.v$.latitud.$errors.length,disable:e.disabled,outlined:"",dense:""},{error:r(()=>[(l(!0),d(b,null,f(e.v$.latitud.$errors,a=>(l(),d("div",{key:a.$uid},[i("div",Wo,m(a.$message),1)]))),128))]),_:1},8,["modelValue","error","disable"])]),i("div",Xo,[o[40]||(o[40]=i("label",{class:"q-mb-sm block"},"Longitud",-1)),n(j,{modelValue:e.transferencia.longitud,"onUpdate:modelValue":o[15]||(o[15]=a=>e.transferencia.longitud=a),placeholder:"Opcional",autogrow:"",error:!!e.v$.longitud.$errors.length,disable:e.disabled,outlined:"",dense:""},{error:r(()=>[(l(!0),d(b,null,f(e.v$.longitud.$errors,a=>(l(),d("div",{key:a.$uid},[i("div",Yo,m(a.$message),1)]))),128))]),_:1},8,["modelValue","error","disable"])]),i("div",Zo,[o[41]||(o[41]=i("label",{color:"light-green-2",class:"text-positive text-bold q-mb-sm inline-block bg-light-green-2 rounded q-px-md"},"Estado ",-1)),n(h,{modelValue:e.transferencia.estado,"onUpdate:modelValue":o[16]||(o[16]=a=>e.transferencia.estado=a),options:e.estadosTransferenciasVehiculos,"options-dense":"",dense:"",outlined:"",disable:e.disabled||e.store.user.id!==e.transferencia.responsable_id,"option-value":a=>a.label,"option-label":a=>a.label,"emit-value":"","map-options":""},null,8,["modelValue","options","disable","option-value","option-label"])]),i("div",_o,[o[42]||(o[42]=i("label",{class:"q-mb-sm block"},"Accesorios",-1)),n(h,{modelValue:e.transferencia.accesorios,"onUpdate:modelValue":o[17]||(o[17]=a=>e.transferencia.accesorios=a),"options-dense":"",hint:"Selecciona o ingresa un \xEDtem",disable:e.disabled,dense:"",outlined:"","use-input":"","use-chips":"",multiple:"",error:!!e.v$.accesorios.$errors.length,"input-debounce":"0",onNewValue:e.crearAccesorio,options:e.accesorios,onFilter:e.filtrarAccesorios},{error:r(()=>[(l(!0),d(b,null,f(e.v$.accesorios.$errors,a=>(l(),d("div",{key:a.$uid},[i("div",xo,m(a.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onNewValue","options","onFilter"])]),i("div",ea,[n(M,{ref:"refArchivo",quieroSubirArchivos:e.btnSubirArchivos,label:"Quiero compartir archivos e imagenes del veh\xEDculo",mixin:e.mixin,disable:e.disabled,maxTamanioBytes:52428800,listarAlGuardar:!1,"permitir-eliminar":e.accion==e.acciones.nuevo||e.accion==e.acciones.editar,idModelo:e.idRegistro},{"boton-subir":r(()=>[_("",!0)]),_:1},8,["quieroSubirArchivos","mixin","disable","permitir-eliminar","idModelo"])])])]),_:1}))]),_:1},8,["mixin","configuracionColumnas","tab-options","tabDefecto","filtrar","permitirEditar","accion1","accion2","accion3"])}var ss=Ze(Eo,[["render",oa]]);export{ss as default};
