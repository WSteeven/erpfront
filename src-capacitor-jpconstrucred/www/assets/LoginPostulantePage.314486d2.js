import{c as h,g,f as B,U as S,a1 as O,a4 as L,p as V,i as I,a3 as N,e as M,bH as b,v as Q,y as T,S as j,H as m,B as s,a7 as F,D as t,R as r,a5 as w,K as y,F as z}from"./index.846478c1.js";import{Q as D}from"./QPage.b0adedad.js";import{S as K,i as p,n as C}from"./utils.19b149f6.js";import{u as G}from"./configuracion_general.cac1c388.js";import{U as H}from"./UserLogin.2815a9be.js";import{L as W}from"./LoginPostulanteController.3791d437.js";import"./format.8ac60962.js";import"./ConfiguracionController.1234694f.js";var x=h({name:"LoginPostulante",setup(){var v;const e=G();(v=e.configuracion)!=null&&v.nombre_empresa||e.consultarConfiguracion();const o=g(()=>{var n;return(n=e.configuracion)==null?void 0:n.nombre_empresa}),d=B(new H),u=new W,c=S(),i=new K,l=O();L(()=>{var n;return document.title=(n=o.value)!=null?n:""});const f=V();I(async()=>{try{i.activar(),N.getItem("token")!==null&&await u.obtenerSesionUser()}catch(n){console.log("montar errror",n),p(n)&&console.log("montar errror",n.mensaje)}finally{i.desactivar()}});const q=async()=>{if(!f.loading.isActive)try{i.activar(),await u.login(d),c.notificarCorrecto("Bienvenido a "+o.value)}catch(n){if(p(n)){const a=n.erroresValidacion;await C(a,c)}}finally{i.desactivar()}},P=()=>{l.replace("/recuperar-contrasena")},k=()=>{l.replace("/registro-postulante")},$=async n=>{if(!f.loading.isActive)try{i.activar(),await u.loginterceros(n),c.notificarCorrecto("Bienvenido a "+o.value)}catch(a){if(p(a)){const U=a.erroresValidacion;C(U,c)}}finally{i.desactivar()}},R=g(()=>d.name!==""&&d.password!==""),A=`${b.URL_BASE}/api/auth/facebook`;console.log(A);function E(n){const a=`${b.URL_BASE}/api/auth/${n}`;console.log(a),window.location.href=a}return{isPwd:M(!0),loginUser:d,loginTerceros:$,registro:k,logoClaro:g(()=>{var n;return(n=e.configuracion)==null?void 0:n.logo_claro}),logoOscuro:g(()=>{var n;return(n=e.configuracion)==null?void 0:n.logo_oscuro}),enableLoginButton:R,login:q,recuperarPassword:P,nombreEmpresa:o,cargando:i,loginWithProvider:E}}});const J={class:"row items-center justify-between q-px-md q-px-xl-md q-pt-xl q-pb-lg"},X={class:"col-6 gt-sm"},Y={class:"hero-left"},Z=["src"],_={class:"col-12 col-md-6"},oo={class:"text-center q-mb-md"},eo=["src"],so={class:"postu-card bg-white rounded-card"},no={class:"text-center q-mb-lg"},lo={class:"row items-center q-mt-none q-mb-md"},to={class:"col-12 col-sm-5"};function io(e,o,d,u,c,i){return T(),j(D,{class:"bg-white my-font"},{default:m(()=>[s("div",J,[s("div",X,[s("div",Y,[s("img",{src:e.$q.dark.isActive?e.logoOscuro:e.logoClaro,alt:"logo grande",class:"hero-logo"},null,8,Z)])]),s("div",_,[s("div",oo,[s("img",{src:e.$q.dark.isActive?e.logoOscuro:e.logoClaro,alt:"logo peque\xF1o",class:"top-logo lt-md"},null,8,eo),o[11]||(o[11]=s("div",{class:"brand-title"},[s("span",{class:"text-primary"},"FIRST"),s("span",{class:"text-secondary"},"RED")],-1)),o[12]||(o[12]=s("div",{class:"text-bold text-grey-13"},"Enterprise Resource Planning",-1))]),s("div",so,[s("form",{onSubmit:o[10]||(o[10]=F((...l)=>e.login&&e.login(...l),["prevent"])),class:"q-px-lg"},[t(r,{class:"full-width btn-pill btn-google q-mb-sm","no-caps":"",unelevated:"",onClick:o[0]||(o[0]=l=>e.loginWithProvider("google"))},{default:m(()=>o[13]||(o[13]=[s("div",{class:"btn-flex"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 48 48"},[s("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.66 30.47 0 24 0 14.62 0 6.51 5.35 2.56 13.11l7.98 6.2C12.43 13.02 17.74 9.5 24 9.5z"}),s("path",{fill:"#4285F4",d:"M46.5 24.5c0-1.57-.14-3.08-.4-4.5H24v9h12.7c-.55 2.84-2.22 5.24-4.7 6.86l7.19 5.56C43.76 37.17 46.5 31.32 46.5 24.5z"}),s("path",{fill:"#FBBC05",d:"M10.54 28.31c-.5-1.48-.78-3.06-.78-4.81s.28-3.33.78-4.81l-7.98-6.2C1.89 15.42 1 19.61 1 23.5s.89 8.08 2.56 11.21l7.98-6.2z"}),s("path",{fill:"#34A853",d:"M24 47c6.48 0 11.93-2.13 15.9-5.8l-7.19-5.56c-2.03 1.37-4.62 2.16-8.71 2.16-6.26 0-11.57-3.52-13.46-8.81l-7.98 6.2C6.51 42.65 14.62 47 24 47z"})]),s("span",null,"Ingrese con Google")],-1)])),_:1}),t(r,{class:"full-width btn-pill btn-facebook q-mb-sm bg-info text-white","no-caps":"",unelevated:"",icon:"bi-facebook",label:"Ingrese con Facebook",onClick:o[1]||(o[1]=l=>e.loginWithProvider("facebook"))}),o[15]||(o[15]=s("div",{class:"or-divider q-my-md"},[s("span",null,"O ingresa con tu usuario")],-1)),t(y,{modelValue:e.loginUser.name,"onUpdate:modelValue":o[2]||(o[2]=l=>e.loginUser.name=l),label:"CORREO",type:"email",outlined:"",dense:"",class:"field-44 input-soft q-mb-sm",onKeyup:o[3]||(o[3]=w(l=>e.login(),["enter"]))},null,8,["modelValue"]),t(y,{modelValue:e.loginUser.password,"onUpdate:modelValue":o[5]||(o[5]=l=>e.loginUser.password=l),label:"CONTRASE\xD1A",outlined:"",dense:"",type:e.isPwd?"password":"text",class:"field-44 input-soft q-mb-xs",hint:"NO COMPARTA SU CONTRASE\xD1A CON NADIE",onKeyup:o[6]||(o[6]=w(l=>e.login(),["enter"]))},{append:m(()=>[t(z,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:o[4]||(o[4]=l=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["modelValue","type"]),t(r,{label:"Iniciar sesi\xF3n",class:"full-width btn-44 btn-primary-pill q-mt-sm q-mb-md bg-secondary text-white",disabled:!e.enableLoginButton,"no-caps":"",unelevated:"",onClick:o[7]||(o[7]=l=>e.login())},null,8,["disabled"]),s("div",no,[t(r,{flat:"",color:"primary",label:"Recuperar contrase\xF1a",class:"link-underline","no-caps":"",unelevated:"",onClick:o[8]||(o[8]=l=>e.recuperarPassword())})]),s("div",lo,[o[14]||(o[14]=s("div",{class:"col-12 col-sm-7 text-center text-sm-right q-my-sm q-pr-sm"},[s("small",null,"\xBFQuieres ser parte de JP CONSTRUCRED?")],-1)),s("div",to,[t(r,{flat:"",color:"primary",label:"Reg\xEDstrate",class:"full-width link-underline","no-caps":"",unelevated:"",onClick:o[9]||(o[9]=l=>e.registro())})])]),t(r,{label:"\xBFEntrar como empleado?",class:"full-width btn-44 btn-outline-gold","no-caps":"",outline:"",to:"/login"})],32)])])])]),_:1})}var vo=Q(x,[["render",io],["__scopeId","data-v-12c9ab5b"]]);export{vo as default};
