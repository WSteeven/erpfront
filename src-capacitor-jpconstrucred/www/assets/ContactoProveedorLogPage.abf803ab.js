var w=Object.defineProperty;var P=(o,t,s)=>t in o?w(o,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[t]=s;var a=(o,t,s)=>(P(o,typeof t!="symbol"?t+"":t,s),s);import{Q as $,a as C}from"./QTimeline.351ddca6.js";import{a as h}from"./QSelect.d8222f79.js";import{bz as L,t as b,m as E,f as Q,e as z,A as T,c as q,v as A,y as p,S as _,H as r,B as d,D as n,G as u,z as k,I as B,J as I,M as m,bf as y,bg as g,Q as f,L as N}from"./index.846478c1.js";import{C as V}from"./ContenedorSimpleMixin.1a882cca.js";import{E as M}from"./entidadAuditable.75a46700.js";import{T as j}from"./TabLayout.b05b8b79.js";import{S as D}from"./utils.19b149f6.js";class x extends M{constructor(){super();a(this,"nombres");a(this,"apellidos");a(this,"nombres_completos");a(this,"celular");a(this,"ext");a(this,"correo");a(this,"tipo_contacto");a(this,"empresa");a(this,"proveedor");a(this,"razon_social");this.nombres=null,this.apellidos=null,this.nombres_completos=null,this.celular=null,this.ext=null,this.correo=null,this.tipo_contacto=null,this.empresa=null,this.proveedor=null,this.razon_social=null}}class H extends L{constructor(){super(b.log_contactos_proveedores)}}const O=E("contacto",()=>{const o=Q(new x),t=z(),s=new D;async function c(i){s.activar();const l=T.getInstance();let e;i==null?e=l.getEndpoint(b.log_contactos_proveedores):e=l.getEndpoint(b.log_contactos_proveedores)+"?id="+i;const v=await l.get(e);return s.desactivar(),v.data.results}return{contactoProveedor:o,idcontacto:t,consultarAuditoria:c}});var R=q({components:{TabLayout:j},setup(){const o=new V(x,new H),{entidad:t,accion:s,listado:c}=o.useReferencias(),{listar:i}=o.useComportamiento(),l=O();async function e(v){const S=await l.consultarAuditoria(v);c.value=S}return l.idcontacto!==null||l.idcontacto!==void 0?e(l.idcontacto):i(),{mixin:o,listado:c}}});const F={class:"row q-col-gutter-sm q-pa-sm"},G={class:"q-px-lg q-py-md"},J={class:"row q-col-gutter-sm q-pa-sm"},U={class:"col-12 col-md-12"};function K(o,t,s,c,i,l){return p(),_(y,{class:"rounded-card custom-shadow"},{default:r(()=>[d("div",F,[d("div",G,[n($,{color:"secondary"},{default:r(()=>[n(C,{heading:""},{default:r(()=>t[0]||(t[0]=[u(" Ultimos cambios de la tabla "),d("strong",null,"Contactos de Proveedores",-1)])),_:1}),(p(!0),k(B,null,I(o.listado,e=>(p(),_(C,{key:e.id,title:`Evento: ${e.event}`,color:`${e.event=="created"?"green":e.event=="updated"?"orange":e.event=="deleted"?"red":"gray"}`,subtitle:`[${e.updated_at}], ${e.user_name} [${e.ip_address}] ${e.event=="created"?"ha creado un registro":e.event=="updated"?"ha actualizado un registro":e.event=="deleted"?"ha eliminado un registro":"ha restaurado un registro"}`},{default:r(()=>[d("p",null,[u("Id de registro: "+m(e.auditable_id)+" ",1),t[1]||(t[1]=d("br",null,null,-1)),u("Ingreso desde: "+m(e.user_agent),1)]),d("div",J,[d("div",U,[n(y,{class:"myCard",bordered:""},{default:r(()=>[n(g,{horizontal:""},{default:r(()=>[e.event!=="created"?(p(),_(g,{key:0},{default:r(()=>[n(h,null,{default:r(()=>t[2]||(t[2]=[d("strong",null,"Antiguos valores",-1)])),_:1}),n(f),u(" "+m(e.old_values),1)]),_:2},1024)):N("",!0),n(f,{vertical:""}),n(g,null,{default:r(()=>[n(h,null,{default:r(()=>t[3]||(t[3]=[d("strong",null,"Nuevos valores",-1)])),_:1}),n(f),u(" "+m(e.new_values),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)])])]),_:2},1032,["title","color","subtitle"]))),128))]),_:1})])])]),_:1})}var W=A(R,[["render",K]]),re=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"}));export{W as C,x as a,re as b,O as u};
