import{c as D,U as k,e as u,a1 as I,i as P,v as S,x as b,y as f,z as _,D as a,H as h,bg as z,B as e,K as B,I as y,J as M,a6 as Q,M as p,Q as x,F as V,R as E,G as N}from"./index.846478c1.js";import{Q as $}from"./QImg.e43b947c.js";import{r as j,e as L}from"./es.edeb524b.js";import{d as v}from"./dayjs.min.80d1628b.js";import{B as A,C as F}from"./ComportamientoModalesVacanteDisponible.6752931b.js";import{M as R}from"./ModalEntidad.5edc5f68.js";import{S as U,x as T}from"./utils.19b149f6.js";import{V as O}from"./VacanteController.a321eb71.js";import{u as Z}from"./vacante.0f25869a.js";import"./_commonjsHelpers.8402d862.js";import"./ComponenteModal.domain.3bd8db1f.js";import"./QBadge.60ffdb76.js";import"./QChip.697486c2.js";import"./VisorImagen.93b8e0f6.js";import"./QPage.b0adedad.js";import"./extend.4a22771d.js";import"./QToolbar.2bb5adc4.js";import"./position-engine.456d5331.js";import"./configuracion_general.cac1c388.js";import"./ConfiguracionController.1234694f.js";import"./format.8ac60962.js";import"./Vacante.373e1abf.js";import"./entidadAuditable.75a46700.js";var G=D({name:"PuestoDisponiblePage",components:{BasicContainer:A,ModalEntidad:R},setup(){const s=new U,{notificarError:i}=k(),r=u(),l=u([]),n=u(),c=new F,d=Z(),m=I();P(()=>{const t=m.currentRoute.value.query.id;t&&(d.idVacante=t),m.currentRoute.value.query.showModal=="1"&&c.abrirModalEntidad("VisualizarVacantePage")}),v.extend(j),v.locale(L),s.cargarConsulta(async()=>await o());async function o(){try{const t=(await new O().listar({activo:1,es_completada:0})).result;l.value=t,n.value=t}catch{i("Error al obtener las vacantes disponibles")}}async function g(t){d.idVacante=t,c.abrirModalEntidad("VisualizarVacantePage")}function w(){if(r.value===""){n.value=l.value;return}const t=r.value.toLowerCase(),q=l.value.filter(C=>C.nombre.toLowerCase().indexOf(t)>-1);n.value=q}return{search:r,vacantesDisponibles:n,dayjs:v,expanded:u(!1),modales:c,visualizarVacante:g,getShortDescription:T,filtrarVacantes:w}}});const H={class:"row q-col-gutter-sm q-pa-md flex flex-center"},J={class:"col-12 col-md-6 col-sm-12"},K={class:"row q-col-gutter-sm q-py-md q-mx-sm"},W={class:"my-custom-card"},X={class:"row",style:{"min-height":"70%","max-height":"72%"}},Y={class:"col-6 h-100"},ee={class:"col-6"},se={class:"column"},oe={class:"col-9 block q-px-xs text-caption text-grey text-justify"},te={class:"row q-pa-sm",style:{"min-height":"10%","max-height":"15%"}},ae={class:"col-6"},ie={class:"q-px-sm"},ne={class:"col-6"},re={class:"q-px-sm"},le={class:"q-py-sm",style:{"min-height":"10%","max-height":"15%"}};function ce(s,i,r,l,n,c){const d=b("basic-container"),m=b("modal-entidad");return f(),_(y,null,[a(d,null,{contenido:h(()=>[a(z,null,{default:h(()=>[i[1]||(i[1]=e("div",{class:"text-h5 q-mt-sm q-mb-xs text-center text-bold"}," Nuestros Puestos de Trabajo ",-1)),e("div",H,[e("div",J,[a(B,{modelValue:s.search,"onUpdate:modelValue":[i[0]||(i[0]=o=>s.search=o),s.filtrarVacantes],placeholder:"Buscar por puesto o palabra clave...",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])])])]),_:1}),e("div",K,[(f(!0),_(y,null,M(s.vacantesDisponibles,o=>(f(),_("div",{class:"col-12 col-md-4 col-sm-6",key:o.id},[e("div",W,[e("div",X,[e("div",Y,[a($,{class:"rounded-borders",loading:"lazy",src:o.imagen_referencia,height:"25vh",fit:"contain"},null,8,["src"])]),e("div",ee,[e("div",se,[e("div",{class:Q(["col-3 block text-h6 screen--subtitle2 text-center text-bold overflow-hidden",s.$q.screen.lg?"text-h6":"text-subtitle2"]),style:{overflow:"hidden","text-overflow":"ellipsis"}},p(o.nombre),3),e("div",oe,[e("p",null,p(s.getShortDescription(s.$q,o.descripcion)),1)])])])]),a(x),e("div",te,[e("div",ae,[a(V,{class:"bi-clock-fill"}),e("strong",ie,p(s.dayjs()>s.dayjs(o.fecha_caducidad)?"FINALIZADO":"FINALIZA "+s.dayjs().to(o.fecha_caducidad).toUpperCase()),1)]),e("div",ne,[a(V,{class:"bi-geo-alt-fill"}),e("strong",re,p(o.canton),1)])]),a(x),e("div",le,[a(E,{unelevated:"",glossy:"",rounded:"",color:"primary",onClick:g=>s.visualizarVacante(o.id),class:"flex block full-width"},{default:h(()=>i[2]||(i[2]=[N("Visualizar")])),_:2},1032,["onClick"])])])]))),128))])]),_:1}),a(m,{comportamiento:s.modales,persistente:!1},null,8,["comportamiento"])],64)}var Me=S(G,[["render",ce],["__scopeId","data-v-33e15466"]]);export{Me as default};
