import{c as B,U as T,be as I,p as h,f as Q,e as S,s as q,A as E,bH as A,t as R,v as D,x as M,y as b,S as v,H as r,D as a,bf as j,bg as U,B as s,F as d,G as x,K as _,k as w,R as p,L as P}from"./index.846478c1.js";import{Q as $,a as g,C as V}from"./QPopupProxy.7844573b.js";import{Q as Z}from"./QPage.b0adedad.js";import{r as C}from"./i18n-validators.06501904.js";import{N as F}from"./NoOptionComponent.5e086980.js";import{E as O}from"./ErrorComponent.eba095ef.js";import{u as L}from"./index.15c331c5.js";import{u as H,A as z}from"./utils.19b149f6.js";import"./format.8ac60962.js";import"./QMenu.c0bc1e4b.js";import"./position-engine.456d5331.js";import"./index.209eea81.js";import"./QItemSection.ca64420c.js";var G=B({components:{ErrorComponent:O,NoOptionComponent:F},setup(){const{notificarError:o,notificarCorrecto:e}=T();I().setQuasar(h()),H().setQuasar(h());const i=Q({fecha_inicio:"",fecha_fin:"",accion:"excel",tipo:""}),n="SISTEMA",l="ESTADISTICAS",u=[{label:n,value:n},{label:l,value:l}],c=S(n),f=L({fecha_inicio:{required:C},fecha_fin:{required:C}},i);async function N(){if(await f.value.$validate())try{const m=E.getInstance(),k=`${A.URL_BASE}/${m.getEndpoint(R.reporte_asistencia_tecnicos)}`,y=`reporte asistencia del ${i.fecha_inicio} al ${i.fecha_fin}`;await z(k,"POST","blob","xlsx",y,i),e("Reporte impreso con \xE9xito")}catch(m){console.log(m),o("Error al obtener reporte")}}return{reporte:i,v$:f,buscarReporte:N,tipoDashboard:c,tiposDashboard:u,SISTEMA:n,maskFecha:q,APPENATE:l}}});const J={class:"border-1 text-primary text-bold q-mb-lg"},W={class:"row q-col-gutter-sm"},Y={class:"col-12 col-md-3"},K={class:"row items-center justify-end"},X={class:"col-12 col-md-3"},ee={class:"row items-center justify-end"},oe={class:"col-6 col-md-6 col-sm-12 q-mt-sm"},ae={class:"text-center"};function re(o,e,i,n,l,u){const c=M("error-component");return b(),v(Z,{padding:""},{default:r(()=>[a(j,{class:"q-mb-md rounded no-border bg-desenfoque custom-shadow"},{default:r(()=>[(b(),v(U,{key:0},{default:r(()=>[s("div",J,[a(d,{name:"bi-graph-up-arrow",class:"q-mr-sm"}),e[5]||(e[5]=x(" Reporte de asistencia: M\xF3dulo de tareas "))]),s("div",W,[s("div",Y,[e[6]||(e[6]=s("label",{class:"q-mb-sm block"},"Fecha de inicio",-1)),a(_,{modelValue:o.reporte.fecha_inicio,"onUpdate:modelValue":e[1]||(e[1]=t=>o.reporte.fecha_inicio=t),error:!!o.v$.fecha_inicio.$errors.length,onBlur:o.v$.fecha_inicio.$touch,outlined:"",dense:""},{append:r(()=>[a(d,{name:"event",class:"cursor-pointer"},{default:r(()=>[a($,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[a(g,{modelValue:o.reporte.fecha_inicio,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.reporte.fecha_inicio=t),o.buscarReporte],mask:o.maskFecha,"today-btn":""},{default:r(()=>[s("div",K,[w(a(p,{label:"Cerrar",color:"primary",flat:""},null,512),[[V]])])]),_:1},8,["modelValue","mask","onUpdate:modelValue"])]),_:1})]),_:1})]),error:r(()=>[a(c,{clave:"fecha_inicio",v$:o.v$},null,8,["v$"])]),_:1},8,["modelValue","error","onBlur"])]),s("div",X,[e[7]||(e[7]=s("label",{class:"q-mb-sm block"},"Fecha de fin",-1)),a(_,{modelValue:o.reporte.fecha_fin,"onUpdate:modelValue":e[3]||(e[3]=t=>o.reporte.fecha_fin=t),error:!!o.v$.fecha_fin.$errors.length,onBlur:o.v$.fecha_fin.$touch,outlined:"",dense:""},{append:r(()=>[a(d,{name:"event",class:"cursor-pointer"},{default:r(()=>[a($,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[a(g,{modelValue:o.reporte.fecha_fin,"onUpdate:modelValue":[e[2]||(e[2]=t=>o.reporte.fecha_fin=t),o.buscarReporte],mask:o.maskFecha,"today-btn":""},{default:r(()=>[s("div",ee,[w(a(p,{label:"Cerrar",color:"primary",flat:""},null,512),[[V]])])]),_:1},8,["modelValue","mask","onUpdate:modelValue"])]),_:1})]),_:1})]),error:r(()=>[a(c,{clave:"fecha_fin",v$:o.v$},null,8,["v$"])]),_:1},8,["modelValue","error","onBlur"])]),s("div",oe,[e[9]||(e[9]=s("label",null," \xA0",-1)),s("div",ae,[a(p,{color:"positive",class:"full-width","no-caps":"","no-wrap":"",push:"",glossy:"",onClick:e[4]||(e[4]=t=>o.buscarReporte("excel"))},{default:r(()=>[a(d,{name:"bi-file-earmark-excel-fill",size:"xs",class:"q-mr-sm"}),e[8]||(e[8]=s("span",null,"Excel",-1))]),_:1})])])])]),_:1})),P("",!0)]),_:1})]),_:1})}var ve=D(G,[["render",re]]);export{ve as default};
