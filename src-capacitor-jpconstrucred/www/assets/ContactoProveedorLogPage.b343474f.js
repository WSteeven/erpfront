var S=Object.defineProperty;var w=(o,t,s)=>t in o?S(o,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[t]=s;var a=(o,t,s)=>(w(o,typeof t!="symbol"?t+"":t,s),s);import{Q as $,a as C}from"./QTimeline.dc6b943f.js";import{a as y}from"./QSelect.b1759751.js";import{by as E,s as b,l as L,e as Q,c as T,A as q,d as z,_ as A,v as p,P as _,F as r,y as d,z as n,D as u,x as k,G as N,H as B,K as m,bd as h,be as g,Q as f,J as I}from"./index.70185135.js";import{C as V}from"./ContenedorSimpleMixin.0ef3239b.js";import{E as j}from"./entidadAuditable.75a46700.js";import{T as D}from"./TabLayout.dfee7537.js";import{S as F}from"./utils.2eab62de.js";class x extends j{constructor(){super();a(this,"nombres");a(this,"apellidos");a(this,"nombres_completos");a(this,"celular");a(this,"ext");a(this,"correo");a(this,"tipo_contacto");a(this,"empresa");a(this,"proveedor");a(this,"razon_social");this.nombres=null,this.apellidos=null,this.nombres_completos=null,this.celular=null,this.ext=null,this.correo=null,this.tipo_contacto=null,this.empresa=null,this.proveedor=null,this.razon_social=null}}class H extends E{constructor(){super(b.log_contactos_proveedores)}}const M=L("contacto",()=>{const o=Q(new x),t=T(),s=new F;async function c(i){s.activar();const l=q.getInstance();let e;i==null?e=l.getEndpoint(b.log_contactos_proveedores):e=l.getEndpoint(b.log_contactos_proveedores)+"?id="+i;const v=await l.get(e);return s.desactivar(),v.data.results}return{contactoProveedor:o,idcontacto:t,consultarAuditoria:c}});var O=z({components:{TabLayout:D},setup(){const o=new V(x,new H),{entidad:t,accion:s,listado:c}=o.useReferencias(),{listar:i}=o.useComportamiento(),l=M();async function e(v){const P=await l.consultarAuditoria(v);c.value=P}return l.idcontacto!==null||l.idcontacto!==void 0?e(l.idcontacto):i(),{mixin:o,listado:c}}});const R={class:"row q-col-gutter-sm q-pa-sm"},G={class:"q-px-lg q-py-md"},J={class:"row q-col-gutter-sm q-pa-sm"},K={class:"col-12 col-md-12"};function U(o,t,s,c,i,l){return p(),_(h,{class:"rounded-card custom-shadow"},{default:r(()=>[d("div",R,[d("div",G,[n($,{color:"secondary"},{default:r(()=>[n(C,{heading:""},{default:r(()=>t[0]||(t[0]=[u(" Ultimos cambios de la tabla "),d("strong",null,"Contactos de Proveedores",-1)])),_:1}),(p(!0),k(N,null,B(o.listado,e=>(p(),_(C,{key:e.id,title:`Evento: ${e.event}`,color:`${e.event=="created"?"green":e.event=="updated"?"orange":e.event=="deleted"?"red":"gray"}`,subtitle:`[${e.updated_at}], ${e.user_name} [${e.ip_address}] ${e.event=="created"?"ha creado un registro":e.event=="updated"?"ha actualizado un registro":e.event=="deleted"?"ha eliminado un registro":"ha restaurado un registro"}`},{default:r(()=>[d("p",null,[u("Id de registro: "+m(e.auditable_id)+" ",1),t[1]||(t[1]=d("br",null,null,-1)),u("Ingreso desde: "+m(e.user_agent),1)]),d("div",J,[d("div",K,[n(h,{class:"myCard",bordered:""},{default:r(()=>[n(g,{horizontal:""},{default:r(()=>[e.event!=="created"?(p(),_(g,{key:0},{default:r(()=>[n(y,null,{default:r(()=>t[2]||(t[2]=[d("strong",null,"Antiguos valores",-1)])),_:1}),n(f),u(" "+m(e.old_values),1)]),_:2},1024)):I("",!0),n(f,{vertical:""}),n(g,null,{default:r(()=>[n(y,null,{default:r(()=>t[3]||(t[3]=[d("strong",null,"Nuevos valores",-1)])),_:1}),n(f),u(" "+m(e.new_values),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)])])]),_:2},1032,["title","color","subtitle"]))),128))]),_:1})])])]),_:1})}var W=A(O,[["render",U]]),re=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"}));export{W as C,x as a,re as b,M as u};
