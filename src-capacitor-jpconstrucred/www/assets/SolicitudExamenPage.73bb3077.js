import{w as x,a as y,L as w,D as O}from"./EssentialTable.c4a035e4.js";import{S as T}from"./utils.2eab62de.js";import{r as A}from"./i18n-validators.ea544161.js";import{u as L}from"./index.004ff2d8.js";import{d as M,E as D,c as l,e as F,q as $,_ as k,t as E,v as B,P as I,F as V,y as q,z}from"./index.70185135.js";import{F as N,S as P,a as R}from"./FormularioSolicitudExamen.96b21cf1.js";import{T as j}from"./TabLayoutFilterTabs2.0c89493b.js";import{M as H}from"./ModalEntidad.7d323d29.js";import{C as G}from"./ContenedorSimpleMixin.0ef3239b.js";import{E as J,c as K}from"./ExamenSolicitado.a72f3d28.js";import{E as Q}from"./Empleado.20234ba0.js";import{u as U}from"./DetallePaciente.ff468c25.js";import"./QSelect.b1759751.js";import"./QChip.a6a2afa6.js";import"./QItemSection.1a41b826.js";import"./QMenu.7527c31d.js";import"./position-engine.f244a0db.js";import"./format.8ac60962.js";import"./QFile.f60a5ba1.js";import"./QToolbar.f2167ded.js";import"./use-fullscreen.ec50b882.js";import"./QBadge.5bb69fff.js";import"./QPopupProxy.c164d2ac.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.04221389.js";import"./VisorImagen.7aac4fec.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.60ce3364.js";import"./index.9f64ebda.js";import"./entidadAuditable.75a46700.js";import"./SimpleLayout.f041788f.js";import"./buttonSubmits.f728eedc.js";import"./LaboratorioClinicoController.9a2952ff.js";import"./filtrosListadosGenerales.6ad178d9.js";import"./EmpleadoPermisosController.2089223f.js";import"./QTabs.4ee0c65d.js";import"./QResizeObserver.721a0e6c.js";import"./QTabPanels.0148950e.js";import"./touch.9135741d.js";import"./QPage.f3b97ac0.js";import"./EssentialTableTabs.a1f1bc4b.js";import"./EssentialTablePagination.959d4e60.js";import"./configuracion_general.27135600.js";import"./ConfiguracionController.40960b9d.js";function W(o){return{btnAprobar:{titulo:"Aprobar",icono:"bi-cash-coin",color:"positive",visible:()=>o.value===x.SOLICITADO.value,accion:()=>{}}}}var X=M({components:{TabLayoutTabs:j,Estado:y,ModalesEntidad:H,FormularioSolicitudExamen:N},setup(){const o=U(),e=new G(P,new R),{entidad:t,accion:p}=e.useReferencias(),{setValidador:d,listar:u}=e.useComportamiento(),{onConsultado:m}=e.useHooks(),c=new D,s=l(x.SOLICITADO.value),f=F(new Q),n=new T,S=l(),h=l(),{btnAprobar:v}=W(s),g=i=>{n.activar();try{s.value=i;const a={estado_solicitud_examen:s.value,registro_empleado_examen_id:o.idRegistroEmpleadoExamen};u(a)}catch(a){console.log(a)}finally{n.desactivar()}},C=async i=>{n.activar();const a={campos:"id,foto_url,nombres,apellidos,identificacion,nombre_canton,email,fecha_nacimiento,tipo_sangre,genero,telefono,area_info,nombre_cargo,fecha_ingreso,canton,jefe_inmediato,edad"};try{const{result:r}=await c.consultar(i,a);f.hydrate(r)}catch(r){console.log(r)}finally{n.desactivar()}},_=L({registro_empleado_examen:{required:A}},t);return d(_.value),m(async()=>{t.empleado_id&&C(t.empleado_id),t.examenes_solicitados=t.examenes_solicitados.map(i=>{var r,b;const a=new J;return a.hydrate(i),a.fecha_asistencia=((r=i.fecha_hora_asistencia)==null?void 0:r.split(" ")[0])||null,a.hora_asistencia=((b=i.fecha_hora_asistencia)==null?void 0:b.split(" ")[1])||null,a})}),{v$:_,mixin:e,solicitudExamen:t,configuracionColumnasSolicitudExamen:K,tabSolicitud:s,filtrarSolicitudes:g,tabOptionsEstadosSolicitudExamen:w,empleado:f,estadosCitaMedica:O,maskFecha:$,fecha_cita_medica:S,hora_cita_medica:h,accion:p,btnAprobar:v}}});const Y={class:"q-pa-md"};function Z(o,e,t,p,d,u){const m=E("formulario-solicitud-examen"),c=E("tab-layout-tabs");return B(),I(c,{mixin:o.mixin,configuracionColumnas:o.configuracionColumnasSolicitudExamen,full:!0,tabOptions:o.tabOptionsEstadosSolicitudExamen,filtrar:o.filtrarSolicitudes,tabDefecto:o.tabSolicitud,forzarListar:!0,"permitir-consultar":!0,"permitir-editar":!0,"mostrar-button-submits":!!o.empleado.id},{formulario:V(()=>[q("div",Y,[z(m,{mixin:o.mixin,empleado:o.empleado},null,8,["mixin","empleado"])])]),_:1},8,["mixin","configuracionColumnas","tabOptions","filtrar","tabDefecto","mostrar-button-submits"])}var Jo=k(X,[["render",Z]]);export{Jo as default};
