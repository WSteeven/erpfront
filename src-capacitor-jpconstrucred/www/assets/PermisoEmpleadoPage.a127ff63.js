var Ne=Object.defineProperty;var Oe=(e,o,b)=>o in e?Ne(e,o,{enumerable:!0,configurable:!0,writable:!0,value:b}):e[o]=b;var m=(e,o,b)=>(Oe(e,typeof o!="symbol"?o+"":o,b),b);import{Q as re,a as le}from"./QItemSection.ca64420c.js";import{Q as ne}from"./QSelect.d8222f79.js";import{bz as pe,t as W,c as Qe,u as Be,e as g,g as P,a4 as Ie,E as Le,ct as Te,d2 as ze,bA as te,s as Re,d3 as Ge,d4 as w,d5 as R,v as Je,x as de,y as d,S as Ke,H as n,D as s,a7 as We,B as r,z as u,I as _,J as V,M as k,G as me,K as f,F as H,k as S,R as Y,N,L as h}from"./index.846478c1.js";import{Q as O,a as Q,C as B}from"./QPopupProxy.7844573b.js";import{Q as G}from"./QTime.8869ceeb.js";import{Q as Xe}from"./QForm.0a21c4a5.js";import{P as Ze,c as xe}from"./PermisoEmpleadoController.e22188fd.js";import{u as eo}from"./index.15c331c5.js";import{A as oo}from"./ArchivoSeguimiento.5a3d8353.js";import{T as io}from"./TabLayoutFilterTabs2.94e4b3e1.js";import{G as ao}from"./GestorDocumentos.f493bb1c.js";import{C as ue}from"./ContenedorSimpleMixin.1a882cca.js";import{E as so}from"./entidadAuditable.75a46700.js";import{P as I,y as ro,Q as lo,v as no,L as J,M as to}from"./utils.19b149f6.js";import{r as L,a as K}from"./i18n-validators.06501904.js";import{A as mo}from"./Archivo.c26f5472.js";import{u as uo}from"./filtrosListadosGenerales.c330183b.js";import"./QChip.697486c2.js";import"./QMenu.c0bc1e4b.js";import"./position-engine.456d5331.js";import"./format.8ac60962.js";import"./TouchPan.efa9afab.js";import"./touch.9135741d.js";import"./QUploader.c061fd0f.js";import"./QCircularProgress.b5ba4a87.js";import"./QFile.c3222262.js";import"./configuracionColumnasArchivoSubtarea.215f4ffd.js";import"./EssentialTable.01bbad48.js";import"./QTable.d5868e69.js";import"./use-fullscreen.18eeae01.js";import"./QToolbar.2bb5adc4.js";import"./QBtnGroup.b7cc3fd9.js";import"./QBadge.60ffdb76.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e43b947c.js";import"./VisorImagen.93b8e0f6.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.eba095ef.js";import"./QTabs.19bbf6a5.js";import"./QResizeObserver.847ee253.js";import"./QTabPanels.ca44a1cd.js";import"./use-panel.27349585.js";import"./QPage.b0adedad.js";import"./EssentialTableTabs.d6bee6af.js";import"./EssentialTablePagination.3349ebcb.js";import"./buttonSubmits.31738227.js";import"./index.209eea81.js";class po extends so{constructor(){super();m(this,"id");m(this,"empleado");m(this,"empleado_info");m(this,"tipo_permiso");m(this,"tipo_permiso_info");m(this,"estado");m(this,"estado_permiso_info");m(this,"fecha_hora_inicio");m(this,"fecha_hora_fin");m(this,"fecha_recuperacion");m(this,"hora_recuperacion");m(this,"dias_permiso");m(this,"justificacion");m(this,"documento");m(this,"observacion");m(this,"departamento");m(this,"fecha_hora_solicitud");m(this,"fecha_hora_reagendamiento");m(this,"id_jefe_inmediato");m(this,"jefe_inmediato");m(this,"suguiere_fecha");m(this,"recupero");m(this,"tieneDocumento");m(this,"cargo_vacaciones");m(this,"aceptar_sugerencia");this.id=null,this.empleado=null,this.empleado_info=null,this.tipo_permiso=null,this.tipo_permiso_info=null,this.estado=null,this.estado_permiso_info=null,this.fecha_hora_inicio=null,this.fecha_hora_fin=null,this.fecha_recuperacion=null,this.hora_recuperacion=null,this.dias_permiso=null,this.justificacion=null,this.documento=null,this.observacion=null,this.departamento=null,this.fecha_hora_solicitud=null,this.fecha_hora_reagendamiento=null,this.id_jefe_inmediato=null,this.jefe_inmediato=null,this.recupero=!1,this.suguiere_fecha=!1,this.tieneDocumento=null,this.cargo_vacaciones=!1,this.aceptar_sugerencia=!1}}class co extends pe{constructor(){super(W.motivo_permiso_empleado)}}class fo extends pe{constructor(){super(W.archivo_permiso_empleado)}}var ho=Qe({components:{TabLayoutFilterTabs2:io,GestorDocumentos:ao,ArchivoSeguimiento:oo},emits:["cerrar-modal"],setup(e,{emit:o}){const b=new ue(po,new Ze),X=new ue(mo,new fo),{entidad:l,disabled:Z,accion:q,listadosAuxiliares:y}=b.useReferencias(),{setValidador:i,consultar:ce,cargarVista:fe,obtenerListados:he,listar:F}=b.useComportamiento(),{onBeforeGuardar:be,onGuardado:ve,onBeforeModificar:ge,onConsultado:_e,onReestablecer:Ve}=b.useHooks(),j=Be(),x=g([]),{empleados:ee,filtrarEmpleados:ke}=uo(y),oe=g(),ie=g(),D=g(),ae=g(),ye=j.esRecursosHumanos,T=g(!1),$=8,U=17,M=1e3*60*60,De=[0,15,30,45],A="YYYY-MM-DD HH:mm",$e=P(()=>j.can("puede.ver.campo.empleado")),we=P(()=>q.value==="NUEVO"),E=P(()=>{if(l.fecha_hora_inicio!=null&&l.fecha_hora_fin!=null){const a=I(l.fecha_hora_inicio,A),p=I(l.fecha_hora_fin,A);let c=0;const t=a;let v;for(;t<p;)t.getHours()>=$&&t.getHours()<U&&c++,t.setTime(t.getTime()+M);return c>8?v=c/9:v=c<8?0:c/8,Math.round(v)}else return 0}),qe=P(()=>{if(l.fecha_hora_inicio!=null&&l.fecha_hora_fin!=null){const a=I(l.fecha_hora_inicio,A),p=I(l.fecha_hora_fin,A);if(a>=p)return"La fecha de inicio debe ser anterior a la fecha de fin.";let c=0;const t=new Date(a);for(;t<p;){if((t.getHours()<$||t.getHours()===$&&t.getMinutes()<0)&&(t.setHours($),t.setMinutes(0)),t.getHours()>=U||t.getHours()===U&&t.getMinutes()>=0){t.setDate(t.getDate()+1),t.setHours($),t.setMinutes(0);continue}let C=new Date(t);C.setHours(U),C.setMinutes(0),C>p&&(C=new Date(p)),c+=C.getTime()-t.getTime(),t.setDate(t.getDate()+1),t.setHours($),t.setMinutes(0)}const v=Math.floor(c/M)>8?Math.floor(c/M/9*8):Math.floor(c/M),z=Math.floor(c%M/(1e3*60));return`${v} horas ${z} minutos`}else return 0});Ie(()=>{l.cargo_vacaciones=E.value==1}),be(()=>{l.tieneDocumento=D.value.tamanioListado>0}),ge(()=>{l.tieneDocumento=!0}),ve(a=>{je(a),o("cerrar-modal")});async function je(a){await D.value.subir({permiso_id:a})}_e(()=>{T.value=j.user.id==l.id_jefe_inmediato,oe.value=l.fecha_hora_inicio==null?"":l.fecha_hora_inicio,ie.value=l.fecha_hora_fin==null?"":l.fecha_hora_fin,setTimeout(()=>{D.value.listarArchivos({permiso_id:l.id}),D.value.esConsultado=!0},2e3)});const Me=()=>{const a=D.value;a.limpiarListado(),a.quiero_subir_archivos=!1,a.esConsultado=!1,requestAnimationFrame(()=>{a.quiero_subir_archivos=!0})};Ve(()=>{setTimeout(Me,50)}),fe(async()=>{await he({tipos_permisos:new co,empleados:{controller:new Le,params:{campos:"id,nombres,apellidos",estado:1}},autorizaciones:{controller:new Te,params:{campos:"id,nombre",es_validado:!1,es_modulo_rhh:!0}}}),ee.value=y.empleados,x.value=y.tipos_permisos,ae.value=y.autorizaciones.filter(a=>a.id!==ze.VALIDADO)});function Ae(a){const p=lo(no(),0,0,-15,"YYYY/MM/DD");return a>=p&&new Date(a).getDay()<w.sabado&&new Date(a).getDay()>w.domingo}function Ce(a){const p=J(new Date(R(l.fecha_hora_inicio)),"YYYY/MM/DD");return a>=p&&new Date(a).getDay()<w.sabado&&new Date(a).getDay()>w.domingo}function Fe(a){const p=l.suguiere_fecha?new Date(l.fecha_hora_reagendamiento||Date.now()):new Date(l.fecha_hora_fin?R(l.fecha_hora_fin):Date.now());return a>J(to(p,E.value>0?E.value-1:0),"YYYY/MM/DD")&&new Date(a).getDay()<w.sabado&&new Date(a).getDay()>w.domingo}function Ue(a){var c;const p=(c=l.fecha_hora_fin)==null?void 0:c.split(" ");return a>J(p[0],"YYYY/MM/DD")}const Ee={tipo_permiso:{required:L},fecha_hora_inicio:{required:L},fecha_hora_fin:{required:L},fecha_recuperacion:{required:K(()=>l.recupero==!0)},hora_recuperacion:{required:K(()=>l.recupero==!0)},justificacion:{required:L},observacion:{required:K(()=>T.value)}},se=eo(Ee,l);i(se.value);const Pe=g("1");function He(a){switch(a){case"1":F({estado_permiso_id:a});break;case"2":F({estado_permiso_id:a,recupero:0});break;case"3":F({estado_permiso_id:a,recupero:0});break;default:F({recupero:1})}Pe.value=a}const Se={titulo:" ",icono:"bi-pencil-square",color:"secondary",visible:()=>j.can("puede.editar.permiso_nomina"),accion:({entidad:a})=>{q.value=te.editar,ce(a)}};function Ye(){if(l.fecha_hora_inicio=oe.value,l.fecha_hora_fin=ie.value,l.aceptar_sugerencia){l.fecha_hora_inicio=l.fecha_hora_reagendamiento;const a=R(l.fecha_hora_reagendamiento);a.setHours(a.getHours()+1);const p=a.getFullYear(),c=String(a.getMonth()+1).padStart(2,"0"),t=String(a.getDate()).padStart(2,"0"),v=String(a.getHours()).padStart(2,"0"),z=String(a.getMinutes()).padStart(2,"0");l.fecha_hora_fin=t+"-"+c+"-"+p+" "+v+":"+z+":00"}}return{removeAccents:ro,mixin:b,permiso:l,optionsFecha:Ce,minuteOptions:De,filtrarEmpleados:ke,filtrarPermisoEmpleado:He,optionsFechaInicio:Ae,optionsFechaRecuperacion:Fe,optionsFechaSugerida:Ue,cambiar_fecha:Ye,editarPermiso:Se,esAutorizador:T,esRecursosHumanos:ye,esNuevo:we,verEmpleado:$e,refArchivoPrestamoEmpresarial:D,mixinArchivoPrestamoEmpleado:X,endpoint:W.archivo_permiso_empleado,tipos_permisos:x,dias_permiso:E,horas_permisos:qe,empleados:ee,autorizaciones:ae,accion:q,acciones:te,maskFecha:Re,store:j,v$:se,disabled:Z,tabOptionsPermiso:Ge,configuracionColumnas:xe,mask:A}}});const bo={class:"row q-col-gutter-sm q-mb-md q-mt-md q-mx-md q-py-sm"},vo={class:"col-12 col-md-3 q-mb-md"},go={class:"error-msg"},_o={class:"col-12 col-md-3"},Vo={class:"q-gutter-md row items-start"},ko={class:"row items-center justify-end"},yo={class:"error-msg"},Do={class:"col-12 col-md-3"},$o={class:"q-gutter-md row items-start"},wo={class:"row items-center justify-end"},qo={class:"error-msg"},jo={key:0,class:"col-12 col-md-3"},Mo={key:1,class:"col-12 col-md-3"},Ao={key:2,class:"col-12 col-md-3"},Co={class:"q-gutter-md row items-start"},Fo={class:"row items-center justify-end"},Uo={class:"col-12 col-md-3"},Eo={class:"error-msg"},Po={key:3,class:"col-12 col-md-3"},Ho={key:4,class:"col-12 col-md-3"},So={key:5,class:"col-12 col-md-3"},Yo={key:6,class:"col-12 col-md-3"},No={key:7,class:"col-12 col-md-3"},Oo={class:"error-msg"},Qo={class:"col-12 col-md-3 border-grey rounded-4"},Bo={key:8,class:"col-12 col-md-3"},Io={key:9,class:"col-12 col-md-3"},Lo={class:"row items-center justify-end"},To={class:"error-msg"},zo={key:10,class:"col-12 col-md-3"},Ro={class:"error-msg"},Go={class:"col-12 col-md-3"},Jo={class:"col-12 col-md-3"},Ko={class:"col-12 col-md-3"},Wo={key:11,class:"col-12 col-md-3"};function Xo(e,o,b,X,l,Z){const q=de("gestor-documentos"),y=de("tab-layout-filter-tabs2");return d(),Ke(y,{mixin:e.mixin,configuracionColumnas:e.configuracionColumnas,tabOptions:e.tabOptionsPermiso,full:!0,ajustarCeldas:"",accion1:e.editarPermiso,permitirEditar:!1,permitirEliminar:!1,mostrarButtonSubmits:!0,filtrar:e.filtrarPermisoEmpleado,tabDefecto:"1"},{formulario:n(()=>[s(Xe,{onSubmit:o[27]||(o[27]=We(()=>{},["prevent"]))},{default:n(()=>[r("div",bo,[r("div",vo,[o[29]||(o[29]=r("label",{class:"q-mb-sm block"},"Tipo",-1)),s(ne,{modelValue:e.permiso.tipo_permiso,"onUpdate:modelValue":o[0]||(o[0]=i=>e.permiso.tipo_permiso=i),options:e.tipos_permisos,"transition-show":"jump-up","transition-hide":"jump-down",disable:!e.esNuevo,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"","option-value":i=>i.id,"option-label":i=>i.nombre,"emit-value":"","map-options":""},{error:n(()=>[(d(!0),u(_,null,V(e.v$.tipo_permiso.$errors,i=>(d(),u("div",{key:i.$uid},[r("div",go,k(i.$message),1)]))),128))]),"no-option":n(()=>[s(re,null,{default:n(()=>[s(le,{class:"text-grey"},{default:n(()=>o[28]||(o[28]=[me(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","option-value","option-label"])]),r("div",_o,[o[30]||(o[30]=r("label",{class:"q-mb-sm block"},"Fecha Inicio",-1)),s(f,{modelValue:e.permiso.fecha_hora_inicio,"onUpdate:modelValue":o[3]||(o[3]=i=>e.permiso.fecha_hora_inicio=i),placeholder:"Obligatorio",error:!!e.v$.fecha_hora_inicio.$errors.length,disable:e.permiso.id_jefe_inmediato!==e.store.user.id&&[e.acciones.consultar,e.acciones.editar].includes(e.accion),onBlur:e.v$.fecha_hora_inicio.$touch,readonly:"",outlined:"",dense:""},{append:n(()=>[s(H,{name:"event",class:"cursor-pointer"},{default:n(()=>[s(O,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[r("div",Vo,[s(Q,{modelValue:e.permiso.fecha_hora_inicio,"onUpdate:modelValue":o[1]||(o[1]=i=>e.permiso.fecha_hora_inicio=i),mask:e.mask,options:e.optionsFechaInicio,"today-btn":""},{default:n(()=>[r("div",ko,[S(s(Y,{label:"Cerrar",color:"primary",flat:""},null,512),[[B]])])]),_:1},8,["modelValue","mask","options"]),s(G,{modelValue:e.permiso.fecha_hora_inicio,"onUpdate:modelValue":o[2]||(o[2]=i=>e.permiso.fecha_hora_inicio=i),"minute-options":e.minuteOptions,mask:e.mask,color:"primary"},null,8,["modelValue","minute-options","mask"])])]),_:1})]),_:1})]),error:n(()=>[(d(!0),u(_,null,V(e.v$.fecha_hora_inicio.$errors,i=>(d(),u("div",{key:i.$uid},[r("div",yo,k(i.$message),1)]))),128))]),_:1},8,["modelValue","error","disable","onBlur"])]),r("div",Do,[o[31]||(o[31]=r("label",{class:"q-mb-sm block"},"Fecha Fin",-1)),s(f,{modelValue:e.permiso.fecha_hora_fin,"onUpdate:modelValue":o[6]||(o[6]=i=>e.permiso.fecha_hora_fin=i),placeholder:"Obligatorio",error:!!e.v$.fecha_hora_fin.$errors.length,disable:e.permiso.id_jefe_inmediato!==e.store.user.id&&[e.acciones.consultar,e.acciones.editar].includes(e.accion),onBlur:e.v$.fecha_hora_fin.$touch,readonly:"",outlined:"",dense:""},{append:n(()=>[s(H,{name:"event",class:"cursor-pointer"},{default:n(()=>[s(O,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[r("div",$o,[s(Q,{modelValue:e.permiso.fecha_hora_fin,"onUpdate:modelValue":o[4]||(o[4]=i=>e.permiso.fecha_hora_fin=i),mask:e.mask,options:e.optionsFecha,"today-btn":""},{default:n(()=>[r("div",wo,[S(s(Y,{label:"Cerrar",color:"primary",flat:""},null,512),[[B]])])]),_:1},8,["modelValue","mask","options"]),s(G,{modelValue:e.permiso.fecha_hora_fin,"onUpdate:modelValue":o[5]||(o[5]=i=>e.permiso.fecha_hora_fin=i),mask:e.mask,color:"primary","minute-options":e.minuteOptions},null,8,["modelValue","mask","minute-options"])])]),_:1})]),_:1})]),error:n(()=>[(d(!0),u(_,null,V(e.v$.fecha_hora_fin.$errors,i=>(d(),u("div",{key:i.$uid},[r("div",qo,k(i.$message),1)]))),128))]),_:1},8,["modelValue","error","disable","onBlur"]),o[32]||(o[32]=r("div",{class:"q-gutter-md row items-start"},null,-1))]),e.permiso.id_jefe_inmediato!=null&&e.permiso.id_jefe_inmediato===e.store.user.id?(d(),u("div",jo,[s(N,{class:"q-mt-lg q-pt-md",modelValue:e.permiso.suguiere_fecha,"onUpdate:modelValue":o[7]||(o[7]=i=>e.permiso.suguiere_fecha=i),label:"Sugerir Fecha",disable:e.permiso.id_jefe_inmediato==null&&e.permiso.estado!=1||e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):h("",!0),e.permiso.empleado===e.store.user.id&&e.permiso.suguiere_fecha?(d(),u("div",Mo,[s(N,{class:"q-mt-lg q-pt-md",modelValue:e.permiso.aceptar_sugerencia,"onUpdate:modelValue":[o[8]||(o[8]=i=>e.permiso.aceptar_sugerencia=i),e.cambiar_fecha],label:"Aceptar Sugerencia",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable","onUpdate:modelValue"])])):h("",!0),e.permiso.suguiere_fecha?(d(),u("div",Ao,[o[33]||(o[33]=r("label",{class:"q-mb-sm block"},"Fecha y hora sugerida",-1)),s(f,{modelValue:e.permiso.fecha_hora_reagendamiento,"onUpdate:modelValue":o[11]||(o[11]=i=>e.permiso.fecha_hora_reagendamiento=i),placeholder:"Obligatorio",disable:e.permiso.id_jefe_inmediato!==e.store.user.id&&[e.acciones.consultar,e.acciones.editar].includes(e.accion),readonly:"",outlined:"",dense:""},{append:n(()=>[s(H,{name:"event",class:"cursor-pointer"},{default:n(()=>[s(O,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[r("div",Co,[s(Q,{modelValue:e.permiso.fecha_hora_reagendamiento,"onUpdate:modelValue":o[9]||(o[9]=i=>e.permiso.fecha_hora_reagendamiento=i),mask:e.mask,options:e.optionsFechaSugerida,"today-btn":""},{default:n(()=>[r("div",Fo,[S(s(Y,{label:"Cerrar",color:"primary",flat:""},null,512),[[B]])])]),_:1},8,["modelValue","mask","options"]),s(G,{modelValue:e.permiso.fecha_hora_reagendamiento,"onUpdate:modelValue":o[10]||(o[10]=i=>e.permiso.fecha_hora_reagendamiento=i),mask:e.mask,color:"primary"},null,8,["modelValue","mask"])])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"]),o[34]||(o[34]=r("div",{class:"q-gutter-md row items-start"},null,-1))])):h("",!0),r("div",Uo,[o[35]||(o[35]=r("label",{class:"q-mb-sm block"},"Justificativo",-1)),s(f,{autogrow:"",modelValue:e.permiso.justificacion,"onUpdate:modelValue":[o[12]||(o[12]=i=>e.permiso.justificacion=i),o[13]||(o[13]=i=>e.permiso.justificacion=e.removeAccents(i))],placeholder:"Obligatorio",disable:!e.esNuevo,error:!!e.v$.justificacion.$errors.length,outlined:"",dense:""},{error:n(()=>[(d(!0),u(_,null,V(e.v$.justificacion.$errors,i=>(d(),u("div",{key:i.$uid},[r("div",Eo,k(i.$message),1)]))),128))]),_:1},8,["modelValue","disable","error"])]),e.esNuevo?h("",!0):(d(),u("div",Po,[o[36]||(o[36]=r("label",{class:"q-mb-sm block"},"Empleado",-1)),s(f,{modelValue:e.permiso.empleado_info,"onUpdate:modelValue":o[14]||(o[14]=i=>e.permiso.empleado_info=i),disable:!e.esNuevo,outlined:"",autogrow:"",dense:""},null,8,["modelValue","disable"])])),e.esNuevo?h("",!0):(d(),u("div",Ho,[o[37]||(o[37]=r("label",{class:"q-mb-sm block"},"Departamento",-1)),s(f,{modelValue:e.permiso.departamento,"onUpdate:modelValue":o[15]||(o[15]=i=>e.permiso.departamento=i),disable:!e.esNuevo,outlined:"",dense:""},null,8,["modelValue","disable"])])),e.esNuevo?h("",!0):(d(),u("div",So,[o[38]||(o[38]=r("label",{class:"q-mb-sm block"},"Fecha y hora de la solicitud",-1)),s(f,{modelValue:e.permiso.fecha_hora_solicitud,"onUpdate:modelValue":o[16]||(o[16]=i=>e.permiso.fecha_hora_solicitud=i),disable:!e.esNuevo,readonly:"",outlined:"",dense:""},null,8,["modelValue","disable"])])),e.esNuevo?h("",!0):(d(),u("div",Yo,[o[39]||(o[39]=r("label",{class:"q-mb-sm block"},"Jefe Inmediato",-1)),s(f,{modelValue:e.permiso.jefe_inmediato,"onUpdate:modelValue":o[17]||(o[17]=i=>e.permiso.jefe_inmediato=i),disable:!e.esNuevo,outlined:"",autogrow:"",dense:""},null,8,["modelValue","disable"])])),e.esAutorizador?(d(),u("div",No,[o[40]||(o[40]=r("label",{class:"q-mb-sm block"},"Observacion",-1)),s(f,{modelValue:e.permiso.observacion,"onUpdate:modelValue":o[18]||(o[18]=i=>e.permiso.observacion=i),placeholder:"Obligatorio",disable:!e.esAutorizador,error:!!e.v$.observacion.$errors.length,outlined:"",dense:""},{error:n(()=>[(d(!0),u(_,null,V(e.v$.observacion.$errors,i=>(d(),u("div",{key:i.$uid},[r("div",Oo,k(i.$message),1)]))),128))]),_:1},8,["modelValue","disable","error"])])):h("",!0),r("div",Qo,[o[41]||(o[41]=r("label",{class:"q-mb-sm block"},"Soporte",-1)),s(q,{ref:"refArchivoPrestamoEmpresarial",mixin:e.mixinArchivoPrestamoEmpleado,endpoint:e.endpoint,disable:!e.esNuevo,"permitir-eliminar":!1,"listar-al-guardar":!1,esMultiple:!1},null,8,["mixin","endpoint","disable"])]),e.permiso.id_jefe_inmediato&&e.permiso.estado==2&&!e.permiso.cargo_vacaciones?(d(),u("div",Bo,[s(N,{class:"q-mt-lg q-pt-md",modelValue:e.permiso.recupero,"onUpdate:modelValue":o[19]||(o[19]=i=>e.permiso.recupero=i),label:"Recupero Horas de Trabajo",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):h("",!0),e.permiso.recupero?(d(),u("div",Io,[o[42]||(o[42]=r("label",{class:"q-mb-sm block"},"Fecha de Recuperacion",-1)),s(f,{modelValue:e.permiso.fecha_recuperacion,"onUpdate:modelValue":o[21]||(o[21]=i=>e.permiso.fecha_recuperacion=i),placeholder:"Obligatorio",error:!!e.v$.fecha_recuperacion.$errors.length,readonly:"",disable:e.permiso.id_jefe_inmediato==null&&e.permiso.estado!=1||e.disabled,onBlur:e.v$.fecha_recuperacion.$touch,outlined:"",dense:""},{append:n(()=>[s(H,{name:"event",class:"cursor-pointer"},{default:n(()=>[s(O,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[s(Q,{modelValue:e.permiso.fecha_recuperacion,"onUpdate:modelValue":o[20]||(o[20]=i=>e.permiso.fecha_recuperacion=i),mask:e.maskFecha,options:e.optionsFechaRecuperacion,"today-btn":""},{default:n(()=>[r("div",Lo,[S(s(Y,{label:"Cerrar",color:"primary",flat:""},null,512),[[B]])])]),_:1},8,["modelValue","mask","options"])]),_:1})]),_:1})]),error:n(()=>[(d(!0),u(_,null,V(e.v$.fecha_recuperacion.$errors,i=>(d(),u("div",{key:i.$uid},[r("div",To,k(i.$message),1)]))),128))]),_:1},8,["modelValue","error","disable","onBlur"])])):h("",!0),e.permiso.recupero?(d(),u("div",zo,[o[43]||(o[43]=r("label",{class:"q-mb-sm block"},"Hora de Recuperacion (24 horas)",-1)),s(f,{modelValue:e.permiso.hora_recuperacion,"onUpdate:modelValue":o[22]||(o[22]=i=>e.permiso.hora_recuperacion=i),error:!!e.v$.hora_recuperacion.$errors.length,type:"time",disable:e.permiso.id_jefe_inmediato==null&&e.permiso.estado!=1||e.disabled,hint:"Obligatorio","stack-label":"",outlined:"",clearable:"",dense:""},{error:n(()=>[(d(!0),u(_,null,V(e.v$.hora_recuperacion.$errors,i=>(d(),u("div",{key:i.$uid},[r("div",Ro,k(i.$message),1)]))),128))]),_:1},8,["modelValue","error","disable"])])):h("",!0),r("div",Go,[s(N,{class:"q-mt-lg q-pt-md",modelValue:e.permiso.cargo_vacaciones,"onUpdate:modelValue":o[23]||(o[23]=i=>e.permiso.cargo_vacaciones=i),label:"Cargo a Vacaciones",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),r("div",Jo,[o[44]||(o[44]=r("label",{class:"q-mb-sm block"},"Dias de permiso",-1)),s(f,{modelValue:e.dias_permiso,"onUpdate:modelValue":o[24]||(o[24]=i=>e.dias_permiso=i),placeholder:"Obligatorio",disable:"",outlined:"",dense:""},null,8,["modelValue"])]),r("div",Ko,[o[45]||(o[45]=r("label",{class:"q-mb-sm block"},"Horas de permiso",-1)),s(f,{modelValue:e.horas_permisos,"onUpdate:modelValue":o[25]||(o[25]=i=>e.horas_permisos=i),autogrow:"",placeholder:"Obligatorio",disable:"",outlined:"",dense:""},null,8,["modelValue"])]),e.accion==e.acciones.editar&&e.esAutorizador?(d(),u("div",Wo,[o[47]||(o[47]=r("label",{class:"q-mb-sm block"},"Autorizacion",-1)),s(ne,{modelValue:e.permiso.estado,"onUpdate:modelValue":o[26]||(o[26]=i=>e.permiso.estado=i),options:e.autorizaciones,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"",disable:e.disabled,readonly:e.disabled,"use-input":"","input-debounce":"0","option-value":i=>i.id,"option-label":i=>i.nombre,"emit-value":"","map-options":""},{"no-option":n(()=>[s(re,null,{default:n(()=>[s(le,{class:"text-grey"},{default:n(()=>o[46]||(o[46]=[me(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","readonly","option-value","option-label"])])):h("",!0)])]),_:1})]),_:1},8,["mixin","configuracionColumnas","tabOptions","accion1","filtrar"])}var Gi=Je(ho,[["render",Xo]]);export{Gi as default};
