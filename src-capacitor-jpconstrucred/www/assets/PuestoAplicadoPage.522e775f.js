var T=Object.defineProperty;var z=(o,s,i)=>s in o?T(o,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[s]=i;var y=(o,s,i)=>(z(o,typeof s!="symbol"?s+"":s,i),i);import{bz as I,t as j,c as D,cJ as M,e as P,cH as C,a0 as N,u as B,v as O,x as A,y as n,z as r,D as a,H as l,bg as E,B as e,I as S,J as $,S as Q,a6 as R,M as c,Q as V,F as q,R as F,G as L}from"./index.846478c1.js";import{Q as H}from"./QImg.e43b947c.js";import{r as J,e as G}from"./es.edeb524b.js";import{r as U}from"./index.209eea81.js";import{u as X}from"./index.15c331c5.js";import{B as K,C as W}from"./ComportamientoModalesVacanteDisponible.6752931b.js";import{M as Y}from"./ModalEntidad.5edc5f68.js";import{C as Z}from"./ContenedorSimpleMixin.1a882cca.js";import{E as oo}from"./entidadAuditable.75a46700.js";import{y as so,x as eo}from"./utils.19b149f6.js";import{P as to}from"./PostulacionController.0020a376.js";import{d as p}from"./dayjs.min.80d1628b.js";import{u as ao}from"./vacante.0f25869a.js";import{e as io}from"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./_commonjsHelpers.8402d862.js";import"./ComponenteModal.domain.3bd8db1f.js";import"./QBadge.60ffdb76.js";import"./QChip.697486c2.js";import"./VisorImagen.93b8e0f6.js";import"./QPage.b0adedad.js";import"./extend.4a22771d.js";import"./QToolbar.2bb5adc4.js";import"./position-engine.456d5331.js";import"./configuracion_general.cac1c388.js";import"./ConfiguracionController.1234694f.js";import"./format.8ac60962.js";import"./Vacante.373e1abf.js";const no=[{name:"nombre",field:"nombre",label:"Nombre",align:"left",sortable:!0}];class ro extends I{constructor(){super(j.tipos_puestos)}}class lo extends oo{constructor(){super();y(this,"nombre");this.nombre=null}}var co=D({name:"PuestoAplicadoPage",components:{BasicContainer:K,ModalEntidad:Y},setup(){const o=new Z(lo,new ro),{entidad:s,disabled:i,listadosAuxiliares:f}=o.useReferencias(),{setValidador:_,cargarVista:h,obtenerListados:d}=o.useComportamiento(),{autenticado:m,tipoAutenticacion:t}=M(),b=ao(),v=new W;let u;const g=P([]);p.extend(J),p.locale(G),h(async()=>{if(m)switch(t){case C.empleado:u=B();break;case C.usuario_externo:u=N();break;default:console.log("El usuario no est\xE1 autenticado")}await d({postulaciones:{controller:new to,params:{user_id:u.user.id}}}),g.value=f.postulaciones});const x=X({nombre:{required:U}},s);_(x.value);async function k(w){b.idVacante=w,v.abrirModalEntidad("VisualizarVacantePage")}return{removeAccents:so,mixin:o,tipo_puesto_trabajo:s,vacantesPostuladas:g,v$:x,disabled:i,configuracionColumnas:no,dayjs:p,modales:v,accepted:P("1"),estadosPostulacion:io,getShortDescription:eo,visualizarVacante:k}}});const mo={key:0,class:"row q-col-gutter-sm q-py-md q-mx-sm"},uo={class:"my-custom-card"},po={class:"row",style:{"min-height":"72%","max-height":"72%"}},fo={class:"col-6 h-100"},_o={class:"col-6"},ho={class:"column"},bo={class:"col-9 block q-px-xs text-caption text-grey text-justify"},vo={class:"row q-pa-sm",style:{"min-height":"10%","max-height":"15%"}},go={class:"col-6"},xo={class:"q-px-sm"},yo={class:"col-6"},Po={class:"q-px-sm"},Co={class:"q-py-sm",style:{"min-height":"10%","max-height":"15%"}};function Ao(o,s,i,f,_,h){const d=A("basic-container"),m=A("modal-entidad");return n(),r(S,null,[a(d,null,{contenido:l(()=>[a(E,null,{default:l(()=>s[0]||(s[0]=[e("div",{class:"text-h5 q-mt-sm q-mb-xs text-center text-bold"}," Mis Postulaciones ",-1)])),_:1}),o.vacantesPostuladas.length?(n(),r("div",mo,[(n(!0),r(S,null,$(o.vacantesPostuladas,t=>(n(),r("div",{class:"col-12 col-md-4 col-sm-6",key:t.id},[e("div",uo,[e("div",po,[e("div",fo,[a(H,{class:"rounded-borders",loading:"lazy",src:t.imagen_referencia,fit:"contain"},null,8,["src"])]),e("div",_o,[e("div",ho,[e("div",{class:R(["col-3 block text-h6 screen--subtitle2 text-center text-bold overflow-hidden",o.$q.screen.lg?"text-h6":"text-subtitle2"]),style:{overflow:"hidden","text-overflow":"ellipsis"}},c(t.nombre),3),e("div",bo,[e("p",null,c(o.getShortDescription(o.$q,t.vacante.descripcion)),1)])])])]),a(V),e("div",vo,[e("div",go,[a(q,{class:"bi-clock-fill"}),e("strong",xo,c(o.dayjs()>o.dayjs(t.fecha_caducidad)?"Finalizado":"Finaliza "+o.dayjs().to(t.vacante.fecha_caducidad)),1)]),e("div",yo,[a(q,{class:"bi-circle-fill",color:[o.estadosPostulacion.POSTULADO,o.estadosPostulacion.REVISION_CV,o.estadosPostulacion.PRESELECCIONADO,o.estadosPostulacion.ENTREVISTA,o.estadosPostulacion.EXAMENES_MEDICOS,o.estadosPostulacion.CONTRATADO].includes(t.estado)?"green":"red"},null,8,["color"]),e("strong",Po,c(t.estado),1)])]),a(V),e("div",Co,[a(F,{unelevated:"",glossy:"",rounded:"",color:"primary",onClick:b=>o.visualizarVacante(t.vacante.id),class:"flex block full-width"},{default:l(()=>s[1]||(s[1]=[L("Visualizar")])),_:2},1032,["onClick"])])])]))),128))])):(n(),Q(E,{key:1},{default:l(()=>s[2]||(s[2]=[e("div",{class:"text-h5 q-mt-sm q-mb-xs text-center text-bold"}," A\xFAn no tienes vacantes aplicadas ",-1)])),_:1}))]),_:1}),a(m,{comportamiento:o.modales,persistente:!1},null,8,["comportamiento"])],64)}var os=O(co,[["render",Ao],["__scopeId","data-v-e29697c8"]]);export{os as default};
