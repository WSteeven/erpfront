var R=Object.defineProperty;var A=(e,o,n)=>o in e?R(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n;var d=(e,o,n)=>(A(e,typeof o!="symbol"?o+"":o,n),n);import{Z as E,$ as I,bG as O,d as j,f as b,e as N,R as S,a2 as U,m as D,c as z,q as F,cI as L,_ as G,v as t,P as q,F as i,y as r,x as l,z as a,a7 as V,a4 as T,J as k,a5 as M,H as m,G as c,I as v,B,j as H,O as _,D as J,K as p}from"./index.70185135.js";import{Q as K,a as Z,C as W}from"./QPopupProxy.c164d2ac.js";import{Q as X,a as Y}from"./QItemSection.1a41b826.js";import{Q as x}from"./QSelect.b1759751.js";import{Q as ee}from"./QPage.f3b97ac0.js";import{S as oe,i as se,n as re}from"./utils.2eab62de.js";import{u as ne}from"./configuracion_general.27135600.js";import{E as te}from"./entidadAuditable.75a46700.js";import{u as ie}from"./index.004ff2d8.js";import{r as f}from"./i18n-validators.ea544161.js";import{e as le}from"./index.9f64ebda.js";import"./format.8ac60962.js";import"./QMenu.7527c31d.js";import"./position-engine.f244a0db.js";import"./QChip.a6a2afa6.js";import"./ConfiguracionController.40960b9d.js";class ae{constructor(){d(this,"store",E());d(this,"Router",I())}async registro(o){try{const n=await this.store.registro(o);return this.Router.replace({name:"puestos_disponibles"}),n}catch(n){if(n instanceof O)switch(n.status){case 412:this.Router.replace({name:"ResetearContrasena"});break}throw n}}}class ue extends te{constructor(){super();d(this,"nombres");d(this,"apellidos");d(this,"tipo_documento_identificacion");d(this,"numero_documento_identificacion");d(this,"telefono");d(this,"email");d(this,"password");d(this,"fecha_nacimiento");this.nombres=null,this.apellidos=null,this.tipo_documento_identificacion=null,this.numero_documento_identificacion=null,this.telefono=null,this.email=null,this.password=null,this.fecha_nacimiento=null}}var de=j({name:"LoginPostulante",setup(){var y;const e=ne();(y=e.configuracion)!=null&&y.nombre_empresa||e.consultarConfiguracion();const o=b(()=>{var u;return(u=e.configuracion)==null?void 0:u.nombre_empresa}),n=N(new ue),h=new ae,$=S(),g=new oe;U(()=>{var u;return document.title=(u=o.value)!=null?u:""});const s=D(),w=ie({nombres:{required:f},apellidos:{required:f},numero_documento_identificacion:{required:f},telefono:{required:f},email:{required:f,email:le},password:{required:f},tipo_documento_identificacion:{required:f},fecha_nacimiento:{required:f}},n),C=async()=>{if(!s.loading.isActive)try{g.activar(),await w.value.$validate()&&(await h.registro(n),g.desactivar(),$.notificarCorrecto("Bienvenido a "+o.value))}catch(u){if(se(u)){const Q=u.erroresValidacion;await re(Q,$)}}finally{g.desactivar()}},P=b(()=>n.nombres==null||n.nombres==""||n.password==null||n.password=="");return{v$:w,isPwd:z(!0),postulante:n,maskFecha:F,logoClaro:b(()=>{var u;return(u=e.configuracion)==null?void 0:u.logo_claro}),logoOscuro:b(()=>{var u;return(u=e.configuracion)==null?void 0:u.logo_oscuro}),enableLoginButton:P,registro:C,tiposDocumentosIdentificaciones:L}}});const me={class:"row items-center"},ce={class:"imagen d-flex align-items-center justify-content-center"},pe=["src"],fe={class:"col-12 col-md-4 column items-center bg-body-table justify-center window-height"},ve=["src"],ge={class:"col-12 q-mb-sm"},be={class:"error-msg"},$e={class:"col-12 q-mb-sm"},he={class:"error-msg"},we={class:"col-12 q-mb-sm"},ye={class:"row items-center justify-end"},qe={class:"error-msg"},Ve={class:"col-12 q-mb-sm"},ke={class:"error-msg"},Be={class:"col-12 q-mb-sm"},_e={class:"error-msg"},Ce={class:"col-12 q-mb-sm"},Pe={class:"error-msg"},Qe={class:"col-12 q-mb-sm"},Re={class:"error-msg"},Ae={class:"col-12 q-mb-sm"},Ee={class:"error-msg"},Ie={class:"col-12"};function Oe(e,o,n,h,$,g){return t(),q(ee,null,{default:i(()=>[r("div",me,[!e.$q.screen.xs&&!e.$q.screen.sm?(t(),l("div",{key:0,class:T(["col-12 col-md-8 justify-center q-pa-lg items-center row window-height",{"bg-grey-2":!e.$q.dark.isActive}])},[r("div",ce,[a(V,{square:"",size:"400px"},{default:i(()=>[r("img",{src:e.$q.dark.isActive?e.logoOscuro:e.logoClaro,alt:"logo"},null,8,pe)]),_:1})])],2)):k("",!0),r("div",fe,[e.$q.screen.xs?(t(),q(V,{key:0,square:"",size:"120px",class:"q-mx-auto block q-mb-md"},{default:i(()=>[r("img",{src:e.$q.dark.isActive?e.logoOscuro:e.logoClaro,alt:"logo"},null,8,ve)]),_:1})):k("",!0),r("form",{onSubmit:o[11]||(o[11]=M(()=>{},["prevent"])),class:"full-width q-px-lg"},[o[21]||(o[21]=r("div",{class:"q-mb-sm"},[r("h2",{class:"text-bold"},"Registro de Postulante")],-1)),o[22]||(o[22]=r("div",{class:"q-mb-sm"},[r("p",null," Que bueno volverte a ver otra vez. An\xEDmate a ser parte de nuestro equipo ")],-1)),r("div",ge,[o[12]||(o[12]=r("label",{class:"q-mb-sm block"},"Nombres",-1)),a(v,{modelValue:e.postulante.nombres,"onUpdate:modelValue":o[0]||(o[0]=s=>e.postulante.nombres=s),placeholder:"Obligatorio",error:!!e.v$.nombres.$errors.length,onBlur:e.v$.nombres.$touch,outlined:"",dense:""},{error:i(()=>[(t(!0),l(c,null,m(e.v$.nombres.$errors,s=>(t(),l("div",{key:s.$uid},[r("div",be,p(s.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])]),r("div",$e,[o[13]||(o[13]=r("label",{class:"q-mb-sm block"},"Apellidos",-1)),a(v,{modelValue:e.postulante.apellidos,"onUpdate:modelValue":o[1]||(o[1]=s=>e.postulante.apellidos=s),placeholder:"Obligatorio",error:!!e.v$.apellidos.$errors.length,onBlur:e.v$.apellidos.$touch,outlined:"",dense:""},{error:i(()=>[(t(!0),l(c,null,m(e.v$.apellidos.$errors,s=>(t(),l("div",{key:s.$uid},[r("div",he,p(s.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])]),r("div",we,[o[14]||(o[14]=r("label",{class:"q-mb-sm block"},"Fecha de nacimiento",-1)),a(v,{modelValue:e.postulante.fecha_nacimiento,"onUpdate:modelValue":o[3]||(o[3]=s=>e.postulante.fecha_nacimiento=s),placeholder:"Obligatorio",error:!!e.v$.fecha_nacimiento.$errors.length,onBlur:e.v$.fecha_nacimiento.$touch,readonly:"",outlined:"",dense:""},{append:i(()=>[a(B,{name:"event",class:"cursor-pointer"},{default:i(()=>[a(K,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[a(Z,{modelValue:e.postulante.fecha_nacimiento,"onUpdate:modelValue":o[2]||(o[2]=s=>e.postulante.fecha_nacimiento=s),mask:e.maskFecha,"today-btn":""},{default:i(()=>[r("div",ye,[H(a(_,{label:"Cerrar",color:"primary",flat:""},null,512),[[W]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:i(()=>[(t(!0),l(c,null,m(e.v$.fecha_nacimiento.$errors,s=>(t(),l("div",{style:{clear:"inherit"},key:s.$uid},[r("div",qe,p(s.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])]),r("div",Ve,[o[16]||(o[16]=r("label",{class:"q-mb-sm block"},"Tipo de Identificacion",-1)),a(x,{modelValue:e.postulante.tipo_documento_identificacion,"onUpdate:modelValue":o[4]||(o[4]=s=>e.postulante.tipo_documento_identificacion=s),options:e.tiposDocumentosIdentificaciones,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",error:!!e.v$.tipo_documento_identificacion.$errors.length,onBlur:e.v$.tipo_documento_identificacion.$touch,"option-value":s=>s.value,"option-label":s=>s.nombre,"emit-value":"","map-options":""},{error:i(()=>[(t(!0),l(c,null,m(e.v$.tipo_documento_identificacion.$errors,s=>(t(),l("div",{key:s.$uid},[r("div",ke,p(s.$message),1)]))),128))]),"no-option":i(()=>[a(X,null,{default:i(()=>[a(Y,{class:"text-grey"},{default:i(()=>o[15]||(o[15]=[J(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","onBlur","option-value","option-label"])]),r("div",Be,[o[17]||(o[17]=r("label",{class:"q-mb-sm block"},"N\xFAmero de Identificaci\xF3n",-1)),a(v,{modelValue:e.postulante.numero_documento_identificacion,"onUpdate:modelValue":o[5]||(o[5]=s=>e.postulante.numero_documento_identificacion=s),placeholder:"Obligatorio",error:!!e.v$.numero_documento_identificacion.$errors.length,onBlur:e.v$.numero_documento_identificacion.$touch,outlined:"",dense:""},{error:i(()=>[(t(!0),l(c,null,m(e.v$.numero_documento_identificacion.$errors,s=>(t(),l("div",{key:s.$uid},[r("div",_e,p(s.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])]),r("div",Ce,[o[18]||(o[18]=r("label",{class:"q-mb-sm block"},"Telefono",-1)),a(v,{modelValue:e.postulante.telefono,"onUpdate:modelValue":o[6]||(o[6]=s=>e.postulante.telefono=s),type:"tel",placeholder:"Obligatorio",error:!!e.v$.telefono.$errors.length,onBlur:e.v$.telefono.$touch,outlined:"",dense:""},{error:i(()=>[(t(!0),l(c,null,m(e.v$.telefono.$errors,s=>(t(),l("div",{key:s.$uid},[r("div",Pe,p(s.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])]),r("div",Qe,[o[19]||(o[19]=r("label",{class:"q-mb-sm block"},"Email",-1)),a(v,{modelValue:e.postulante.email,"onUpdate:modelValue":o[7]||(o[7]=s=>e.postulante.email=s),type:"email",placeholder:"Obligatorio",error:!!e.v$.email.$errors.length,onBlur:e.v$.email.$touch,outlined:"",dense:""},{error:i(()=>[(t(!0),l(c,null,m(e.v$.email.$errors,s=>(t(),l("div",{key:s.$uid},[r("div",Re,p(s.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])]),r("div",Ae,[o[20]||(o[20]=r("label",{class:"q-mb-sm block"},"Contrase\xF1a",-1)),a(v,{modelValue:e.postulante.password,"onUpdate:modelValue":o[9]||(o[9]=s=>e.postulante.password=s),outlined:"",dense:"",onBlur:e.v$.password.$touch,error:!!e.v$.password.$errors.length,type:e.isPwd?"password":"text",hint:"No comparta su contrase\xF1a con nadie"},{append:i(()=>[a(B,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:o[8]||(o[8]=s=>e.isPwd=!e.isPwd)},null,8,["name"])]),error:i(()=>[(t(!0),l(c,null,m(e.v$.password.$errors,s=>(t(),l("div",{key:s.$uid},[r("div",Ee,p(s.$message),1)]))),128))]),_:1},8,["modelValue","onBlur","error","type"])]),r("div",Ie,[a(_,{color:"primary",label:"Registrarse",class:"full-width q-mb-sm","no-caps":"",unelevated:"",disable:e.enableLoginButton,onClick:o[10]||(o[10]=s=>e.registro())},null,8,["disable"])])],32)])])]),_:1})}var xe=G(de,[["render",Oe]]);export{xe as default};
