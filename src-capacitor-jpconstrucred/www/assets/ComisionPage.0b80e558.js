var Q=Object.defineProperty;var P=(o,e,l)=>e in o?Q(o,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[e]=l;var d=(o,e,l)=>(P(o,typeof e!="symbol"?e+"":e,l),l);import{Q as c,a as g}from"./QItemSection.ca64420c.js";import{Q as $}from"./QSelect.d8222f79.js";import{bz as S,t as N,c as j,be as F,p as L,e as T,cA as D,cC as I,v as O,x as U,y as a,S as A,H as s,D as r,B as n,z as t,J as u,I as f,G as C,K as E,a7 as M,M as b}from"./index.846478c1.js";import{Q as z}from"./QForm.0a21c4a5.js";import{E as G}from"./entidadAuditable.75a46700.js";import{T as H}from"./TabLayout.b05b8b79.js";import{u as J}from"./index.15c331c5.js";import{C as K}from"./ContenedorSimpleMixin.1a882cca.js";import{P as R}from"./PlanesController.28b0bbf6.js";import"./QChip.697486c2.js";import"./QMenu.c0bc1e4b.js";import"./position-engine.456d5331.js";import"./format.8ac60962.js";import"./QTabs.19bbf6a5.js";import"./QResizeObserver.847ee253.js";import"./QTabPanels.ca44a1cd.js";import"./use-panel.27349585.js";import"./touch.9135741d.js";import"./QPopupProxy.7844573b.js";import"./utils.19b149f6.js";import"./QPage.b0adedad.js";import"./buttonSubmits.31738227.js";import"./EssentialTable.01bbad48.js";import"./QFile.c3222262.js";import"./QTable.d5868e69.js";import"./use-fullscreen.18eeae01.js";import"./QToolbar.2bb5adc4.js";import"./QBtnGroup.b7cc3fd9.js";import"./QBadge.60ffdb76.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.e43b947c.js";import"./VisorImagen.93b8e0f6.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.eba095ef.js";import"./i18n-validators.06501904.js";import"./index.209eea81.js";import"./EssentialTablePagination.3349ebcb.js";class W extends G{constructor(){super();d(this,"plan");d(this,"plan_info");d(this,"forma_pago");d(this,"comision");d(this,"tipo_vendedor");this.plan=null,this.plan_info=null,this.forma_pago=null,this.comision=null,this.tipo_vendedor=null}}class X extends S{constructor(){super(N.comisiones)}}const Y=[{name:"plan_info",field:"plan_info",label:"Plan",align:"left",sortable:!0},{name:"forma_pago",field:"forma_pago",label:"Forma Pago",align:"left",sortable:!0},{name:"comision",field:"comision",label:"Comision",align:"left",sortable:!0},{name:"tipo_vendedor",field:"tipo_vendedor",label:"Tipo Vendedor",align:"left",sortable:!0}];var Z=j({components:{TabLayout:H},setup(){F().setQuasar(L());const o=new K(W,new X),{entidad:e,disabled:l,accion:y,listadosAuxiliares:m}=o.useReferencias(),{setValidador:V,obtenerListados:v,cargarVista:i}=o.useComportamiento(),w=J({plan:{required:!0},forma_pago:{required:!0},comision:{required:!0},tipo_vendedor:{required:!0}},e);V(w.value);const p=T([]);i(async()=>{await v({planes:{controller:new R,params:{campos:"id,nombre"}}}),p.value=m.planes});function q(B,_){if(B===""){_(()=>{p.value=m.planes});return}_(()=>{const h=B.toLowerCase();p.value=m.planes.filter(k=>k.nombres.toLowerCase().indexOf(h)>-1||k.apellidos.toLowerCase().indexOf(h)>-1)})}return{mixin:o,comision:e,tipos_vendedores:D,disabled:l,accion:y,v$:w,formas_pagos:I,planes:p,filtrarPlanes:q,configuracionColumnas:Y}}});const x={class:"row q-col-gutter-sm q-mb-md"},oo={class:"col-12 col-md-3"},eo={class:"error-msg"},io={class:"col-12 col-md-3"},so={class:"error-msg"},no={class:"col-12 col-md-3"},ro={class:"error-msg"},ao={class:"col-12 col-md-3"},lo={class:"error-msg"};function to(o,e,l,y,m,V){const v=U("tab-layout");return a(),A(v,{mixin:o.mixin,configuracionColumnas:o.configuracionColumnas},{formulario:s(()=>[r(z,{onSubmit:e[4]||(e[4]=M(()=>{},["prevent"]))},{default:s(()=>[n("div",x,[n("div",oo,[e[6]||(e[6]=n("label",{class:"q-mb-sm block"},"Plan",-1)),r($,{modelValue:o.comision.plan,"onUpdate:modelValue":e[0]||(e[0]=i=>o.comision.plan=i),options:o.planes,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"",disable:o.disabled,readonly:o.disabled,error:!!o.v$.plan.$errors.length,onBlur:o.v$.plan.$touch,"error-message":"Debes seleccionar un plan","use-input":"","input-debounce":"0",onFilter:o.filtrarPlanes,"option-value":i=>i.id,"option-label":i=>i.nombre,"emit-value":"","map-options":""},{error:s(()=>[(a(!0),t(f,null,u(o.v$.plan.$errors,i=>(a(),t("div",{key:i.$uid},[n("div",eo,b(i.$message),1)]))),128))]),"no-option":s(()=>[r(c,null,{default:s(()=>[r(g,{class:"text-grey"},{default:s(()=>e[5]||(e[5]=[C(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","readonly","error","onBlur","onFilter","option-value","option-label"])]),n("div",io,[e[8]||(e[8]=n("label",{class:"q-mb-sm block"},"Forma de Pago",-1)),r($,{modelValue:o.comision.forma_pago,"onUpdate:modelValue":e[1]||(e[1]=i=>o.comision.forma_pago=i),options:o.formas_pagos,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"",disable:o.disabled,readonly:o.disabled,error:!!o.v$.forma_pago.$errors.length,onBlur:o.v$.forma_pago.$touch,"error-message":"Debes seleccionar una forma de pago","use-input":"","input-debounce":"0","option-value":i=>i.label,"option-label":i=>i.value,"emit-value":"","map-options":""},{error:s(()=>[(a(!0),t(f,null,u(o.v$.forma_pago.$errors,i=>(a(),t("div",{key:i.$uid},[n("div",so,b(i.$message),1)]))),128))]),"no-option":s(()=>[r(c,null,{default:s(()=>[r(g,{class:"text-grey"},{default:s(()=>e[7]||(e[7]=[C(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","readonly","error","onBlur","option-value","option-label"])]),n("div",no,[e[9]||(e[9]=n("label",{class:"q-mb-sm block"},"Comision",-1)),r(E,{modelValue:o.comision.comision,"onUpdate:modelValue":e[2]||(e[2]=i=>o.comision.comision=i),placeholder:"Obligatorio",type:"number",disable:o.disabled,error:!!o.v$.comision.$errors.length,onBlur:o.v$.comision.$touch,outlined:"",dense:""},{error:s(()=>[(a(!0),t(f,null,u(o.v$.comision.$errors,i=>(a(),t("div",{key:i.$uid},[n("div",ro,b(i.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onBlur"])]),n("div",ao,[e[11]||(e[11]=n("label",{class:"q-mb-sm block"},"Tipo de Vendedor",-1)),r($,{modelValue:o.comision.tipo_vendedor,"onUpdate:modelValue":e[3]||(e[3]=i=>o.comision.tipo_vendedor=i),options:o.tipos_vendedores,"transition-show":"jump-up","transition-hide":"jump-down",disable:o.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",hint:"Obligatorio",error:!!o.v$.tipo_vendedor.$errors.length,onBlur:o.v$.tipo_vendedor.$touch,"option-value":i=>i.nombre,"option-label":i=>i.descripcion,"emit-value":"","map-options":""},{error:s(()=>[(a(!0),t(f,null,u(o.v$.tipo_vendedor.$errors,i=>(a(),t("div",{key:i.$uid},[n("div",lo,b(i.$message),1)]))),128))]),"no-option":s(()=>[r(c,null,{default:s(()=>[r(g,{class:"text-grey"},{default:s(()=>e[10]||(e[10]=[C(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","error","onBlur","option-value","option-label"])])])]),_:1})]),_:1},8,["mixin","configuracionColumnas"])}var Wo=O(Z,[["render",to]]);export{Wo as default};
