var I=Object.defineProperty;var z=(o,e,n)=>e in o?I(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n;var s=(o,e,n)=>(z(o,typeof e!="symbol"?e+"":e,n),n);import{Q as _,a as y}from"./QSelect.b1759751.js";import{Q as M,a as R}from"./QItemSection.1a41b826.js";import{by as P,s as S,d as B,bg as D,e as E,c_ as T,_ as A,t as N,v as i,P as V,F as a,y as l,z as r,bd as U,M as j,N as F,D as p,K as u,x as d,G as c,H as g,I as G,B as b,j as L,O as v,J as w}from"./index.70185135.js";import{Q as Y,a as J,C as H}from"./QPopupProxy.c164d2ac.js";import{Q as K}from"./QPage.f3b97ac0.js";import{r as C}from"./i18n-validators.ea544161.js";import{u as O}from"./index.004ff2d8.js";import{T as x}from"./TabLayout.dfee7537.js";import{E as W,S as X}from"./EssentialTable.c4a035e4.js";import{C as Z}from"./ContenedorSimpleMixin.0ef3239b.js";import{G as ee}from"./GrupoController.52c17620.js";import{E as Q}from"./entidadAuditable.75a46700.js";import"./QChip.a6a2afa6.js";import"./QMenu.7527c31d.js";import"./position-engine.f244a0db.js";import"./format.8ac60962.js";import"./utils.2eab62de.js";import"./index.9f64ebda.js";import"./QTabs.4ee0c65d.js";import"./QResizeObserver.721a0e6c.js";import"./QTabPanels.0148950e.js";import"./touch.9135741d.js";import"./buttonSubmits.f728eedc.js";import"./EssentialTablePagination.959d4e60.js";import"./QToolbar.f2167ded.js";import"./use-fullscreen.ec50b882.js";import"./QBadge.5bb69fff.js";import"./QFile.f60a5ba1.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.04221389.js";import"./VisorImagen.7aac4fec.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.60ce3364.js";const oe=[{name:"item",field:"item",label:"Items",align:"left",sortable:!0},{name:"detalle_material",field:"detalle_material",label:"Detalle del material",align:"left",sortable:!0},{name:"stock_inicial",field:"stock_inicial",label:"Stock inicial",align:"left",sortable:!0},{name:"utilizado",field:"utilizado",label:"Utilizado",align:"left",sortable:!0},{name:"stock_final_dia",field:"stock_final_dia",label:"Stock final dia",align:"left",sortable:!0}];class te extends P{constructor(){super(S.reportes_control_materiales)}}class ae extends Q{constructor(){super();s(this,"item");s(this,"detalle_material");s(this,"stock_inicial");s(this,"utilizado");s(this,"stock_final_dia");this.item=null,this.detalle_material=null,this.stock_inicial=null,this.utilizado=null,this.stock_final_dia=null}}class re extends Q{constructor(){super();s(this,"tarea");s(this,"grupo");s(this,"fecha");this.tarea=null,this.grupo=null,this.fecha=null}}var le=B({components:{TabLayout:x,EssentialTable:W,SelectorImagen:X},setup(){const o=new Z(ae,new te),{listadosAuxiliares:e,listado:n}=o.useReferencias(),{cargarVista:$,obtenerListados:k,listar:f}=o.useComportamiento();$(async()=>{await k({tareas:{controller:new D,params:{campos:"id,codigo_tarea,titulo,cliente_id"}},grupos:{controller:new ee,params:{campos:"id,nombre"}}})});const m=E(new re),h=O({tarea:{required:C},grupo:{required:C},fecha:{required:C}},m);async function q(){await h.value.$validate()&&f(m)}return{v$:h,mixin:o,listar:f,listado:n,filtroReporteMaterial:m,listadosAuxiliares:e,configuracionColumnasControlAsistencia:oe,tiposJornadas:T,consultarReporte:q}}});const se={class:"row q-col-gutter-sm q-pa-md"},ie={class:"col-12 col-md-4"},ne={class:"error-msg"},de={class:"col-12 col-md-3"},me={class:"error-msg"},ue={class:"col-12 col-md-5"},pe={class:"row items-center justify-end"},fe={class:"error-msg"},ce={key:1,class:"row justify-end q-gutter-sm q-pt-md"};function ge(o,e,n,$,k,f){const m=N("essential-table");return i(),V(K,{padding:""},{default:a(()=>[e[12]||(e[12]=l("div",{class:"text-secondary text-center text-bold q-mb-lg"}," Control de material diario ",-1)),r(U,{flat:"",bordered:"",class:"rounded-card custom-shadow q-mb-md"},{default:a(()=>[l("div",se,[l("div",ie,[e[6]||(e[6]=l("label",{class:"q-mb-sm block"},"Tarea",-1)),r(_,{modelValue:o.filtroReporteMaterial.tarea,"onUpdate:modelValue":e[0]||(e[0]=t=>o.filtroReporteMaterial.tarea=t),options:o.listadosAuxiliares.tareas,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":t=>t.codigo_tarea+" - "+t.titulo,"option-value":t=>t.id,"emit-value":"","map-options":"",error:!!o.v$.tarea.$errors.length},{option:a(t=>[r(M,j(F(t.itemProps)),{default:a(()=>[r(R,null,{default:a(()=>[r(y,null,{default:a(()=>[p(u(t.opt.codigo_tarea),1)]),_:2},1024),r(y,{caption:""},{default:a(()=>[p(u(t.opt.titulo),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),error:a(()=>[(i(!0),d(c,null,g(o.v$.tarea.$errors,t=>(i(),d("div",{key:t.$uid},[l("div",ne,u(t.$message),1)]))),128))]),_:1},8,["modelValue","options","option-label","option-value","error"])]),l("div",de,[e[8]||(e[8]=l("label",{class:"q-mb-sm block"},"Grupo",-1)),r(_,{modelValue:o.filtroReporteMaterial.grupo,"onUpdate:modelValue":e[1]||(e[1]=t=>o.filtroReporteMaterial.grupo=t),options:o.listadosAuxiliares.grupos,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"","option-label":t=>t.nombre,"option-value":t=>t.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":"",clearable:"",error:!!o.v$.grupo.$errors.length},{"no-option":a(()=>[r(M,null,{default:a(()=>[r(R,{class:"text-grey"},{default:a(()=>e[7]||(e[7]=[p(" No hay resultados ")])),_:1})]),_:1})]),error:a(()=>[(i(!0),d(c,null,g(o.v$.grupo.$errors,t=>(i(),d("div",{key:t.$uid},[l("div",me,u(t.$message),1)]))),128))]),_:1},8,["modelValue","options","option-label","option-value","error"])]),l("div",ue,[e[10]||(e[10]=l("label",{class:"q-mb-sm block"},"Fecha",-1)),r(G,{modelValue:o.filtroReporteMaterial.fecha,"onUpdate:modelValue":e[4]||(e[4]=t=>o.filtroReporteMaterial.fecha=t),outlined:"",dense:"",error:!!o.v$.fecha.$errors.length},{append:a(()=>[r(b,{name:"event",class:"cursor-pointer"},{default:a(()=>[r(Y,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[r(J,{modelValue:o.filtroReporteMaterial.fecha,"onUpdate:modelValue":e[2]||(e[2]=t=>o.filtroReporteMaterial.fecha=t),mask:"DD-MM-YYYY","today-btn":""},{default:a(()=>[l("div",pe,[L(r(v,{label:"Cerrar",color:"primary",flat:""},null,512),[[H]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),error:a(()=>[(i(!0),d(c,null,g(o.v$.fecha.$errors,t=>(i(),d("div",{key:t.$uid},[l("div",fe,u(t.$message),1)]))),128))]),after:a(()=>[r(v,{color:"positive",push:"","no-caps":"",class:"full-width",onClick:e[3]||(e[3]=t=>o.consultarReporte())},{default:a(()=>[r(b,{name:"bi-search",class:"q-mr-xs",size:"xs"}),e[9]||(e[9]=p(" Consultar reporte"))]),_:1})]),_:1},8,["modelValue","error"])])])]),_:1}),o.listado.length?(i(),V(m,{key:0,titulo:"Resultado de la b\xFAsqueda",configuracionColumnas:o.configuracionColumnasControlAsistencia,datos:o.listado,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"alto-fijo":!1},null,8,["configuracionColumnas","datos"])):w("",!0),o.listado.length?(i(),d("div",ce,[r(v,{color:"primary","no-caps":"",push:"",onClick:e[5]||(e[5]=t=>o.pdfMakeImprimir())},{default:a(()=>[r(b,{name:"bi-printer",size:"xs",class:"q-pr-sm"}),e[11]||(e[11]=l("span",null,"Imprimir",-1))]),_:1})])):w("",!0)]),_:1})}var xe=A(le,[["render",ge]]);export{xe as default};
