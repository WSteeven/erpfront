var wa=Object.defineProperty;var Pa=(e,a,p)=>a in e?wa(e,a,{enumerable:!0,configurable:!0,writable:!0,value:p}):e[a]=p;var l=(e,a,p)=>(Pa(e,typeof a!="symbol"?a+"":a,p),p);import{C as _e,a as Aa}from"./ComponenteModal.domain.9bc16b73.js";import{by as B,s as U,d as fe,c as M,R as je,a2 as ha,f as ke,bz as pe,_ as Ve,t as G,v as c,P as Y,F as t,x as h,G as z,H as J,y as o,z as i,B as X,D as se,K as ae,O as N,J as L,q as Ae,L as qa,w as ra,I as C,j as ne,u as Oe,m as Ra,A as xe,bH as Se,cP as Z,e as Va,cQ as Ca,p as Ne,cR as ja,h as ka,V as Be,bh as ge}from"./index.70185135.js";import{S as Le,u as Oa,A as Te,B as He,C as Ee}from"./utils.2eab62de.js";import{u as he}from"./DetallePaciente.ff468c25.js";import{S as Ce}from"./SimpleLayout.f041788f.js";import{E as ye}from"./EssentialTable.c4a035e4.js";import{C as qe}from"./ContenedorSimpleMixin.0ef3239b.js";import{A as $a}from"./ArchivoController.b46f2c35.js";import{S as da,a as ca,F as Ea}from"./FormularioSolicitudExamen.96b21cf1.js";import{E as H}from"./entidadAuditable.75a46700.js";import{L as xa}from"./LaboratorioClinicoController.9a2952ff.js";import{u as Re}from"./filtrosListadosGenerales.6ad178d9.js";import{C as Sa,a as Ge,D as Ta}from"./DiagnosticoRecetaPage.469eeaca.js";import{Q as ve}from"./QSelect.b1759751.js";import{Q as re,a as de,C as ce}from"./QPopupProxy.c164d2ac.js";import{r as E}from"./i18n-validators.ea544161.js";import{G as ya}from"./GestorArchivos.86e356d7.js";import{u as Ue}from"./index.004ff2d8.js";import{Q as T}from"./QExpansionItem.b5d3a973.js";import{Q as Ua}from"./QChip.a6a2afa6.js";import{C as ze}from"./CargoController.4ce2aa31.js";import{I as Da}from"./IdentidadGeneroController.35be2691.js";import{E as Ia}from"./Empleado.20234ba0.js";const Ma=[{name:"campo",field:"campo",label:"Campo",align:"left",sortable:!0},{name:"resultado",field:"resultado",label:"Resultado",align:"left",sortable:!0,editable:!0},{name:"unidad_medida",field:"unidad_medida",label:"Unidad medida",align:"left",sortable:!0},{name:"rango_inferior",field:"rango_inferior",label:"Rango inferior",align:"left",sortable:!0},{name:"rango_superior",field:"rango_superior",label:"Rango superior",align:"left",sortable:!0},{name:"observaciones",field:"observaciones",label:"Observaciones",align:"left",placeholder:"SIN ALTERACIONES",sortable:!0,editable:!0}];class Ba extends B{constructor(){super(U.configuraciones_examenes_categorias)}}class Na extends B{constructor(){super(U.resultados_examenes)}}class pa extends H{constructor(){super();l(this,"resultado");l(this,"configuracion_examen_campo");l(this,"examen_solicitado");l(this,"observaciones");this.resultado=null,this.configuracion_examen_campo=null,this.examen_solicitado=null,this.observaciones=null}}var La=fe({name:"resultados_examenes",components:{SimpleLayout:Ce,EssentialTable:ye},emits:["cerrar-modal","guardado"],setup(e,{emit:a}){const p=he(),w=new Le,q=M([]),$=M([]),m=M(),r=M(),V=M(),{notificarCorrecto:n}=je(),b=new Ba,s=new Na,D=new qe(da,new ca,new $a),{onGuardado:Q,onModificado:g,onBeforeGuardar:u,onBeforeModificar:R,onReestablecer:W}=D.useHooks(),{entidad:ie,accion:K}=D.useReferencias();D.useComportamiento();const ee=async()=>{try{w.activar();const{result:S}=await b.listar({registro_empleado_examen_id:p.idRegistroEmpleadoExamen});q.value=S,console.log(q.value)}catch(S){console.log(S)}finally{w.desactivar()}},A=async()=>{try{w.activar();const{result:S}=await s.listar({registro_empleado_examen_id:p.idRegistroEmpleadoExamen});$.value=S,console.log($.value)}catch(S){console.log(S)}finally{w.desactivar()}},O=async()=>{q.value.map(S=>(console.log(S),S.categorias.map(oe=>oe.campos.map(v=>{var ue,Fe,we;const I=$.value.find(Pe=>Pe.examen_solicitado===S.examen_solicitado&&Pe.configuracion_examen_campo===v.id);return v.resultado_examen=(ue=I==null?void 0:I.id)!=null?ue:null,v.resultado=(Fe=I==null?void 0:I.resultado)!=null?Fe:null,v.observaciones=(we=I==null?void 0:I.observaciones)!=null?we:null,console.log($.value),console.log(v),v})))),K.value=pe.editar},F=ha(()=>{q.value.length&&(O(),F())}),k=async()=>{$.value=[],q.value.forEach(S=>{S.categorias.forEach(oe=>{oe.campos.forEach(v=>{if(console.log(v),v.resultado){const I=new pa;I.resultado=v.resultado,I.configuracion_examen_campo=v.id,I.observaciones=v.observaciones,I.examen_solicitado=S.examen_solicitado,$.value.push(I)}})})});try{const{response:S}=await s.guardarListado($.value);n(S.data.mensaje)}catch(S){console.log(S)}a("cerrar-modal")},x=async()=>{$.value=[],console.log(q.value),q.value.forEach(S=>{S.categorias.forEach(oe=>{oe.campos.forEach(v=>{if(console.log(v),v.resultado){const I=new pa;I.id=v.resultado_examen,I.resultado=v.resultado,I.configuracion_examen_campo=v.id,I.observaciones=v.observaciones,I.examen_solicitado=S.examen_solicitado,$.value.push(I)}})})});try{const{response:S}=await s.editarListado($.value);n(S.data.mensaje)}catch(S){console.log(S)}a("cerrar-modal")};return W(()=>a("cerrar-modal")),ee(),A(),{mixin:D,itemsExamenes:q,refArchivo:r,idTransferencia:V,resultadosExamenes:$,configuracionColumnasCampos:Ma,observacion:m,accion:K,guardarResultadosExamenes:k,editarResultadosExamenes:x,mostrarGuardar:ke(()=>K.value===pe.nuevo),mostrarEditar:ke(()=>K.value===pe.editar)}}});const Ha={key:0,class:"row rounded q-px-md"},Ga={class:"text-bold text-center bg-grey-3 border-grey d-inline rounded q-py-sm q-mb-sm q-mt-xl"},za={key:1};function Qa(e,a,p,w,q,$){const m=G("essential-table"),r=G("simple-layout");return c(),Y(r,{mixin:e.mixin,"mostrar-listado":!1,"permitir-guardar":!1,"permitir-editar":!!e.itemsExamenes.length},{formulario:t(()=>[e.itemsExamenes.length?(c(),h("div",Ha,[(c(!0),h(z,null,J(e.itemsExamenes,V=>(c(),h("div",{key:V.examen,class:"col-12"},[o("div",Ga,[i(X,{name:"bi-table",class:"q-mr-sm"}),se(" "+ae(V.examen),1)]),(c(!0),h(z,null,J(V.categorias,n=>(c(),h("div",{key:n.id,class:"col-12 text-center text-bold q-mb-xs"},[i(m,{titulo:n.categoria,configuracionColumnas:e.configuracionColumnasCampos,datos:n.campos,"alto-fijo":!1,permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,"mostrar-footer":!1,separador:"cell",permitirEditarCeldas:!0,"permitir-buscar":!1},null,8,["titulo","configuracionColumnas","datos"])]))),128))]))),128))])):(c(),h("div",za,"A\xFAn no tienes ex\xE1menes m\xE9dicos solicitados."))]),"custom-buttons":t(()=>[e.mostrarEditar?(c(),Y(N,{key:0,color:"primary",push:"","no-caps":"",onClick:a[0]||(a[0]=V=>e.editarResultadosExamenes())},{default:t(()=>[i(X,{name:"bi-save",size:"xs",class:"q-mr-sm"}),a[1]||(a[1]=se(" Guardar cambios"))]),_:1})):L("",!0)]),_:1},8,["mixin","permitir-editar"])}var Ja=Ve(La,[["render",Qa]]),Ya=fe({name:"solicitudes_examenes",components:{FormularioSolicitudExamen:Ea,SimpleLayout:Ce},emits:["guardado","cerrar-modal"],setup(e,{emit:a}){var O;const p=he(),w=p.empleado,q=M(w==null?void 0:w.canton),$=new Le,m=new xa,r=M([]),V=new qe(da,new ca),{entidad:n,listadosAuxiliares:b,accion:s,disabled:D}=V.useReferencias(),{guardar:Q}=V.useComportamiento(),{onReestablecer:g,onGuardado:u}=V.useHooks(),{cantones:R,filtrarCantones:W}=Re(b),ie=async F=>{try{$.activar();const{result:k}=await m.listar({canton_id:F,activo:1,campos:"id,nombre"});b.laboratoriosClinicos=k}catch(k){console.log(k)}finally{$.desactivar()}},K=(F,k)=>{k===0&&(n.examenes_solicitados=n.examenes_solicitados.map(x=>(x.laboratorio_clinico=F,x)))},ee=(F,k)=>{k===0&&(n.examenes_solicitados=n.examenes_solicitados.map(x=>(x.fecha_asistencia=F,x)))},A=(F,k)=>{k===0&&(n.examenes_solicitados=n.examenes_solicitados.map(x=>(x.hora_asistencia=F,x)))};return u((F,k)=>{const x=k.modelo.examenes_solicitados.map(S=>S.examen);a("guardado",{page:"SolicitudExamenSolicitarPage",data:{idExamenesSolicitados:x}}),a("cerrar-modal")}),g(()=>a("cerrar-modal")),n.hydrate(p.solicitudExamen),n.registro_empleado_examen=(O=p.idRegistroEmpleadoExamen)!=null?O:null,s.value=p.accion,{mixin:V,solicitudExamen:n,empleado:w,examenes:r,listadosAuxiliares:b,maskFecha:Ae,canton:q,cantones:R,filtrarCantones:W,accion:s,disabled:D,consultarLaboratoriosClinicos:ie,guardar:Q,asignarLaboratorio:K,asignarFecha:ee,asignarHora:A}}});function Xa(e,a,p,w,q,$){const m=G("formulario-solicitud-examen"),r=G("simple-layout");return c(),Y(r,{mixin:e.mixin},{formulario:t(()=>[i(m,{mixin:e.mixin,empleado:e.empleado},null,8,["mixin","empleado"])]),"custom-buttons":t(()=>[i(qa,{modelValue:e.solicitudExamen.generar_orden_compra,"onUpdate:modelValue":a[0]||(a[0]=V=>e.solicitudExamen.generar_orden_compra=V),label:"Generar \xF3rden de compra",disable:e.disabled},null,8,["modelValue","disable"])]),_:1},8,["mixin"])}var Ka=Ve(Ya,[["render",Xa]]);const Wa=[{name:"tipo_vacuna",field:"tipo_vacuna",label:"Tipo de vacuna",align:"left",sortable:!0},{name:"fecha",field:"fecha",label:"Fecha de aplicaci\xF3n",align:"left",sortable:!0},{name:"fecha_caducidad",field:"fecha_caducidad",label:"Fecha de caducidad",align:"left",sortable:!0},{name:"es_dosis_unica",field:"es_dosis_unica",label:"Es dosis \xFAnica"},{name:"observacion",field:"observacion",label:"Observaci\xF3n",align:"left",sortable:!0},{name:"responsable_vacunacion",field:"responsable_vacunacion",label:"Responsable de vacunaci\xF3n",align:"left",sortable:!0},{name:"establecimiento_salud",field:"establecimiento_salud",label:"Establecimiento de salud",align:"left",sortable:!0},{name:"lote",field:"lote",label:"Lote",align:"left",sortable:!0},{name:"archivos",field:"archivos",label:"Archivos",align:"left",sortable:!0}];class Za extends B{constructor(){super(U.tipos_vacunas)}}class eo extends B{constructor(){super(U.esquemas_vacunas)}}class ao extends H{constructor(){super();l(this,"dosis_aplicadas");l(this,"observacion");l(this,"tipo_vacuna");l(this,"tipo_vacuna_id");l(this,"paciente");l(this,"dosis_totales");l(this,"fecha");l(this,"lote");l(this,"responsable_vacunacion");l(this,"establecimiento_salud");l(this,"fecha_caducidad");l(this,"es_dosis_unica");l(this,"archivos");this.dosis_aplicadas=1,this.observacion=null,this.tipo_vacuna=null,this.tipo_vacuna_id=null,this.paciente=null,this.dosis_totales=null,this.fecha=null,this.lote=null,this.responsable_vacunacion=null,this.establecimiento_salud=null,this.fecha_caducidad=null,this.es_dosis_unica=!1,this.archivos=null}}var oo=fe({name:"esquemas_vacunas",components:{SimpleLayout:Ce,GestorArchivos:ya,EssentialTable:ye},emit:["cerrar-modal","modificado"],setup(e,{emit:a}){var S,oe,v;const p=he(),w=new qe(ao,new eo),{entidad:q,listadosAuxiliares:$,accion:m,disabled:r,listado:V}=w.useReferencias(),{cargarVista:n,obtenerListados:b,listar:s,setValidador:D}=w.useComportamiento(),{onReestablecer:Q,onGuardado:g}=w.useHooks();n(async()=>{await b({tiposVacunas:new Za})});const u=M(0),R=M(!0),W=M(),ie=M(),K=M(!1),ee=ke(()=>!!V.value.length&&m.value===pe.consultar),{tiposVacunas:A,filtrarTiposVacunas:O}=Re($);async function F(){await W.value.subir(),K.value=!0}Q(()=>{console.log(ee.value),ee.value&&a("cerrar-modal"),W.value.limpiarListado();const I=ra(K,()=>{I(),a("cerrar-modal")})}),g(async(I,ue)=>{ie.value=I,setTimeout(async()=>{await F()},1),a("guardado",{esquemaVacuna:ue.modelo,page:"EsquemaVacunaPage"})});const x=Ue({tipo_vacuna:{required:E},fecha:{required:E},responsable_vacunacion:{required:E},establecimiento_salud:{required:E}},q);return D(x.value),p.esquemaVacuna&&(q.hydrate(p.esquemaVacuna),q.tipo_vacuna=q.tipo_vacuna_id,setTimeout(()=>{q.id&&W.value.listarArchivosAlmacenados(q.id)},1)),q.paciente=(oe=(S=p.empleado)==null?void 0:S.id)!=null?oe:null,m.value=p.accion,R.value=p.accion===pe.nuevo,m.value===pe.consultar?s({paciente_id:(v=p.empleado)==null?void 0:v.id,tipo_vacuna_id:p.idTipoVacuna}):V.value=[],{v$:x,mixin:w,esquema:q,totalDosis:u,listado:V,tiposVacunas:A,filtrarTiposVacunas:O,accion:m,habilitarTipoVacuna:R,refArchivo:W,idEsquema:ie,disabled:r,acciones:pe,subirArchivos:F,maskFecha:Ae,configuracionColumnasEsquemaVacunacionDetallado:Wa,mostrarEsquema:ee}}});const io={key:0,class:"bg-desenfoque rounded q-pa-md row q-mb-md q-col-gutter-x-sm"},so={class:"col-12 col-md-3 q-mb-md"},lo={class:"col-12 col-md-3 q-mb-md"},to={class:"row items-center justify-end"},no={class:"col-12 col-md-2 q-mb-md"},ro={class:"col-12 col-md-1 q-mb-md"},co={class:"col-12 col-md-3 q-mb-md"},uo={class:"row items-center justify-end"},mo={class:"col-12 col-md-6 q-mb-md"},po={class:"col-12 col-md-6 q-mb-md"},bo={class:"col-12 q-mb-md"},fo={class:"col-12 q-mb-md"},_o={class:"row"},go={class:"col-12"};function vo(e,a,p,w,q,$){const m=G("gestor-archivos"),r=G("essential-table"),V=G("simple-layout");return c(),Y(V,{mixin:e.mixin},{formulario:t(()=>[e.mostrarEsquema?L("",!0):(c(),h("div",io,[o("div",so,[a[10]||(a[10]=o("label",{class:"q-mb-sm block"},"Tipo de vacuna",-1)),i(ve,{modelValue:e.esquema.tipo_vacuna,"onUpdate:modelValue":a[0]||(a[0]=n=>e.esquema.tipo_vacuna=n),options:e.tiposVacunas,onFilter:e.filtrarTiposVacunas,"transition-show":"scale","transition-hide":"scale",disable:!e.habilitarTipoVacuna,"options-dense":"",dense:"",outlined:"","option-label":n=>n.nombre,"option-value":n=>n.id,"use-input":"","input-debounce":"0","emit-value":"","map-options":"",error:!!e.v$.tipo_vacuna.$errors.length},{error:t(()=>[(c(!0),h(z,null,J(e.v$.tipo_vacuna.$errors,n=>(c(),h("div",{key:n.$uid},[o("div",null,ae(n.$message),1)]))),128))]),_:1},8,["modelValue","options","onFilter","disable","option-label","option-value","error"])]),o("div",lo,[a[11]||(a[11]=o("label",{class:"q-mb-sm block"},"Fecha de aplicaci\xF3n",-1)),i(C,{modelValue:e.esquema.fecha,"onUpdate:modelValue":a[2]||(a[2]=n=>e.esquema.fecha=n),placeholder:"Obligatorio",outlined:"",disable:e.disabled,type:"datetime",error:!!e.v$.fecha.$errors.length,dense:""},{append:t(()=>[i(X,{name:"event",class:"cursor-pointer"},{default:t(()=>[i(re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[i(de,{modelValue:e.esquema.fecha,"onUpdate:modelValue":a[1]||(a[1]=n=>e.esquema.fecha=n),mask:e.maskFecha,"today-btn":""},{default:t(()=>[o("div",to,[ne(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[ce]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:t(()=>[(c(!0),h(z,null,J(e.v$.fecha.$errors,n=>(c(),h("div",{key:n.$uid},[o("div",null,ae(n.$message),1)]))),128))]),_:1},8,["modelValue","disable","error"])]),o("div",no,[a[12]||(a[12]=o("label",{class:"q-mb-sm block"},"Lote",-1)),i(C,{modelValue:e.esquema.lote,"onUpdate:modelValue":a[3]||(a[3]=n=>e.esquema.lote=n),placeholder:"Opcional",outlined:"",disable:e.disabled,dense:""},null,8,["modelValue","disable"])]),o("div",ro,[a[13]||(a[13]=o("label",{class:"q-mb-sm block"},"\xA0",-1)),i(qa,{modelValue:e.esquema.es_dosis_unica,"onUpdate:modelValue":a[4]||(a[4]=n=>e.esquema.es_dosis_unica=n),label:"Es dosis \xFAnica",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),o("div",co,[a[14]||(a[14]=o("label",{class:"q-mb-sm block"},"Fecha de caducidad",-1)),i(C,{modelValue:e.esquema.fecha_caducidad,"onUpdate:modelValue":a[6]||(a[6]=n=>e.esquema.fecha_caducidad=n),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:t(()=>[i(X,{name:"event",class:"cursor-pointer"},{default:t(()=>[i(re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[i(de,{modelValue:e.esquema.fecha_caducidad,"onUpdate:modelValue":a[5]||(a[5]=n=>e.esquema.fecha_caducidad=n),mask:e.maskFecha,"today-btn":""},{default:t(()=>[o("div",uo,[ne(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[ce]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",mo,[a[15]||(a[15]=o("label",{class:"q-mb-sm block"},"Nombres completos del responsable de la vacunaci\xF3n",-1)),i(C,{modelValue:e.esquema.responsable_vacunacion,"onUpdate:modelValue":a[7]||(a[7]=n=>e.esquema.responsable_vacunacion=n),placeholder:"Obligatorio",outlined:"",disable:e.disabled,error:!!e.v$.responsable_vacunacion.$errors.length,dense:""},{error:t(()=>[(c(!0),h(z,null,J(e.v$.responsable_vacunacion.$errors,n=>(c(),h("div",{key:n.$uid},[o("div",null,ae(n.$message),1)]))),128))]),_:1},8,["modelValue","disable","error"])]),o("div",po,[a[16]||(a[16]=o("label",{class:"q-mb-sm block"},"Establecimiento de salud donde se coloc\xF3 la vacuna",-1)),i(C,{modelValue:e.esquema.establecimiento_salud,"onUpdate:modelValue":a[8]||(a[8]=n=>e.esquema.establecimiento_salud=n),placeholder:"Obligatorio",outlined:"",disable:e.disabled,dense:"",error:!!e.v$.establecimiento_salud.$errors.length},{error:t(()=>[(c(!0),h(z,null,J(e.v$.establecimiento_salud.$errors,n=>(c(),h("div",{key:n.$uid},[o("div",null,ae(n.$message),1)]))),128))]),_:1},8,["modelValue","disable","error"])]),o("div",bo,[a[17]||(a[17]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(C,{modelValue:e.esquema.observacion,"onUpdate:modelValue":a[9]||(a[9]=n=>e.esquema.observacion=n),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:"",autogrow:"",type:"textarea"},null,8,["modelValue","disable"])]),o("div",fo,[i(m,{ref:"refArchivo",label:"Adjuntar archivos",mixin:e.mixin,disable:e.disabled,listarAlGuardar:!1,"permitir-eliminar":e.accion==e.acciones.nuevo||e.accion==e.acciones.editar,idModelo:e.idEsquema},null,8,["mixin","disable","permitir-eliminar","idModelo"])])])),o("div",_o,[o("div",go,[e.mostrarEsquema?(c(),Y(r,{key:0,titulo:"Esquema de vacunaci\xF3n",configuracionColumnas:e.configuracionColumnasEsquemaVacunacionDetallado,datos:e.listado,"alto-fijo":!1,permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,"mostrar-footer":!1,"mostrar-botones":!1},null,8,["configuracionColumnas","datos"])):L("",!0)])])]),_:1},8,["mixin"])}var ho=Ve(oo,[["render",vo]]);class qo extends B{constructor(){super(U.tipos_eval_medicas_retiro)}}class Fa extends B{constructor(){super(U.tipos_aptitudes_medicas_laborales)}}class Vo extends B{constructor(){super(U.fichas_aptitudes)}}class Co extends H{constructor(){super();l(this,"recomendaciones");l(this,"observaciones_aptitud_medica");l(this,"firmado_profesional_salud");l(this,"firmado_paciente");l(this,"registro_empleado_examen");l(this,"tipo_aptitud_medica_laboral");l(this,"profesional_salud");l(this,"opciones_respuestas_tipo_evaluacion_medica_retiro");l(this,"paciente");this.recomendaciones=null,this.observaciones_aptitud_medica=null,this.firmado_profesional_salud=!1,this.firmado_paciente=!1,this.registro_empleado_examen=null,this.tipo_aptitud_medica_laboral=null,this.profesional_salud=null,this.opciones_respuestas_tipo_evaluacion_medica_retiro=[],this.paciente=null}}var $o=fe({name:"fichas_aptitudes",components:{SimpleLayout:Ce},emits:["cerrar-modal"],setup(e,{emit:a}){var O;const p=he(),w=Oe();Oa().setQuasar(Ra());const q=[["SI","NO"],["PRESUNTIVA","DEFINITIVA","NO APLICA"],["SI","NO","NO APLICA"]],$=M(),m=new qe(Co,new Vo),{entidad:r,listadosAuxiliares:V,disabled:n,accion:b}=m.useReferencias(),{setValidador:s,cargarVista:D,obtenerListados:Q,consultar:g,editarParcial:u}=m.useComportamiento(),{onBeforeGuardar:R,onReestablecer:W,onConsultado:ie,onGuardado:K}=m.useHooks();D(async()=>{await Q({tiposEvaluacionesMedicasRetiros:new qo,tiposAptitudesMedicasLaborales:new Fa}),$.value=V.tiposEvaluacionesMedicasRetiros.map((F,k)=>({id:F.id,nombre:F.nombre,posibles_respuestas:q[k],respuesta:null})),ha(()=>{var F;$.value=(F=$.value)==null?void 0:F.map(k=>{const x=r.opciones_respuestas_tipo_evaluacion_medica_retiro.find(S=>S.tipo_evaluacion_medica_retiro===k.id);return k.respuesta=x==null?void 0:x.respuesta,k})})});const ee=async()=>{const F=xe.getInstance(),k=Se.URL_BASE+"/"+F.getEndpoint(U.fichas_aptitudes_imprimir)+"/"+r.id,x="ficha_aptitud_"+r.id+"_"+Date.now();Te(k,"GET","blob","pdf",x)},A=async()=>{r.id&&u(r.id,{firmado_paciente:!0})};return R(()=>{r.opciones_respuestas_tipo_evaluacion_medica_retiro=$.value.map(F=>({respuesta:F.respuesta,tipo_evaluacion_medica_retiro:F.id}))}),K(F=>p.idFichaAptitud=F),W(()=>a("cerrar-modal")),ie(()=>b.value=pe.consultar),r.registro_empleado_examen=(O=p.idRegistroEmpleadoExamen)!=null?O:null,r.profesional_salud=w.user.id,p.idFichaAptitud&&g({id:p.idFichaAptitud}),{mixin:m,listadosAuxiliares:V,fichaAptitud:r,tiposEvaluacionesMedicasRetiros:$,descargarPdf:ee,firmarPaciente:A,disabled:n,mostrarDescargarPdf:w.esMedico,mostrarFirmarPaciente:ke(()=>r.paciente===w.user.id)}}});const Eo={class:"row q-pa-md"},yo={class:"col-12 q-mb-md"},Fo={class:"q-gutter-sm"},wo={class:"col-12"},Po={class:"q-pa-md"},Ao={class:"col-6"},Ro={class:"q-mb-sm block"},jo={class:"col-6"},ko={class:"row q-pa-md"},Oo={class:"col-12"},xo={class:"q-pl-md"},So={class:"row items-center"},To={class:"row q-gutter-x-xs"};function Uo(e,a,p,w,q,$){const m=G("simple-layout");return c(),Y(m,{mixin:e.mixin},{formulario:t(()=>[i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Aptitud m\xE9dica laboral","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",Eo,[o("div",yo,[a[4]||(a[4]=o("label",{class:"q-mb-sm block"},"Despu\xE9s de la valoraci\xF3n medica ocupacional se certifica que la persona en menci\xF3n, es calificada como:",-1)),o("div",Fo,[(c(!0),h(z,null,J(e.listadosAuxiliares.tiposAptitudesMedicasLaborales,r=>(c(),Y(Z,{key:r.nombre,modelValue:e.fichaAptitud.tipo_aptitud_medica_laboral,"onUpdate:modelValue":a[0]||(a[0]=V=>e.fichaAptitud.tipo_aptitud_medica_laboral=V),val:r.id,label:`${r.nombre}`,disable:e.disabled},null,8,["modelValue","val","label","disable"]))),128))])]),o("div",wo,[a[5]||(a[5]=o("label",{class:"q-mb-sm block"},"Detalle de observaciones",-1)),i(C,{modelValue:e.fichaAptitud.observaciones_aptitud_medica,"onUpdate:modelValue":a[1]||(a[1]=r=>e.fichaAptitud.observaciones_aptitud_medica=r),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:"",autogrow:"",type:"textarea"},null,8,["modelValue","disable"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Evaluaci\xF3n m\xE9dica de retiro","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",Po,[(c(!0),h(z,null,J(e.tiposEvaluacionesMedicasRetiros,r=>(c(),h("div",{key:r.nombre,class:"row"},[o("div",Ao,[o("label",Ro,ae(r.nombre),1)]),o("div",jo,[(c(!0),h(z,null,J(r.posibles_respuestas,V=>(c(),Y(Z,{key:V,modelValue:r.respuesta,"onUpdate:modelValue":n=>r.respuesta=n,val:V,label:`${V}`,disable:e.disabled},null,8,["modelValue","onUpdate:modelValue","val","label","disable"]))),128))])]))),128))])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Recomendaciones","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",ko,[o("div",Oo,[a[6]||(a[6]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(C,{modelValue:e.fichaAptitud.recomendaciones,"onUpdate:modelValue":a[2]||(a[2]=r=>e.fichaAptitud.recomendaciones=r),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:"",autogrow:"",type:"textarea"},null,8,["modelValue","disable"])])])]),_:1}),o("div",xo,[o("div",So,[i(X,{name:"bi-check-circle-fill",color:e.fichaAptitud.firmado_profesional_salud?"positive":"grey",class:"q-mr-sm"},null,8,["color"]),a[7]||(a[7]=se("Firmado por el profesional m\xE9dico "))])])]),"custom-buttons":t(()=>[o("div",To,[e.fichaAptitud.id&&e.mostrarDescargarPdf?(c(),Y(N,{key:0,class:"bg-white text-pink-10","no-caps":"",push:"",onClick:a[3]||(a[3]=r=>e.descargarPdf())},{default:t(()=>[i(X,{name:"bi-file-earmark-pdf",size:"xs",class:"q-mr-sm"}),a[8]||(a[8]=se(" Descargar PDF"))]),_:1})):L("",!0)])]),_:1},8,["mixin"])}var Do=Ve($o,[["render",Uo]]);const Io=[{name:"examen",field:"examen",label:"Ex\xE1menes realizados",align:"left",sortable:!0},{name:"tiempo",field:"tiempo",label:"Tiempo(a\xF1os)",align:"left",sortable:!0,type:"number",editable:!0},{name:"resultado",field:"resultado",label:"Resultado",align:"left",sortable:!0,type:"text",editable:!0}],Mo=[{name:"organo",field:"organo",label:"Organo sistema",align:"left",sortable:!0},{name:"descripcion",field:"descripcion",label:"Descripci\xF3n",align:"left",sortable:!0,editable:!0}],na=[{name:"empresa",field:"empresa",label:"Empresa",align:"left",sortable:!0,editable:!0},{name:"puesto_trabajo",field:"puesto_trabajo",label:"Puesto de trabajo",align:"left",sortable:!0,editable:!0},{name:"actividades",field:"actividades",label:"Actividades que desempe\xF1aba",align:"left",sortable:!0,editable:!0},{name:"tiempo_trabajo",field:"tiempo_trabajo",label:"Tiempo de trabajo(meses)",align:"left",type:"number",sortable:!0,editable:!0},{name:"observaciones",field:"observaciones",label:"Observaciones",align:"left",type:"text",sortable:!0,editable:!0}],Bo=[{name:"tipo_habito_toxico",field:"tipo_habito_toxico",label:"Consumos nocivos",align:"left",sortable:!0},{name:"tiempo_consumo_meses",field:"tiempo_consumo_meses",label:"Tiempo de consumo(meses)",align:"left",sortable:!0,type:"number",editable:!0},{name:"cantidad",field:"cantidad",label:"Cantidad",align:"left",sortable:!0,type:"number",editable:!0},{name:"ex_consumidor",field:"ex_consumidor",label:"Ex consumidor",align:"left",sortable:!0,type:"boolean",editable:!0},{name:"tiempo_abstinencia_meses",field:"tiempo_abstinencia_meses",label:"Tiempo abstinencia(meses)",align:"left",sortable:!0,type:"number",editable:!0}],ba=[{name:"puesto_trabajo",field:"puesto_trabajo",label:"Puesto de trabajo / \xC1rea",align:"left",sortable:!0,editable:!0},{name:"actividad",field:"actividad",label:"Actividades",align:"left",sortable:!0,editable:!0},{name:"medidas_preventivas",field:"medidas_preventivas",label:"Medidas preventivas",align:"left",sortable:!0,editable:!0}],No=[{name:"tipo_antecedente_familiar",field:"tipo_antecedente_familiar",label:"Antecedente familiar",align:"left",sortable:!0},{name:"descripcion",field:"descripcion",label:"Descripci\xF3n",align:"left",editable:!0},{name:"parentesco",field:"parentesco",label:"Parentesco",align:"left",editable:!0}],Lo=[{name:"nombre",field:"nombre",label:"Medicaci\xF3n habitual",align:"left",sortable:!0,editable:!0},{name:"cantidad",field:"cantidad",label:"Cantidad(unidad)",align:"left",sortable:!0,editable:!0,type:"number"}],Ho=[{name:"nombre_actividad",field:"nombre_actividad",label:"Actividad f\xEDsica",align:"left",sortable:!0,editable:!0},{name:"tiempo",field:"tiempo",label:"Tiempo(dia)",align:"left",sortable:!0,type:"number",editable:!0}];class Go extends B{constructor(){super(U.categorias_examenes_fisicos)}}class zo extends B{constructor(){super(U.regiones_cuerpo)}}class Qo extends H{constructor(){super();l(this,"categoria_examen_fisico_id");l(this,"categoria_examen_fisico");l(this,"observacion");l(this,"region_cuerpo");this.observacion=null,this.categoria_examen_fisico_id=null,this.categoria_examen_fisico=null,this.region_cuerpo=null}}const Jo={class:"row q-col-gutter-x-sm q-pa-md"},Yo={class:"col-12 q-mb-md"},Xo={class:"col-12 col-md-3"},Ko={class:"col-12 col-md-9 q-mb-md"},Qe=fe({__name:"ExamenFisicoRegionalComponent",props:{disable:{type:Boolean,default:!1},validador:{type:Object,required:!1},datos:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:a}){const p=a,w=e,q=M([]),$=M([]),m=M([]),r=M([]),V=M([]),n=new Le,b=Va({}),s=M(!1),D=new Go,Q=new zo,g=()=>p("update:modelValue",u()),u=()=>(console.log($.value),m.value=Object.values($.value[0]).filter(A=>Array.isArray(A)).flatMap(A=>A).map(A=>{var F;const O=new Qo;return O.categoria_examen_fisico=(F=V.value.find(k=>k.id===A))==null?void 0:F.nombre,O.categoria_examen_fisico_id=A,O.observacion=w.datos?K(A):null,O}),m.value),R=async()=>{n.activar();try{const{result:A}=await D.listar();V.value=A}catch(A){console.log(A)}finally{n.desactivar()}},W=async()=>{n.activar();try{const{result:A}=await Q.listar();r.value=A}catch(A){console.log(A)}finally{n.desactivar()}},ie=async()=>{await R(),await W(),r.value.forEach(A=>{var O,F,k;q.value.push({name:(O=A.nombre)!=null?O:"",field:(F=A.nombre)!=null?F:"",label:(k=A.nombre)!=null?k:"",align:"left",sortable:!0,type:"select_multiple",editable:!0,options:V.value.filter(x=>x.region_cuerpo===A.id).map(x=>({label:x.nombre,value:x.id}))})}),r.value.forEach(A=>{var O;b[(O=A.nombre)!=null?O:""]=null}),console.log(b),await $.value.push(JSON.parse(JSON.stringify(b))),s.value=!0,ee()},K=A=>{var F;const O=w.datos.find(k=>k.categoria_examen_fisico_id===A);return(F=O==null?void 0:O.observacion)!=null?F:null};ra($,g,{deep:!0}),ie();const ee=()=>{ra(ke(()=>w.datos),A=>{A&&(A.forEach(O=>{var k,x;const F=(k=O.region_cuerpo)!=null?k:"";b.hasOwnProperty(F)&&(b[F]===null?b[F]=[O.categoria_examen_fisico_id]:(x=b[F])==null||x.push(O.categoria_examen_fisico_id))}),console.log("Fila agregada al consultar"),console.log(b),$.value=[b])})};return(A,O)=>(c(),h(z,null,[o("div",Jo,[o("div",Yo,[s.value?(c(),Y(ye,{key:0,configuracionColumnas:q.value,datos:$.value,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!1,separador:"cell",disable:e.disable},null,8,["configuracionColumnas","datos","disable"])):L("",!0)])]),(c(!0),h(z,null,J(m.value,(F,k)=>(c(),h("div",{key:k,class:"row"},[o("div",Xo,[O[0]||(O[0]=o("label",{class:"q-mb-sm block"},"Categor\xEDa examen f\xEDsico",-1)),i(Ua,null,{default:t(()=>[se(ae(`${F.categoria_examen_fisico}`),1)]),_:2},1024)]),o("div",Ko,[O[1]||(O[1]=o("label",{class:"q-mb-sm block"},"Observaciones",-1)),i(C,{modelValue:F.observacion,"onUpdate:modelValue":x=>F.observacion=x,placeholder:"Opcional",disable:e.disable,autogrow:"",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue","disable"])])]))),128))],64))}}),Wo={class:"row q-pa-md"},Zo={class:"col-12 q-mb-md"},ei={class:"q-gutter-sm"},ai={class:"col-12 q-mb-md"},oi={class:"col-12"},Je=fe({__name:"AptitudMedicaTrabajo",props:{aptitudMedica:{type:Object,required:!0},disable:{type:Boolean,default:!1},validador:{type:Object,required:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const p=a,q=Va(e.aptitudMedica),$=new Fa,m=M([]),r=new Le,V=()=>p("update:modelValue",q);return(async()=>{r.activar();try{const{result:b}=await $.listar();m.value=b,q.tipo_aptitud_id=m.value[0].id}catch(b){console.log(b)}finally{r.desactivar()}})(),(b,s)=>(c(),h("div",Wo,[o("div",Zo,[s[6]||(s[6]=o("label",{class:"q-mb-sm block"},"Despu\xE9s de la valoraci\xF3n medica ocupacional se certifica que la persona en menci\xF3n, es calificada como:",-1)),o("div",ei,[(c(!0),h(z,null,J(m.value,D=>{var Q;return c(),Y(Z,{key:(Q=D.id)!=null?Q:void 0,modelValue:q.tipo_aptitud_id,"onUpdate:modelValue":[s[0]||(s[0]=g=>q.tipo_aptitud_id=g),s[1]||(s[1]=g=>V())],val:D.id,label:`${D.nombre}`,disable:e.disable},null,8,["modelValue","val","label","disable"])}),128))])]),o("div",ai,[s[7]||(s[7]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(C,{modelValue:q.observacion,"onUpdate:modelValue":[s[2]||(s[2]=D=>q.observacion=D),s[3]||(s[3]=D=>V())],placeholder:"Opcional",disable:e.disable,outlined:"",dense:"",autogrow:"",type:"textarea"},null,8,["modelValue","disable"])]),o("div",oi,[s[8]||(s[8]=o("label",{class:"q-mb-sm block"},"Limitaci\xF3n",-1)),i(C,{modelValue:q.limitacion,"onUpdate:modelValue":[s[4]||(s[4]=D=>q.limitacion=D),s[5]||(s[5]=D=>V())],placeholder:"Opcional",disable:e.disable,outlined:"",dense:"",autogrow:"",type:"textarea"},null,8,["modelValue","disable"])])]))}});class ii extends B{constructor(){super(U.fichas_preocupacionales_consultar_informacion_defecto)}}class si extends B{constructor(){super(U.fichas_preocupacionales)}}class li extends B{constructor(){super(U.tipos_antecedentes_familiares)}}class ti extends B{constructor(){super(U.categorias_factores_riesgos)}}class ni extends B{constructor(){super(U.orientaciones_sexuales)}}class ri extends B{constructor(){super(U.tipos_habitos_toxicos)}}class di extends B{constructor(){super(U.tipos_factores_riesgos)}}class ci extends B{constructor(){super(U.tipos_antecedentes)}}class ui extends H{constructor(){super();l(this,"tiempo");l(this,"resultado");l(this,"examen_id");l(this,"examen");l(this,"ficha_preocupacional");this.tiempo=null,this.resultado=null,this.examen_id=null,this.examen=null,this.ficha_preocupacional=null}}class mi extends H{constructor(){super();l(this,"menarquia");l(this,"ciclos");l(this,"fecha_ultima_menstruacion");l(this,"gestas");l(this,"partos");l(this,"cesareas");l(this,"abortos");this.menarquia=null,this.ciclos=null,this.fecha_ultima_menstruacion=null,this.gestas=null,this.partos=null,this.cesareas=null,this.abortos=null}}class pi extends H{constructor(){super();l(this,"antecedentes_quirurgicos");l(this,"vida_sexual_activa");l(this,"tiene_metodo_planificacion_familiar");l(this,"tipo_metodo_planificacion_familiar");l(this,"hijos_vivos");l(this,"hijos_muertos");l(this,"ficha_preocupacional");this.vida_sexual_activa=!1,this.antecedentes_quirurgicos=null,this.tiene_metodo_planificacion_familiar=!1,this.tipo_metodo_planificacion_familiar=null,this.hijos_vivos=null,this.hijos_muertos=null,this.ficha_preocupacional=null}}class fa extends H{constructor(){super();l(this,"calificado_iss");l(this,"instituto_seguridad_social");l(this,"fecha");l(this,"observacion");l(this,"tipo_descripcion_antecedente_trabajo");l(this,"ficha_preocupacional");this.calificado_iss=!0,this.instituto_seguridad_social=null,this.fecha=null,this.observacion=null,this.tipo_descripcion_antecedente_trabajo=null,this.ficha_preocupacional=null}}class ua extends H{constructor(){super();l(this,"tipo_aptitud_id");l(this,"observacion");l(this,"limitacion");this.tipo_aptitud_id=null,this.observacion=null,this.limitacion=null}}class Ye extends H{constructor(){super();l(this,"cargo");l(this,"aptitud_medica");l(this,"accidente_trabajo");l(this,"enfermedad_profesional");l(this,"constante_vital");l(this,"examenes_fisicos_regionales");l(this,"motivo_consulta");l(this,"registro_empleado_examen");this.cargo=null,this.aptitud_medica=new ua,this.accidente_trabajo=new fa,this.enfermedad_profesional=new fa,this.constante_vital=new Sa,this.examenes_fisicos_regionales=[],this.registro_empleado_examen=null,this.motivo_consulta=null}}class bi extends Ye{constructor(){super();l(this,"numero_archivo");l(this,"registro_empleado_examen");l(this,"religion");l(this,"orientacion_sexual");l(this,"cargo");l(this,"identidad_genero");l(this,"lateralidad");l(this,"motivo_consulta");l(this,"antecedentes_gineco_obstetricos");l(this,"antecedente_personal");l(this,"habitos_toxicos");l(this,"actividades_fisicas");l(this,"medicaciones");l(this,"antecedentes_empleos_anteriores");l(this,"antecedentes_familiares");l(this,"fr_puestos_trabajos_actuales");l(this,"actividades_extralaborales");l(this,"enfermedad_actual");l(this,"revisiones_actuales_organos_sistemas");l(this,"antecedentes_clinicos_quirurgicos");l(this,"examenes_realizados");l(this,"recomendaciones_tratamiento");l(this,"aptitud_medica");this.numero_archivo=null,this.registro_empleado_examen=null,this.religion=null,this.orientacion_sexual=null,this.identidad_genero=null,this.cargo=null,this.lateralidad=null,this.motivo_consulta=null,this.antecedentes_gineco_obstetricos=new mi,this.antecedente_personal=new pi,this.habitos_toxicos=[],this.actividades_fisicas=[],this.medicaciones=[],this.antecedentes_empleos_anteriores=[],this.antecedentes_familiares=[],this.fr_puestos_trabajos_actuales=[],this.actividades_extralaborales=null,this.enfermedad_actual=null,this.revisiones_actuales_organos_sistemas=[],this.antecedentes_clinicos_quirurgicos=null,this.examenes_realizados=[],this.recomendaciones_tratamiento=null,this.aptitud_medica=new ua}}class fi extends B{constructor(){super(U.sistemas_organos)}}class _i extends H{constructor(){super();l(this,"organo");l(this,"organo_id");l(this,"descripcion");l(this,"ficha_preocupacional");this.organo=null,this.organo_id=null,this.ficha_preocupacional=null,this.descripcion=null}}class _a extends H{constructor(){super();l(this,"empresa");l(this,"puesto_trabajo");l(this,"actividades");l(this,"tiempo_trabajo");l(this,"observaciones");l(this,"tipos_riesgos_ids");l(this,"ficha_preocupacional");this.empresa=null,this.puesto_trabajo=null,this.actividades=null,this.tiempo_trabajo=null,this.observaciones=null,this.tipos_riesgos_ids=[],this.ficha_preocupacional=null}}class gi extends B{constructor(){super(U.religiones)}}class vi extends H{constructor(){super();l(this,"tiempo_consumo_meses");l(this,"tiempo_abstinencia_meses");l(this,"ficha_preocupacional");l(this,"tipo_habito_toxico");l(this,"tipo_habito_toxico_id");l(this,"ex_consumidor");l(this,"cantidad");this.tiempo_consumo_meses=null,this.cantidad=null,this.ex_consumidor=!1,this.tipo_habito_toxico=null,this.tipo_habito_toxico_id=null,this.tiempo_abstinencia_meses=null,this.ficha_preocupacional=null}}class hi extends H{constructor(){super();l(this,"puesto_trabajo");l(this,"actividad");l(this,"medidas_preventivas");l(this,"ficha_preocupacional");l(this,"detalle_categ_factor_riesgo_fr_puesto_trab_act");this.puesto_trabajo=null,this.actividad=null,this.medidas_preventivas=null,this.detalle_categ_factor_riesgo_fr_puesto_trab_act=[],this.ficha_preocupacional=null}}class qi extends H{constructor(){super();l(this,"tipo_antecedente_familiar");l(this,"tipo_antecedente_familiar_id");l(this,"descripcion");l(this,"parentesco");this.tipo_antecedente_familiar=null,this.tipo_antecedente_familiar_id=null,this.descripcion=null,this.parentesco=null}}class Vi extends H{constructor(){super();l(this,"nombre");l(this,"cantidad");this.nombre=null,this.cantidad=null}}class Ci extends H{constructor(){super();l(this,"nombre_actividad");l(this,"tiempo");this.nombre_actividad=null,this.tiempo=null}}var $i=fe({name:"fichas_preocupacionales",components:{SimpleLayout:Ce,EssentialTable:ye,ContantesVitales:Ge,AptitudMedicaTrabajo:Je,ExamenFisicoRegionalComponent:Qe},setup(e,{emit:a}){var le,te;const p=he(),w=Oe(),{confirmar:q}=je(),$=M(ba),m=M(na),r=M(!1),V=M(!1),n=new hi,b=new _a,{notificarAdvertencia:s}=je(),D=M(),Q=new ii,g=new qe(bi,new si),{entidad:u,listadosAuxiliares:R,disabled:W,accion:ie}=g.useReferencias(),{setValidador:K,cargarVista:ee,obtenerListados:A,consultar:O,editarParcial:F,listar:k}=g.useComportamiento(),{onBeforeGuardar:x,onReestablecer:S,onConsultado:oe,onGuardado:v}=g.useHooks();ee(async()=>{await A({religiones:new gi,orientacionesSexuales:new ni,identidadesGeneros:new Da,tiposAntecedentes:new ci,tiposHabitosToxicos:new ri,tiposAntecedentesFamiliares:new li,categoriasFactoresRiesgos:new ti,tiposFactoresRiesgos:new di,sistemasOrganos:new fi,cargos:{controller:new ze,params:{estado:1}},antecedentes_familiares:[],habitos_toxicos:[],revisiones_actuales_organos_sistemas:[],examenes_realizados:[]}),R.examenes_realizados=R.tiposAntecedentes.map(d=>{const _=new ui;return _.examen=d.nombre,_.examen_id=d.id,_}),R.habitos_toxicos=R.tiposHabitosToxicos.map(d=>{const _=new vi;return _.tipo_habito_toxico=d.nombre,_.tipo_habito_toxico_id=d.id,_}),R.antecedentes_familiares=R.tiposAntecedentesFamiliares.map(d=>{const _=new qi;return _.tipo_antecedente_familiar=d.nombre,_.tipo_antecedente_familiar_id=d.id,_}),R.revisiones_actuales_organos_sistemas=R.sistemasOrganos.map(d=>{const _=new _i;return _.organo=d.nombre,_.organo_id=d.id,_}),Ie(),De(),Me(),f(),p.idFichaPreocupacional&&O({id:p.idFichaPreocupacional})});const I={titulo:"",icono:"bi-x",color:"negative",accion:({posicion:d})=>q("\xBFEst\xE1 seguro de continuar?",()=>{var _;return(_=u.actividades_fisicas)==null?void 0:_.splice(d,1)})},ue={titulo:"",icono:"bi-x",color:"negative",accion:({posicion:d})=>q("\xBFEst\xE1 seguro de continuar?",()=>{var _;return(_=u.medicaciones)==null?void 0:_.splice(d,1)})},Fe={titulo:"",icono:"bi-x",color:"negative",accion:({posicion:d})=>q("\xBFEst\xE1 seguro de continuar?",()=>{var _;return(_=u.antecedentes_empleos_anteriores)==null?void 0:_.splice(d,1)})},we={titulo:"",icono:"bi-x",color:"negative",accion:({posicion:d})=>q("\xBFEst\xE1 seguro de continuar?",()=>{var _;return(_=u.fr_puestos_trabajos_actuales)==null?void 0:_.splice(d,1)})},{cargos:Pe,filtrarCargos:Xe}=Re(R),Ke=()=>{var _;if(u.actividades_fisicas.length>0)return s("Solo puede ingresar un m\xE1ximo de una actividad");const d=new Ci;d.id=(_=u.actividades_fisicas)!=null&&_.length?Ee(u.actividades_fisicas)+1:1,u.actividades_fisicas.push(d)},We=()=>{var _;if(u.medicaciones.length>2)return s("Solo puede ingresar un m\xE1ximo de tres medicamentos");const d=new Vi;d.id=(_=u.medicaciones)!=null&&_.length?Ee(u.medicaciones)+1:1,u.medicaciones.push(d)},Ze=()=>{var _;const d=JSON.parse(JSON.stringify(b));d.id=(_=u.antecedentes_empleos_anteriores)!=null&&_.length?Ee(u.antecedentes_empleos_anteriores)+1:1,u.antecedentes_empleos_anteriores.push(d)},ea=()=>{var _;const d=JSON.parse(JSON.stringify(n));d.id=(_=u.fr_puestos_trabajos_actuales)!=null&&_.length?Ee(u.fr_puestos_trabajos_actuales)+1:1,u.fr_puestos_trabajos_actuales.push(d)},aa=(d,_)=>_.reduce((j,me)=>d[me]?[...j,...d[me]]:j,[]),oa=async()=>{const{response:d}=await Q.listar({registro_empleado_examen_id:p.idRegistroEmpleadoExamen});u.motivo_consulta=d.data.modelo.motivo_consulta,u.recomendaciones_tratamiento=d.data.modelo.recomendaciones_tratamiento,u.enfermedad_actual=d.data.modelo.enfermedad_actual,u.cargo=d.data.modelo.cargo},ia=async()=>{const d=xe.getInstance(),_=Se.URL_BASE+"/"+d.getEndpoint(U.fichas_preocupacionales_imprimir)+"/"+u.id,j="ficha_preocupacional_"+u.id+"_"+Date.now();Te(_,"GET","blob","pdf",j)},sa=d=>u.constante_vital.hydrate(d),la=d=>u.aptitud_medica.hydrate(d),ma=d=>D.value=d,De=async()=>{m.value=[...na],console.log(R.tiposFactoresRiesgos),await R.tiposFactoresRiesgos.forEach(d=>{m.value.push({name:d.id+"",field:d.id+"",label:d.nombre?"R."+d.nombre:"",align:"left",type:"boolean",editable:!0})}),console.log(m.value),V.value=!0},Ie=async()=>{$.value=[...ba],await R.tiposFactoresRiesgos.forEach(d=>{var _,j,me;$.value.push({name:(_=d.nombre)!=null?_:"",field:(j=d.nombre)!=null?j:"",label:(me=d.nombre)!=null?me:"",align:"left",sortable:!0,type:"select_multiple",editable:!0,options:R.categoriasFactoresRiesgos.filter(be=>be.tipo_factor_riesgo===d.id).map(be=>({label:be.nombre,value:be.id}))})}),r.value=!0},Me=()=>{R.tiposFactoresRiesgos.forEach(d=>{var _;n[(_=d.nombre)!=null?_:""]=null})},f=()=>{R.tiposFactoresRiesgos.forEach(d=>{b[d.id+""]=!1})};x(()=>{var _;u.registro_empleado_examen=(_=p.idRegistroEmpleadoExamen)!=null?_:null,u.examenes_fisicos_regionales=D.value,u.antecedentes_familiares=[...R.antecedentes_familiares.filter(j=>j.descripcion)],u.examenes_realizados=R.examenes_realizados.filter(j=>j.tiempo||j.resultado).map(j=>(j.examen_id=j.examen_id,j));const d=R.tiposFactoresRiesgos.map(j=>j.nombre);u.fr_puestos_trabajos_actuales=u.fr_puestos_trabajos_actuales.map(j=>(j.detalle_categ_factor_riesgo_fr_puesto_trab_act=aa(j,d),j)),u.revisiones_actuales_organos_sistemas=R.revisiones_actuales_organos_sistemas.filter(j=>j.descripcion).map(j=>({organo_id:j.organo_id,descripcion:j.descripcion})),u.habitos_toxicos=R.habitos_toxicos.filter(j=>j.cantidad||j.tiempo_consumo_meses||j.tiempo_abstinencia_meses),u.antecedentes_empleos_anteriores=u.antecedentes_empleos_anteriores.map(j=>{const me=[],be=new _a;for(const $e in j)if(j.hasOwnProperty($e)&&!["id","created_at","updated_at"].includes($e)){const ta=j[$e];typeof ta=="boolean"&&ta===!0?me.push(parseInt($e)):be[$e]=ta}return be.tipos_riesgos_ids=me.length?me:[],be}),console.log(u.antecedentes_empleos_anteriores)}),S(()=>{u.numero_archivo=w.user.identificacion,a("cerrar-modal")}),oe(()=>{ie.value=pe.consultar,R.habitos_toxicos=u.habitos_toxicos,R.revisiones_actuales_organos_sistemas=R.revisiones_actuales_organos_sistemas.map(d=>{console.log(d);const _=u.revisiones_actuales_organos_sistemas.find(j=>j.organo_id===d.organo_id);return _&&(d.descripcion=_.descripcion),d}),R.antecedentes_familiares=R.antecedentes_familiares.map(d=>{const _=u.antecedentes_familiares.find(j=>j.tipo_antecedente_familiar_id===d.tipo_antecedente_familiar_id);return _&&(d.descripcion=_.descripcion,d.parentesco=_.parentesco),d}),u.antecedentes_empleos_anteriores=u.antecedentes_empleos_anteriores.map(d=>{var me;const _=(me=d.tipos_riesgos_ids)==null?void 0:me.reduce((be,$e)=>(be[$e.toString()]=!0,be),{}),j={...d,..._};return delete j.tipos_riesgos_ids,j})}),v(d=>p.idFichaPreocupacional=d);const P=Ue({cargo:{required:E},religion:{required:E},orientacion_sexual:{required:E},identidad_genero:{required:E},lateralidad:{required:E},antecedente_personal:{hijos_vivos:{required:E},hijos_muertos:{required:E}},constante_vital:{presion_arterial:{required:E},temperatura:{required:E},frecuencia_cardiaca:{required:E},saturacion_oxigeno:{required:E},frecuencia_respiratoria:{required:E},peso:{required:E},talla:{required:E},indice_masa_corporal:{required:E},perimetro_abdominal:{required:E}}},u);return K(P.value),oa(),u.numero_archivo=w.user.identificacion,{v$:P,mixin:g,disabled:W,fichaPreocupacional:u,listadosAuxiliares:R,tipos_sangre:Ca,maskFecha:Ae,configuracionColumnasResultadoExamenPreocupacional:Io,configuracionColumnasResultadoHabitoToxico:Bo,configuracionColumnasActividadFisica:Ho,configuracionColumnasMedicacionHabitual:Lo,configuracionColumnasAntecedenteTrabajoAnterior:na,configuracionColumnasAntecedenteFamiliar:No,configuracionColumnasFrPuestoTrabajoActualReactive:$,configuracionColumnasRevisionActualOrganoSistema:Mo,insertarFilaActividadFisica:Ke,insertarFilaMedicacionHabitual:We,insertarFilaAntecedenteTrabajoAnterior:Ze,mapearOptionsSelect:He,cargos:Pe,filtrarCargos:Xe,hidratarConstanteVital:sa,hidratarAptitudMedica:la,hidratarExamenFisicoRegional:ma,descargarPdf:ia,insertarFilaFrPuestoTrabajoActualReactive:ea,btnEliminarActividadFisica:I,btnEliminarMedicacionHabitual:ue,btnEliminarAntecedenteTrabajoAnterior:Fe,btnEliminarFrPuestoTrabajoActual:we,accionesTabla:Ne,mostrarTablaFrPuestoTrabajoActualReactive:r,mostrarTablaAntecedenteTrabajoAnteriorReactive:V,configuracionColumnasAntecedenteTrabajoAnteriorReactive:m,mostrarMasculino:((le=p.empleado)==null?void 0:le.genero)==="M",mostrarFemenino:((te=p.empleado)==null?void 0:te.genero)==="F",mostrarDescargarPdf:w.esMedico}}});const Ei={class:"row q-col-gutter-x-sm q-pa-md"},yi={class:"col-12 col-md-3 q-mb-md"},Fi={class:"q-gutter-sm"},wi={class:"col-12 col-md-3 q-mb-md"},Pi={class:"q-gutter-sm"},Ai={class:"col-12 col-md-3 q-mb-md"},Ri={class:"q-gutter-sm"},ji={class:"col-12 col-md-3 q-mb-md"},ki={class:"col-12 col-md-3 col-sm-3"},Oi={class:"col-12 col-md-3"},xi={class:"col-12 col-md-3 col-sm-3"},Si={class:"error-msg"},Ti={class:"row q-col-gutter-x-sm q-pa-md"},Ui={class:"col-12"},Di={class:"row q-col-gutter-x-sm q-pa-md"},Ii={class:"col-12 q-mb-md"},Mi={class:"col-12 text-bold q-mb-md"},Bi={key:0,class:"col-12 col-md-3 q-mb-md"},Ni={key:1,class:"col-12 col-md-3 q-mb-md"},Li={key:2,class:"col-12 col-md-3 q-mb-md"},Hi={class:"row items-center justify-end"},Gi={key:3,class:"col-12 col-md-3 q-mb-md"},zi={key:4,class:"col-12 col-md-3 q-mb-md"},Qi={key:5,class:"col-12 col-md-3 q-mb-md"},Ji={key:6,class:"col-12 col-md-3 q-mb-md"},Yi={class:"col-12 col-md-3 q-mb-md"},Xi={class:"col-12 col-md-3 q-mb-md"},Ki={class:"col-12 col-md-3 q-mb-md"},Wi={class:"q-gutter-sm"},Zi={class:"col-12 col-md-3 q-mb-md"},es={class:"q-gutter-sm"},as={key:7,class:"col-12 col-md-3 q-mb-md"},os={class:"col-12 q-mb-md"},is={class:"col-12 q-mb-md"},ss={class:"col-12 q-mb-md"},ls={class:"col-12 q-mb-md"},ts={class:"row q-col-gutter-x-sm q-pa-md"},ns={class:"col-12 q-mb-md"},rs={class:"col-12 col-md-6 q-mb-md"},ds={class:"q-gutter-sm"},cs={key:0,class:"col-12 col-md-6 q-mb-md"},us={class:"col-12 col-md-6 q-mb-md"},ms={class:"row items-center justify-end"},ps={class:"col-12 col-md-6 q-mb-md"},bs={class:"col-12 col-md-6 q-mb-md"},fs={class:"q-gutter-sm"},_s={key:1,class:"col-12 col-md-6 q-mb-md"},gs={class:"col-12 col-md-6 q-mb-md"},vs={class:"row items-center justify-end"},hs={class:"col-12 col-md-6 q-mb-md"},qs={class:"row q-col-gutter-x-sm q-pa-md"},Vs={class:"col-12 q-mb-md"},Cs={class:"row q-col-gutter-x-sm q-pa-md"},$s={class:"col-12 q-mb-md"},Es={class:"row q-col-gutter-x-sm q-pa-md"},ys={class:"col-12"},Fs={class:"row q-col-gutter-x-sm q-pa-md"},ws={class:"col-12"},Ps={class:"row q-col-gutter-x-sm q-pa-md"},As={class:"col-12 q-mb-md"},Rs={class:"q-pa-md"},js={class:"q-pa-md"},ks={class:"row q-col-gutter-x-sm q-pa-md"},Os={class:"col-12"},xs={class:"row q-gutter-x-xs"};function Ss(e,a,p,w,q,$){const m=G("essential-table"),r=G("contantes-vitales"),V=G("examen-fisico-regional-component"),n=G("aptitud-medica-trabajo"),b=G("simple-layout");return c(),Y(b,{mixin:e.mixin},{formulario:t(()=>[i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Datos del empleado","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",Ei,[o("div",yi,[a[44]||(a[44]=o("label",{class:"q-mb-md block"},"Religi\xF3n:",-1)),o("div",Fi,[i(ve,{modelValue:e.fichaPreocupacional.religion,"onUpdate:modelValue":a[0]||(a[0]=s=>e.fichaPreocupacional.religion=s),options:e.mapearOptionsSelect(e.listadosAuxiliares.religiones),"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",hint:"Obligatorio","option-value":s=>s.value,"option-label":s=>s.label,"emit-value":"","map-options":"",error:!!e.v$.religion.$errors.length,onBlur:e.v$.religion.$touch},{error:t(()=>[(c(!0),h(z,null,J(e.v$.religion.$errors,s=>(c(),h("div",{key:s.$uid},[o("div",null,ae(s.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","option-value","option-label","error","onBlur"])])]),o("div",wi,[a[45]||(a[45]=o("label",{class:"q-mb-sm block q-mb-md"},"Orientaciones sexuales:",-1)),o("div",Pi,[i(ve,{modelValue:e.fichaPreocupacional.orientacion_sexual,"onUpdate:modelValue":a[1]||(a[1]=s=>e.fichaPreocupacional.orientacion_sexual=s),options:e.mapearOptionsSelect(e.listadosAuxiliares.orientacionesSexuales),"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",hint:"Obligatorio","option-value":s=>s.value,"option-label":s=>s.label,"emit-value":"","map-options":"",error:!!e.v$.orientacion_sexual.$errors.length,onBlur:e.v$.orientacion_sexual.$touch},{error:t(()=>[(c(!0),h(z,null,J(e.v$.orientacion_sexual.$errors,s=>(c(),h("div",{key:s.$uid},[o("div",null,ae(s.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","option-value","option-label","error","onBlur"])])]),o("div",Ai,[a[46]||(a[46]=o("label",{class:"q-mb-sm block q-mb-md"},"Identidad g\xE9nero:",-1)),o("div",Ri,[i(ve,{modelValue:e.fichaPreocupacional.identidad_genero,"onUpdate:modelValue":a[2]||(a[2]=s=>e.fichaPreocupacional.identidad_genero=s),options:e.mapearOptionsSelect(e.listadosAuxiliares.identidadesGeneros),"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",hint:"Obligatorio","option-value":s=>s.value,"option-label":s=>s.label,"emit-value":"","map-options":"",error:!!e.v$.identidad_genero.$errors.length,onBlur:e.v$.identidad_genero.$touch},{error:t(()=>[(c(!0),h(z,null,J(e.v$.identidad_genero.$errors,s=>(c(),h("div",{key:s.$uid},[o("div",null,ae(s.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","option-value","option-label","error","onBlur"])])]),o("div",ji,[a[47]||(a[47]=o("label",{class:"q-mb-sm block"},"N\xFAmero de archivo",-1)),i(C,{modelValue:e.fichaPreocupacional.numero_archivo,"onUpdate:modelValue":a[3]||(a[3]=s=>e.fichaPreocupacional.numero_archivo=s),placeholder:"Obligatorio",type:"number",disable:"",outlined:"",dense:""},null,8,["modelValue"])]),o("div",ki,[a[48]||(a[48]=o("label",{class:"q-mb-sm block"},"Grupo sangu\xEDneo",-1)),i(ve,{modelValue:e.fichaPreocupacional.grupo_sanguineo,"onUpdate:modelValue":a[4]||(a[4]=s=>e.fichaPreocupacional.grupo_sanguineo=s),options:e.tipos_sangre,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",hint:"Opcional","option-value":s=>s.nombre,"option-label":s=>s.nombre,"emit-value":"","map-options":""},null,8,["modelValue","options","disable","option-value","option-label"])]),o("div",Oi,[a[49]||(a[49]=o("label",{class:"q-mb-sm block"},"Lateralidad",-1)),i(C,{modelValue:e.fichaPreocupacional.lateralidad,"onUpdate:modelValue":a[5]||(a[5]=s=>e.fichaPreocupacional.lateralidad=s),placeholder:"Obligatorio",disable:e.disabled,outlined:"",dense:"",error:!!e.v$.lateralidad.$errors.length,onBlur:e.v$.lateralidad.$touch},{error:t(()=>[(c(!0),h(z,null,J(e.v$.lateralidad.$errors,s=>(c(),h("div",{key:s.$uid},[o("div",null,ae(s.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onBlur"])]),o("div",xi,[a[50]||(a[50]=o("label",{class:"q-mb-sm block"},"Cargo",-1)),i(ve,{modelValue:e.fichaPreocupacional.cargo,"onUpdate:modelValue":a[6]||(a[6]=s=>e.fichaPreocupacional.cargo=s),options:e.cargos,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","use-input":"","input-debounce":"0",onBlur:e.v$.cargo.$touch,onFilter:e.filtrarCargos,error:!!e.v$.cargo.$errors.length,"error-message":"Debes seleccionar un cargo","option-value":s=>s.id,"option-label":s=>s.nombre,"emit-value":"","map-options":""},{error:t(()=>[(c(!0),h(z,null,J(e.v$.cargo.$errors,s=>(c(),h("div",{key:s.$uid},[o("div",Si,ae(s.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","onBlur","onFilter","error","option-value","option-label"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Motivo de consulta","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",Ti,[o("div",Ui,[a[51]||(a[51]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(C,{modelValue:e.fichaPreocupacional.motivo_consulta,"onUpdate:modelValue":a[7]||(a[7]=s=>e.fichaPreocupacional.motivo_consulta=s),placeholder:"Anotar la causa del problema en la versi\xF3n del informante",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Antecedentes personales","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",Di,[a[70]||(a[70]=o("div",{class:"text-bold q-mb-md"}," ANTECEDENTES CL\xCDNICOS Y QUIR\xDARGICOS ",-1)),o("div",Ii,[a[52]||(a[52]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(C,{modelValue:e.fichaPreocupacional.antecedente_personal.antecedentes_quirurgicos,"onUpdate:modelValue":a[8]||(a[8]=s=>e.fichaPreocupacional.antecedente_personal.antecedentes_quirurgicos=s),placeholder:"Anotar la causa del problema en la versi\xF3n del informante",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),o("div",Mi,ae(e.mostrarMasculino?"ANTECEDENTES REPRODUCTIVOS MASCULINOS":"ANTECEDENTES GINECO OBST\xC9TRICOS"),1),e.mostrarFemenino?(c(),h("div",Bi,[a[53]||(a[53]=o("label",{class:"q-mb-sm block"},"Menarqu\xEDa",-1)),i(C,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.menarquia,"onUpdate:modelValue":a[9]||(a[9]=s=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.menarquia=s),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):L("",!0),e.mostrarFemenino?(c(),h("div",Ni,[a[54]||(a[54]=o("label",{class:"q-mb-sm block"},"Ciclos",-1)),i(C,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.ciclos,"onUpdate:modelValue":a[10]||(a[10]=s=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.ciclos=s),placeholder:"Opcional",type:"number",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):L("",!0),e.mostrarFemenino?(c(),h("div",Li,[a[55]||(a[55]=o("label",{class:"q-mb-sm block"},"Fecha de \xFAltima menstruaci\xF3n",-1)),i(C,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.fecha_ultima_menstruacion,"onUpdate:modelValue":a[12]||(a[12]=s=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.fecha_ultima_menstruacion=s),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:t(()=>[i(X,{name:"event",class:"cursor-pointer"},{default:t(()=>[i(re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[i(de,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.fecha_ultima_menstruacion,"onUpdate:modelValue":a[11]||(a[11]=s=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.fecha_ultima_menstruacion=s),mask:e.maskFecha,"today-btn":""},{default:t(()=>[o("div",Hi,[ne(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[ce]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])])):L("",!0),e.mostrarFemenino?(c(),h("div",Gi,[a[56]||(a[56]=o("label",{class:"q-mb-sm block"},"Gestas",-1)),i(C,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.gestas,"onUpdate:modelValue":a[13]||(a[13]=s=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.gestas=s),placeholder:"Opcional",type:"number",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):L("",!0),e.mostrarFemenino?(c(),h("div",zi,[a[57]||(a[57]=o("label",{class:"q-mb-sm block"},"Partos",-1)),i(C,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.partos,"onUpdate:modelValue":a[14]||(a[14]=s=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.partos=s),placeholder:"Opcional",type:"number",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):L("",!0),e.mostrarFemenino?(c(),h("div",Qi,[a[58]||(a[58]=o("label",{class:"q-mb-sm block"},"Ces\xE1reas",-1)),i(C,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.cesareas,"onUpdate:modelValue":a[15]||(a[15]=s=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.cesareas=s),placeholder:"Opcional",type:"number",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):L("",!0),e.mostrarFemenino?(c(),h("div",Ji,[a[59]||(a[59]=o("label",{class:"q-mb-sm block"},"Abortos",-1)),i(C,{modelValue:e.fichaPreocupacional.antecedentes_gineco_obstetricos.abortos,"onUpdate:modelValue":a[16]||(a[16]=s=>e.fichaPreocupacional.antecedentes_gineco_obstetricos.abortos=s),placeholder:"Opcional",type:"number",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):L("",!0),o("div",Yi,[a[60]||(a[60]=o("label",{class:"q-mb-sm block"},"Hijos vivos",-1)),i(C,{modelValue:e.fichaPreocupacional.antecedente_personal.hijos_vivos,"onUpdate:modelValue":a[17]||(a[17]=s=>e.fichaPreocupacional.antecedente_personal.hijos_vivos=s),placeholder:"Obligatorio",type:"number",disable:e.disabled,outlined:"",dense:"",error:!!e.v$.antecedente_personal.hijos_vivos.$errors.length,onBlur:e.v$.antecedente_personal.hijos_vivos.$touch},{error:t(()=>[(c(!0),h(z,null,J(e.v$.antecedente_personal.hijos_vivos.$errors,s=>(c(),h("div",{key:s.$uid},[o("div",null,ae(s.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onBlur"])]),o("div",Xi,[a[61]||(a[61]=o("label",{class:"q-mb-sm block"},"Hijos muertos",-1)),i(C,{modelValue:e.fichaPreocupacional.antecedente_personal.hijos_muertos,"onUpdate:modelValue":a[18]||(a[18]=s=>e.fichaPreocupacional.antecedente_personal.hijos_muertos=s),placeholder:"Obligatorio",type:"number",disable:e.disabled,outlined:"",dense:"",error:!!e.v$.antecedente_personal.hijos_muertos.$errors.length,onBlur:e.v$.antecedente_personal.hijos_muertos.$touch},{error:t(()=>[(c(!0),h(z,null,J(e.v$.antecedente_personal.hijos_muertos.$errors,s=>(c(),h("div",{key:s.$uid},[o("div",null,ae(s.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onBlur"])]),o("div",Ki,[a[62]||(a[62]=o("label",{class:"q-mb-sm block"},"Vida sexual activa",-1)),o("div",Wi,[i(Z,{modelValue:e.fichaPreocupacional.antecedente_personal.vida_sexual_activa,"onUpdate:modelValue":a[19]||(a[19]=s=>e.fichaPreocupacional.antecedente_personal.vida_sexual_activa=s),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(Z,{modelValue:e.fichaPreocupacional.antecedente_personal.vida_sexual_activa,"onUpdate:modelValue":a[20]||(a[20]=s=>e.fichaPreocupacional.antecedente_personal.vida_sexual_activa=s),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])]),o("div",Zi,[a[63]||(a[63]=o("label",{class:"q-mb-sm block"},"M\xE9todo de planificaci\xF3n familiar",-1)),o("div",es,[i(Z,{modelValue:e.fichaPreocupacional.antecedente_personal.tiene_metodo_planificacion_familiar,"onUpdate:modelValue":a[21]||(a[21]=s=>e.fichaPreocupacional.antecedente_personal.tiene_metodo_planificacion_familiar=s),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(Z,{modelValue:e.fichaPreocupacional.antecedente_personal.tiene_metodo_planificacion_familiar,"onUpdate:modelValue":a[22]||(a[22]=s=>e.fichaPreocupacional.antecedente_personal.tiene_metodo_planificacion_familiar=s),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])]),e.fichaPreocupacional.antecedente_personal.tiene_metodo_planificacion_familiar?(c(),h("div",as,[a[64]||(a[64]=o("label",{class:"q-mb-sm block"},"Tipo de m\xE9todo de planificaci\xF3n familiar",-1)),i(C,{modelValue:e.fichaPreocupacional.antecedente_personal.tipo_metodo_planificacion_familiar,"onUpdate:modelValue":a[23]||(a[23]=s=>e.fichaPreocupacional.antecedente_personal.tipo_metodo_planificacion_familiar=s),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):L("",!0),o("div",os,[i(m,{configuracionColumnas:e.configuracionColumnasResultadoExamenPreocupacional,datos:e.listadosAuxiliares.examenes_realizados,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell"},null,8,["configuracionColumnas","datos"])]),a[71]||(a[71]=o("div",{class:"col-12 text-bold q-mb-md"},"H\xC1BITOS T\xD3XICOS",-1)),o("div",is,[a[65]||(a[65]=o("div",{class:"text-grey-8 q-mb-md"},"(Opcional)",-1)),i(m,{configuracionColumnas:e.configuracionColumnasResultadoHabitoToxico,datos:e.listadosAuxiliares.habitos_toxicos,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,grid:!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell"},null,8,["configuracionColumnas","datos"])]),a[72]||(a[72]=o("div",{class:"col-12 text-bold q-mb-md"},"ESTILO DE VIDA",-1)),o("div",ss,[i(N,{color:"primary",class:"q-mb-sm q-mr-sm",icon:"bi-arrow-down",disable:e.disabled,"no-caps":"",unelevated:"",onClick:a[24]||(a[24]=s=>e.insertarFilaActividadFisica())},{default:t(()=>a[66]||(a[66]=[se("Insertar fila")])),_:1},8,["disable"]),a[67]||(a[67]=o("span",{class:"text-grey-8"},"(Inserte un m\xE1ximo de 1 fila) (Opcional)",-1)),i(m,{configuracionColumnas:[...e.configuracionColumnasActividadFisica,e.accionesTabla],datos:e.fichaPreocupacional.actividades_fisicas,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell",accion1:e.btnEliminarActividadFisica},null,8,["configuracionColumnas","datos","accion1"])]),o("div",ls,[i(N,{color:"primary",class:"q-mb-sm q-mr-sm",icon:"bi-arrow-down",disable:e.disabled,"no-caps":"",unelevated:"",onClick:a[25]||(a[25]=s=>e.insertarFilaMedicacionHabitual())},{default:t(()=>a[68]||(a[68]=[se("Insertar fila")])),_:1},8,["disable"]),a[69]||(a[69]=o("span",{class:"text-grey-8"},"(Inserte un m\xE1ximo de 3 filas) (Opcional)",-1)),i(m,{configuracionColumnas:[...e.configuracionColumnasMedicacionHabitual,e.accionesTabla],datos:e.fichaPreocupacional.medicaciones,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell",accion1:e.btnEliminarMedicacionHabitual},null,8,["configuracionColumnas","datos","accion1"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Antecedentes de trabajo","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",ts,[a[83]||(a[83]=o("div",{class:"col-12 text-bold q-mb-md"}," ANTECEDENTES DE EMPLEOS ANTERIORES ",-1)),o("div",ns,[i(N,{color:"primary",class:"q-mb-sm q-mr-sm",icon:"bi-arrow-down",disable:e.disabled,"no-caps":"",unelevated:"",onClick:a[26]||(a[26]=s=>e.insertarFilaAntecedenteTrabajoAnterior())},{default:t(()=>a[73]||(a[73]=[se("Insertar fila")])),_:1},8,["disable"]),a[74]||(a[74]=o("span",{class:"text-grey-8"},"(Opcional)",-1)),e.mostrarTablaAntecedenteTrabajoAnteriorReactive?(c(),Y(m,{key:0,configuracionColumnas:[...e.configuracionColumnasAntecedenteTrabajoAnteriorReactive,e.accionesTabla],datos:e.fichaPreocupacional.antecedentes_empleos_anteriores,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell",accion1:e.btnEliminarAntecedenteTrabajoAnterior},null,8,["configuracionColumnas","datos","accion1"])):L("",!0)]),a[84]||(a[84]=o("div",{class:"col-12 text-bold q-mb-md"}," ACCIDENTES DE TRABAJO (DESCRIPCI\xD3N) ",-1)),o("div",rs,[a[75]||(a[75]=o("label",{class:"q-mb-sm block"},"Fue calificado por el Instituto de Seguridad Social correspondiente",-1)),o("div",ds,[i(Z,{modelValue:e.fichaPreocupacional.accidente_trabajo.calificado_iss,"onUpdate:modelValue":a[27]||(a[27]=s=>e.fichaPreocupacional.accidente_trabajo.calificado_iss=s),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(Z,{modelValue:e.fichaPreocupacional.accidente_trabajo.calificado_iss,"onUpdate:modelValue":a[28]||(a[28]=s=>e.fichaPreocupacional.accidente_trabajo.calificado_iss=s),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])]),e.fichaPreocupacional.accidente_trabajo.calificado_iss?(c(),h("div",cs,[a[76]||(a[76]=o("label",{class:"q-mb-sm block"},"Especificar",-1)),i(C,{modelValue:e.fichaPreocupacional.accidente_trabajo.instituto_seguridad_social,"onUpdate:modelValue":a[29]||(a[29]=s=>e.fichaPreocupacional.accidente_trabajo.instituto_seguridad_social=s),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):L("",!0),o("div",us,[a[77]||(a[77]=o("label",{class:"q-mb-sm block"},"Fecha",-1)),i(C,{modelValue:e.fichaPreocupacional.accidente_trabajo.fecha,"onUpdate:modelValue":a[31]||(a[31]=s=>e.fichaPreocupacional.accidente_trabajo.fecha=s),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:t(()=>[i(X,{name:"event",class:"cursor-pointer"},{default:t(()=>[i(re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[i(de,{modelValue:e.fichaPreocupacional.accidente_trabajo.fecha,"onUpdate:modelValue":a[30]||(a[30]=s=>e.fichaPreocupacional.accidente_trabajo.fecha=s),mask:e.maskFecha,"today-btn":""},{default:t(()=>[o("div",ms,[ne(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[ce]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",ps,[a[78]||(a[78]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(C,{modelValue:e.fichaPreocupacional.accidente_trabajo.observacion,"onUpdate:modelValue":a[32]||(a[32]=s=>e.fichaPreocupacional.accidente_trabajo.observacion=s),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),a[85]||(a[85]=o("div",{class:"col-12 text-bold q-mb-md"}," ENFERMEDADES PROFESIONALES (DESCRIPCI\xD3N) ",-1)),o("div",bs,[a[79]||(a[79]=o("label",{class:"q-mb-sm block"},"Fue calificado por el Instituto de Seguridad Social correspondiente",-1)),o("div",fs,[i(Z,{modelValue:e.fichaPreocupacional.enfermedad_profesional.calificado_iss,"onUpdate:modelValue":a[33]||(a[33]=s=>e.fichaPreocupacional.enfermedad_profesional.calificado_iss=s),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(Z,{modelValue:e.fichaPreocupacional.enfermedad_profesional.calificado_iss,"onUpdate:modelValue":a[34]||(a[34]=s=>e.fichaPreocupacional.enfermedad_profesional.calificado_iss=s),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])]),e.fichaPreocupacional.enfermedad_profesional.calificado_iss?(c(),h("div",_s,[a[80]||(a[80]=o("label",{class:"q-mb-sm block"},"Especificar",-1)),i(C,{modelValue:e.fichaPreocupacional.enfermedad_profesional.instituto_seguridad_social,"onUpdate:modelValue":a[35]||(a[35]=s=>e.fichaPreocupacional.enfermedad_profesional.instituto_seguridad_social=s),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):L("",!0),o("div",gs,[a[81]||(a[81]=o("label",{class:"q-mb-sm block"},"Fecha",-1)),i(C,{modelValue:e.fichaPreocupacional.enfermedad_profesional.fecha,"onUpdate:modelValue":a[37]||(a[37]=s=>e.fichaPreocupacional.enfermedad_profesional.fecha=s),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:t(()=>[i(X,{name:"event",class:"cursor-pointer"},{default:t(()=>[i(re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[i(de,{modelValue:e.fichaPreocupacional.enfermedad_profesional.fecha,"onUpdate:modelValue":a[36]||(a[36]=s=>e.fichaPreocupacional.enfermedad_profesional.fecha=s),mask:e.maskFecha,"today-btn":""},{default:t(()=>[o("div",vs,[ne(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[ce]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",hs,[a[82]||(a[82]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(C,{modelValue:e.fichaPreocupacional.enfermedad_profesional.observacion,"onUpdate:modelValue":a[38]||(a[38]=s=>e.fichaPreocupacional.enfermedad_profesional.observacion=s),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Antecedentes familiares (Detallar parentesco)","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",qs,[o("div",Vs,[a[86]||(a[86]=o("div",{class:"text-grey-8 q-mb-md"},"(Opcional)",-1)),i(m,{configuracionColumnas:e.configuracionColumnasAntecedenteFamiliar,datos:e.listadosAuxiliares.antecedentes_familiares,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell"},null,8,["configuracionColumnas","datos"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Factores de riesgo del puesto de trabajo actual","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",Cs,[o("div",$s,[i(N,{color:"primary",class:"q-mb-sm q-mr-sm",icon:"bi-arrow-down","no-caps":"",unelevated:"",onClick:a[39]||(a[39]=s=>e.insertarFilaFrPuestoTrabajoActualReactive())},{default:t(()=>a[87]||(a[87]=[se("Insertar fila")])),_:1}),a[88]||(a[88]=o("span",{class:"text-grey-8"},"(Opcional)",-1)),e.mostrarTablaFrPuestoTrabajoActualReactive?(c(),Y(m,{key:0,configuracionColumnas:[...e.configuracionColumnasFrPuestoTrabajoActualReactive,e.accionesTabla],datos:e.fichaPreocupacional.fr_puestos_trabajos_actuales,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!1,separador:"cell",accion1:e.btnEliminarFrPuestoTrabajoActual},null,8,["configuracionColumnas","datos","accion1"])):L("",!0)])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Actividades extra laborales","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",Es,[o("div",ys,[a[89]||(a[89]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(C,{modelValue:e.fichaPreocupacional.actividades_extralaborales,"onUpdate:modelValue":a[40]||(a[40]=s=>e.fichaPreocupacional.actividades_extralaborales=s),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Enfermedad actual","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",Fs,[o("div",ws,[a[90]||(a[90]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(C,{modelValue:e.fichaPreocupacional.enfermedad_actual,"onUpdate:modelValue":a[41]||(a[41]=s=>e.fichaPreocupacional.enfermedad_actual=s),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Revisi\xF3n actual de \xF3rganos y sistemas","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",Ps,[o("div",As,[a[91]||(a[91]=o("div",{class:"text-grey-8 q-mb-md"},"(Opcional)",-1)),i(m,{configuracionColumnas:e.configuracionColumnasRevisionActualOrganoSistema,datos:e.listadosAuxiliares.revisiones_actuales_organos_sistemas,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell"},null,8,["configuracionColumnas","datos"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Constantes vitales y antropometr\xEDa","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",Rs,[i(r,{"constante-vital":e.fichaPreocupacional.constante_vital,disable:e.disabled,"onUpdate:modelValue":e.hidratarConstanteVital,validador:e.v$},null,8,["constante-vital","disable","onUpdate:modelValue","validador"])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Examen f\xEDsico regional","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",js,[i(V,{datos:e.fichaPreocupacional.examenes_fisicos_regionales,disable:e.disabled,"onUpdate:modelValue":e.hidratarExamenFisicoRegional},null,8,["datos","disable","onUpdate:modelValue"])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Aptitud m\xE9dica para el trabajo","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[i(n,{"aptitud-medica":e.fichaPreocupacional.aptitud_medica,disable:e.disabled,"onUpdate:modelValue":e.hidratarAptitudMedica},null,8,["aptitud-medica","disable","onUpdate:modelValue"])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Recomendaciones y/o tratamiento","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",ks,[o("div",Os,[a[92]||(a[92]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(C,{modelValue:e.fichaPreocupacional.recomendaciones_tratamiento,"onUpdate:modelValue":a[42]||(a[42]=s=>e.fichaPreocupacional.recomendaciones_tratamiento=s),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1})]),"custom-buttons":t(()=>[o("div",xs,[e.fichaPreocupacional.id&&e.mostrarDescargarPdf?(c(),Y(N,{key:0,class:"bg-white text-pink-10","no-caps":"",push:"",onClick:a[43]||(a[43]=s=>e.descargarPdf())},{default:t(()=>[i(X,{name:"bi-file-earmark-pdf",size:"xs",class:"q-mr-sm"}),a[93]||(a[93]=se(" Descargar PDF"))]),_:1})):L("",!0)])]),_:1},8,["mixin"])}var Ts=Ve($i,[["render",Ss]]);const Us=[{name:"examen",field:"examen",label:"Ex\xE1menes realizados",align:"left",sortable:!0},{name:"tiempo",field:"tiempo",label:"Tiempo(a\xF1os)",align:"left",sortable:!0,type:"number",editable:!0},{name:"resultado",field:"resultado",label:"Resultado",align:"left",sortable:!0,type:"text",editable:!0}],Ds=[{name:"organo",field:"organo",label:"Organo sistema",align:"left",sortable:!0},{name:"descripcion",field:"descripcion",label:"Descripci\xF3n",align:"left",sortable:!0,editable:!0}],ga=[{name:"empresa",field:"empresa",label:"Empresa",align:"left",sortable:!0,editable:!0},{name:"puesto_trabajo",field:"puesto_trabajo",label:"Puesto de trabajo",align:"left",sortable:!0,editable:!0},{name:"actividades",field:"actividades",label:"Actividades que desempe\xF1aba",align:"left",sortable:!0,editable:!0},{name:"tiempo_trabajo",field:"tiempo_trabajo",label:"Tiempo de trabajo(meses)",align:"left",type:"number",sortable:!0,editable:!0},{name:"observaciones",field:"observaciones",label:"Observaciones",align:"left",type:"text",sortable:!0,editable:!0}],Is=[{name:"tipo_habito_toxico",field:"tipo_habito_toxico",label:"Consumos nocivos",align:"left",sortable:!0},{name:"tiempo_consumo_meses",field:"tiempo_consumo_meses",label:"Tiempo de consumo(meses)",align:"left",sortable:!0,type:"number",editable:!0},{name:"cantidad",field:"cantidad",label:"Cantidad",align:"left",sortable:!0,type:"number",editable:!0},{name:"ex_consumidor",field:"ex_consumidor",label:"Ex consumidor",align:"left",sortable:!0,type:"boolean",editable:!0},{name:"tiempo_abstinencia_meses",field:"tiempo_abstinencia_meses",label:"Tiempo abstinencia(meses)",align:"left",sortable:!0,type:"number",editable:!0}],va=[{name:"puesto_trabajo",field:"puesto_trabajo",label:"Puesto de trabajo / \xC1rea",align:"left",sortable:!0,editable:!0},{name:"actividad",field:"actividad",label:"Actividades",align:"left",sortable:!0,editable:!0},{name:"medidas_preventivas",field:"medidas_preventivas",label:"Medidas preventivas",align:"left",sortable:!0,editable:!0}],Ms=[{name:"tipo_antecedente_familiar",field:"tipo_antecedente_familiar",label:"Antecedente familiar",align:"left",sortable:!0},{name:"descripcion",field:"descripcion",label:"Descripci\xF3n",align:"left",editable:!0},{name:"parentesco",field:"parentesco",label:"Parentesco",align:"left",editable:!0}],Bs=[{name:"nombre",field:"nombre",label:"Medicaci\xF3n habitual",align:"left",sortable:!0,editable:!0},{name:"cantidad",field:"cantidad",label:"Cantidad(unidad)",align:"left",sortable:!0,editable:!0,type:"number"}],Ns=[{name:"nombre_actividad",field:"nombre_actividad",label:"Actividad f\xEDsica",align:"left",sortable:!0,editable:!0},{name:"tiempo",field:"tiempo",label:"Tiempo(dia)",align:"left",sortable:!0,type:"number",editable:!0}];class Ls extends B{constructor(){super(U.fichas_periodicas_consultar_informacion_defecto)}}class Hs extends B{constructor(){super(U.tipos_antecedentes_familiares)}}class Gs extends B{constructor(){super(U.categorias_factores_riesgos)}}class zs extends B{constructor(){super(U.tipos_habitos_toxicos)}}class Qs extends B{constructor(){super(U.tipos_factores_riesgos)}}class Js extends B{constructor(){super(U.fichas_periodicas)}}class Ys extends B{constructor(){super(U.sistemas_organos)}}class Xs extends H{constructor(){super();l(this,"organo");l(this,"organo_id");l(this,"descripcion");l(this,"ficha_preocupacional");this.organo=null,this.organo_id=null,this.ficha_preocupacional=null,this.descripcion=null}}class Ks extends H{constructor(){super();l(this,"empresa");l(this,"puesto_trabajo");l(this,"actividades");l(this,"tiempo_trabajo");l(this,"observaciones");l(this,"tipos_riesgos_ids");l(this,"ficha_preocupacional");this.empresa=null,this.puesto_trabajo=null,this.actividades=null,this.tiempo_trabajo=null,this.observaciones=null,this.tipos_riesgos_ids=[],this.ficha_preocupacional=null}}class Ws extends H{constructor(){super();l(this,"tiempo_consumo_meses");l(this,"tiempo_abstinencia_meses");l(this,"ficha_preocupacional");l(this,"tipo_habito_toxico");l(this,"tipo_habito_toxico_id");l(this,"ex_consumidor");l(this,"cantidad");this.tiempo_consumo_meses=null,this.cantidad=null,this.ex_consumidor=!1,this.tipo_habito_toxico=null,this.tipo_habito_toxico_id=null,this.tiempo_abstinencia_meses=null,this.ficha_preocupacional=null}}class Zs extends H{constructor(){super();l(this,"puesto_trabajo");l(this,"actividad");l(this,"medidas_preventivas");l(this,"ficha_preocupacional");l(this,"detalle_categ_factor_riesgo_fr_puesto_trab_act");this.puesto_trabajo=null,this.actividad=null,this.medidas_preventivas=null,this.detalle_categ_factor_riesgo_fr_puesto_trab_act=[],this.ficha_preocupacional=null}}class el extends H{constructor(){super();l(this,"tipo_antecedente_familiar");l(this,"tipo_antecedente_familiar_id");l(this,"descripcion");l(this,"parentesco");this.tipo_antecedente_familiar=null,this.tipo_antecedente_familiar_id=null,this.descripcion=null,this.parentesco=null}}class al extends H{constructor(){super();l(this,"nombre");l(this,"cantidad");this.nombre=null,this.cantidad=null}}class ol extends H{constructor(){super();l(this,"nombre_actividad");l(this,"tiempo");this.nombre_actividad=null,this.tiempo=null}}class il extends H{constructor(){super();l(this,"menarquia");l(this,"ciclos");l(this,"fecha_ultima_menstruacion");l(this,"gestas");l(this,"partos");l(this,"cesareas");l(this,"abortos");this.menarquia=null,this.ciclos=null,this.fecha_ultima_menstruacion=null,this.gestas=null,this.partos=null,this.cesareas=null,this.abortos=null}}class sl extends H{constructor(){super();l(this,"antecedentes_quirurgicos");l(this,"vida_sexual_activa");l(this,"tiene_metodo_planificacion_familiar");l(this,"tipo_metodo_planificacion_familiar");l(this,"hijos_vivos");l(this,"hijos_muertos");l(this,"ficha_preocupacional");this.vida_sexual_activa=!1,this.antecedentes_quirurgicos=null,this.tiene_metodo_planificacion_familiar=!1,this.tipo_metodo_planificacion_familiar=null,this.hijos_vivos=null,this.hijos_muertos=null,this.ficha_preocupacional=null}}class ll extends Ye{constructor(){super();l(this,"numero_archivo");l(this,"registro_empleado_examen");l(this,"religion");l(this,"orientacion_sexual");l(this,"cargo");l(this,"identidad_genero");l(this,"lateralidad");l(this,"motivo_consulta");l(this,"antecedentes_gineco_obstetricos");l(this,"antecedente_personal");l(this,"habitos_toxicos");l(this,"actividades_fisicas");l(this,"medicaciones");l(this,"antecedentes_empleos_anteriores");l(this,"antecedentes_familiares");l(this,"fr_puestos_trabajos_actuales");l(this,"actividades_extralaborales");l(this,"enfermedad_actual");l(this,"revisiones_actuales_organos_sistemas");l(this,"antecedentes_clinicos_quirurgicos");l(this,"examenes_realizados");l(this,"recomendaciones_tratamiento");l(this,"aptitud_medica");l(this,"incidentes");this.numero_archivo=null,this.registro_empleado_examen=null,this.religion=null,this.orientacion_sexual=null,this.identidad_genero=null,this.cargo=null,this.lateralidad=null,this.motivo_consulta=null,this.antecedentes_gineco_obstetricos=new il,this.antecedente_personal=new sl,this.habitos_toxicos=[],this.actividades_fisicas=[],this.medicaciones=[],this.antecedentes_empleos_anteriores=[],this.antecedentes_familiares=[],this.fr_puestos_trabajos_actuales=[],this.actividades_extralaborales=null,this.enfermedad_actual=null,this.revisiones_actuales_organos_sistemas=[],this.antecedentes_clinicos_quirurgicos=null,this.examenes_realizados=[],this.recomendaciones_tratamiento=null,this.aptitud_medica=new ua,this.incidentes=null}}var tl=fe({name:"fichas_periodicas",components:{SimpleLayout:Ce,EssentialTable:ye,ContantesVitales:Ge,AptitudMedicaTrabajo:Je,ExamenFisicoRegionalComponent:Qe},setup(e,{emit:a}){var Ie,Me;const p=he(),w=Oe(),{confirmar:q}=je(),$=M(va),m=M(ga),r=M(!1),V=M(!1),n=new Zs,{notificarAdvertencia:b}=je(),s=M(),D=new Ls,Q=new qe(ll,new Js),{entidad:g,listadosAuxiliares:u,disabled:R,accion:W}=Q.useReferencias(),{setValidador:ie,cargarVista:K,obtenerListados:ee,consultar:A,editarParcial:O,listar:F}=Q.useComportamiento(),{onBeforeGuardar:k,onReestablecer:x,onConsultado:S,onGuardado:oe}=Q.useHooks();K(async()=>{await ee({tiposHabitosToxicos:new zs,tiposAntecedentesFamiliares:new Hs,categoriasFactoresRiesgos:new Gs,tiposFactoresRiesgos:new Qs,sistemasOrganos:new Ys,cargos:{controller:new ze,params:{estado:1}},antecedentes_familiares:[],habitos_toxicos:[],revisiones_actuales_organos_sistemas:[],examenes_realizados:[]}),u.habitos_toxicos=u.tiposHabitosToxicos.map(f=>{const y=new Ws;return y.tipo_habito_toxico=f.nombre,y.tipo_habito_toxico_id=f.id,y}),u.antecedentes_familiares=u.tiposAntecedentesFamiliares.map(f=>{const y=new el;return y.tipo_antecedente_familiar=f.nombre,y.tipo_antecedente_familiar_id=f.id,y}),u.revisiones_actuales_organos_sistemas=u.sistemasOrganos.map(f=>{const y=new Xs;return y.organo=f.nombre,y.organo_id=f.id,y}),sa(),la(),p.idFichaPeriodica&&A({id:p.idFichaPeriodica})});const v={titulo:"",icono:"bi-x",color:"negative",accion:({posicion:f})=>q("\xBFEst\xE1 seguro de continuar?",()=>{var y;return(y=g.actividades_fisicas)==null?void 0:y.splice(f,1)})},I={titulo:"",icono:"bi-x",color:"negative",accion:({posicion:f})=>q("\xBFEst\xE1 seguro de continuar?",()=>{var y;return(y=g.medicaciones)==null?void 0:y.splice(f,1)})},ue={titulo:"",icono:"bi-x",color:"negative",accion:({posicion:f})=>q("\xBFEst\xE1 seguro de continuar?",()=>{var y;return(y=g.fr_puestos_trabajos_actuales)==null?void 0:y.splice(f,1)})},{cargos:Fe,filtrarCargos:we}=Re(u),Pe=()=>{var y;if(g.actividades_fisicas.length>0)return b("Solo puede ingresar un m\xE1ximo de una actividad");const f=new ol;f.id=(y=g.actividades_fisicas)!=null&&y.length?Ee(g.actividades_fisicas)+1:1,g.actividades_fisicas.push(f)},Xe=()=>{var y;if(g.medicaciones.length>2)return b("Solo puede ingresar un m\xE1ximo de tres medicamentos");const f=new al;f.id=(y=g.medicaciones)!=null&&y.length?Ee(g.medicaciones)+1:1,g.medicaciones.push(f)},Ke=()=>{var y;const f=JSON.parse(JSON.stringify(n));f.id=(y=g.fr_puestos_trabajos_actuales)!=null&&y.length?Ee(g.fr_puestos_trabajos_actuales)+1:1,g.fr_puestos_trabajos_actuales.push(f)},We=(f,y)=>y.reduce((P,le)=>f[le]?[...P,...f[le]]:P,[]),Ze=async()=>{const{response:f}=await D.listar({registro_empleado_examen_id:p.idRegistroEmpleadoExamen});g.motivo_consulta=f.data.modelo.motivo_consulta,g.cargo=f.data.modelo.cargo,g.recomendaciones_tratamiento=f.data.modelo.recomendaciones_tratamiento,g.enfermedad_actual=f.data.modelo.enfermedad_actual},ea=async()=>{const f=xe.getInstance(),y=Se.URL_BASE+"/"+f.getEndpoint(U.fichas_periodicas_imprimir)+"/"+g.id,P="ficha_periodica_"+g.id+"_"+Date.now();Te(y,"GET","blob","pdf",P)},aa=f=>g.constante_vital.hydrate(f),oa=f=>g.aptitud_medica.hydrate(f),ia=f=>s.value=f,sa=async()=>{$.value=[...va],await u.tiposFactoresRiesgos.forEach(f=>{var y,P,le;$.value.push({name:(y=f.nombre)!=null?y:"",field:(P=f.nombre)!=null?P:"",label:(le=f.nombre)!=null?le:"",align:"left",sortable:!0,type:"select_multiple",editable:!0,options:u.categoriasFactoresRiesgos.filter(te=>te.tipo_factor_riesgo===f.id).map(te=>({label:te.nombre,value:te.id}))})}),r.value=!0},la=()=>{u.tiposFactoresRiesgos.forEach(f=>{var y;n[(y=f.nombre)!=null?y:""]=null})};k(()=>{var y;g.registro_empleado_examen=(y=p.idRegistroEmpleadoExamen)!=null?y:null,g.examenes_fisicos_regionales=s.value,g.antecedentes_familiares=[...u.antecedentes_familiares.filter(P=>P.descripcion)],g.examenes_realizados=u.examenes_realizados.filter(P=>P.tiempo||P.resultado).map(P=>(P.examen_id=P.examen_id,P));const f=u.tiposFactoresRiesgos.map(P=>P.nombre);g.fr_puestos_trabajos_actuales=g.fr_puestos_trabajos_actuales.map(P=>(P.detalle_categ_factor_riesgo_fr_puesto_trab_act=We(P,f),P)),g.revisiones_actuales_organos_sistemas=u.revisiones_actuales_organos_sistemas.filter(P=>P.descripcion).map(P=>({organo_id:P.organo_id,descripcion:P.descripcion})),g.habitos_toxicos=u.habitos_toxicos.filter(P=>P.cantidad||P.tiempo_consumo_meses||P.tiempo_abstinencia_meses),g.antecedentes_empleos_anteriores=g.antecedentes_empleos_anteriores.map(P=>{const le=[],te=new Ks;for(const d in P)if(P.hasOwnProperty(d)&&!["id","created_at","updated_at"].includes(d)){const _=P[d];typeof _=="boolean"&&_?le.push(parseInt(d)):te[d]=_}return te.tipos_riesgos_ids=le.length?le:[],te}),console.log(g.antecedentes_empleos_anteriores)}),x(()=>{g.numero_archivo=w.user.identificacion,a("cerrar-modal")}),S(()=>{W.value=pe.consultar,u.habitos_toxicos=g.habitos_toxicos,u.revisiones_actuales_organos_sistemas=u.revisiones_actuales_organos_sistemas.map(f=>{console.log(f);const y=g.revisiones_actuales_organos_sistemas.find(P=>P.organo_id===f.organo_id);return y&&(f.descripcion=y.descripcion),f}),u.antecedentes_familiares=u.antecedentes_familiares.map(f=>{const y=g.antecedentes_familiares.find(P=>P.tipo_antecedente_familiar_id===f.tipo_antecedente_familiar_id);return y&&(f.descripcion=y.descripcion,f.parentesco=y.parentesco),f}),g.antecedentes_empleos_anteriores=g.antecedentes_empleos_anteriores.map(f=>{var le;const y=(le=f.tipos_riesgos_ids)==null?void 0:le.reduce((te,d)=>(te[d.toString()]=!0,te),{}),P={...f,...y};return delete P.tipos_riesgos_ids,P})}),oe(f=>p.idFichaPeriodica=f);const De=Ue({cargo:{required:E},constante_vital:{presion_arterial:{required:E},temperatura:{required:E},frecuencia_cardiaca:{required:E},saturacion_oxigeno:{required:E},frecuencia_respiratoria:{required:E},peso:{required:E},talla:{required:E},indice_masa_corporal:{required:E},perimetro_abdominal:{required:E}}},g);return ie(De.value),Ze(),g.numero_archivo=w.user.identificacion,{v$:De,mixin:Q,disabled:R,fichaPeriodica:g,listadosAuxiliares:u,tipos_sangre:Ca,maskFecha:Ae,configuracionColumnasResultadoExamenPreocupacional:Us,configuracionColumnasResultadoHabitoToxico:Is,configuracionColumnasActividadFisica:Ns,configuracionColumnasMedicacionHabitual:Bs,configuracionColumnasAntecedenteTrabajoAnterior:ga,configuracionColumnasAntecedenteFamiliar:Ms,configuracionColumnasFrPuestoTrabajoActualReactive:$,configuracionColumnasRevisionActualOrganoSistema:Ds,insertarFilaActividadFisica:Pe,insertarFilaMedicacionHabitual:Xe,mapearOptionsSelect:He,cargos:Fe,filtrarCargos:we,hidratarConstanteVital:aa,hidratarAptitudMedica:oa,hidratarExamenFisicoRegional:ia,descargarPdf:ea,insertarFilaFrPuestoTrabajoActualReactive:Ke,btnEliminarActividadFisica:v,btnEliminarMedicacionHabitual:I,btnEliminarFrPuestoTrabajoActual:ue,accionesTabla:Ne,mostrarTablaFrPuestoTrabajoActualReactive:r,mostrarTablaAntecedenteTrabajoAnteriorReactive:V,configuracionColumnasAntecedenteTrabajoAnteriorReactive:m,mostrarMasculino:((Ie=p.empleado)==null?void 0:Ie.genero)==="M",mostrarFemenino:((Me=p.empleado)==null?void 0:Me.genero)==="F",mostrarDescargarPdf:w.esMedico}}});const nl={class:"row q-col-gutter-x-sm q-pa-md"},rl={class:"col-12 col-md-3 col-sm-3"},dl={class:"error-msg"},cl={class:"row q-col-gutter-x-sm q-pa-md"},ul={class:"col-12"},ml={class:"row q-col-gutter-x-sm q-pa-md"},pl={class:"col-12 q-mb-md"},bl={class:"col-12 q-mb-md"},fl={class:"col-12 q-mb-md"},_l={class:"col-12 q-mb-md"},gl={class:"col-12 q-mb-md"},vl={class:"row q-col-gutter-x-sm q-pa-md"},hl={class:"col-12 col-md-6 q-mb-md"},ql={class:"q-gutter-sm"},Vl={key:0,class:"col-12 col-md-6 q-mb-md"},Cl={class:"col-12 col-md-6 q-mb-md"},$l={class:"row items-center justify-end"},El={class:"col-12 col-md-6 q-mb-md"},yl={class:"col-12 col-md-6 q-mb-md"},Fl={class:"q-gutter-sm"},wl={key:1,class:"col-12 col-md-6 q-mb-md"},Pl={class:"col-12 col-md-6 q-mb-md"},Al={class:"row items-center justify-end"},Rl={class:"col-12 col-md-6 q-mb-md"},jl={class:"row q-col-gutter-x-sm q-pa-md"},kl={class:"col-12 q-mb-md"},Ol={class:"row q-col-gutter-x-sm q-pa-md"},xl={class:"col-12 q-mb-md"},Sl={class:"row q-col-gutter-x-sm q-pa-md"},Tl={class:"col-12 q-mb-md"},Ul={class:"q-pa-md"},Dl={class:"q-pa-md"},Il={class:"row q-gutter-x-xs"};function Ml(e,a,p,w,q,$){const m=G("essential-table"),r=G("contantes-vitales"),V=G("examen-fisico-regional-component"),n=G("aptitud-medica-trabajo"),b=G("simple-layout");return c(),Y(b,{mixin:e.mixin},{formulario:t(()=>[i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Datos del usuario","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",nl,[o("div",rl,[a[20]||(a[20]=o("label",{class:"q-mb-sm block"},"Cargo",-1)),i(ve,{modelValue:e.fichaPeriodica.cargo,"onUpdate:modelValue":a[0]||(a[0]=s=>e.fichaPeriodica.cargo=s),options:e.cargos,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","use-input":"","input-debounce":"0",onBlur:e.v$.cargo.$touch,onFilter:e.filtrarCargos,error:!!e.v$.cargo.$errors.length,"error-message":"Debes seleccionar un cargo","option-value":s=>s.id,"option-label":s=>s.nombre,"emit-value":"","map-options":""},{error:t(()=>[(c(!0),h(z,null,J(e.v$.cargo.$errors,s=>(c(),h("div",{key:s.$uid},[o("div",dl,ae(s.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","onBlur","onFilter","error","option-value","option-label"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Motivo de consulta","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",cl,[o("div",ul,[a[21]||(a[21]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(C,{modelValue:e.fichaPeriodica.motivo_consulta,"onUpdate:modelValue":a[1]||(a[1]=s=>e.fichaPeriodica.motivo_consulta=s),placeholder:"Anotar la causa del problema en la versi\xF3n del informante",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Antecedentes personales","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",ml,[a[29]||(a[29]=o("div",{class:"text-bold q-mb-md"}," ANTECEDENTES CL\xCDNICOS Y QUIR\xDARGICOS ",-1)),o("div",pl,[a[22]||(a[22]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(C,{modelValue:e.fichaPeriodica.antecedentes_clinicos_quirurgicos,"onUpdate:modelValue":a[2]||(a[2]=s=>e.fichaPeriodica.antecedentes_clinicos_quirurgicos=s),placeholder:"Anotar la causa del problema en la versi\xF3n del informante",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),a[30]||(a[30]=o("div",{class:"col-12 text-bold q-mb-md"},"H\xC1BITOS T\xD3XICOS",-1)),o("div",bl,[a[23]||(a[23]=o("div",{class:"text-grey-8 q-mb-md"},"(Opcional)",-1)),i(m,{configuracionColumnas:e.configuracionColumnasResultadoHabitoToxico,datos:e.listadosAuxiliares.habitos_toxicos,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,grid:!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell"},null,8,["configuracionColumnas","datos"])]),a[31]||(a[31]=o("div",{class:"text-bold q-mb-md"},"INCIDENTES",-1)),o("div",fl,[a[24]||(a[24]=o("label",{class:"q-mb-sm block"},"Describir los principale incidentes suscitados",-1)),i(C,{modelValue:e.fichaPeriodica.incidentes,"onUpdate:modelValue":a[3]||(a[3]=s=>e.fichaPeriodica.incidentes=s),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),a[32]||(a[32]=o("div",{class:"col-12 text-bold q-mb-md"},"ESTILO DE VIDA",-1)),o("div",_l,[i(N,{color:"primary",class:"q-mb-sm q-mr-sm",icon:"bi-arrow-down",disable:e.disabled,"no-caps":"",unelevated:"",onClick:a[4]||(a[4]=s=>e.insertarFilaActividadFisica())},{default:t(()=>a[25]||(a[25]=[se("Insertar fila")])),_:1},8,["disable"]),a[26]||(a[26]=o("span",{class:"text-grey-8"},"(Inserte un m\xE1ximo de 1 fila) (Opcional)",-1)),i(m,{configuracionColumnas:[...e.configuracionColumnasActividadFisica,e.accionesTabla],datos:e.fichaPeriodica.actividades_fisicas,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell",accion1:e.btnEliminarActividadFisica},null,8,["configuracionColumnas","datos","accion1"])]),o("div",gl,[i(N,{color:"primary",class:"q-mb-sm q-mr-sm",icon:"bi-arrow-down",disable:e.disabled,"no-caps":"",unelevated:"",onClick:a[5]||(a[5]=s=>e.insertarFilaMedicacionHabitual())},{default:t(()=>a[27]||(a[27]=[se("Insertar fila")])),_:1},8,["disable"]),a[28]||(a[28]=o("span",{class:"text-grey-8"},"(Inserte un m\xE1ximo de 3 filas) (Opcional)",-1)),i(m,{configuracionColumnas:[...e.configuracionColumnasMedicacionHabitual,e.accionesTabla],datos:e.fichaPeriodica.medicaciones,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell",accion1:e.btnEliminarMedicacionHabitual},null,8,["configuracionColumnas","datos","accion1"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Antecedentes de trabajo","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",vl,[a[41]||(a[41]=o("div",{class:"col-12 text-bold q-mb-md"}," ACCIDENTES DE TRABAJO (DESCRIPCI\xD3N) ",-1)),o("div",hl,[a[33]||(a[33]=o("label",{class:"q-mb-sm block"},"Fue calificado por el Instituto de Seguridad Social correspondiente",-1)),o("div",ql,[i(Z,{modelValue:e.fichaPeriodica.accidente_trabajo.calificado_iss,"onUpdate:modelValue":a[6]||(a[6]=s=>e.fichaPeriodica.accidente_trabajo.calificado_iss=s),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(Z,{modelValue:e.fichaPeriodica.accidente_trabajo.calificado_iss,"onUpdate:modelValue":a[7]||(a[7]=s=>e.fichaPeriodica.accidente_trabajo.calificado_iss=s),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])]),e.fichaPeriodica.accidente_trabajo.calificado_iss?(c(),h("div",Vl,[a[34]||(a[34]=o("label",{class:"q-mb-sm block"},"Especificar",-1)),i(C,{modelValue:e.fichaPeriodica.accidente_trabajo.instituto_seguridad_social,"onUpdate:modelValue":a[8]||(a[8]=s=>e.fichaPeriodica.accidente_trabajo.instituto_seguridad_social=s),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):L("",!0),o("div",Cl,[a[35]||(a[35]=o("label",{class:"q-mb-sm block"},"Fecha",-1)),i(C,{modelValue:e.fichaPeriodica.accidente_trabajo.fecha,"onUpdate:modelValue":a[10]||(a[10]=s=>e.fichaPeriodica.accidente_trabajo.fecha=s),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:t(()=>[i(X,{name:"event",class:"cursor-pointer"},{default:t(()=>[i(re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[i(de,{modelValue:e.fichaPeriodica.accidente_trabajo.fecha,"onUpdate:modelValue":a[9]||(a[9]=s=>e.fichaPeriodica.accidente_trabajo.fecha=s),mask:e.maskFecha,"today-btn":""},{default:t(()=>[o("div",$l,[ne(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[ce]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",El,[a[36]||(a[36]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(C,{modelValue:e.fichaPeriodica.accidente_trabajo.observacion,"onUpdate:modelValue":a[11]||(a[11]=s=>e.fichaPeriodica.accidente_trabajo.observacion=s),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),a[42]||(a[42]=o("div",{class:"col-12 text-bold q-mb-md"}," ENFERMEDADES PROFESIONALES (DESCRIPCI\xD3N) ",-1)),o("div",yl,[a[37]||(a[37]=o("label",{class:"q-mb-sm block"},"Fue calificado por el Instituto de Seguridad Social correspondiente",-1)),o("div",Fl,[i(Z,{modelValue:e.fichaPeriodica.enfermedad_profesional.calificado_iss,"onUpdate:modelValue":a[12]||(a[12]=s=>e.fichaPeriodica.enfermedad_profesional.calificado_iss=s),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(Z,{modelValue:e.fichaPeriodica.enfermedad_profesional.calificado_iss,"onUpdate:modelValue":a[13]||(a[13]=s=>e.fichaPeriodica.enfermedad_profesional.calificado_iss=s),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])]),e.fichaPeriodica.enfermedad_profesional.calificado_iss?(c(),h("div",wl,[a[38]||(a[38]=o("label",{class:"q-mb-sm block"},"Especificar",-1)),i(C,{modelValue:e.fichaPeriodica.enfermedad_profesional.instituto_seguridad_social,"onUpdate:modelValue":a[14]||(a[14]=s=>e.fichaPeriodica.enfermedad_profesional.instituto_seguridad_social=s),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):L("",!0),o("div",Pl,[a[39]||(a[39]=o("label",{class:"q-mb-sm block"},"Fecha",-1)),i(C,{modelValue:e.fichaPeriodica.enfermedad_profesional.fecha,"onUpdate:modelValue":a[16]||(a[16]=s=>e.fichaPeriodica.enfermedad_profesional.fecha=s),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:t(()=>[i(X,{name:"event",class:"cursor-pointer"},{default:t(()=>[i(re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[i(de,{modelValue:e.fichaPeriodica.enfermedad_profesional.fecha,"onUpdate:modelValue":a[15]||(a[15]=s=>e.fichaPeriodica.enfermedad_profesional.fecha=s),mask:e.maskFecha,"today-btn":""},{default:t(()=>[o("div",Al,[ne(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[ce]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",Rl,[a[40]||(a[40]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(C,{modelValue:e.fichaPeriodica.enfermedad_profesional.observacion,"onUpdate:modelValue":a[17]||(a[17]=s=>e.fichaPeriodica.enfermedad_profesional.observacion=s),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Antecedentes familiares (Detallar parentesco)","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",jl,[o("div",kl,[a[43]||(a[43]=o("div",{class:"text-grey-8 q-mb-md"},"(Opcional)",-1)),i(m,{configuracionColumnas:e.configuracionColumnasAntecedenteFamiliar,datos:e.listadosAuxiliares.antecedentes_familiares,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell"},null,8,["configuracionColumnas","datos"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Factores de riesgo del puesto de trabajo actual","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",Ol,[o("div",xl,[i(N,{color:"primary",class:"q-mb-sm q-mr-sm",icon:"bi-arrow-down","no-caps":"",unelevated:"",onClick:a[18]||(a[18]=s=>e.insertarFilaFrPuestoTrabajoActualReactive())},{default:t(()=>a[44]||(a[44]=[se("Insertar fila")])),_:1}),a[45]||(a[45]=o("span",{class:"text-grey-8"},"(Opcional)",-1)),e.mostrarTablaFrPuestoTrabajoActualReactive?(c(),Y(m,{key:0,configuracionColumnas:[...e.configuracionColumnasFrPuestoTrabajoActualReactive,e.accionesTabla],datos:e.fichaPeriodica.fr_puestos_trabajos_actuales,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!1,separador:"cell",accion1:e.btnEliminarFrPuestoTrabajoActual},null,8,["configuracionColumnas","datos","accion1"])):L("",!0)])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Revisi\xF3n actual de \xF3rganos y sistemas","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",Sl,[o("div",Tl,[a[46]||(a[46]=o("div",{class:"text-grey-8 q-mb-md"},"(Opcional)",-1)),i(m,{configuracionColumnas:e.configuracionColumnasRevisionActualOrganoSistema,datos:e.listadosAuxiliares.revisiones_actuales_organos_sistemas,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,"mostrar-footer":!1,"alto-fijo":!1,ajustarCeldas:!0,separador:"cell"},null,8,["configuracionColumnas","datos"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Constantes vitales y antropometr\xEDa","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",Ul,[i(r,{"constante-vital":e.fichaPeriodica.constante_vital,disable:e.disabled,"onUpdate:modelValue":e.hidratarConstanteVital,validador:e.v$},null,8,["constante-vital","disable","onUpdate:modelValue","validador"])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Examen f\xEDsico regional","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",Dl,[i(V,{datos:e.fichaPeriodica.examenes_fisicos_regionales,disable:e.disabled,"onUpdate:modelValue":e.hidratarExamenFisicoRegional},null,8,["datos","disable","onUpdate:modelValue"])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Aptitud m\xE9dica para el trabajo","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[i(n,{"aptitud-medica":e.fichaPeriodica.aptitud_medica,disable:e.disabled,"onUpdate:modelValue":e.hidratarAptitudMedica},null,8,["aptitud-medica","disable","onUpdate:modelValue"])]),_:1})]),"custom-buttons":t(()=>[o("div",Il,[e.fichaPeriodica.id&&e.mostrarDescargarPdf?(c(),Y(N,{key:0,class:"bg-white text-pink-10","no-caps":"",push:"",onClick:a[19]||(a[19]=s=>e.descargarPdf())},{default:t(()=>[i(X,{name:"bi-file-earmark-pdf",size:"xs",class:"q-mr-sm"}),a[47]||(a[47]=se(" Descargar PDF"))]),_:1})):L("",!0)])]),_:1},8,["mixin"])}var Bl=Ve(tl,[["render",Ml]]);class Nl extends Ye{constructor(){super();l(this,"fecha_ultimo_dia_laboral");l(this,"fecha_reingreso");l(this,"causa_salida");this.fecha_ultimo_dia_laboral=null,this.fecha_reingreso=null,this.causa_salida=null}}class Ll extends B{constructor(){super(U.fichas_reintegro_consultar_informacion_defecto)}}class Hl extends B{constructor(){super(U.fichas_reintegro)}}var Gl=fe({name:"fichas_periodicas",components:{SimpleLayout:Ce,EssentialTable:ye,ContantesVitales:Ge,AptitudMedicaTrabajo:Je,ExamenFisicoRegionalComponent:Qe},setup(e,{emit:a}){const p=he(),w=Oe(),q=M(),$=new Ll,m=new qe(Nl,new Hl),{entidad:r,listadosAuxiliares:V,disabled:n,accion:b}=m.useReferencias(),{setValidador:s,cargarVista:D,obtenerListados:Q,consultar:g}=m.useComportamiento(),{onBeforeGuardar:u,onReestablecer:R,onConsultado:W,onGuardado:ie}=m.useHooks();D(async()=>{await Q({cargos:{controller:new ze,params:{estado:1}}}),p.idFichaReintegro?g({id:p.idFichaReintegro}):A()});const{cargos:K,filtrarCargos:ee}=Re(V),A=async()=>{const{response:v}=await $.listar({registro_empleado_examen_id:p.idRegistroEmpleadoExamen});r.motivo_consulta=v.data.modelo.motivo_consulta,r.cargo=v.data.modelo.cargo,r.fecha_reingreso=v.data.modelo.fecha_reingreso,r.fecha_ultimo_dia_laboral=v.data.modelo.fecha_ultimo_dia_laboral},O=async()=>{const v=xe.getInstance(),I=Se.URL_BASE+"/"+v.getEndpoint(U.fichas_reintegro_imprimir)+"/"+r.id,ue="ficha_reintegro_"+r.id+"_"+Date.now();Te(I,"GET","blob","pdf",ue)},F=v=>r.constante_vital.hydrate(v),k=v=>r.aptitud_medica.hydrate(v),x=v=>q.value=v;u(()=>{var v;r.registro_empleado_examen=(v=p.idRegistroEmpleadoExamen)!=null?v:null,r.examenes_fisicos_regionales=q.value}),R(()=>{a("cerrar-modal")}),W(()=>{b.value=pe.consultar}),ie(v=>p.idFichaReintegro=v);const oe=Ue({causa_salida:{required:E},cargo:{required:E},constante_vital:{presion_arterial:{required:E},temperatura:{required:E},frecuencia_cardiaca:{required:E},saturacion_oxigeno:{required:E},frecuencia_respiratoria:{required:E},peso:{required:E},talla:{required:E},indice_masa_corporal:{required:E},perimetro_abdominal:{required:E}}},r);return s(oe.value),{mixin:m,disabled:n,fichaReintegro:r,listadosAuxiliares:V,v$:oe,maskFecha:Ae,accionesTabla:Ne,cargos:K,filtrarCargos:ee,mapearOptionsSelect:He,descargarPdf:O,hidratarConstanteVital:F,hidratarAptitudMedica:k,hidratarExamenFisicoRegional:x,mostrarDescargarPdf:w.esMedico}}});const zl={class:"row q-col-gutter-x-sm q-pa-md"},Ql={class:"col-12 col-md-3 col-sm-3"},Jl={class:"error-msg"},Yl={class:"col-12 col-md-3 q-mb-md"},Xl={class:"row items-center justify-end"},Kl={class:"col-12 col-md-3 q-mb-md"},Wl={class:"row items-center justify-end"},Zl={class:"col-12 col-md-3 q-mb-md"},et={class:"error-msg"},at={class:"row q-col-gutter-x-sm q-pa-md"},ot={class:"col-12"},it={class:"q-pa-md"},st={class:"q-pa-md"},lt={class:"row q-gutter-x-xs"};function tt(e,a,p,w,q,$){const m=G("contantes-vitales"),r=G("examen-fisico-regional-component"),V=G("aptitud-medica-trabajo"),n=G("simple-layout");return c(),Y(n,{mixin:e.mixin},{formulario:t(()=>[i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Datos del usuario","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",zl,[o("div",Ql,[a[8]||(a[8]=o("label",{class:"q-mb-sm block"},"Cargo",-1)),i(ve,{modelValue:e.fichaReintegro.cargo,"onUpdate:modelValue":a[0]||(a[0]=b=>e.fichaReintegro.cargo=b),options:e.cargos,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","use-input":"","input-debounce":"0",onFilter:e.filtrarCargos,onBlur:e.v$.cargo.$touch,error:!!e.v$.cargo.$errors.length,"error-message":"Debes seleccionar un cargo","option-value":b=>b.id,"option-label":b=>b.nombre,"emit-value":"","map-options":""},{error:t(()=>[(c(!0),h(z,null,J(e.v$.cargo.$errors,b=>(c(),h("div",{key:b.$uid},[o("div",Jl,ae(b.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","onFilter","onBlur","error","option-value","option-label"])]),o("div",Yl,[a[9]||(a[9]=o("label",{class:"q-mb-sm block"},"Fecha del \xFAltimo d\xEDa laboral",-1)),i(C,{modelValue:e.fichaReintegro.fecha_ultimo_dia_laboral,"onUpdate:modelValue":a[2]||(a[2]=b=>e.fichaReintegro.fecha_ultimo_dia_laboral=b),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:t(()=>[i(X,{name:"event",class:"cursor-pointer"},{default:t(()=>[i(re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[i(de,{modelValue:e.fichaReintegro.fecha_ultimo_dia_laboral,"onUpdate:modelValue":a[1]||(a[1]=b=>e.fichaReintegro.fecha_ultimo_dia_laboral=b),mask:e.maskFecha,"today-btn":""},{default:t(()=>[o("div",Xl,[ne(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[ce]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",Kl,[a[10]||(a[10]=o("label",{class:"q-mb-sm block"},"Fecha de reingreso",-1)),i(C,{modelValue:e.fichaReintegro.fecha_reingreso,"onUpdate:modelValue":a[4]||(a[4]=b=>e.fichaReintegro.fecha_reingreso=b),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:t(()=>[i(X,{name:"event",class:"cursor-pointer"},{default:t(()=>[i(re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[i(de,{modelValue:e.fichaReintegro.fecha_reingreso,"onUpdate:modelValue":a[3]||(a[3]=b=>e.fichaReintegro.fecha_reingreso=b),mask:e.maskFecha,"today-btn":""},{default:t(()=>[o("div",Wl,[ne(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[ce]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",Zl,[a[11]||(a[11]=o("label",{class:"q-mb-sm block"},"Causa de salida",-1)),i(C,{modelValue:e.fichaReintegro.causa_salida,"onUpdate:modelValue":a[5]||(a[5]=b=>e.fichaReintegro.causa_salida=b),placeholder:"Obligatorio",disable:e.disabled,outlined:"",dense:"",onBlur:e.v$.causa_salida.$touch,error:!!e.v$.causa_salida.$errors.length},{error:t(()=>[(c(!0),h(z,null,J(e.v$.causa_salida.$errors,b=>(c(),h("div",{key:b.$uid},[o("div",et,ae(b.$message),1)]))),128))]),_:1},8,["modelValue","disable","onBlur","error"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Motivo de consulta","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",at,[o("div",ot,[a[12]||(a[12]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(C,{modelValue:e.fichaReintegro.motivo_consulta,"onUpdate:modelValue":a[6]||(a[6]=b=>e.fichaReintegro.motivo_consulta=b),placeholder:"Anotar la causa del problema en la versi\xF3n del informante",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Constantes vitales y antropometr\xEDa","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",it,[i(m,{"constante-vital":e.fichaReintegro.constante_vital,disable:e.disabled,"onUpdate:modelValue":e.hidratarConstanteVital,validador:e.v$},null,8,["constante-vital","disable","onUpdate:modelValue","validador"])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Examen f\xEDsico regional","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",st,[i(r,{datos:e.fichaReintegro.examenes_fisicos_regionales,disable:e.disabled,"onUpdate:modelValue":e.hidratarExamenFisicoRegional},null,8,["datos","disable","onUpdate:modelValue"])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Aptitud m\xE9dica para el trabajo","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[i(V,{"aptitud-medica":e.fichaReintegro.aptitud_medica,disable:e.disabled,"onUpdate:modelValue":e.hidratarAptitudMedica},null,8,["aptitud-medica","disable","onUpdate:modelValue"])]),_:1})]),"custom-buttons":t(()=>[o("div",lt,[e.fichaReintegro.id&&e.mostrarDescargarPdf?(c(),Y(N,{key:0,class:"bg-white text-pink-10","no-caps":"",push:"",onClick:a[7]||(a[7]=b=>e.descargarPdf())},{default:t(()=>[i(X,{name:"bi-file-earmark-pdf",size:"xs",class:"q-mr-sm"}),a[13]||(a[13]=se(" Descargar PDF"))]),_:1})):L("",!0)])]),_:1},8,["mixin"])}var nt=Ve(Gl,[["render",tt]]);class rt extends B{constructor(){super(U.fichas_retiro_consultar_informacion_defecto)}}class dt extends Ye{constructor(){super();l(this,"fecha_inicio_labores");l(this,"fecha_salida");l(this,"antecedentes_clinicos_quirurgicos");l(this,"se_realizo_evaluacion_medica_retiro");l(this,"observacion_evaluacion_medica_retiro");this.fecha_inicio_labores=null,this.fecha_salida=null,this.antecedentes_clinicos_quirurgicos=null,this.se_realizo_evaluacion_medica_retiro=!0,this.observacion_evaluacion_medica_retiro=null}}class ct extends B{constructor(){super(U.fichas_retiros)}}var ut=fe({name:"fichas_retiros",components:{SimpleLayout:Ce,EssentialTable:ye,ContantesVitales:Ge,AptitudMedicaTrabajo:Je,ExamenFisicoRegionalComponent:Qe},setup(e,{emit:a}){const p=he(),w=Oe(),q=M(),$=new rt,m=new qe(dt,new ct),{entidad:r,listadosAuxiliares:V,disabled:n,accion:b}=m.useReferencias(),{setValidador:s,cargarVista:D,obtenerListados:Q,consultar:g}=m.useComportamiento(),{onBeforeGuardar:u,onReestablecer:R,onConsultado:W,onGuardado:ie}=m.useHooks();D(async()=>{await Q({cargos:{controller:new ze,params:{estado:1}}}),p.idFichaRetiro?g({id:p.idFichaRetiro}):A()});const{cargos:K,filtrarCargos:ee}=Re(V),A=async()=>{const{response:v}=await $.listar({registro_empleado_examen_id:p.idRegistroEmpleadoExamen});r.motivo_consulta=v.data.modelo.motivo_consulta,r.cargo=v.data.modelo.cargo,r.fecha_inicio_labores=v.data.modelo.fecha_inicio_labores,r.fecha_salida=v.data.modelo.fecha_salida},O=async()=>{const v=xe.getInstance(),I=Se.URL_BASE+"/"+v.getEndpoint(U.fichas_retiros_imprimir)+"/"+r.id,ue="ficha_retiro_"+r.id+"_"+Date.now();Te(I,"GET","blob","pdf",ue)},F=v=>r.constante_vital.hydrate(v),k=v=>r.aptitud_medica.hydrate(v),x=v=>q.value=v;u(()=>{var v;r.registro_empleado_examen=(v=p.idRegistroEmpleadoExamen)!=null?v:null,r.examenes_fisicos_regionales=q.value}),R(()=>{a("cerrar-modal")}),W(()=>{b.value=pe.consultar}),ie(v=>p.idFichaRetiro=v);const oe=Ue({fecha_inicio_labores:{required:E},fecha_salida:{required:E},cargo:{required:E},constante_vital:{presion_arterial:{required:E},temperatura:{required:E},frecuencia_cardiaca:{required:E},saturacion_oxigeno:{required:E},frecuencia_respiratoria:{required:E},peso:{required:E},talla:{required:E},indice_masa_corporal:{required:E},perimetro_abdominal:{required:E}}},r);return s(oe.value),{mixin:m,disabled:n,fichaRetiro:r,listadosAuxiliares:V,v$:oe,maskFecha:Ae,accionesTabla:Ne,cargos:K,filtrarCargos:ee,mapearOptionsSelect:He,descargarPdf:O,hidratarConstanteVital:F,hidratarAptitudMedica:k,hidratarExamenFisicoRegional:x,mostrarDescargarPdf:w.esMedico,selectOptionsSiNo:ja}}});const mt={class:"row q-col-gutter-x-sm q-pa-md"},pt={class:"col-12 col-md-3 col-sm-3"},bt={class:"error-msg"},ft={class:"col-12 col-md-3 q-mb-md"},_t={class:"row items-center justify-end"},gt={class:"col-12 col-md-3 q-mb-md"},vt={class:"row items-center justify-end"},ht={class:"row q-col-gutter-x-sm q-pa-md"},qt={class:"col-12 q-mb-md"},Vt={class:"col-12 col-md-6 q-mb-md"},Ct={class:"q-gutter-sm"},$t={key:0,class:"col-12 col-md-6 q-mb-md"},Et={class:"col-12 col-md-6 q-mb-md"},yt={class:"row items-center justify-end"},Ft={class:"col-12 col-md-6 q-mb-md"},wt={class:"col-12 col-md-6 q-mb-md"},Pt={class:"q-gutter-sm"},At={key:1,class:"col-12 col-md-6 q-mb-md"},Rt={class:"col-12 col-md-6 q-mb-md"},jt={class:"row items-center justify-end"},kt={class:"col-12 col-md-6 q-mb-md"},Ot={class:"q-pa-md"},xt={class:"q-pa-md"},St={class:"row q-pa-md"},Tt={class:"col-12 col-md-3 q-mb-md"},Ut={class:"q-gutter-sm"},Dt={class:"col-12 col-md-9"},It={class:"row q-gutter-x-xs"};function Mt(e,a,p,w,q,$){const m=G("contantes-vitales"),r=G("examen-fisico-regional-component"),V=G("simple-layout");return c(),Y(V,{mixin:e.mixin},{formulario:t(()=>[i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Datos del usuario","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",mt,[o("div",pt,[a[21]||(a[21]=o("label",{class:"q-mb-sm block"},"Cargo",-1)),i(ve,{modelValue:e.fichaRetiro.cargo,"onUpdate:modelValue":a[0]||(a[0]=n=>e.fichaRetiro.cargo=n),options:e.cargos,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","use-input":"","input-debounce":"0",onFilter:e.filtrarCargos,onBlur:e.v$.cargo.$touch,error:!!e.v$.cargo.$errors.length,"error-message":"Debes seleccionar un cargo","option-value":n=>n.id,"option-label":n=>n.nombre,"emit-value":"","map-options":""},{error:t(()=>[(c(!0),h(z,null,J(e.v$.cargo.$errors,n=>(c(),h("div",{key:n.$uid},[o("div",bt,ae(n.$message),1)]))),128))]),_:1},8,["modelValue","options","disable","onFilter","onBlur","error","option-value","option-label"])]),o("div",ft,[a[22]||(a[22]=o("label",{class:"q-mb-sm block"},"Fecha de inicio de labores",-1)),i(C,{modelValue:e.fichaRetiro.fecha_inicio_labores,"onUpdate:modelValue":a[2]||(a[2]=n=>e.fichaRetiro.fecha_inicio_labores=n),placeholder:"Obligatorio",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:t(()=>[i(X,{name:"event",class:"cursor-pointer"},{default:t(()=>[i(re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[i(de,{modelValue:e.fichaRetiro.fecha_inicio_labores,"onUpdate:modelValue":a[1]||(a[1]=n=>e.fichaRetiro.fecha_inicio_labores=n),mask:e.maskFecha,"today-btn":""},{default:t(()=>[o("div",_t,[ne(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[ce]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",gt,[a[23]||(a[23]=o("label",{class:"q-mb-sm block"},"Fecha de salida",-1)),i(C,{modelValue:e.fichaRetiro.fecha_salida,"onUpdate:modelValue":a[4]||(a[4]=n=>e.fichaRetiro.fecha_salida=n),placeholder:"Obligatorio",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:t(()=>[i(X,{name:"event",class:"cursor-pointer"},{default:t(()=>[i(re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[i(de,{modelValue:e.fichaRetiro.fecha_salida,"onUpdate:modelValue":a[3]||(a[3]=n=>e.fichaRetiro.fecha_salida=n),mask:e.maskFecha,"today-btn":""},{default:t(()=>[o("div",vt,[ne(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[ce]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Antecedentes personales","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",ht,[a[33]||(a[33]=o("div",{class:"text-bold q-mb-md"}," ANTECEDENTES CL\xCDNICOS Y QUIR\xDARGICOS ",-1)),o("div",qt,[a[24]||(a[24]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(C,{modelValue:e.fichaRetiro.antecedentes_clinicos_quirurgicos,"onUpdate:modelValue":a[5]||(a[5]=n=>e.fichaRetiro.antecedentes_clinicos_quirurgicos=n),placeholder:"Anotar la causa del problema en la versi\xF3n del informante",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),a[34]||(a[34]=o("div",{class:"col-12 text-bold q-mb-md"}," ACCIDENTES DE TRABAJO (DESCRIPCI\xD3N) ",-1)),o("div",Vt,[a[25]||(a[25]=o("label",{class:"q-mb-sm block"},"Fue calificado por el Instituto de Seguridad Social correspondiente",-1)),o("div",Ct,[i(Z,{modelValue:e.fichaRetiro.accidente_trabajo.calificado_iss,"onUpdate:modelValue":a[6]||(a[6]=n=>e.fichaRetiro.accidente_trabajo.calificado_iss=n),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(Z,{modelValue:e.fichaRetiro.accidente_trabajo.calificado_iss,"onUpdate:modelValue":a[7]||(a[7]=n=>e.fichaRetiro.accidente_trabajo.calificado_iss=n),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])]),e.fichaRetiro.accidente_trabajo.calificado_iss?(c(),h("div",$t,[a[26]||(a[26]=o("label",{class:"q-mb-sm block"},"Especificar",-1)),i(C,{modelValue:e.fichaRetiro.accidente_trabajo.instituto_seguridad_social,"onUpdate:modelValue":a[8]||(a[8]=n=>e.fichaRetiro.accidente_trabajo.instituto_seguridad_social=n),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):L("",!0),o("div",Et,[a[27]||(a[27]=o("label",{class:"q-mb-sm block"},"Fecha",-1)),i(C,{modelValue:e.fichaRetiro.accidente_trabajo.fecha,"onUpdate:modelValue":a[10]||(a[10]=n=>e.fichaRetiro.accidente_trabajo.fecha=n),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:t(()=>[i(X,{name:"event",class:"cursor-pointer"},{default:t(()=>[i(re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[i(de,{modelValue:e.fichaRetiro.accidente_trabajo.fecha,"onUpdate:modelValue":a[9]||(a[9]=n=>e.fichaRetiro.accidente_trabajo.fecha=n),mask:e.maskFecha,"today-btn":""},{default:t(()=>[o("div",yt,[ne(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[ce]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",Ft,[a[28]||(a[28]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(C,{modelValue:e.fichaRetiro.accidente_trabajo.observacion,"onUpdate:modelValue":a[11]||(a[11]=n=>e.fichaRetiro.accidente_trabajo.observacion=n),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),a[35]||(a[35]=o("div",{class:"col-12 text-bold q-mb-md"}," ENFERMEDADES PROFESIONALES (DESCRIPCI\xD3N) ",-1)),o("div",wt,[a[29]||(a[29]=o("label",{class:"q-mb-sm block"},"Fue calificado por el Instituto de Seguridad Social correspondiente",-1)),o("div",Pt,[i(Z,{modelValue:e.fichaRetiro.enfermedad_profesional.calificado_iss,"onUpdate:modelValue":a[12]||(a[12]=n=>e.fichaRetiro.enfermedad_profesional.calificado_iss=n),val:!0,label:"Si",disable:e.disabled},null,8,["modelValue","disable"]),i(Z,{modelValue:e.fichaRetiro.enfermedad_profesional.calificado_iss,"onUpdate:modelValue":a[13]||(a[13]=n=>e.fichaRetiro.enfermedad_profesional.calificado_iss=n),val:!1,label:"No",disable:e.disabled},null,8,["modelValue","disable"])])]),e.fichaRetiro.enfermedad_profesional.calificado_iss?(c(),h("div",At,[a[30]||(a[30]=o("label",{class:"q-mb-sm block"},"Especificar",-1)),i(C,{modelValue:e.fichaRetiro.enfermedad_profesional.instituto_seguridad_social,"onUpdate:modelValue":a[14]||(a[14]=n=>e.fichaRetiro.enfermedad_profesional.instituto_seguridad_social=n),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):L("",!0),o("div",Rt,[a[31]||(a[31]=o("label",{class:"q-mb-sm block"},"Fecha",-1)),i(C,{modelValue:e.fichaRetiro.enfermedad_profesional.fecha,"onUpdate:modelValue":a[16]||(a[16]=n=>e.fichaRetiro.enfermedad_profesional.fecha=n),placeholder:"Opcional",outlined:"",disable:e.disabled,type:"datetime",dense:""},{append:t(()=>[i(X,{name:"event",class:"cursor-pointer"},{default:t(()=>[i(re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[i(de,{modelValue:e.fichaRetiro.enfermedad_profesional.fecha,"onUpdate:modelValue":a[15]||(a[15]=n=>e.fichaRetiro.enfermedad_profesional.fecha=n),mask:e.maskFecha,"today-btn":""},{default:t(()=>[o("div",jt,[ne(i(N,{label:"Cerrar",color:"primary",flat:""},null,512),[[ce]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),o("div",kt,[a[32]||(a[32]=o("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(C,{modelValue:e.fichaRetiro.enfermedad_profesional.observacion,"onUpdate:modelValue":a[17]||(a[17]=n=>e.fichaRetiro.enfermedad_profesional.observacion=n),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Constantes vitales y antropometr\xEDa","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",Ot,[i(m,{"constante-vital":e.fichaRetiro.constante_vital,disable:e.disabled,"onUpdate:modelValue":e.hidratarConstanteVital,validador:e.v$},null,8,["constante-vital","disable","onUpdate:modelValue","validador"])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Examen f\xEDsico regional","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",xt,[i(r,{datos:e.fichaRetiro.examenes_fisicos_regionales,disable:e.disabled,"onUpdate:modelValue":e.hidratarExamenFisicoRegional},null,8,["datos","disable","onUpdate:modelValue"])])]),_:1}),i(T,{class:"overflow-hidden q-mb-md rounded bg-desenfoque-2",label:"Evaluaci\xF3n m\xE9dica de retiro","header-class":"text-bold bg-desenfoque text-primary","default-opened":""},{default:t(()=>[o("div",St,[o("div",Tt,[a[36]||(a[36]=o("label",{class:"q-mb-sm block"},"Se realiz\xF3 la evaluaci\xF3n:",-1)),o("div",Ut,[(c(!0),h(z,null,J(e.selectOptionsSiNo,n=>(c(),Y(Z,{key:n.label,modelValue:e.fichaRetiro.se_realizo_evaluacion_medica_retiro,"onUpdate:modelValue":a[18]||(a[18]=b=>e.fichaRetiro.se_realizo_evaluacion_medica_retiro=b),val:n.value,label:`${n.label}`,disable:e.disabled},null,8,["modelValue","val","label","disable"]))),128))])]),o("div",Dt,[a[37]||(a[37]=o("label",{class:"q-mb-sm block"},"Descripci\xF3n",-1)),i(C,{modelValue:e.fichaRetiro.observacion_evaluacion_medica_retiro,"onUpdate:modelValue":a[19]||(a[19]=n=>e.fichaRetiro.observacion_evaluacion_medica_retiro=n),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1})]),"custom-buttons":t(()=>[o("div",It,[e.fichaRetiro.id&&e.mostrarDescargarPdf?(c(),Y(N,{key:0,class:"bg-white text-pink-10","no-caps":"",push:"",onClick:a[20]||(a[20]=n=>e.descargarPdf())},{default:t(()=>[i(X,{name:"bi-file-earmark-pdf",size:"xs",class:"q-mr-sm"}),a[38]||(a[38]=se(" Descargar PDF"))]),_:1})):L("",!0)])]),_:1},8,["mixin"])}var Bt=Ve(ut,[["render",Mt]]);const Nt={class:"row bg-desenfoque rounded q-pa-md"},Lt={class:"col-12"},Ht={class:"col-12 q-mb-md"},Gt=fe({__name:"SubirResultadosExamenesPage",emits:["cerrar-modal"],setup(e,{emit:a}){const p=a,w=he(),q=M(),$=w.empleado||new Ia,m=new qe(da,new ca,new $a),{entidad:r,accion:V}=m.useReferencias();async function n(){await q.value.subir(),p("cerrar-modal")}return ka(()=>q.value.listarArchivosAlmacenados(r.id)),r.hydrate(w.solicitudExamen),V.value=w.accion,(b,s)=>{var D;return c(),h("div",Nt,[o("div",Lt,[i(Ea,{mixin:Be(m),empleado:Be($)},null,8,["mixin","empleado"])]),o("div",Ht,[i(ya,{ref_key:"refArchivo",ref:q,label:"Adjuntar archivos",mixin:Be(m),listarAlGuardar:!1,idModelo:(D=Be(r).id)!=null?D:void 0},{"boton-subir":t(()=>[i(N,{color:"positive",push:"","no-caps":"",class:"full-width q-mb-lg",onClick:s[0]||(s[0]=Q=>n())},{default:t(()=>[i(X,{name:"bi-upload",class:"q-mr-sm",size:"xs"}),s[1]||(s[1]=se(" Subir archivos seleccionados"))]),_:1})]),_:1},8,["mixin","idModelo"])])])}}});class zt{constructor(){l(this,"ResultadosExamenPage");l(this,"SolicitudExamenSolicitarPage");l(this,"DiagnosticoRecetaPage");l(this,"EsquemaVacunacionPage");l(this,"FichaAptitudPage");l(this,"FichaPreocupacionalPage");l(this,"FichaRetiroPage");l(this,"SubirResultadosExamenesPage");l(this,"FichaPeriodicaPage");l(this,"FichaReintegroPage");this.ResultadosExamenPage=ge(new _e("Resultados de examen",Ja)),this.SolicitudExamenSolicitarPage=ge(new _e("Realizar solicitud de examenes m\xE9dicos",Ka)),this.DiagnosticoRecetaPage=ge(new _e("Diagn\xF3stico receta",Ta)),this.EsquemaVacunacionPage=ge(new _e("Esquema de vacunaci\xF3n",ho)),this.FichaAptitudPage=ge(new _e("Ficha de Aptitud",Do)),this.FichaPreocupacionalPage=ge(new _e("Ficha preocupacional",Ts)),this.FichaPeriodicaPage=ge(new _e("Ficha peri\xF3dica",Bl)),this.FichaReintegroPage=ge(new _e("Ficha reintegro",nt)),this.FichaRetiroPage=ge(new _e("Ficha de retiro",Bt)),this.SubirResultadosExamenesPage=ge(new _e("Subir resultados de examenes",Gt))}}class vn extends Aa{constructor(){super(new zt)}}export{vn as C,eo as E,Vo as F};
