import{d as G,a0 as v,u as q,f as s,g as z,_ as k,t as V,v as C,x as j,z as w,F,bI as l,T as M,y as m,P as O,J as R}from"./index.70185135.js";import{B as T}from"./buttonSubmits.f728eedc.js";import{u as A}from"./utils.2eab62de.js";var I=G({props:{mixin:{type:Object,required:!0},mostrarButtonSubmits:{type:Boolean,default:!0},permitirConsultar:{type:Boolean,default:!0},permitirGuardar:{type:Boolean,default:!0},forzarGuardar:{type:Boolean,default:!1},permitirEditar:{type:Boolean,default:!0},forzarEditar:{type:Boolean,default:!1},permitirEliminar:{type:Boolean,default:!0},permitirCancelar:{type:Boolean,default:!0},full:{type:Boolean,default:!1},labelGuardar:{type:String,default:"Guardar"},labelEditar:{type:String,default:"Guardar cambios"}},components:{ButtonSubmits:T},setup(e){var g;const{guardar:a,editar:p,eliminar:f,consultar:b,reestablecer:c}=e.mixin.useComportamiento(),{entidad:u,accion:i,filtros:y}=e.mixin.useReferencias(),o=v(),n=q(),d=z(),t=(g=d==null?void 0:d.parent)==null?void 0:g.type.name;console.log(d);const B=s(()=>{var r;return n.can(`puede.ver.${(r=o.name)==null?void 0:r.toString()}`)&&e.permitirConsultar}),E=s(()=>{var r;return n.can(`puede.crear.${t!=null?t:(r=o.name)==null?void 0:r.toString()}`)&&e.permitirGuardar}),$=s(()=>{var r;return n.can(`puede.editar.${t!=null?t:(r=o.name)==null?void 0:r.toString()}`)&&e.permitirEditar||e.forzarEditar}),S=s(()=>{var r;return n.can(`puede.eliminar.${t!=null?t:(r=o.name)==null?void 0:r.toString()}`)&&e.permitirEliminar});return{componentName:t,guardar:a,reestablecer:c,entidad:u,accion:i,filtros:y,consultar:b,editar:p,eliminar:f,puedeVer:B,puedeCrear:E,puedeEditar:$,puedeEliminar:S,storeCargando:A()}}});const J=["padding"],L={class:"bg-desenfoque-s2"},P={class:"row justify-end q-col-gutter-x-xs q-pt-md q-mt-xl"};function U(e,a,p,f,b,c){const u=V("button-submits");return C(),j("div",{padding:!e.$q.screen.xs,class:"bg-desenfoque rounded q-pa-md"},[w(M,{name:"scale",mode:"out-in"},{default:F(()=>[l(e.$slots,"modales")]),_:3}),m("div",L,[l(e.$slots,"formulario")]),m("div",P,[m("span",null,[l(e.$slots,"custom-buttons")]),e.mostrarButtonSubmits?(C(),O(u,{key:0,accion:e.accion,permitirGuardar:e.puedeCrear||e.forzarGuardar,permitirModificar:e.puedeEditar,permitirCancelar:e.permitirCancelar,disabled:e.storeCargando.cargando,labelEditar:e.labelEditar,labelGuardar:e.labelGuardar,onCancelar:a[0]||(a[0]=i=>e.reestablecer()),onEditar:a[1]||(a[1]=i=>e.editar(e.entidad,e.resetFormularioOnUpdate)),onEliminar:a[2]||(a[2]=i=>e.eliminar(e.entidad,e.cbEliminar)),onGuardar:a[3]||(a[3]=i=>e.guardar(e.entidad))},null,8,["accion","permitirGuardar","permitirModificar","permitirCancelar","disabled","labelEditar","labelGuardar"])):R("",!0)])],8,J)}var Q=k(I,[["render",U]]);export{Q as S};
