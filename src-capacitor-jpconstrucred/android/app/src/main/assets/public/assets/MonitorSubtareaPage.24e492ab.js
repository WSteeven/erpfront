import{d as Q,m as q,u as N,c as S,f as L,h as $,bX as g,p as G,bz as k,_ as X,t as _,v as Z,P as H,F as C,y as c,z as n,O as J,D as K,B as U}from"./index.70185135.js";import{Q as W}from"./QPage.f3b97ac0.js";import{c as Y}from"./configuracionColumnasSubtarea.cae897da.js";import{u as x}from"./BotonesTablaSubtarea.0fd60e33.js";import{S as oo}from"./Subtarea.3371ad54.js";import{t as ao}from"./tareas.utils.309e0dff.js";import{u as to}from"./ArchivoSeguimiento.c0aefebc.js";import{u as ro}from"./utils.2eab62de.js";import{E as io}from"./EssentialTableTabs.a1f1bc4b.js";import{M as eo}from"./ModalEntidad.7d323d29.js";import{C as no}from"./CausaIntervencionController.558bdbde.js";import{M as so}from"./MotivoSuspendidoController.0605b7b5.js";import{C as mo}from"./ComportamientoModalesSubtarea.1fe0715e.js";import{M as po}from"./MotivoPausaController.b1ddeeba.js";import{C as lo}from"./ContenedorSimpleMixin.0ef3239b.js";import{S as co}from"./SubtareaController.eaf3fca7.js";import"./EssentialTable.c4a035e4.js";import"./QSelect.b1759751.js";import"./QChip.a6a2afa6.js";import"./QItemSection.1a41b826.js";import"./QMenu.7527c31d.js";import"./position-engine.f244a0db.js";import"./format.8ac60962.js";import"./QFile.f60a5ba1.js";import"./QToolbar.f2167ded.js";import"./use-fullscreen.ec50b882.js";import"./QBadge.5bb69fff.js";import"./QPopupProxy.c164d2ac.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.04221389.js";import"./VisorImagen.7aac4fec.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.60ce3364.js";import"./i18n-validators.ea544161.js";import"./index.9f64ebda.js";import"./BotonesTablaTicket.f7683bcc.js";import"./ComponenteModal.domain.9bc16b73.js";import"./index.004ff2d8.js";import"./DepartamentoController.17343374.js";import"./FiltrosListadosTicket.1f5c8014.js";import"./filtrosListadosGenerales.6ad178d9.js";import"./QScrollArea.7f9f49f9.js";import"./QResizeObserver.721a0e6c.js";import"./QScrollObserver.0842fd40.js";import"./TouchPan.fefe3f7c.js";import"./touch.9135741d.js";import"./es.edeb524b.js";import"./dayjs.min.80d1628b.js";import"./entidadAuditable.75a46700.js";import"./TablaFilasDinamicas.e509d30c.js";import"./buttonSubmits.f728eedc.js";import"./Archivo.c26f5472.js";import"./use-slider.288c5a99.js";import"./TicketController.d57926d8.js";import"./CategoriaTipoTicketController.4f5f5c9e.js";import"./TipoTicketController.d970dd1e.js";import"./MotivoCanceladoTicketController.0b9fe3ab.js";import"./QTabs.4ee0c65d.js";import"./QTabPanels.0148950e.js";import"./trabajoAsignado.008ab283.js";import"./ComportamientoModalesTicketAsignado.bd0d32cd.js";import"./FiltroMiBodegaEmpleado.222d4551.js";import"./ClienteMaterialEmpleadoController.96a728b1.js";import"./listadoMaterialesDevolucion.faceceb0.js";import"./FiltroMiBodegaProyecto.51a7e530.js";import"./EtapaController.fd486e79.js";import"./ProyectoController.680a0daf.js";import"./movilizacionSubtarea.3c342d9e.js";import"./QUploader.128864d5.js";import"./QCircularProgress.d0f86e92.js";import"./configuracionColumnasArchivoSubtarea.215f4ffd.js";import"./EssentialTablePagination.959d4e60.js";import"./configuracion_general.27135600.js";import"./ConfiguracionController.40960b9d.js";import"./QExpansionItem.b5d3a973.js";import"./configuracionColumnasMovilizacionSubtarea.e610a352.js";import"./configuracionColumnasEmpleadoGrupo.222e165b.js";import"./FiltrosListadosTarea.686e76f2.js";import"./DesignarResponsableTrabajo.afccf504.js";import"./QBtnToggle.1aba8b9d.js";import"./EssentialSelectableTable.ee506d87.js";import"./selector.0fae7bb3.js";import"./SelectorController.c365d743.js";import"./Empleado.20234ba0.js";import"./GrupoController.52c17620.js";import"./LabelAbrirModal.8cde336f.js";import"./TabLayout.dfee7537.js";import"./ArchivoSubtareaController.f2746e7c.js";import"./TipoTrabajoController.f8e7acc8.js";import"./AlimentacionGrupoPage.8dd6bd98.js";import"./QForm.0c8c3b68.js";import"./ClienteFinalController.b32c65bd.js";import"./MovilizacionSubtareaController.89fb28cd.js";import"./ClienteFinalPage.1ad122e4.js";import"./ClienteController.71ac4dd6.js";import"./ProvinciaController.65ff55c2.js";import"./RegistroTendido.60aa3aaa.js";import"./configuracionColumnasProductos.4f52212a.js";var uo=Q({components:{EssentialTableTabs:io,ModalesEntidad:eo},setup(){const o=to();ro().setQuasar(q());const a=N(),r=new lo(oo,new co),{listado:i,listadosAuxiliares:d,filtros:u}=r.useReferencias(),{filtrar:e,listar:s,cargarVista:h,obtenerListados:v}=r.useComportamiento();h(async()=>{await v({motivosSuspendidos:new so,motivosPausas:new po,causasIntervenciones:new no})});const m=new mo,{btnIniciar:M,btnPausar:j,btnReanudar:F,btnSeguimiento:E,btnReagendar:T,btnRealizar:A,btnSuspender:w,btnCancelar:V,btnFinalizar:z,btnVerAlimentacion:I,setFiltrarTrabajoAsignado:P,guardadoModalesSubtarea:y}=x(i,m,d);P(l);const b=S(),p=S(),O=L(()=>!i.value.length),R=!a.esContabilidad,B={titulo:"M\xE1s detalles",icono:"bi-eye",accion:({entidad:t})=>{o.idSubtareaSeleccionada=t.id,o.accion=k.consultar,m.abrirModalEntidad("SubtareaPage")}};function l(t){const f="id,codigo_tarea,codigo_subtarea,titulo,estado,grupo,grupo_id,empleado_responsable,empleado_responsable_id,coordinador,tipo_trabajo,cantidad_adjuntos,fecha_solicitud,es_ventana,fecha_hora_creacion,fecha_inicio_trabajo,hora_inicio_trabajo,hora_fin_trabajo,fecha_hora_asignacion,fecha_hora_agendado,fecha_hora_ejecucion,fecha_hora_realizado,fecha_hora_finalizacion,dias_ocupados,fecha_hora_suspendido,motivo_suspendido,fecha_hora_cancelado,motivo_cancelado,subtarea_dependiente,canton,cliente,cliente_id,proyecto,proyecto_id,puede_ejecutar,puede_suspender,es_responsable,tarea_id";u.fields={estado:t,campos:f},b.value=t,p.value.getSearchValue()?p.value.toSearch():s({estado:t,campos:f,paginate:!0})}$(()=>l(a.esContabilidad?g.FINALIZADO:g.AGENDADO));function D(t){e(t)}return{refTabla:p,mixin:r,tabActual:b,columnasSubtareas:[...Y,G],listado:i,tabOptionsEstadosSubtareasMonitor:ao,btnConsultarSubtarea:B,btnIniciar:M,btnPausar:j,btnReanudar:F,btnRealizar:A,modalesSubtarea:m,btnSeguimiento:E,btnReagendar:T,btnSuspender:w,btnCancelar:V,btnFinalizar:z,btnVerAlimentacion:I,filtrarSubtareas:l,filtrar:e,aplicarFiltro:D,altoFijo:O,mostrarTabs:R,guardadoModalesSubtarea:y}}});const bo={class:"column q-mb-md q-gutter-sm items-center"};function fo(o,a,r,i,d,u){const e=_("essential-table-tabs"),s=_("modales-entidad");return Z(),H(W,{padding:""},{default:C(()=>[c("div",bo,[a[2]||(a[2]=c("b",{class:"text-h5 text-bold"},"Monitor",-1)),a[3]||(a[3]=c("small",null,"Ten una visi\xF3n completa de todos los trabajos y sus estados.",-1)),n(J,{color:"primary",class:"q-px-md",to:{name:"tareas"},"no-caps":"",dense:"",square:"",unelevated:""},{default:C(()=>[a[1]||(a[1]=K("Ir a Control de tareas ")),n(U,{name:"bi-box-arrow-in-right",class:"q-ml-sm"})]),_:1})]),n(e,{ref:"refTabla",class:"custom-shadow5 borde rounded",titulo:"Existen "+o.listado.length+" subtarea(s) en estado "+o.tabActual+".",configuracionColumnas:o.columnasSubtareas,datos:o.listado,tabOptions:o.tabOptionsEstadosSubtareasMonitor,accion1:o.btnConsultarSubtarea,accion2:o.btnIniciar,accion3:o.btnPausar,accion4:o.btnReanudar,accion5:o.btnRealizar,accion6:o.btnReagendar,accion7:o.btnSeguimiento,accion8:o.btnSuspender,accion9:o.btnCancelar,accion10:o.btnFinalizar,accion11:o.btnVerAlimentacion,separador:"cell",permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,"mostrar-botones":!1,"mostrar-footer":"",permitirFiltrar:!0,onTabSeleccionado:o.filtrarSubtareas,tabDefecto:o.tabActual,altoFijo:o.altoFijo,onFiltrar:o.aplicarFiltro,onLimpiarListado:a[0]||(a[0]=()=>o.listado=[]),mostrarExportar:!0,"ajustar-celdas":"",paginate:"",mixin:o.mixin},null,8,["titulo","configuracionColumnas","datos","tabOptions","accion1","accion2","accion3","accion4","accion5","accion6","accion7","accion8","accion9","accion10","accion11","onTabSeleccionado","tabDefecto","altoFijo","onFiltrar","mixin"]),n(s,{comportamiento:o.modalesSubtarea,"mixin-modal":o.mixin,"confirmar-cerrar":!1,persistente:!1,onGuardado:o.guardadoModalesSubtarea},null,8,["comportamiento","mixin-modal","onGuardado"])]),_:1})}var st=X(uo,[["render",fo]]);export{st as default};
