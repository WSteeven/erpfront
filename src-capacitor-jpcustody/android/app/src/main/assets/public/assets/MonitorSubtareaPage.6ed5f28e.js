import{d as Q,m as q,u as N,c as S,f as L,h as $,bU as g,p as G,bz as k,_ as U,t as _,v as Z,P as H,F as C,y as c,z as n,O as J,D as K,B as W}from"./index.b8e09611.js";import{Q as X}from"./QPage.e6f8825d.js";import{c as Y}from"./configuracionColumnasSubtarea.01bf4ab9.js";import{u as x}from"./BotonesTablaSubtarea.b9444cd5.js";import{S as oo}from"./Subtarea.3371ad54.js";import{t as ao}from"./tareas.utils.309e0dff.js";import{u as to}from"./ArchivoSeguimiento.408b3360.js";import{u as ro}from"./utils.9344cd7e.js";import{E as io}from"./EssentialTableTabs.03c27e34.js";import{M as eo}from"./ModalEntidad.54c9ab3a.js";import{C as no}from"./CausaIntervencionController.93e91c4a.js";import{M as so}from"./MotivoSuspendidoController.0e0e95b3.js";import{C as mo}from"./ComportamientoModalesSubtarea.c6a512fd.js";import{M as po}from"./MotivoPausaController.923845bf.js";import{C as lo}from"./ContenedorSimpleMixin.4e22246b.js";import{S as co}from"./SubtareaController.0658809c.js";import"./EssentialTable.23af6cc8.js";import"./QSelect.b920278b.js";import"./QChip.f8f308fa.js";import"./QItemSection.ec4cc512.js";import"./QMenu.b3fb639b.js";import"./position-engine.799c9136.js";import"./format.8ac60962.js";import"./QFile.c79664c6.js";import"./QTable.c4bfb038.js";import"./use-fullscreen.37810a50.js";import"./QToolbar.afeb6de9.js";import"./QBtnGroup.7d38eecd.js";import"./QBadge.89898cd2.js";import"./QPopupProxy.685eacb5.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.95754b62.js";import"./VisorImagen.29457a6f.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.3c1fc91c.js";import"./i18n-validators.06abe774.js";import"./index.ea415f98.js";import"./BotonesTablaTicket.151fa3b2.js";import"./ComponenteModal.domain.92aacded.js";import"./index.70965bc7.js";import"./DepartamentoController.02f1fe6f.js";import"./FiltrosListadosTicket.b035be63.js";import"./filtrosListadosGenerales.87fcb144.js";import"./QScrollArea.d528d611.js";import"./QResizeObserver.1422c274.js";import"./QScrollObserver.8813f664.js";import"./TouchPan.4c6fe26a.js";import"./touch.9135741d.js";import"./es.edeb524b.js";import"./dayjs.min.80d1628b.js";import"./entidadAuditable.75a46700.js";import"./TablaFilasDinamicas.d44b2e0f.js";import"./buttonSubmits.f2d72caa.js";import"./Archivo.c26f5472.js";import"./use-slider.0c8b658f.js";import"./TicketController.c52b9d83.js";import"./CategoriaTipoTicketController.82cb061d.js";import"./TipoTicketController.661a948e.js";import"./MotivoCanceladoTicketController.4f5fc288.js";import"./QTabs.1ee2fae1.js";import"./QTabPanels.1776fc83.js";import"./trabajoAsignado.85b43458.js";import"./ComportamientoModalesTicketAsignado.c3014348.js";import"./FiltroMiBodegaEmpleado.0c8b713d.js";import"./ClienteMaterialEmpleadoController.99667624.js";import"./listadoMaterialesDevolucion.14686f4f.js";import"./FiltroMiBodegaProyecto.31341d8b.js";import"./EtapaController.7c12ac90.js";import"./ProyectoController.cb4f7c6c.js";import"./movilizacionSubtarea.b7993c98.js";import"./QUploader.16c4ab83.js";import"./QCircularProgress.c6e924d2.js";import"./configuracionColumnasArchivoSubtarea.215f4ffd.js";import"./EssentialTablePagination.ce808cac.js";import"./configuracion_general.1d29d94f.js";import"./ConfiguracionController.a136b041.js";import"./QExpansionItem.795361a7.js";import"./configuracionColumnasMovilizacionSubtarea.e610a352.js";import"./configuracionColumnasEmpleadoGrupo.222e165b.js";import"./FiltrosListadosTarea.66a67f58.js";import"./DesignarResponsableTrabajo.2e5e8d3e.js";import"./QBtnToggle.9f2e36fa.js";import"./EssentialSelectableTable.ac03bc90.js";import"./selector.e0ee4903.js";import"./SelectorController.efbca5b9.js";import"./Empleado.20234ba0.js";import"./GrupoController.2b3767f9.js";import"./LabelAbrirModal.21987583.js";import"./TabLayout.45a66130.js";import"./ArchivoSubtareaController.6085d982.js";import"./TipoTrabajoController.c388dd0b.js";import"./AlimentacionGrupoPage.27290d31.js";import"./QForm.eab79b48.js";import"./TareaController.490ce98d.js";import"./ClienteFinalController.35099100.js";import"./MovilizacionSubtareaController.2105c2e2.js";import"./ClienteFinalPage.9df47343.js";import"./ClienteController.6128473d.js";import"./ProvinciaController.0021ba38.js";import"./RegistroTendido.7d4a7527.js";import"./configuracionColumnasProductos.4f52212a.js";var uo=Q({components:{EssentialTableTabs:io,ModalesEntidad:eo},setup(){const o=to();ro().setQuasar(q());const a=N(),r=new lo(oo,new co),{listado:i,listadosAuxiliares:d,filtros:u}=r.useReferencias(),{filtrar:e,listar:s,cargarVista:h,obtenerListados:v}=r.useComportamiento();h(async()=>{await v({motivosSuspendidos:new so,motivosPausas:new po,causasIntervenciones:new no})});const m=new mo,{btnIniciar:M,btnPausar:j,btnReanudar:F,btnSeguimiento:E,btnReagendar:T,btnRealizar:A,btnSuspender:w,btnCancelar:V,btnFinalizar:z,btnVerAlimentacion:I,setFiltrarTrabajoAsignado:P,guardadoModalesSubtarea:y}=x(i,m,d);P(l);const b=S(),p=S(),O=L(()=>!i.value.length),R=!a.esContabilidad,B={titulo:"M\xE1s detalles",icono:"bi-eye",accion:({entidad:t})=>{o.idSubtareaSeleccionada=t.id,o.accion=k.consultar,m.abrirModalEntidad("SubtareaPage")}};function l(t){const f="id,codigo_tarea,codigo_subtarea,titulo,estado,grupo,grupo_id,empleado_responsable,empleado_responsable_id,coordinador,tipo_trabajo,cantidad_adjuntos,fecha_solicitud,es_ventana,fecha_hora_creacion,fecha_inicio_trabajo,hora_inicio_trabajo,hora_fin_trabajo,fecha_hora_asignacion,fecha_hora_agendado,fecha_hora_ejecucion,fecha_hora_realizado,fecha_hora_finalizacion,dias_ocupados,fecha_hora_suspendido,motivo_suspendido,fecha_hora_cancelado,motivo_cancelado,subtarea_dependiente,canton,cliente,cliente_id,proyecto,proyecto_id,puede_ejecutar,puede_suspender,es_responsable,tarea_id";u.fields={estado:t,campos:f},b.value=t,p.value.getSearchValue()?p.value.toSearch():s({estado:t,campos:f,paginate:!0})}$(()=>l(a.esContabilidad?g.FINALIZADO:g.AGENDADO));function D(t){e(t)}return{refTabla:p,mixin:r,tabActual:b,columnasSubtareas:[...Y,G],listado:i,tabOptionsEstadosSubtareasMonitor:ao,btnConsultarSubtarea:B,btnIniciar:M,btnPausar:j,btnReanudar:F,btnRealizar:A,modalesSubtarea:m,btnSeguimiento:E,btnReagendar:T,btnSuspender:w,btnCancelar:V,btnFinalizar:z,btnVerAlimentacion:I,filtrarSubtareas:l,filtrar:e,aplicarFiltro:D,altoFijo:O,mostrarTabs:R,guardadoModalesSubtarea:y}}});const bo={class:"column q-mb-md q-gutter-sm items-center"};function fo(o,a,r,i,d,u){const e=_("essential-table-tabs"),s=_("modales-entidad");return Z(),H(X,{padding:""},{default:C(()=>[c("div",bo,[a[2]||(a[2]=c("b",{class:"text-h5 text-bold"},"Monitor",-1)),a[3]||(a[3]=c("small",null,"Ten una visi\xF3n completa de todos los trabajos y sus estados.",-1)),n(J,{color:"primary",class:"q-px-md",to:{name:"tareas"},"no-caps":"",dense:"",square:"",unelevated:""},{default:C(()=>[a[1]||(a[1]=K("Ir a Control de tareas ")),n(W,{name:"bi-box-arrow-in-right",class:"q-ml-sm"})]),_:1})]),n(e,{ref:"refTabla",class:"custom-shadow5 borde rounded",titulo:"Existen "+o.listado.length+" subtarea(s) en estado "+o.tabActual+".",configuracionColumnas:o.columnasSubtareas,datos:o.listado,tabOptions:o.tabOptionsEstadosSubtareasMonitor,accion1:o.btnConsultarSubtarea,accion2:o.btnIniciar,accion3:o.btnPausar,accion4:o.btnReanudar,accion5:o.btnRealizar,accion6:o.btnReagendar,accion7:o.btnSeguimiento,accion8:o.btnSuspender,accion9:o.btnCancelar,accion10:o.btnFinalizar,accion11:o.btnVerAlimentacion,separador:"cell",permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,"mostrar-botones":!1,"mostrar-footer":"",permitirFiltrar:!0,onTabSeleccionado:o.filtrarSubtareas,tabDefecto:o.tabActual,altoFijo:o.altoFijo,onFiltrar:o.aplicarFiltro,onLimpiarListado:a[0]||(a[0]=()=>o.listado=[]),mostrarExportar:!0,"ajustar-celdas":"",paginate:"",mixin:o.mixin},null,8,["titulo","configuracionColumnas","datos","tabOptions","accion1","accion2","accion3","accion4","accion5","accion6","accion7","accion8","accion9","accion10","accion11","onTabSeleccionado","tabDefecto","altoFijo","onFiltrar","mixin"]),n(s,{comportamiento:o.modalesSubtarea,"mixin-modal":o.mixin,"confirmar-cerrar":!1,persistente:!1,onGuardado:o.guardadoModalesSubtarea},null,8,["comportamiento","mixin-modal","onGuardado"])]),_:1})}var lt=U(uo,[["render",fo]]);export{lt as default};
