import{d as B,R as I,bd as T,m as h,e as Q,c as q,q as S,A as E,bG as A,s as R,_ as D,t as j,v as b,P as v,F as r,z as a,be as M,bf as P,y as s,B as d,D as O,I as _,j as w,O as p,J as U}from"./index.b8e09611.js";import{Q as $,a as V,C as g}from"./QPopupProxy.685eacb5.js";import{Q as Z}from"./QPage.e6f8825d.js";import{r as C}from"./i18n-validators.06abe774.js";import{N as x}from"./NoOptionComponent.9c331961.js";import{E as F}from"./ErrorComponent.3c1fc91c.js";import{u as L}from"./index.70965bc7.js";import{u as z,A as J}from"./utils.9344cd7e.js";import"./format.8ac60962.js";import"./QMenu.b3fb639b.js";import"./position-engine.799c9136.js";import"./index.ea415f98.js";import"./QItemSection.ec4cc512.js";var G=B({components:{ErrorComponent:F,NoOptionComponent:x},setup(){const{notificarError:o,notificarCorrecto:e}=I();T().setQuasar(h()),z().setQuasar(h());const i=Q({fecha_inicio:"",fecha_fin:"",accion:"excel",tipo:""}),n="SISTEMA",l="ESTADISTICAS",u=[{label:n,value:n},{label:l,value:l}],c=q(n),f=L({fecha_inicio:{required:C},fecha_fin:{required:C}},i);async function N(){if(await f.value.$validate())try{const m=E.getInstance(),k=`${A.URL_BASE}/${m.getEndpoint(R.reporte_asistencia_tecnicos)}`,y=`reporte asistencia del ${i.fecha_inicio} al ${i.fecha_fin}`;await J(k,"POST","blob","xlsx",y,i),e("Reporte impreso con \xE9xito")}catch(m){console.log(m),o("Error al obtener reporte")}}return{reporte:i,v$:f,buscarReporte:N,tipoDashboard:c,tiposDashboard:u,SISTEMA:n,maskFecha:S,APPENATE:l}}});const W={class:"border-1 text-primary text-bold q-mb-lg"},Y={class:"row q-col-gutter-sm"},H={class:"col-12 col-md-3"},K={class:"row items-center justify-end"},X={class:"col-12 col-md-3"},ee={class:"row items-center justify-end"},oe={class:"col-6 col-md-6 col-sm-12 q-mt-sm"},ae={class:"text-center"};function re(o,e,i,n,l,u){const c=j("error-component");return b(),v(Z,{padding:""},{default:r(()=>[a(M,{class:"q-mb-md rounded no-border bg-desenfoque custom-shadow"},{default:r(()=>[(b(),v(P,{key:0},{default:r(()=>[s("div",W,[a(d,{name:"bi-graph-up-arrow",class:"q-mr-sm"}),e[5]||(e[5]=O(" Reporte de asistencia: M\xF3dulo de tareas "))]),s("div",Y,[s("div",H,[e[6]||(e[6]=s("label",{class:"q-mb-sm block"},"Fecha de inicio",-1)),a(_,{modelValue:o.reporte.fecha_inicio,"onUpdate:modelValue":e[1]||(e[1]=t=>o.reporte.fecha_inicio=t),error:!!o.v$.fecha_inicio.$errors.length,onBlur:o.v$.fecha_inicio.$touch,outlined:"",dense:""},{append:r(()=>[a(d,{name:"event",class:"cursor-pointer"},{default:r(()=>[a($,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[a(V,{modelValue:o.reporte.fecha_inicio,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.reporte.fecha_inicio=t),o.buscarReporte],mask:o.maskFecha,"today-btn":""},{default:r(()=>[s("div",K,[w(a(p,{label:"Cerrar",color:"primary",flat:""},null,512),[[g]])])]),_:1},8,["modelValue","mask","onUpdate:modelValue"])]),_:1})]),_:1})]),error:r(()=>[a(c,{clave:"fecha_inicio",v$:o.v$},null,8,["v$"])]),_:1},8,["modelValue","error","onBlur"])]),s("div",X,[e[7]||(e[7]=s("label",{class:"q-mb-sm block"},"Fecha de fin",-1)),a(_,{modelValue:o.reporte.fecha_fin,"onUpdate:modelValue":e[3]||(e[3]=t=>o.reporte.fecha_fin=t),error:!!o.v$.fecha_fin.$errors.length,onBlur:o.v$.fecha_fin.$touch,outlined:"",dense:""},{append:r(()=>[a(d,{name:"event",class:"cursor-pointer"},{default:r(()=>[a($,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[a(V,{modelValue:o.reporte.fecha_fin,"onUpdate:modelValue":[e[2]||(e[2]=t=>o.reporte.fecha_fin=t),o.buscarReporte],mask:o.maskFecha,"today-btn":""},{default:r(()=>[s("div",ee,[w(a(p,{label:"Cerrar",color:"primary",flat:""},null,512),[[g]])])]),_:1},8,["modelValue","mask","onUpdate:modelValue"])]),_:1})]),_:1})]),error:r(()=>[a(c,{clave:"fecha_fin",v$:o.v$},null,8,["v$"])]),_:1},8,["modelValue","error","onBlur"])]),s("div",oe,[e[9]||(e[9]=s("label",null," \xA0",-1)),s("div",ae,[a(p,{color:"positive",class:"full-width","no-caps":"","no-wrap":"",push:"",glossy:"",onClick:e[4]||(e[4]=t=>o.buscarReporte("excel"))},{default:r(()=>[a(d,{name:"bi-file-earmark-excel-fill",size:"xs",class:"q-mr-sm"}),e[8]||(e[8]=s("span",null,"Excel",-1))]),_:1})])])])]),_:1})),U("",!0)]),_:1})]),_:1})}var ve=D(G,[["render",re]]);export{ve as default};
