import{Q as v}from"./QSelect.69d1b992.js";import{d as b,R as _,bc as g,m as u,e as x,A as Q,bG as w,s as A,_ as E,v as R,P as C,F as r,z as i,y as t,bd as N,O as P,B as V}from"./index.2ef7a81a.js";import{Q as I}from"./QPage.2bc1c297.js";import{Q as T,a as S}from"./QLayout.e15f154b.js";import{T as y}from"./Transaccion.ef293505.js";import{T as h}from"./TransaccionIngresoController.298e1033.js";import{u as k,A as q}from"./utils.a862dc08.js";import{C as B}from"./ContenedorSimpleMixin.617817a8.js";import{E as O}from"./EssentialTable.f528a579.js";import"./QChip.c5c0b225.js";import"./QItemSection.3a5d4c83.js";import"./QMenu.f50512a6.js";import"./position-engine.093dda28.js";import"./format.8ac60962.js";import"./QScrollObserver.42cd2ac8.js";import"./QResizeObserver.8bc492d6.js";import"./entidadAuditable.75a46700.js";import"./QFile.f5c4066f.js";import"./QToolbar.ff7ff7d8.js";import"./use-fullscreen.a336d1b1.js";import"./QBadge.ebf9f349.js";import"./QPopupProxy.567210a4.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.9c11306d.js";import"./VisorImagen.12af3936.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.94e1365a.js";import"./i18n-validators.46fc4c83.js";import"./index.e1f41ef1.js";var $=b({components:{EssentialTable:O},setup(){const s=new B(y,new h),{listado:o}=s.useReferencias(),{notificarError:p,notificarAdvertencia:m}=_();g().setQuasar(u()),k().setQuasar(u());const a=x({tipo:"",accion:""});async function d(e){try{const n=Q.getInstance(),c=w.URL_BASE+"/"+n.getEndpoint(A.reporte_vida_util_epps),f=a.tipo==="INVENTARIO"?"reporte_vida_util_inventario":"reporte_vida_util_asignados";switch(e){case"excel":a.accion="excel",await q(c,"POST","blob","xlsx",f,a);break;default:a.accion="";const l=await n.post(c,a);l.data.results&&(o.value=l.data.results,l.data.results.length<1&&m("No se obtuvieron resultados"))}}catch(n){console.log(n),p("Error al obtener reporte")}}return{mixin:s,reporte:a,buscarReporte:d,tiposReportes:[{value:"INVENTARIO",label:"Vida \xFAtil de EPPs en Inventario"},{value:"ASIGNADOS",label:"Vida \xFAtil de EPPs asignados a Personal"}]}}});const F={class:"col"},U={class:"row q-col-gutter-sm q-pa-sm q-py-md"},j={class:"col-12 col-md-6"},z={class:"col-6 col-md-6 q-mt-sm"},G={class:"text-center"};function L(s,o,p,m,a,d){return R(),C(S,null,{default:r(()=>[i(T,null,{default:r(()=>[i(I,{padding:""},{default:r(()=>[t("div",F,[i(N,{class:"rounded-card custom-shadow"},{default:r(()=>[t("div",U,[t("div",j,[o[2]||(o[2]=t("label",{class:"q-mb-sm block"},"Tipo de Reporte",-1)),i(v,{modelValue:s.reporte.tipo,"onUpdate:modelValue":o[0]||(o[0]=e=>s.reporte.tipo=e),options:s.tiposReportes,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"","option-value":e=>e.value,"option-label":e=>e.label,"emit-value":"","map-options":""},null,8,["modelValue","options","option-value","option-label"])]),t("div",z,[o[4]||(o[4]=t("label",null," \xA0",-1)),t("div",G,[i(P,{color:"positive",class:"full-width","no-caps":"","no-wrap":"",push:"",glossy:"",onClick:o[1]||(o[1]=e=>s.buscarReporte("excel"))},{default:r(()=>[i(V,{name:"bi-file-earmark-excel-fill",size:"xs",class:"q-mr-sm"}),o[3]||(o[3]=t("span",null,"Excel",-1))]),_:1})])])])]),_:1})])]),_:1})]),_:1})]),_:1})}var wo=E($,[["render",L]]);export{wo as default};
