import{l as N,a1 as C,f as u,cG as U,d as j,c as p,Z as G,cI as R,$ as K,a2 as J,m as Z,h as W,_ as X,t as f,v as i,P as d,F as a,z as o,O as w,y as n,a4 as _,a5 as Y,a7 as k,a6 as ee,K as x,B as D,D as y,a8 as oe,x as T,H as te,G as ae,T as se,a9 as re,aa as ne}from"./index.2ef7a81a.js";import{Q as $,a as A}from"./QItemSection.3a5d4c83.js";import{Q as ie}from"./QMenu.f50512a6.js";import{Q as le}from"./QToolbar.ff7ff7d8.js";import{E as ue,a as me,F as de,S as ce,C as pe,Q as fe,b as ge}from"./ComportamientoModalesMainLayout.2e73902d.js";import{a as be}from"./QSelect.69d1b992.js";import{Q as he}from"./use-fullscreen.a336d1b1.js";import{Q as ve}from"./QScrollArea.0279c0c6.js";import{Q as B,a as O}from"./QLayout.e15f154b.js";import{d as S}from"./dayjs.min.80d1628b.js";import{r as we,e as ke}from"./es.edeb524b.js";import{M as ye}from"./ModalEntidad.be40edc8.js";import{u as Ce}from"./configuracion_general.ca1e935d.js";import{S as qe,i as Pe}from"./utils.a862dc08.js";import{L as Qe}from"./LoginPostulanteController.bf4b0f79.js";import"./position-engine.093dda28.js";import"./QResizeObserver.8bc492d6.js";import"./TouchPan.819070cc.js";import"./touch.9135741d.js";import"./format.8ac60962.js";import"./QCircularProgress.f92822f9.js";import"./QExpansionItem.19ca5c53.js";import"./ComponenteModal.domain.57cc3867.js";import"./QForm.e1af9500.js";import"./tareas.utils.309e0dff.js";import"./i18n-validators.46fc4c83.js";import"./index.e1f41ef1.js";import"./index.e8d8fb1e.js";import"./TabLayout.5bc8ab45.js";import"./QTabs.5cdabeb1.js";import"./QTabPanels.7f1e5320.js";import"./QPopupProxy.567210a4.js";import"./QPage.2bc1c297.js";import"./buttonSubmits.35676009.js";import"./EssentialTable.f528a579.js";import"./QFile.f5c4066f.js";import"./QChip.c5c0b225.js";import"./QBadge.ebf9f349.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.9c11306d.js";import"./VisorImagen.12af3936.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.94e1365a.js";import"./EssentialTablePagination.73d42aee.js";import"./TrabajoAsignadoController.79682279.js";import"./ContenedorSimpleMixin.617817a8.js";import"./MovilizacionSubtareaController.c9de9480.js";import"./movilizacionSubtarea.69c3376e.js";import"./MovilizacionSubtarea.9a93287f.js";import"./entidadAuditable.75a46700.js";import"./configuracionColumnasTarea.bcb4cc35.js";import"./FiltrosListadosTarea.dcf41243.js";import"./TareaController.f1ef1787.js";import"./tarea.67947e29.js";import"./Subtarea.3371ad54.js";import"./ModoNoDisponiblePage.5541aeba.js";import"./QTime.e4c71dc4.js";import"./EmpleadoDelegadoController.07cd7f4f.js";import"./filtrosListadosGenerales.79b6e840.js";import"./EmpleadoRolesController.e15f64a6.js";import"./QScrollObserver.42cd2ac8.js";import"./ConfiguracionController.337fc7d3.js";const Me=N("menuExternal",()=>{const e=C.getItem("method_access");return{links:u(()=>{const g=[{title:"Disponibles",icon:"bi-suitcase-lg-fill",link:"puestos-disponibles",can:!0},{title:"Aplicados",icon:"bi-check2-square",link:"puestos-aplicados",can:!0},{title:"Favoritas",icon:"bi-heart-fill",link:"favoritas",can:!0}];return e===U.empleado&&g.unshift({title:"Inicio",icon:"bi-house-door-fill",link:"/",can:!0}),g})}});var Le=j({name:"PostulanteLayout",components:{EssentialLink:ue,EssentialLoading:me,FooterComponent:de,ModalesEntidad:ye,ScrollToTopButton:ce},setup(){var E;const e=p(!1),t=Me(),g=p(!1),b=G(),l=Ce(),{autenticado:V}=R();S.extend(we),S.locale(ke);const c=new qe,q=K(),P=u(()=>{var r;return(r=l.configuracion)==null?void 0:r.logo_claro}),Q=u(()=>{var r;return(r=l.configuracion)==null?void 0:r.logo_oscuro}),M=u(()=>{var L;const r=b.user;return r?`${r.nombres} ${(L=r.apellidos)!=null?L:""} `:""});l.consultarConfiguracion().then(()=>l.cambiarFavicon());const h=u(()=>{var r;return(r=l.configuracion)==null?void 0:r.nombre_empresa});J(()=>document.title=h.value);async function s(){c.activar(),await b.logout(),await q.replace({name:"LoginPostulante"}),c.desactivar()}const m=Z(),v=p((E=C.getItem("dark"))!=null?E:!1);m.dark.set(Boolean(v.value));function I(){m.dark.set(Boolean(v.value)),C.set("dark",v.value)}const F=u(()=>{const r=b.user;return r?`https://ui-avatars.com/api/?name=${r.nombres.substr(0,1)}+${r.apellidos.substr(0,1)}&bold=true&background=0879dc28&color=0879dc`:" "});W(async()=>{try{c.activar(),C.getItem("token")===void 0&&await new Qe().obtenerSesionUser()}catch(r){console.log("montar errror",r),Pe(r)&&console.log("montar errror",r.mensaje)}finally{c.desactivar()}});const z=u(()=>m.screen.xs?"center middle":"top start"),H=new pe;return l.consultarConfiguracion().then(()=>l.cambiarFavicon()),{logoClaro:P,logoOscuro:Q,modales:H,links:t.links,leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value},logout:s,nombreUsuario:M,menuVisible:g,modoOscuro:v,toggleDarkMode:I,width:u(()=>m.screen.xs?"100%":"450px"),mostrarMenu:p(!1),mostrarNotificaciones:p(!1),mostrarOpciones:p(!1),dayjs:S,imagenPerfil:F,selfCenterMiddle:z,autenticado:V}}});const _e=["src"],$e={class:"column items-center q-py-sm window-height"},Se={class:"full-width text-right q-pr-md"},Ve=["src"],Ee={class:"text-subtitle1 text-center"},xe={class:"absolute-top q-pa-sm q-ma-sm rounded-card"},De=["src"],Te={class:"text-right absolute-bottom"};function Ae(e,t,g,b,l,V){const c=f("EssentialLink"),q=f("modales-entidad"),P=f("ScrollToTopButton"),Q=f("essential-loading"),M=f("footer-component"),h=f("router-view");return e.autenticado?(i(),d(O,{key:0,view:"lHh Lpr lFf"},{default:a(()=>[o(fe,{class:"bg-desenfoque"},{default:a(()=>[o(le,{class:"row justify-between q-py-sm border-bottom"},{default:a(()=>[o(w,{dense:"","aria-label":"Menu",onClick:e.toggleLeftDrawer,class:"custom-shadow bg-primary",unelevated:""},{default:a(()=>t[8]||(t[8]=[n("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m 4.9152545,6.3008475 c 0,-0.607508 0.44772,-1.1 1,-1.1 H 17.915255 c 0.5523,0 1,0.492492 1,1.1 0,0.607508 -0.4477,1.1 -1,1.1 H 5.9152545 c -0.55228,0 -1,-0.492492 -1,-1.1 z",fill:"#575b6e",id:"path2",style:{fill:"#fff","stroke-width":"1.04881"}}),n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m 1.7118644,12.182204 c 0,-0.607508 0.6526088,-1.1 1.457627,-1.1 H 20.661018 c 0.805046,0 1.457627,0.492492 1.457627,1.1 0,0.60753 -0.652581,1.1 -1.457627,1.1 H 3.1694914 c -0.8050182,0 -1.457627,-0.49247 -1.457627,-1.1 z",fill:"#575b6e",id:"path4",style:{fill:"#fff","stroke-width":"1.26625"}}),n("path",{id:"path6",style:{fill:"#fff","stroke-width":"1.04881"},d:"M 8.9160156 16.658203 C 8.3637368 16.658203 7.9160156 17.150284 7.9160156 17.757812 C 7.9160156 18.365342 8.3637368 18.859375 8.9160156 18.859375 L 14.916016 18.859375 C 15.468314 18.859375 15.916016 18.365342 15.916016 17.757812 C 15.916016 17.150284 15.468314 16.658203 14.916016 16.658203 L 8.9160156 16.658203 z "})],-1)])),_:1},8,["onClick"]),n("span",{class:_(["row",{"q-gutter-x-sm":e.$q.screen.xs,"q-gutter-x-md":!e.$q.screen.xs}])},[n("span",{class:_(["row",{"q-gutter-x-xs":e.$q.screen.xs,"q-gutter-x-sm":!e.$q.screen.xs}])},null,2),(i(),d(w,{key:0,dense:"",round:"",flat:"",glossy:"",onClick:t[5]||(t[5]=Y(s=>e.mostrarMenu=!0,["self"]))},{default:a(()=>[o(k,{size:"38px"},{default:a(()=>[n("img",{src:e.imagenPerfil},null,8,_e)]),_:1}),o(ie,{modelValue:e.mostrarMenu,"onUpdate:modelValue":t[4]||(t[4]=s=>e.mostrarMenu=s),self:e.selfCenterMiddle,"transition-show":"jump-down","transition-hide":"jump-out",style:ee({"min-width":e.width}),class:"window-height bg-desenfoque custom-shadow","max-height":"100vh"},{default:a(()=>[n("div",$e,[n("div",Se,[o(w,{icon:"bi-x",round:"",dense:"",unelevated:"",outline:"",color:"grey-8",onClick:t[0]||(t[0]=s=>e.mostrarMenu=!1)})]),o(k,{size:"72px",class:"double-border q-mb-md"},{default:a(()=>[n("img",{src:e.imagenPerfil},null,8,Ve)]),_:1}),n("div",Ee,x(e.nombreUsuario),1),o($,{clickable:"",to:{name:"perfil_usuario_externo"},class:"full-width"},{default:a(()=>[o(k,null,{default:a(()=>[o(D,{name:"bi-person"})]),_:1}),o(A,null,{default:a(()=>t[9]||(t[9]=[y(" Perfil ")])),_:1})]),_:1}),o($,{clickable:"",class:"full-width"},{default:a(()=>[o(oe,{modelValue:e.modoOscuro,"onUpdate:modelValue":t[1]||(t[1]=s=>e.modoOscuro=s),"checked-icon":"bi-moon-fill",label:"Modo oscuro","unchecked-icon":"bi-sun-fill",onClick:t[2]||(t[2]=s=>e.toggleDarkMode())},null,8,["modelValue"])]),_:1}),o($,{clickable:"",class:"full-width",onClick:t[3]||(t[3]=s=>e.logout()),disable:e.$q.loading.isActive},{default:a(()=>[o(k,null,{default:a(()=>[o(D,{name:"bi-box-arrow-left"})]),_:1}),o(A,null,{default:a(()=>t[10]||(t[10]=[y(" Cerrar sesi\xF3n ")])),_:1})]),_:1},8,["disable"])])]),_:1},8,["modelValue","self","style"])]),_:1}))],2)]),_:1})]),_:1}),o(ge,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[7]||(t[7]=s=>e.leftDrawerOpen=s),class:"bg-drawer border-right q-px-sm q-py-sm","show-if-above":""},{default:a(()=>[n("div",xe,[n("img",{src:e.$q.dark.isActive?e.logoOscuro:e.logoClaro,height:"80",class:"q-mx-auto block"},null,8,De)]),o(ve,{style:{height:"calc(94% - 100px)","margin-top":"100px","margin-bottom":"20px"}},{default:a(()=>[o(he,null,{default:a(()=>[(i(!0),T(ae,null,te(e.links,s=>{var m;return i(),T("div",{key:s.title},[s.hasOwnProperty("header")?(i(),d(be,{key:0,header:"",class:"text-bold text-primary"},{default:a(()=>[y(x(s.header),1)]),_:2},1024)):(i(),d(c,{key:1,title:(m=s.title)!=null?m:"",link:s.link,icon:s.icon,children:s.children,can:s.can},null,8,["title","link","icon","children","can"]))])}),128))]),_:1})]),_:1}),o(w,{color:"primary","no-caps":"",class:"full-width q-mb-md",outline:"",rounded:"",onClick:t[6]||(t[6]=s=>e.logout())},{default:a(()=>t[11]||(t[11]=[y("Cerrar sesi\xF3n")])),_:1})]),_:1},8,["modelValue"]),o(q,{comportamiento:e.modales},null,8,["comportamiento"]),o(P),o(B,{class:_([{"bg-body":!0},"window-height"])},{default:a(()=>[o(h,null,{default:a(({Component:s})=>[o(se,{name:"scale",mode:"out-in"},{default:a(()=>[o(Q)]),_:1}),n("div",Te,[o(M)]),(i(),d(re,{exclude:["PostulacionVacantePage","PuestoDisponiblePage","PuestoAplicadoPage","VacanteFavoritaPage","Ingresos","Egresos","OrdenCompraPage","PreordenCompra","Devoluciones","RolPagoMes","AcreditacionSemana","TransferenciaProductoEmpleado"]},[(i(),d(ne(s)))],1024))]),_:1})]),_:1})]),_:1})):(i(),d(O,{key:1,view:"lHh lpR fFf"},{default:a(()=>[o(B,null,{default:a(()=>[o(h)]),_:1})]),_:1}))}var Ro=X(Le,[["render",Ae]]);export{Ro as default};
