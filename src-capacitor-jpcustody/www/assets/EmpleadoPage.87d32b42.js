var _o=Object.defineProperty;var xo=(e,o,v)=>o in e?_o(e,o,{enumerable:!0,configurable:!0,writable:!0,value:v}):e[o]=v;var Y=(e,o,v)=>(xo(e,typeof o!="symbol"?o+"":o,v),v);import{bx as po,s as ee,d as $e,by as q,R as co,c as V,w as ea,f as Pe,q as se,_ as Ae,t as I,v as t,x as m,y as s,z as l,F as i,D as H,O as C,G as R,H as N,K as L,J as $,I as c,B as F,j as z,P as J,V as U,a8 as D,E as De,bg as be,S as ie,bc as oa,m as so,e as io,u as aa,a1 as no,a2 as la,A as ve,h as sa,bn as ia,cM as na,c$ as ra,cP as da,p as ta,cK as ma,bG as ua,a5 as pa,M as ca,N as ba,L as ro,a4 as va}from"./index.2ef7a81a.js";import{Q as Z}from"./QExpansionItem.19ca5c53.js";import{Q as P,a as fa}from"./QSelect.69d1b992.js";import{Q as G,a as M,C as Q}from"./QPopupProxy.567210a4.js";import{Q as bo,a as je}from"./QItemSection.3a5d4c83.js";import{a as Se}from"./QToolbar.ff7ff7d8.js";import{Q as ga}from"./QForm.e1af9500.js";import{c as $a,T as Va}from"./TipoDiscapacidadController.64c368ac.js";import{a as j,r as k,b as to,m as Fe,n as ha}from"./i18n-validators.46fc4c83.js";import{u as vo}from"./index.e8d8fb1e.js";import{T as ka}from"./TabLayoutFilterTabs2.2c3270e4.js";import{E as Oe,S as ya,R as wa}from"./EssentialTable.f528a579.js";import{G as qa}from"./GestorArchivos.b6573888.js";import{I as Ca}from"./InformacionLicencia.b5e10ee1.js";import{M as Fa}from"./ModalEntidad.be40edc8.js";import{C as Te}from"./ContenedorSimpleMixin.617817a8.js";import{R as Ea}from"./RolController.b6e95490.js";import{G as Ba}from"./GrupoController.23616581.js";import{E as Ua}from"./Empleado.20234ba0.js";import{C as Pa}from"./CargoController.a354251e.js";import{D as Da}from"./DepartamentoController.3b247c8d.js";import{E as ja}from"./EstadoCivilController.56363ade.js";import{B as Sa}from"./BancoController.4df9d621.js";import{C as fe,a as Ia}from"./ComponenteModal.domain.57cc3867.js";import{P as Ie,a as ge,E as fo}from"./PlanVacacionController.101af4bc.js";import{F as Aa,a as Oa}from"./FamiliaresPage.db0ed964.js";import{S as Ta}from"./SimpleLayout.8e717a1b.js";import{T as Ra}from"./TabLayout.5bc8ab45.js";import{u as Re}from"./empleado.5bf2e227.js";import{V as La}from"./VacacionController.23276b3b.js";import{B as Na}from"./buttonSubmits.35676009.js";import{L as Ee,M as Be,u as za,S as Ga,s as Ma,N as Qa,A as Ha,C as mo}from"./utils.a862dc08.js";import{P as Wa}from"./PeriodoController.a2590ea4.js";import{u as go}from"./filtrosListadosGenerales.79b6e840.js";import{c as $o}from"./configuracionColumnasDetallesVacacion.fceee56a.js";import{u as Ja}from"./configuracion_general.ca1e935d.js";import{A as Ka}from"./ArchivoController.8e5a0c13.js";import{C as Ue}from"./Conductor.978d1863.js";import{T as Xa}from"./TipoDiscapacidadPorcentaje.ff161008.js";import{p as Ya,a as Za}from"./recursosHumanos.utils.f01cf672.js";import{u as _a}from"./postulante.2ab9675a.js";import{N as xa}from"./NoOptionComponent.264184d7.js";import{E as el}from"./ErrorComponent.94e1365a.js";const ol=[{name:"identificacion",field:"identificacion",label:"Identificaci\xF3n",align:"left",sortable:!0},{name:"nombres",field:"nombres",label:"Nombres",align:"left",sortable:!0},{name:"apellidos",field:"apellidos",label:"Apellidos",align:"left",sortable:!0},{name:"fecha_nacimiento",field:"fecha_nacimiento",label:"Fecha de Nacimiento",align:"left",sortable:!0},{name:"telefono",field:"telefono",label:"Telefono",align:"left",sortable:!0},{name:"jefe",field:"jefe",label:"Jefe",align:"left",sortable:!0,style:"width:150px"},{name:"email",field:"email",label:"Correo",align:"left",sortable:!0},{name:"canton",field:"canton",label:"Sede",align:"left",sortable:!0},{name:"direccion",field:"direccion",label:"Direcci\xF3n",align:"left",visible:!1},{name:"area_info",field:"area_info",label:"Area",align:"left",visible:!1},{name:"grupo",field:"grupo",label:"Grupo",align:"left",sortable:!0},{name:"cargo",field:"cargo",label:"Cargo",align:"left",sortable:!0},{name:"departamento",field:"departamento",label:"Departamento",align:"left",sortable:!0},{name:"fecha_vinculacion",field:"fecha_vinculacion",label:"Fecha Vinculaci\xF3n",align:"left",sortable:!0},{name:"fecha_salida",field:"fecha_salida",label:"Fecha Desvinculaci\xF3n",align:"left",sortable:!0},{name:"num_cuenta",field:"num_cuenta",label:"Numero de Cuenta",align:"left",sortable:!0},{name:"salario",field:"salario",label:"Salario",align:"left",visible:!1,sortable:!0},{name:"estado",field:"estado",label:"\xBFActivo?",align:"left",sortable:!0},{name:"esta_en_rol_pago",field:"esta_en_rol_pago",label:"\xBFEsta enrolado?",align:"left",sortable:!0},{name:"realiza_factura",field:"realiza_factura",label:"Factura",align:"left",sortable:!0},{name:"firma_url",field:"firma_url",label:"\xBFFirma?",align:"left",sortable:!0},{name:"archivos",field:"archivos",label:"archivos",visible:!1}];class al extends po{constructor(){super(ee.tipo_contrato)}}class ll extends po{constructor(){super(ee.areas)}}const uo=[{name:"identificacion",field:"identificacion",label:"Identificacion",align:"left",sortable:!0,editable:!0},{name:"nombres",field:"nombres",label:"Nombres",align:"left",sortable:!0,editable:!0},{name:"apellidos",field:"apellidos",label:"Apellidos",align:"left",sortable:!0,editable:!0},{name:"parentezco",field:"parentezco",label:"Parentezco",align:"left",sortable:!0,editable:!0,type:"select"}];var sl=$e({components:{ButtonSubmits:Na},props:{identificador:{type:Number,default:-1},accion:{type:String,default:q.nuevo},plan:{type:Ie,required:!0},diasDisponibles:{type:Number,required:!0},empleado:{type:Number,required:!0},periodo:{type:Number,default:-1},habilitarBotones:{type:Boolean,default:!0}},setup(e,{emit:o}){var me;const v=new Te(Ie,new ge),{entidad:u,accion:b,listadosAuxiliares:r}=v.useReferencias(),{setValidador:p,guardar:n,editar:f,cargarVista:B,obtenerListados:A}=v.useComportamiento(),{onGuardado:T,onModificado:S}=v.useHooks(),{notificarAdvertencia:h}=co(),a=V(!1),O=Re();console.log(e),e.accion==q.editar&&u.hydrate(e.plan),u.empleado=e.empleado,u.periodo=e.periodo,console.log(e.periodo),e.plan!=null&&(u.periodo=(me=e.plan)==null?void 0:me.periodo_id),T(()=>{o("guardado",b)}),S(()=>{o("guardado",b)});const{periodos:K,filtrarPeriodos:_}=go(r);B(async()=>{await A({periodos:e.periodo==-1?new Wa:[]}),K.value=r.periodos});const E={fecha_inicio:{required:j(()=>u.rangos==1)},fecha_fin:{required:j(()=>u.rangos==1)},fecha_inicio_primer_rango:{required:j(()=>u.rangos==2)},fecha_fin_primer_rango:{required:j(()=>u.rangos==2)},fecha_inicio_segundo_rango:{required:j(()=>u.rangos==2)},fecha_fin_segundo_rango:{required:j(()=>u.rangos==2)},dias_primer_rango:{required:j(()=>u.rangos==2)},dias_segundo_rango:{required:j(()=>u.rangos==2)},periodo:{required:j(()=>e.periodo==-1)}},y=vo(E,u);y.value=p(y.value);const ne=()=>{a.value=!0},Ve=()=>{o("cancelar",e.identificador),a.value=!1},re=()=>{u.fecha_fin=Ee(Be(u.fecha_inicio,e.diasDisponibles-1),se)};function he(){if(O.idEmpleado){const ue=parseInt(O.empleado.fecha_ingreso.split("-")[0]);r.periodos=r.periodos.filter(pe=>parseInt(pe.nombre.split("-")[0])>=ue)}K.value=r.periodos}ea(()=>{Number(u.dias_primer_rango)+Number(u.dias_segundo_rango)>e.diasDisponibles&&h(`La suma de los d\xEDas para el primer y segundo rango no deben exceder ${e.diasDisponibles} d\xEDas`)});const oe=()=>{u.fecha_inicio_primer_rango&&u.dias_primer_rango>0&&(u.fecha_fin_primer_rango=Ee(Be(u.fecha_inicio_primer_rango,u.dias_primer_rango-1),se))},de=()=>{u.fecha_inicio_segundo_rango&&u.dias_segundo_rango>0&&(u.fecha_fin_segundo_rango=Ee(Be(u.fecha_inicio_segundo_rango,u.dias_segundo_rango-1),se))},te=()=>{oe(),de()};return{v$:y,disabled:Pe(()=>!e.habilitarBotones),maskFecha:se,planVacacion:u,mostrarFormularioCrearPlan:a,empleadoStore:O,periodos:K,filtrarPeriodos:_,crearPlanVacaciones:ne,calcularFechaFin:re,calcularFechaFinPrimerRango:oe,calcularFechaFinSegundoRango:de,calcularFechasRangos:te,guardar:n,editar:f,cancelar:Ve,obtenerPeriodos:he}}});const il={key:0,class:"row q-col-gutter-sm q-pa-sm"},nl={class:"col-6"},rl={key:1},dl={class:"row q-col-gutter-sm q-pa-sm"},tl={key:0,class:"col-12 col-md-3"},ml={class:"error-msg"},ul={class:"col-3 col-md-3 col-sm-6"},pl={class:"col-3 col-md-3 col-sm-6"},cl={key:1,class:"col-3 col-md-3 col-sm-6"},bl={class:"error-msg"},vl={key:2,class:"col-3 col-md-3 col-sm-6"},fl={class:"error-msg"},gl={key:3,class:"col-12 col-md-3"},$l={class:"row items-center justify-end"},Vl={class:"error-msg"},hl={key:4,class:"col-12 col-md-3"},kl={class:"row items-center justify-end"},yl={class:"error-msg"},wl={key:5,class:"col-12 col-md-3"},ql={class:"row items-center justify-end"},Cl={class:"error-msg"},Fl={key:6,class:"col-12 col-md-3"},El={class:"row items-center justify-end"},Bl={class:"error-msg"},Ul={key:7,class:"col-12 col-md-3"},Pl={class:"row items-center justify-end"},Dl={class:"error-msg"},jl={key:8,class:"col-12 col-md-3"},Sl={class:"row items-center justify-end"},Il={class:"error-msg"},Al={class:"row justify-end q-pr-md q-pb-md"};function Ol(e,o,v,u,b,r){const p=I("button-submits");return e.plan==null&&!e.mostrarFormularioCrearPlan?(t(),m("div",il,[s("div",nl,[l(C,{unelevated:"",glossy:"",color:"primary",onClick:e.crearPlanVacaciones},{default:i(()=>o[19]||(o[19]=[H("Crear Plan de Vacaciones ")])),_:1},8,["onClick"])])])):(t(),m("div",rl,[s("div",dl,[e.periodo==-1?(t(),m("div",tl,[o[21]||(o[21]=s("label",{class:"q-mb-sm block"},"Periodo",-1)),l(P,{modelValue:e.planVacacion.periodo,"onUpdate:modelValue":o[0]||(o[0]=n=>e.planVacacion.periodo=n),options:e.periodos,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"",disable:e.disabled,error:!!e.v$.periodo.$errors.length,"error-message":"Debes seleccionar un periodo","use-input":"",onBlur:e.v$.periodo.$touch,onPopupShow:e.obtenerPeriodos,"input-debounce":"0",onFilter:e.filtrarPeriodos,"option-value":n=>n.id,"option-label":n=>n.nombre,"emit-value":"","map-options":""},{error:i(()=>[(t(!0),m(R,null,N(e.v$.periodo.$errors,n=>(t(),m("div",{key:n.$uid},[s("div",ml,L(n.$message),1)]))),128))]),"no-option":i(()=>[l(bo,null,{default:i(()=>[l(je,{class:"text-grey"},{default:i(()=>o[20]||(o[20]=[H(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","error","onBlur","onPopupShow","onFilter","option-value","option-label"])])):$("",!0),s("div",ul,[o[22]||(o[22]=s("label",{class:"q-mb-sm block"},"D\xEDas disponibles",-1)),l(c,{modelValue:e.diasDisponibles,"onUpdate:modelValue":o[1]||(o[1]=n=>e.diasDisponibles=n),disable:"",outlined:"",dense:""},null,8,["modelValue"])]),s("div",pl,[o[23]||(o[23]=s("label",{class:"q-mb-sm block"},"Rangos",-1)),l(c,{modelValue:e.planVacacion.rangos,"onUpdate:modelValue":o[2]||(o[2]=n=>e.planVacacion.rangos=n),type:"number",min:"1",max:"2",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),e.planVacacion.rangos==2?(t(),m("div",cl,[o[24]||(o[24]=s("label",{class:"q-mb-sm block"},"D\xEDas Primer Rango",-1)),l(c,{modelValue:e.planVacacion.dias_primer_rango,"onUpdate:modelValue":[o[3]||(o[3]=n=>e.planVacacion.dias_primer_rango=n),e.calcularFechasRangos],type:"number",disable:e.disabled,error:!!e.v$.dias_primer_rango.$errors.length,onBlur:e.v$.dias_primer_rango.$touch,outlined:"",dense:""},{error:i(()=>[(t(!0),m(R,null,N(e.v$.dias_primer_rango.$errors,n=>(t(),m("div",{key:n.$uid},[s("div",bl,L(n.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onBlur","onUpdate:modelValue"])])):$("",!0),e.planVacacion.rangos==2?(t(),m("div",vl,[o[25]||(o[25]=s("label",{class:"q-mb-sm block"},"D\xEDas Segundo Rango",-1)),l(c,{modelValue:e.planVacacion.dias_segundo_rango,"onUpdate:modelValue":[o[4]||(o[4]=n=>e.planVacacion.dias_segundo_rango=n),e.calcularFechasRangos],type:"number",error:!!e.v$.dias_segundo_rango.$errors.length,onBlur:e.v$.dias_segundo_rango.$touch,disable:e.disabled,outlined:"",dense:""},{error:i(()=>[(t(!0),m(R,null,N(e.v$.dias_segundo_rango.$errors,n=>(t(),m("div",{key:n.$uid},[s("div",fl,L(n.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur","disable","onUpdate:modelValue"])])):$("",!0),e.planVacacion.rangos==1?(t(),m("div",gl,[o[26]||(o[26]=s("label",{class:"q-mb-sm block"},"Fecha Inicio",-1)),l(c,{modelValue:e.planVacacion.fecha_inicio,"onUpdate:modelValue":o[6]||(o[6]=n=>e.planVacacion.fecha_inicio=n),placeholder:"Obligatorio",error:!!e.v$.fecha_inicio.$errors.length,disable:e.disabled,onBlur:e.v$.fecha_inicio.$touch,outlined:"",dense:""},{append:i(()=>[l(F,{name:"event",class:"cursor-pointer"},{default:i(()=>[l(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[l(M,{modelValue:e.planVacacion.fecha_inicio,"onUpdate:modelValue":[o[5]||(o[5]=n=>e.planVacacion.fecha_inicio=n),e.calcularFechaFin],mask:e.maskFecha,"today-btn":""},{default:i(()=>[s("div",$l,[z(l(C,{label:"Cerrar",color:"primary",flat:""},null,512),[[Q]])])]),_:1},8,["modelValue","mask","onUpdate:modelValue"])]),_:1})]),_:1})]),error:i(()=>[(t(!0),m(R,null,N(e.v$.fecha_inicio.$errors,n=>(t(),m("div",{key:n.$uid},[s("div",Vl,L(n.$message),1)]))),128))]),_:1},8,["modelValue","error","disable","onBlur"])])):$("",!0),e.planVacacion.rangos==1?(t(),m("div",hl,[o[27]||(o[27]=s("label",{class:"q-mb-sm block"},"Fecha Fin",-1)),l(c,{modelValue:e.planVacacion.fecha_fin,"onUpdate:modelValue":o[8]||(o[8]=n=>e.planVacacion.fecha_fin=n),placeholder:"Obligatorio",error:!!e.v$.fecha_fin.$errors.length,disable:"",onBlur:e.v$.fecha_fin.$touch,outlined:"",dense:""},{append:i(()=>[l(F,{name:"event",class:"cursor-pointer"},{default:i(()=>[l(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[l(M,{modelValue:e.planVacacion.fecha_fin,"onUpdate:modelValue":o[7]||(o[7]=n=>e.planVacacion.fecha_fin=n),mask:e.maskFecha,"today-btn":""},{default:i(()=>[s("div",kl,[z(l(C,{label:"Cerrar",color:"primary",flat:""},null,512),[[Q]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:i(()=>[(t(!0),m(R,null,N(e.v$.fecha_fin.$errors,n=>(t(),m("div",{key:n.$uid},[s("div",yl,L(n.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])])):$("",!0),e.planVacacion.rangos==2?(t(),m("div",wl,[o[28]||(o[28]=s("label",{class:"q-mb-sm block"},"Fecha Inicio Primer Rango",-1)),l(c,{modelValue:e.planVacacion.fecha_inicio_primer_rango,"onUpdate:modelValue":o[10]||(o[10]=n=>e.planVacacion.fecha_inicio_primer_rango=n),placeholder:"Obligatorio",error:!!e.v$.fecha_inicio_primer_rango.$errors.length,disable:e.disabled,onBlur:e.v$.fecha_inicio_primer_rango.$touch,outlined:"",dense:""},{append:i(()=>[l(F,{name:"event",class:"cursor-pointer"},{default:i(()=>[l(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[l(M,{modelValue:e.planVacacion.fecha_inicio_primer_rango,"onUpdate:modelValue":[o[9]||(o[9]=n=>e.planVacacion.fecha_inicio_primer_rango=n),e.calcularFechaFinPrimerRango],mask:e.maskFecha,"today-btn":""},{default:i(()=>[s("div",ql,[z(l(C,{label:"Cerrar",color:"primary",flat:""},null,512),[[Q]])])]),_:1},8,["modelValue","onUpdate:modelValue","mask"])]),_:1})]),_:1})]),error:i(()=>[(t(!0),m(R,null,N(e.v$.fecha_inicio_primer_rango.$errors,n=>(t(),m("div",{key:n.$uid},[s("div",Cl,L(n.$message),1)]))),128))]),_:1},8,["modelValue","error","disable","onBlur"])])):$("",!0),e.planVacacion.rangos==2?(t(),m("div",Fl,[o[29]||(o[29]=s("label",{class:"q-mb-sm block"},"Fecha Fin Primer Rango ",-1)),l(c,{modelValue:e.planVacacion.fecha_fin_primer_rango,"onUpdate:modelValue":o[12]||(o[12]=n=>e.planVacacion.fecha_fin_primer_rango=n),placeholder:"Obligatorio",error:!!e.v$.fecha_fin_primer_rango.$errors.length,disable:"",onBlur:e.v$.fecha_fin_primer_rango.$touch,outlined:"",dense:""},{append:i(()=>[l(F,{name:"event",class:"cursor-pointer"},{default:i(()=>[l(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[l(M,{modelValue:e.planVacacion.fecha_fin_primer_rango,"onUpdate:modelValue":o[11]||(o[11]=n=>e.planVacacion.fecha_fin_primer_rango=n),mask:e.maskFecha,"today-btn":""},{default:i(()=>[s("div",El,[z(l(C,{label:"Cerrar",color:"primary",flat:""},null,512),[[Q]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:i(()=>[(t(!0),m(R,null,N(e.v$.fecha_fin_primer_rango.$errors,n=>(t(),m("div",{key:n.$uid},[s("div",Bl,L(n.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])])):$("",!0),e.planVacacion.rangos==2?(t(),m("div",Ul,[o[30]||(o[30]=s("label",{class:"q-mb-sm block"},"Fecha Inicio Segundo Rango",-1)),l(c,{modelValue:e.planVacacion.fecha_inicio_segundo_rango,"onUpdate:modelValue":o[14]||(o[14]=n=>e.planVacacion.fecha_inicio_segundo_rango=n),placeholder:"Obligatorio",error:!!e.v$.fecha_inicio_segundo_rango.$errors.length,disable:e.disabled,onBlur:e.v$.fecha_inicio_segundo_rango.$touch,outlined:"",dense:""},{append:i(()=>[l(F,{name:"event",class:"cursor-pointer"},{default:i(()=>[l(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[l(M,{modelValue:e.planVacacion.fecha_inicio_segundo_rango,"onUpdate:modelValue":[o[13]||(o[13]=n=>e.planVacacion.fecha_inicio_segundo_rango=n),e.calcularFechaFinSegundoRango],mask:e.maskFecha,"today-btn":""},{default:i(()=>[s("div",Pl,[z(l(C,{label:"Cerrar",color:"primary",flat:""},null,512),[[Q]])])]),_:1},8,["modelValue","onUpdate:modelValue","mask"])]),_:1})]),_:1})]),error:i(()=>[(t(!0),m(R,null,N(e.v$.fecha_inicio_segundo_rango.$errors,n=>(t(),m("div",{key:n.$uid},[s("div",Dl,L(n.$message),1)]))),128))]),_:1},8,["modelValue","error","disable","onBlur"])])):$("",!0),e.planVacacion.rangos==2?(t(),m("div",jl,[o[31]||(o[31]=s("label",{class:"q-mb-sm block"},"Fecha Fin Segundo Rango",-1)),l(c,{modelValue:e.planVacacion.fecha_fin_segundo_rango,"onUpdate:modelValue":o[16]||(o[16]=n=>e.planVacacion.fecha_fin_segundo_rango=n),placeholder:"Obligatorio",error:!!e.v$.fecha_fin_segundo_rango.$errors.length,disable:"",onBlur:e.v$.fecha_fin_segundo_rango.$touch,outlined:"",dense:""},{append:i(()=>[l(F,{name:"event",class:"cursor-pointer"},{default:i(()=>[l(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[l(M,{modelValue:e.planVacacion.fecha_fin_segundo_rango,"onUpdate:modelValue":o[15]||(o[15]=n=>e.planVacacion.fecha_fin_segundo_rango=n),mask:e.maskFecha,"today-btn":""},{default:i(()=>[s("div",Sl,[z(l(C,{label:"Cerrar",color:"primary",flat:""},null,512),[[Q]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:i(()=>[(t(!0),m(R,null,N(e.v$.fecha_fin_segundo_rango.$errors,n=>(t(),m("div",{key:n.$uid},[s("div",Il,L(n.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])])):$("",!0)]),s("div",Al,[e.habilitarBotones?(t(),J(p,{key:0,accion:e.accion,onEditar:o[17]||(o[17]=n=>e.editar(e.planVacacion)),onGuardar:o[18]||(o[18]=n=>e.guardar(e.planVacacion)),onCancelar:e.cancelar},null,8,["accion","onCancelar"])):$("",!0)])]))}var Tl=Ae(sl,[["render",Ol]]);const Rl={class:"row q-col-gutter-sm q-py-md"},Ll={class:"col-12 col-md-2 col-sm-3"},Nl={class:"col-12 col-md-2 col-sm-3"},zl={class:"col-12 col-md-2 col-sm-3"},Gl={class:"col-12 col-md-3 col-sm-3"},Ml={class:"col-12 col-md-3 col-sm-3"},Ql={class:"col-12"},Hl=$e({__name:"VacacionLitePage",props:{vacacion:{type:Object,required:!0}},setup(e){const v=e.vacacion;return(u,b)=>(t(),m("div",Rl,[s("div",Ll,[b[5]||(b[5]=s("label",{class:"q-mb-sm block"},"D\xEDas de Vacaciones",-1)),l(c,{modelValue:U(v).dias,"onUpdate:modelValue":b[0]||(b[0]=r=>U(v).dias=r),disable:"",readonly:"",outlined:"",dense:""},null,8,["modelValue"])]),s("div",Nl,[b[6]||(b[6]=s("label",{class:"q-mb-sm block"},"D\xEDas Tomados",-1)),l(c,{type:"number",modelValue:U(v).dias_tomados,"onUpdate:modelValue":b[1]||(b[1]=r=>U(v).dias_tomados=r),disable:"",readonly:"",outlined:"",dense:""},null,8,["modelValue"])]),s("div",zl,[b[7]||(b[7]=s("label",{class:"q-mb-sm block"},"D\xEDas Disponibles",-1)),l(c,{type:"number",modelValue:U(v).dias_disponibles,"onUpdate:modelValue":b[2]||(b[2]=r=>U(v).dias_disponibles=r),disable:"",readonly:"",outlined:"",dense:""},null,8,["modelValue"])]),s("div",Gl,[b[8]||(b[8]=s("label",{class:"q-mb-sm block"},"Vacaciones Tomadas",-1)),l(D,{label:U(v).completadas?"SI":"NO",modelValue:U(v).completadas,"onUpdate:modelValue":b[3]||(b[3]=r=>U(v).completadas=r),color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:""},null,8,["label","modelValue"])]),s("div",Ml,[b[9]||(b[9]=s("label",{class:"q-mb-sm block"},"Opt\xF3 por cobrar vacaciones",-1)),l(D,{label:U(v).opto_pago?"SI":"NO",modelValue:U(v).opto_pago,"onUpdate:modelValue":b[4]||(b[4]=r=>U(v).opto_pago=r),color:"primary",disable:"","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear"},null,8,["label","modelValue"])]),s("div",Ql,[l(Oe,{titulo:"Registro de d\xEDas de vacaciones tomados",datos:U(v).detalles,"configuracion-columnas":U($o),"alto-fijo":!1,"ajustar-celdas":"","mostrar-header":!1,"permitir-consultar":!1,"permitir-editar":!1,"permitir-eliminar":!1},null,8,["datos","configuracion-columnas"])])]))}});var Wl=$e({components:{VacacionLitePage:Hl,EssentialTable:Oe,TabLayout:Ra,SimpleLayout:Ta,EmpleadoInfoPage:fo,FormularioPlanVacaciones:Tl},setup(){const e=new Te(Ie,new ge),{entidad:o,disabled:v,listadosAuxiliares:u,accion:b}=e.useReferencias(),{cargarVista:r,obtenerListados:p}=e.useComportamiento(),n=Re(),f=V(-1),B=V(),A=V(!1),T=V(!1),S=V([]),h=V([]);r(async()=>{o.empleado=n.idEmpleado,await p({vacaciones:{controller:new La,params:{empleado_id:n.idEmpleado}},planes_vacaciones:[]}),S.value=u.vacaciones,n.idEmpleado>0&&(await a(n.idEmpleado),await O())});async function a(E){const{result:y}=await new De().listar({id:E});B.value=y[0],n.empleado.hydrate(y[0])}async function O(){if(T.value=!1,A.value=!1,u.planes_vacaciones=[],S.value.length>0)for(const E of S.value){const{result:y}=await new ge().listar({empleado_id:n.idEmpleado,periodo_id:E.periodo_id});y.length>0&&(console.log("Entro en el if",y),u.planes_vacaciones.push(y[0]))}else{const{result:E}=await new ge().listar({empleado_id:n.idEmpleado});u.planes_vacaciones=E}h.value=u.planes_vacaciones,A.value=!0}return{mixin:e,plan:o,disabled:v,accion:b,acciones:q,empleadoStore:n,empleado:B,identificador:f,mostrarPlanVacacion:A,habilitarBotones:T,configuracionColumnasDetallesVacacion:$o,planes_vacaciones:h,vacaciones:S,cancelar:E=>{f.value=E},obtenerPlanesVacaciones:O,obtenerAccion:E=>h.value!==void 0?h.value.length>0?h.value.find(y=>y.periodo==E)?q.editar:q.nuevo:q.nuevo:q.nuevo}}});const Jl={class:"row full-width q-col-gutter-sm q-pt-md"},Kl={class:"row q-pa-sm"},Xl={key:0},Yl={key:0,class:"row q-pa-sm"},Zl={key:0,class:"col-12 border-grey rounded-8"},_l={class:"col-12"},xl={key:0,class:"q-mt-xl q-pt-xl"},es={class:"col-12 border-grey rounded-8"},os={key:0,class:"row q-pa-sm col-12"},as={key:0,class:"col-12 col-md-12 rounded-card q-py-sm text-center text-info bg-blue-2"},ls={class:"col-12"},ss={key:1},is={key:0,class:"row q-pa-sm"},ns={class:"col-12 border-grey rounded-8"};function rs(e,o,v,u,b,r){const p=I("empleado-info-page"),n=I("formulario-plan-vacaciones"),f=I("VacacionLitePage"),B=I("simple-layout");return t(),J(B,{mixin:e.mixin,"mostrar-button-submits":!1},{formulario:i(()=>{var A,T,S;return[l(Z,{class:"overflow-hidden q-mb-md expansion",label:"Informaci\xF3n del Empleado","header-class":"text-bold bg-header-collapse","default-opened":""},{header:i(h=>[s("div",Jl,L(h.expanded?"Informaci\xF3n del Empleado":"Empleado: "+e.empleado.nombres+" "+e.empleado.apellidos),1)]),default:i(()=>[s("div",Kl,[l(p,{alto:"200px"})])]),_:1}),e.vacaciones.length!=0?(t(),m("div",Xl,[(t(!0),m(R,null,N(e.vacaciones,(h,a)=>(t(),J(Z,{key:h.id,class:"overflow-hidden q-mb-md expansion",label:"Per\xEDodo "+h.periodo,"header-class":"text-bold bg-header-collapse","default-opened":""},{default:i(()=>[e.mostrarPlanVacacion?(t(),m("div",Yl,[s("div",null,[o[3]||(o[3]=s("label",null,"Plan de Vacaciones para este per\xEDodo \xA0",-1)),e.obtenerAccion(h.periodo)==e.acciones.editar?(t(),J(C,{key:0,dense:"",outline:"",color:"secondary",onClick:o[0]||(o[0]=()=>e.habilitarBotones=!e.habilitarBotones)},{default:i(()=>[l(Se,{class:"bg-dark"},{default:i(()=>o[2]||(o[2]=[H("Editar")])),_:1}),l(F,{class:"bi-pencil-square",size:"xs"})]),_:1})):$("",!0)]),h.completadas?$("",!0):(t(),m("div",Zl,[l(n,{"habilitar-botones":e.habilitarBotones||e.obtenerAccion(h.periodo)==e.acciones.nuevo,"dias-disponibles":h.dias_disponibles,empleado:e.empleadoStore.idEmpleado,identificador:a,onCancelar:e.cancelar,onGuardado:e.obtenerPlanesVacaciones,accion:e.obtenerAccion(h.periodo),plan:e.planes_vacaciones[a],periodo:h.periodo_id},null,8,["habilitar-botones","dias-disponibles","empleado","identificador","onCancelar","onGuardado","accion","plan","periodo"])])),s("div",_l,[o[5]||(o[5]=s("br",null,null,-1)),h.dias_tomados>0?(t(),m("label",xl,o[4]||(o[4]=[s("strong",null,"Registro de Vacaciones ",-1),H("\xA0")]))):$("",!0)]),s("div",es,[h.dias_tomados>0?(t(),m("div",os,[h.opto_pago?(t(),m("div",as,[l(F,{name:"bi-info-circle-fill",class:"q-mr-sm",size:"1em"}),o[6]||(o[6]=s("b",null,"\xA0 Informaci\xF3n",-1)),o[7]||(o[7]=s("div",null," Estas vacaciones ya fueron tomadas por el empleado, en este caso opt\xF3 por pago de sus d\xEDas de vacaciones ",-1))])):$("",!0),s("div",ls,[l(f,{vacacion:h},null,8,["vacacion"])])])):$("",!0)])])):$("",!0)]),_:2},1032,["label"]))),128))])):(t(),m("div",ss,[o[10]||(o[10]=s("p",null,[s("strong",{style:{color:"red"}},"*"),H(" Este empleado a\xFAn no ha cumplido su primer a\xF1o de labores. ")],-1)),e.mostrarPlanVacacion?(t(),m("div",is,[s("div",null,[o[9]||(o[9]=s("label",null,"Plan de Vacaciones para este per\xEDodo \xA0",-1)),e.obtenerAccion((A=e.planes_vacaciones[0])==null?void 0:A.periodo)==e.acciones.editar?(t(),J(C,{key:0,dense:"",outline:"",color:"secondary",onClick:o[1]||(o[1]=()=>e.habilitarBotones=!e.habilitarBotones)},{default:i(()=>[l(Se,{class:"bg-dark"},{default:i(()=>o[8]||(o[8]=[H("Editar")])),_:1}),l(F,{class:"bi-pencil-square",size:"xs"})]),_:1})):$("",!0)]),s("div",ns,[l(n,{"habilitar-botones":e.habilitarBotones||e.obtenerAccion((T=e.planes_vacaciones[0])==null?void 0:T.periodo)==e.acciones.nuevo,"dias-disponibles":15,empleado:e.empleadoStore.idEmpleado,onCancelar:e.cancelar,onGuardado:e.obtenerPlanesVacaciones,accion:e.obtenerAccion((S=e.planes_vacaciones[0])==null?void 0:S.periodo),plan:e.planes_vacaciones[0]},null,8,["habilitar-botones","empleado","onCancelar","onGuardado","accion","plan"])])])):$("",!0)]))]}),_:1},8,["mixin"])}var ds=Ae(Wl,[["render",rs]]);class ts{constructor(){Y(this,"EmpleadoPage");Y(this,"EmpleadoInfoPage");Y(this,"FamiliaresPage");Y(this,"PlanVacacionIndividualPage");this.EmpleadoPage=be(new fe("Empleado",Vo)),this.EmpleadoInfoPage=be(new fe("Informaci\xF3n de empleado",fo)),this.FamiliaresPage=be(new fe("Familiares",Aa)),this.PlanVacacionIndividualPage=be(new fe("Plan de Vacaciones",ds))}}class ms extends Ia{constructor(){super(new ts)}}class us{constructor(o,v){Y(this,"empleado");Y(this,"conductor");this.empleado=o,this.conductor=v}async validar(){if(this.empleado.roles.includes(ie.chofer)){if(this.conductor.puntos==null)throw new Error("Por favor llena todos los campos de informaci\xF3n de licencia");if(this.conductor.puntos<20)throw new Error("El Chofer no puede ser contratado porque no cumple con el m\xEDnimo de puntos establecidos en el reglamento interno");return!0}return!0}}var ps=$e({components:{ErrorComponent:el,NoOptionComponent:xa,TabLayoutFilterTabs2:ka,SelectorImagen:ya,ModalesEntidad:Fa,EssentialTable:Oe,GestorArchivos:qa,InformacionLicencia:Ca},setup(){const e=_a();oa().setQuasar(so()),za().setQuasar(so());const{notificarCorrecto:o,confirmar:v}=co(),u=new Ga,b=new Te(Ua,new De,new Ka),{entidad:r,disabled:p,accion:n,listadosAuxiliares:f,listado:B}=b.useReferencias(),{setValidador:A,cargarVista:T,obtenerListados:S,listar:h}=b.useComportamiento(),{onBeforeGuardar:a,onBeforeModificar:O,onConsultado:K,onGuardado:_,onReestablecer:E}=b.useHooks(),y=io(new Ue),{empleados:ne,filtrarEmpleados:Ve,cantones:re,filtrarCantones:he,cargos:oe,filtrarCargos:de,roles:te,filtrarRoles:me,tiposContratos:ue,estadosCiviles:pe,bancos:ce,filtrarBancos:ho,areas:ke,filtrarAreas:ko,grupos:Le,filtrarGrupos:yo,departamentos:Ne,filtrarDepartamentos:wo}=go(f),ze=V("1"),ye=io($a),qo=V([]),Co=V([]),Fo=V([]),Eo=V([]),Ge=V([]),Me=V([]),Qe=V([]),Bo=V(),He=new ms,Uo=Re(),W=aa(),We=V(),Je=V(),Ke=V(),ae=V(!1),x=V(),Po=Pe(()=>x.value!=null?x.value.quiero_subir_archivos:!1),we=V(),Xe=V(!1),Do=V([]),jo=V([]),Ye=V(!1);T(async()=>{e.idUser&&await Xo(),await S({areas:new ll,bancos:new Sa,cargos:{controller:new Pa,params:{estado:1}},departamentos:{controller:new Da,params:{activo:1}},tiposDiscapacidades:{controller:new Va,params:{campos:"id,nombres"}},empleados:{controller:new De,params:{estado:1}},estados_civiles:new ja,grupos:{controller:new Ba,params:{activo:1}},tipos_contratos:new al,roles:{controller:new Ea,params:{campos:"id,name"}}})}).then(()=>{f.cantones=JSON.parse(no.getItem("cantones")?no.getItem("cantones").toString():"[]"),ke.value=f.areas,ce.value=f.bancos,re.value=f.cantones,oe.value=f.cargos,Ne.value=f.departamentos,ne.value=f.empleados,B.value=f.empleados,pe.value=f.estados_civiles,Le.value=f.grupos,te.value=f.roles,ue.value=f.tipos_contratos,ye.find(d=>d.field==="tipo_discapacidad").options=f.tiposDiscapacidades.map(d=>({label:d.nombre,value:d.id})),ye.find(d=>d.field==="tipo_discapacidad").options=f.tiposDiscapacidades.map(d=>({label:d.nombre,value:d.id})),uo.find(d=>d.field==="parentezco").options=Ya.map(d=>({label:d.nombre,value:d.value})),Ye.value=!0});const So=Pe(()=>n.value==q.nuevo||n.value==q.editar),Io={identificacion:{required:k,minlength:to(8),maxlength:Fe(10)},telefono:{required:k,numeric:ha,minlength:to(9),maxlength:Fe(14)},direccion:{required:k},tipo_sangre:{required:k},estado_civil:{required:k},area:{required:k},tipo_contrato:{required:k},banco:{required:k},num_cuenta:{required:k,maxLength:Fe(12)},nivel_academico:{required:k},titulo:{required:k},salario:{required:k},fecha_ingreso:{required:k},nombres:{required:k},apellidos:{required:k},jefe:{required:k},email:{required:k},coordenadas:{required:j(()=>n.value===q.editar)},correo_personal:{required:k},usuario:{required:k},fecha_nacimiento:{required:k},cargo:{required:k},departamento:{required:k},roles:{required:k},estado:{required:k},grupo:{required:j(()=>r.tiene_grupo)},talla_zapato:{required:j(()=>r.tiene_grupo)},talla_camisa:{required:k},talla_pantalon:{required:j(()=>r.tiene_grupo)},talla_guantes:{required:j(()=>r.tiene_grupo)}},Ze=vo(Io,r);A(Ze.value);const Ao=new us(r,y);b.agregarValidaciones(Ao);const _e=Ja();Co.value=f.tipos_contrato,Eo.value=f.departamentos,qo.value=f.estado_civiles,Ge.value=f.orientaciones_sexuales,Me.value=f.identidades_genero,Qe.value=f.religiones,ke.value=f.areas,ce.value=f.bancos,a(()=>{r.roles.includes(ie.chofer)?r.conductor=y:r.conductor=[],E(()=>{r.familiares=[]})}),O(()=>{r.roles.includes(ie.chofer)?r.conductor=y:r.conductor=[]}),E(()=>{x.value.limpiarListado(),qe()}),K(()=>{we.value=r.id,r.tiene_grupo=!!r.grupo,We.value=r.usuario,Je.value=r.email,r.roles.includes(ie.chofer)?(ae.value=!0,y.hydrate(r.conductor?r.conductor:new Ue)):ae.value=!1,setTimeout(()=>{x.value.listarArchivosAlmacenados(r.id)},1),qe()}),_(d=>{we.value=d,setTimeout(()=>{xe()},1)});function Oo(d){const g=ma(new Date);return d<=g}async function xe(){await x.value.subir()}la(()=>{var d,g;if(r.tiene_grupo||(r.grupo=null),r.nombres!=null&&r.nombres!=""&&n.value==q.nuevo){const w=r.nombres!=null?r.nombres[0]:"",X=r.apellidos!=null?r.apellidos.split(" ")[0]:"",Ce=(g=(d=_e.configuracion)==null?void 0:d.sitio_web)==null?void 0:g.split("WWW.")[1],le=w+X;r.email=le+"@"+Ce,r.usuario=le,r.password=r.identificacion}});const To={titulo:"Eliminar",icono:"bi-x",color:"negative",visible:()=>W.can("puede.eliminar.familiares"),accion:({posicion:d})=>v("\xBFEst\xE1 seguro de continuar?",()=>{var g;return(g=r.familiares)==null?void 0:g.splice(d,1)})},Ro={titulo:"Reporte General",icono:"bi-printer",color:"primary",visible:()=>W.can("puede.ver.empleados"),accion:()=>{Lo()}};async function Lo(){const d=ve.getInstance(),g="empleados",w=ua.URL_BASE+"/"+d.getEndpoint(ee.imprimir_reporte_general_empleado);await Ha(w,"GET","blob","pdf",g,null)}const No={titulo:"",icono:"bi-toggle2-on",color:"negative",tooltip:"Habilitar",visible:({entidad:d})=>!d.estado&&W.can("puede.activar.empleados"),accion:({entidad:d,posicion:g})=>{oo(d.id,!0),B.value.splice(g,1)}},zo={titulo:"",icono:"bi-toggle2-off",color:"positive",tooltip:"DesHabilitar",visible:({entidad:d})=>d.estado&&W.can("puede.desactivar.empleados"),accion:({entidad:d,posicion:g})=>{oo(d.id,!1),d.estado=!1,B.value.splice(g,1)}},Go=()=>{var g,w;const d=new Xa;d.id=(g=r.discapacidades)!=null&&g.length?mo(r.discapacidades)+1:1,(w=r.discapacidades)==null||w.push(d)},Mo=()=>{var g,w;const d=new Oa;d.id=(g=r.familiares)!=null&&g.length?mo(r.familiares)+1:1,(w=r.familiares)==null||w.push(d)};function Qo(){n.value==q.editar&&r.generar_usuario?eo(!0):(r.usuario=We.value,r.email=Je.value)}const Ho={titulo:"Eliminar",icono:"bi-x",color:"negative",accion:({posicion:d})=>v("\xBFEst\xE1 seguro de continuar?",()=>{var g;return(g=r.discapacidades)==null?void 0:g.splice(d,1)})},Wo={titulo:"Plan Vacaciones",icono:"bi-sunglasses",color:"accent",accion:({entidad:d})=>{Uo.idEmpleado=d.id,He.abrirModalEntidad("PlanVacacionIndividualPage")},visible:({entidad:d})=>W.can("puede.ver.btn.plan_vacaciones.empleados")&&(d.jefe_id==W.user.id||d.id==W.user.id||W.esRecursosHumanos)};function Jo(){var w,X;const d=n.value==q.editar&&r.generar_usuario,g=n.value==q.nuevo&&((w=r.nombres)==null?void 0:w.trim())&&((X=r.apellidos)==null?void 0:X.trim());(d||g)&&eo(n.value===q.editar)}async function eo(d=!1){var ao,lo;const g=ve.getInstance(),w=g.getEndpoint(ee.generar_username),X={nombres:r.nombres,apellidos:r.apellidos,usuario:r.usuario,sobreescribir:d},Ce=await g.post(w,X),le=V(Ce.data.username),Zo=(lo=(ao=_e.configuracion)==null?void 0:ao.sitio_web)==null?void 0:lo.split("WWW.")[1];r.usuario=le.value,r.email=le.value+"@"+Zo}async function oo(d,g){const w=ve.getInstance(),X=w.getEndpoint(ee.habilitar_empleado,{id:d,estado:g});await w.get(X),o(g?"Ha Habilitado empleado":"Ha deshabilitado empleado")}async function Ko(d){ze.value=d,B.value.length>0&&await h({estado:d})}function qe(){r.roles.includes(ie.chofer)?ae.value=!0:(ae.value=!1,y.hydrate(new Ue))}async function Xo(){const d=await Yo();r.apellidos=d.apellidos,r.correo_personal=d.correo_personal,r.direccion=d.direccion,r.fecha_nacimiento=d.fecha_nacimiento,r.genero=d.genero,r.identidad_genero=d.identidad_genero,r.nombres=d.nombres,r.identificacion=d.numero_documento_identificacion,r.telefono=d.telefono,Ke.value.focus()}async function Yo(){u.activar();const d=ve.getInstance(),g=d.getEndpoint(ee.usuarios_externos)+"/"+e.idUser,w=await d.get(g);return u.desactivar(),w.data.modelo}return sa(()=>{Xe.value=!0}),ia(()=>{}),{mixin:b,empleado:r,disabled:p,accion:n,acciones:q,refArchivo:x,v$:Ze,componenteCargado:Xe,esRecursosHumanos:W.esRecursosHumanos,reestablecer_usuario:Qo,configuracionColumnas:ol,idEmpleado:we,isPwd:V(!0),mostrarComponenteInformacionLicencia:ae,refApellidos:Ke,tabDefecto:ze,tabOptions:wa,areas:ke,filtrarAreas:ko,bancos:ce,filtrarBancos:ho,cantones:re,filtrarCantones:he,cargos:oe,filtrarCargos:de,departamentos:Ne,filtrarDepartamentos:wo,empleados:ne,filtrarEmpleados:Ve,grupos:Le,filtrarGrupos:yo,estadosCiviles:pe,maskFecha:se,niveles_academicos:na,roles:te,filtrarRoles:me,talla_letras:ra,tipos_sangre:da,tiposContratos:ue,refFamiliares:Bo,optionsFecha:Oo,orientaciones_sexuales:Ge,identidades_genero:Me,religiones:Qe,btnEliminarFamiliar:To,btnImprimirEmpleados:Ro,btnHabilitarEmpleado:No,btnDesHabilitarEmpleado:zo,btnEliminarDiscapacidad:Ho,btnPlanVacaciones:Wo,modales:He,idsTiposDiscapacidades:Do,idsParentescos:jo,tiposDiscapacidades:Fo,subirArchivos:xe,obtenerUsername:Jo,ordenarLista:Ma,verificarRolesSeleccionados:qe,mostrarBotonSubirArchivos:Po,filtrarListadoEmpleados:Ko,conductor:y,configuracionColumnasTipoDiscapacidadPorcentajeReactive:ye,configuracionColumnasFamiliaresEmpleado:uo,agregarDiscapacidad:Go,agregarFamiliares:Mo,accionesTabla:ta,construccionConfiguracionColumnas:Ye,habilitarBotonAgregarFamiliares:So,autoidentificaciones_etnicas:Za,removeTildes:Qa}}});const cs={class:"row q-col-gutter-sm q-pa-sm"},bs={class:"col-12 col-md-3 col-sm-3"},vs={class:"col-12 col-md-3 col-sm-3"},fs={class:"col-12 col-md-3 col-sm-3"},gs={class:"col-12 col-md-3 col-sm-3"},$s={key:0,class:"col-12 col-md-3 col-sm-3"},Vs={class:"row q-col-gutter-sm q-pa-sm"},hs={class:"col-12 col-md-3 col-sm-3"},ks={class:"col-12 col-md-3 col-sm-3"},ys={class:"col-12 col-md-3 col-sm-3"},ws={class:"col-12 col-md-3 col-sm-3"},qs={class:"col-12 col-md-3 col-sm-3"},Cs={class:"col-12 col-md-3 col-sm-3"},Fs={class:"col-12 col-md-3 col-sm-3"},Es={class:"col-12 col-md-3 col-sm-3"},Bs={class:"col-12 col-md-3 col-sm-3"},Us={class:"col-12 col-md-3 col-sm-3"},Ps={class:"col-12 col-md-3 col-sm-3"},Ds={class:"row items-center justify-end"},js={class:"col-12 col-md-3 col-sm-3"},Ss={class:"col-12 col-md-3 col-sm-3"},Is={class:"col-12 col-md-3 col-sm-3"},As={class:"col-12 col-md-3 col-sm-3"},Os={class:"col-12 col-md-3 col-sm-3"},Ts={class:"col-12 col-md-12 q-ma-sm"},Rs={class:"row q-col-gutter-sm q-pa-sm"},Ls={class:"col-12 col-md-3 col-sm-3"},Ns={class:"col-12 col-md-3 col-sm-3"},zs={class:"col-12 col-md-3 col-sm-3"},Gs={class:"col-12 col-md-3 col-sm-3"},Ms={class:"col-12 col-md-3 col-sm-3"},Qs={class:"col-12 col-md-3 col-sm-3"},Hs={class:"col-12 col-md-3 col-sm-3"},Ws={key:0,class:"col-12 col-md-3 col-sm-3"},Js={class:"col-12 col-md-3 col-sm-3"},Ks={key:1,class:"col-12 col-md-6 col-sm-12"},Xs={class:"row q-col-gutter-sm q-pa-sm"},Ys={class:"col-12 col-md-3 q-mb-md col-sm-3"},Zs={class:"col-12 col-md-3 col-sm-3"},_s={class:"col-12 col-md-3 col-sm-3"},xs={class:"col-12 col-md-3 col-sm-3"},ei={class:"col-12 col-md-3 col-sm-3"},oi={class:"col-12 col-md-3 col-sm-3"},ai={class:"col-12 col-md-3 col-sm-3"},li={class:"col-12 col-md-3 col-sm-3"},si={class:"col-12 col-md-3 q-mb-md col-sm-3"},ii={class:"col-12 col-md-3 q-mb-md col-sm-3"},ni={class:"col-12 col-md-3 col-sm-3"},ri={class:"col-12 col-md-3 col-sm-3"},di={class:"row items-center justify-end"},ti={class:"col-12 col-md-3 q-mb-xl col-sm-3"},mi={key:0,class:"col-12 col-md-3 col-sm-3"},ui={class:"row items-center justify-end"},pi={class:"col-12 col-md-3 col-sm-3"},ci={class:"row items-center justify-end"},bi={class:"col-12 col-md-3 col-sm-3"},vi={class:"col-12 col-md-3 q-mb-xl col-sm-3"},fi={key:1,class:"col-12 col-md-3 col-sm-3 q-mb-md"},gi={key:2,class:"col-12 col-md-3 col-sm-3"},$i={class:"col-12 col-md-3 col-sm-3"},Vi={class:"col-12 col-md-3 col-sm-3"},hi={class:"col-12 col-md-3 col-sm-3"},ki={class:"col-12 col-md-3 col-sm-3"},yi={class:"col-12 col-md-3 col-sm-3"},wi={class:"col-12 q-mb-md"},qi={key:0,class:"col-12 col-md-12"},Ci={class:"row q-col-gutter-sm q-pa-sm"},Fi={class:"col-12 col-md-12"};function Ei(e,o,v,u,b,r){const p=I("error-component"),n=I("no-option-component"),f=I("selector-imagen"),B=I("essential-table"),A=I("gestor-archivos"),T=I("informacion-licencia"),S=I("tab-layout-filter-tabs2"),h=I("modales-entidad");return t(),m(R,null,[l(S,{mixin:e.mixin,configuracionColumnas:e.configuracionColumnas,"titulo-pagina":"Empleados","tab-options":e.tabOptions,tabDefecto:e.tabDefecto,filtrar:e.filtrarListadoEmpleados,accion1Header:e.btnImprimirEmpleados,accion1:e.btnHabilitarEmpleado,accion2:e.btnDesHabilitarEmpleado,accion3:e.btnPlanVacaciones,puedeFiltrar:!1,puedeExportar:!0,forzarListar:!1,ajustarCeldas:""},{formulario:i(()=>[l(ga,{onSubmit:o[74]||(o[74]=pa(()=>{},["prevent"]))},{default:i(()=>[l(Z,{class:"overflow-hidden q-mb-md expansion",label:"Informaci\xF3n de inicio de sesi\xF3n","header-class":"text-bold bg-header-collapse","default-opened":""},{default:i(()=>[s("div",cs,[s("div",bs,[o[75]||(o[75]=s("label",{class:"q-mb-sm block"},"Usuario",-1)),l(c,{modelValue:e.empleado.usuario,"onUpdate:modelValue":o[0]||(o[0]=a=>e.empleado.usuario=a),placeholder:"Obligatorio",disable:e.accion===e.acciones.nuevo||e.accion===e.acciones.consultar||e.empleado.generar_usuario,error:!!e.v$.usuario.$errors.length,onBlur:e.v$.usuario.$touch,outlined:"",dense:""},{error:i(()=>[l(p,{clave:"usuario",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","error","onBlur"])]),s("div",vs,[o[76]||(o[76]=s("label",{class:"q-mb-sm block"},"Correo",-1)),l(c,{type:"email",modelValue:e.empleado.email,"onUpdate:modelValue":[o[1]||(o[1]=a=>e.empleado.email=a),o[2]||(o[2]=a=>e.empleado.email=a.toLowerCase())],autogrow:"",placeholder:"Obligatorio",disable:e.accion===e.acciones.nuevo||e.accion===e.acciones.consultar||e.empleado.generar_usuario,error:!!e.v$.email.$errors.length,onBlur:e.v$.email.$touch,outlined:"",dense:""},{error:i(()=>[l(p,{clave:"email",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","error","onBlur"])]),s("div",fs,[o[77]||(o[77]=s("label",{class:"q-mb-sm block"},"Contrase\xF1a",-1)),l(c,{type:e.isPwd?"password":"text",modelValue:e.empleado.password,"onUpdate:modelValue":o[4]||(o[4]=a=>e.empleado.password=a),placeholder:"Obligatorio",disable:e.disabled,outlined:"",dense:""},{append:i(()=>[l(F,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:o[3]||(o[3]=a=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["type","modelValue","disable"])]),s("div",gs,[o[78]||(o[78]=s("label",{class:"q-mb-sm block"},"Estado",-1)),l(D,{label:e.empleado.estado?"ACTIVO":"INACTIVO",modelValue:e.empleado.estado,"onUpdate:modelValue":o[5]||(o[5]=a=>e.empleado.estado=a),color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:e.disabled},null,8,["label","modelValue","disable"])]),e.accion===e.acciones.editar?(t(),m("div",$s,[o[79]||(o[79]=s("label",{class:"q-mb-sm block"},"Generar Usuario",-1)),l(D,{label:e.empleado.generar_usuario?"Si":"NO",modelValue:e.empleado.generar_usuario,"onUpdate:modelValue":[o[6]||(o[6]=a=>e.empleado.generar_usuario=a),e.reestablecer_usuario],color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:e.disabled},null,8,["label","modelValue","onUpdate:modelValue","disable"])])):$("",!0)])]),_:1}),l(Z,{class:"overflow-hidden q-mb-md expansion",label:"Datos personales del trabajador","header-class":"text-bold bg-header-collapse","default-opened":""},{default:i(()=>[s("div",Vs,[s("div",hs,[o[80]||(o[80]=s("label",{class:"q-mb-sm block"},"Identificaci\xF3n",-1)),l(c,{modelValue:e.empleado.identificacion,"onUpdate:modelValue":o[7]||(o[7]=a=>e.empleado.identificacion=a),placeholder:"Obligatorio",disable:e.disabled,error:!!e.v$.identificacion.$errors.length,onBlur:e.v$.identificacion.$touch,outlined:"",dense:""},{error:i(()=>[l(p,{clave:"identificacion",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","error","onBlur"])]),s("div",ks,[o[81]||(o[81]=s("label",{class:"q-mb-sm block"},"Nombres",-1)),l(c,{modelValue:e.empleado.nombres,"onUpdate:modelValue":[o[8]||(o[8]=a=>e.empleado.nombres=a),o[10]||(o[10]=a=>e.empleado.nombres=e.removeTildes(a))],placeholder:"Obligatorio",disable:e.disabled,error:!!e.v$.nombres.$errors.length,onBlur:o[9]||(o[9]=a=>e.v$.nombres.$touch&&e.obtenerUsername()),outlined:"",dense:""},{error:i(()=>[l(p,{clave:"nombres",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","error"])]),s("div",ys,[o[82]||(o[82]=s("label",{class:"q-mb-sm block"},"Apellidos",-1)),l(c,{ref:"refApellidos",modelValue:e.empleado.apellidos,"onUpdate:modelValue":[o[11]||(o[11]=a=>e.empleado.apellidos=a),o[12]||(o[12]=a=>e.empleado.apellidos=e.removeTildes(a))],placeholder:"Obligatorio",disable:e.disabled,error:!!e.v$.apellidos.$errors.length,onBlur:o[13]||(o[13]=a=>e.v$.apellidos.$touch&&e.obtenerUsername()),outlined:"",dense:""},{error:i(()=>[l(p,{clave:"apellidos",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","error"])]),s("div",ws,[o[83]||(o[83]=s("label",{class:"q-mb-sm block"},"Celular",-1)),l(c,{type:"tel",modelValue:e.empleado.telefono,"onUpdate:modelValue":o[14]||(o[14]=a=>e.empleado.telefono=a),placeholder:"Obligatorio",disable:e.disabled,error:!!e.v$.telefono.$errors.length,onBlur:e.v$.telefono.$touch,outlined:"",dense:""},{error:i(()=>[l(p,{clave:"telefono",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","error","onBlur"])]),s("div",qs,[o[84]||(o[84]=s("label",{class:"q-mb-sm block"},"Correo Personal",-1)),l(c,{type:"email",modelValue:e.empleado.correo_personal,"onUpdate:modelValue":[o[15]||(o[15]=a=>e.empleado.correo_personal=a),o[16]||(o[16]=a=>e.empleado.correo_personal=a.toLowerCase())],placeholder:"Obligatorio",disable:e.disabled,error:!!e.v$.correo_personal.$errors.length,onBlur:e.v$.correo_personal.$touch,outlined:"",dense:""},{error:i(()=>[l(p,{clave:"correo_personal",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","error","onBlur"])]),s("div",Cs,[o[85]||(o[85]=s("label",{class:"q-mb-sm block"},"Tipo de Sangre",-1)),l(P,{modelValue:e.empleado.tipo_sangre,"onUpdate:modelValue":o[17]||(o[17]=a=>e.empleado.tipo_sangre=a),options:e.tipos_sangre,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",hint:"Opcional",error:!!e.v$.tipo_sangre.$errors.length,onBlur:e.v$.tipo_sangre.$touch,"option-value":a=>a.nombre,"option-label":a=>a.nombre,"emit-value":"","map-options":""},{error:i(()=>[l(p,{clave:"tipo_sangre",v$:e.v$},null,8,["v$"])]),"no-option":i(()=>[l(n)]),_:1},8,["modelValue","options","disable","error","onBlur","option-value","option-label"])]),s("div",Fs,[o[86]||(o[86]=s("label",{class:"q-mb-sm block"},"Estado Civil",-1)),l(P,{modelValue:e.empleado.estado_civil,"onUpdate:modelValue":o[18]||(o[18]=a=>e.empleado.estado_civil=a),options:e.estadosCiviles,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",onBlur:e.v$.estado_civil.$touch,error:!!e.v$.estado_civil.$errors.length,"option-value":a=>a.id,"option-label":a=>a.nombre,"emit-value":"","map-options":""},{error:i(()=>[l(p,{clave:"estado_civil",v$:e.v$},null,8,["v$"])]),"no-option":i(()=>[l(n)]),_:1},8,["modelValue","options","disable","onBlur","error","option-value","option-label"])]),s("div",Es,[o[87]||(o[87]=s("label",{class:"q-mb-sm block"},"Genero",-1)),l(D,{label:e.empleado.genero=="M"?"Masculino":"Femenino",modelValue:e.empleado.genero,"onUpdate:modelValue":o[19]||(o[19]=a=>e.empleado.genero=a),"true-value":"M","false-value":"F",color:"primary","keep-color":"",icon:"fa-solid fa-person","unchecked-icon":"fa-solid fa-person-dress",disable:e.disabled},null,8,["label","modelValue","disable"])]),s("div",Bs,[o[88]||(o[88]=s("label",{class:"q-mb-sm block"},"El trabajador sustituye a alg\xFAn pariente",-1)),l(D,{label:e.empleado.trabajador_sustituto?"SI":"NO",modelValue:e.empleado.trabajador_sustituto,"onUpdate:modelValue":o[20]||(o[20]=a=>e.empleado.trabajador_sustituto=a),color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:e.disabled},null,8,["label","modelValue","disable"])]),s("div",Us,[o[89]||(o[89]=s("label",{class:"q-mb-sm block"},"Convencional",-1)),l(c,{type:"tel",mask:"(xx) xxx xxxx",hint:"(xx) xxx xxxx","fill-mask":"",modelValue:e.empleado.convencional,"onUpdate:modelValue":o[21]||(o[21]=a=>e.empleado.convencional=a),placeholder:"Obligatorio",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),s("div",Ps,[o[90]||(o[90]=s("label",{class:"q-mb-sm block"},"Fecha de nacimiento",-1)),l(c,{modelValue:e.empleado.fecha_nacimiento,"onUpdate:modelValue":o[23]||(o[23]=a=>e.empleado.fecha_nacimiento=a),placeholder:"Obligatorio",error:!!e.v$.fecha_nacimiento.$errors.length,onBlur:e.v$.fecha_nacimiento.$touch,disable:e.disabled,readonly:"",outlined:"",dense:""},{append:i(()=>[l(F,{name:"event",class:"cursor-pointer"},{default:i(()=>[l(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[l(M,{modelValue:e.empleado.fecha_nacimiento,"onUpdate:modelValue":o[22]||(o[22]=a=>e.empleado.fecha_nacimiento=a),options:e.optionsFecha,mask:e.maskFecha,"today-btn":""},{default:i(()=>[s("div",Ds,[z(l(C,{label:"Cerrar",color:"primary",flat:""},null,512),[[Q]])])]),_:1},8,["modelValue","options","mask"])]),_:1})]),_:1})]),error:i(()=>[l(p,{clave:"fecha_nacimiento",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","error","onBlur","disable"])]),s("div",js,[o[91]||(o[91]=s("label",{class:"q-mb-sm block"},"Numero de Cuenta",-1)),l(c,{modelValue:e.empleado.num_cuenta,"onUpdate:modelValue":o[24]||(o[24]=a=>e.empleado.num_cuenta=a),placeholder:"Obligatorio",disable:e.disabled,error:!!e.v$.num_cuenta.$errors.length,onBlur:e.v$.num_cuenta.$touch,outlined:"",dense:""},{error:i(()=>[l(p,{clave:"num_cuenta",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","error","onBlur"])]),s("div",Ss,[o[92]||(o[92]=s("label",{class:"q-mb-sm block"},"Banco",-1)),l(P,{modelValue:e.empleado.banco,"onUpdate:modelValue":o[25]||(o[25]=a=>e.empleado.banco=a),options:e.bancos,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",hint:"Obligatorio",error:!!e.v$.banco.$errors.length,onBlur:e.v$.banco.$touch,onFilter:e.filtrarBancos,"option-value":a=>a.id,"option-label":a=>a.nombre,"emit-value":"","map-options":""},{error:i(()=>[l(p,{clave:"banco",v$:e.v$},null,8,["v$"])]),"no-option":i(()=>[l(n)]),_:1},8,["modelValue","options","disable","error","onBlur","onFilter","option-value","option-label"])]),s("div",Is,[o[93]||(o[93]=s("label",{class:"q-mb-sm block"},"Canton",-1)),l(P,{modelValue:e.empleado.canton,"onUpdate:modelValue":o[26]||(o[26]=a=>e.empleado.canton=a),options:e.cantones,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",onFilter:e.filtrarCantones,onPopupShow:o[27]||(o[27]=a=>e.ordenarLista(e.cantones,"canton")),"option-value":a=>a.id,"option-label":a=>a.canton,"emit-value":"","map-options":""},{error:i(()=>[l(p,{clave:"canton",v$:e.v$},null,8,["v$"])]),"no-option":i(()=>[l(n)]),_:1},8,["modelValue","options","disable","onFilter","option-value","option-label"])]),s("div",As,[o[94]||(o[94]=s("label",{class:"q-mb-sm block"},"Direcci\xF3n",-1)),l(c,{modelValue:e.empleado.direccion,"onUpdate:modelValue":o[28]||(o[28]=a=>e.empleado.direccion=a),placeholder:"obligatorio",type:"textarea",disable:e.disabled,error:!!e.v$.direccion.$errors.length,autogrow:"",onBlur:e.v$.direccion.$touch,outlined:"",dense:""},{error:i(()=>[l(p,{clave:"direccion",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","error","onBlur"])]),s("div",Os,[o[95]||(o[95]=s("label",{for:"q-mb-sm block"},"Foto de perfil",-1)),l(f,{file_extensiones:".jpg, image/*",imagen:e.empleado.foto_url,comprimir:!0,alto:"400px","onUpdate:modelValue":o[29]||(o[29]=a=>e.empleado.foto_url=a)},null,8,["imagen"])])]),s("div",Ts,[l(Z,{class:"overflow-hidden q-mb-md expansion",label:"Datos adicionales","header-class":"text-bold bg-header-collapse","default-opened":""},{default:i(()=>[s("div",Rs,[s("div",Ls,[o[96]||(o[96]=s("label",{class:"q-mb-sm block"},"La casa donde vive es",-1)),l(D,{label:e.empleado.casa_propia?"PROPIA":"ALQUILADA",modelValue:e.empleado.casa_propia,"onUpdate:modelValue":o[30]||(o[30]=a=>e.empleado.casa_propia=a),color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:e.disabled},null,8,["label","modelValue","disable"])]),s("div",Ns,[o[97]||(o[97]=s("label",{class:"q-mb-sm block"},"Convive con personas discapacitadas",-1)),l(D,{label:e.empleado.vive_con_discapacitados?"SI":"NO",modelValue:e.empleado.vive_con_discapacitados,"onUpdate:modelValue":o[31]||(o[31]=a=>e.empleado.vive_con_discapacitados=a),color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:e.disabled},null,8,["label","modelValue","disable"])]),s("div",zs,[o[98]||(o[98]=s("label",{class:"q-mb-sm block"},"Tiene a su cargo personas discapacitadas",-1)),l(D,{label:e.empleado.responsable_discapacitados?"SI":"NO",modelValue:e.empleado.responsable_discapacitados,"onUpdate:modelValue":o[32]||(o[32]=a=>e.empleado.responsable_discapacitados=a),color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:e.disabled},null,8,["label","modelValue","disable"])]),s("div",Gs,[o[99]||(o[99]=s("label",{class:"q-mb-sm block"},"Tiene Discapacidad",-1)),l(D,{label:e.empleado.tiene_discapacidad?"SI":"NO",modelValue:e.empleado.tiene_discapacidad,"onUpdate:modelValue":o[33]||(o[33]=a=>e.empleado.tiene_discapacidad=a),color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:e.disabled},null,8,["label","modelValue","disable"])]),s("div",Ms,[o[100]||(o[100]=s("label",{class:"q-mb-sm block"},"Coordenadas del lugar donde vive",-1)),l(c,{type:"tel",modelValue:e.empleado.coordenadas,"onUpdate:modelValue":o[34]||(o[34]=a=>e.empleado.coordenadas=a),placeholder:e.accion==="EDITAR"?"Obligatorio":"Opcional",disable:e.disabled,error:!!e.v$.coordenadas.$errors.length,onBlur:e.v$.coordenadas.$touch,outlined:"",dense:""},{error:i(()=>[l(p,{clave:"coordenadas",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","placeholder","disable","error","onBlur"])]),s("div",Qs,[o[101]||(o[101]=s("label",{class:"q-mb-sm block"},"Talla de zapato",-1)),l(c,{modelValue:e.empleado.talla_zapato,"onUpdate:modelValue":o[35]||(o[35]=a=>e.empleado.talla_zapato=a),placeholder:e.empleado.tiene_grupo?"Obligatorio":"Opcional",type:"number",disable:e.disabled,error:!!e.v$.talla_zapato.$errors.length,onBlur:e.v$.talla_zapato.$touch,outlined:"",dense:""},{error:i(()=>[l(p,{clave:"talla_zapato",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","placeholder","disable","error","onBlur"])]),s("div",Hs,[o[102]||(o[102]=s("label",{class:"q-mb-sm block"},"Talla de camisa",-1)),l(P,{modelValue:e.empleado.talla_camisa,"onUpdate:modelValue":o[36]||(o[36]=a=>e.empleado.talla_camisa=a),options:e.talla_letras,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",hint:"Opcional",error:!!e.v$.talla_camisa.$errors.length,onBlur:e.v$.talla_camisa.$touch,"option-value":a=>a.nombre,"option-label":a=>a.nombre,"emit-value":"","map-options":""},{error:i(()=>[l(p,{clave:"talla_camisa",v$:e.v$},null,8,["v$"])]),"no-option":i(()=>[l(n)]),_:1},8,["modelValue","options","disable","error","onBlur","option-value","option-label"])]),e.empleado.tiene_grupo?(t(),m("div",Ws,[o[103]||(o[103]=s("label",{class:"q-mb-sm block"},"Talla de guantes",-1)),l(c,{modelValue:e.empleado.talla_guantes,"onUpdate:modelValue":o[37]||(o[37]=a=>e.empleado.talla_guantes=a),placeholder:e.empleado.tiene_grupo?"Obligatorio":"Opcional",type:"number",disable:e.disabled,error:!!e.v$.talla_guantes.$errors.length,onBlur:e.v$.talla_guantes.$touch,outlined:"",dense:""},{error:i(()=>[l(p,{clave:"talla_guantes",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","placeholder","disable","error","onBlur"])])):$("",!0),s("div",Js,[o[104]||(o[104]=s("label",{class:"q-mb-sm block"},"Talla de pantalon",-1)),l(c,{modelValue:e.empleado.talla_pantalon,"onUpdate:modelValue":o[38]||(o[38]=a=>e.empleado.talla_pantalon=a),placeholder:e.empleado.tiene_grupo?"Obligatorio":"Opcional",type:"number",error:!!e.v$.talla_pantalon.$errors.length,onBlur:e.v$.talla_pantalon.$touch,disable:e.disabled,outlined:"",dense:""},{error:i(()=>[l(p,{clave:"talla_pantalon",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","placeholder","error","onBlur","disable"])]),e.empleado.tiene_discapacidad?(t(),m("div",Ks,[l(C,{color:"primary",onClick:o[39]||(o[39]=a=>e.agregarDiscapacidad()),class:"col-12 col-md-3 full-width"},{default:i(()=>o[105]||(o[105]=[H("Agregar discapacidad ")])),_:1}),l(B,{configuracionColumnas:[...e.configuracionColumnasTipoDiscapacidadPorcentajeReactive,e.accionesTabla],datos:e.empleado.discapacidades,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,grid:!1,accion1:e.btnEliminarDiscapacidad,"alto-fijo":!1,ajustarCeldas:!0},null,8,["configuracionColumnas","datos","accion1"])])):$("",!0)])]),_:1})])]),_:1}),l(Z,{class:"overflow-hidden q-mb-md expansion",label:"Informaci\xF3n laboral","header-class":"text-bold bg-header-collapse","default-opened":""},{default:i(()=>[s("div",Xs,[s("div",Ys,[o[106]||(o[106]=s("label",{class:"q-mb-sm block"},"Jefe inmediato",-1)),l(P,{modelValue:e.empleado.jefe,"onUpdate:modelValue":o[40]||(o[40]=a=>e.empleado.jefe=a),options:e.empleados,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"",error:!!e.v$.jefe.$errors.length,onBlur:e.v$.jefe.$touch,"error-message":"Debes seleccionar un jefe","use-input":"","input-debounce":"0",onFilter:e.filtrarEmpleados,onPopupShow:o[41]||(o[41]=a=>e.ordenarLista(e.empleados,"nombres")),"option-value":a=>a.id,"option-label":a=>a.nombres+" "+a.apellidos,"emit-value":"","map-options":""},{error:i(()=>[l(p,{clave:"jefe",v$:e.v$},null,8,["v$"])]),"no-option":i(()=>[l(n)]),_:1},8,["modelValue","options","disable","error","onBlur","onFilter","option-value","option-label"])]),s("div",Zs,[o[107]||(o[107]=s("label",{class:"q-mb-sm block"},"\xBFAcumula fondos de reserva?",-1)),l(D,{label:e.empleado.acumula_fondos_reserva?"Acumula Fondos de Reserva":"No Acumula Fondos de Reserva",modelValue:e.empleado.acumula_fondos_reserva,"onUpdate:modelValue":o[42]||(o[42]=a=>e.empleado.acumula_fondos_reserva=a),color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:e.disabled},null,8,["label","modelValue","disable"])]),s("div",_s,[o[108]||(o[108]=s("label",{class:"q-mb-sm block"},"\xBFEsta Enrolado?",-1)),l(D,{label:e.empleado.esta_en_rol_pago?"Enrolado":"No enrolado",modelValue:e.empleado.esta_en_rol_pago,"onUpdate:modelValue":o[43]||(o[43]=a=>e.empleado.esta_en_rol_pago=a),color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:e.disabled},null,8,["label","modelValue","disable"])]),s("div",xs,[o[109]||(o[109]=s("label",{class:"q-mb-sm block"},"\xBFFactura?",-1)),l(D,{label:e.empleado.realiza_factura?"Factura":"No factura",modelValue:e.empleado.realiza_factura,"onUpdate:modelValue":o[44]||(o[44]=a=>e.empleado.realiza_factura=a),color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:e.disabled},null,8,["label","modelValue","disable"])]),s("div",ei,[o[110]||(o[110]=s("label",{class:"q-mb-sm block"},"Area",-1)),l(P,{modelValue:e.empleado.area,"onUpdate:modelValue":o[45]||(o[45]=a=>e.empleado.area=a),options:e.areas,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","use-input":"","input-debounce":"0",onBlur:e.v$.area.$touch,onFilter:e.filtrarAreas,error:!!e.v$.area.$errors.length,"option-value":a=>a.id,"option-label":a=>a.nombre,"emit-value":"","map-options":""},{error:i(()=>[l(p,{clave:"area",v$:e.v$},null,8,["v$"])]),"no-option":i(()=>[l(n)]),_:1},8,["modelValue","options","disable","onBlur","onFilter","error","option-value","option-label"])]),s("div",oi,[o[111]||(o[111]=s("label",{class:"q-mb-sm block"},"Departamento",-1)),l(P,{modelValue:e.empleado.departamento,"onUpdate:modelValue":o[46]||(o[46]=a=>e.empleado.departamento=a),options:e.departamentos,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","use-input":"","input-debounce":"0",onBlur:e.v$.departamento.$touch,onFilter:e.filtrarDepartamentos,onPopupShow:o[47]||(o[47]=a=>e.ordenarLista(e.departamentos,"nombre")),error:!!e.v$.departamento.$errors.length,"option-value":a=>a.id,"option-label":a=>a.nombre,"emit-value":"","map-options":""},{error:i(()=>[l(p,{clave:"departamento",v$:e.v$},null,8,["v$"])]),"no-option":i(()=>[l(n)]),_:1},8,["modelValue","options","disable","onBlur","onFilter","error","option-value","option-label"])]),s("div",ai,[o[112]||(o[112]=s("label",{class:"q-mb-sm block"},"Cargo",-1)),l(P,{modelValue:e.empleado.cargo,"onUpdate:modelValue":o[48]||(o[48]=a=>e.empleado.cargo=a),options:e.cargos,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","use-input":"","input-debounce":"0",onBlur:e.v$.cargo.$touch,onFilter:e.filtrarCargos,onPopupShow:o[49]||(o[49]=a=>e.ordenarLista(e.cargos,"nombre")),error:!!e.v$.cargo.$errors.length,"error-message":"Debes seleccionar un cargo","option-value":a=>a.id,"option-label":a=>a.nombre,"emit-value":"","map-options":""},{error:i(()=>[l(p,{clave:"cargo",v$:e.v$},null,8,["v$"])]),"no-option":i(()=>[l(n)]),_:1},8,["modelValue","options","disable","onBlur","onFilter","error","option-value","option-label"])]),s("div",li,[o[113]||(o[113]=s("label",{class:"q-mb-sm block"},"Roles",-1)),l(P,{modelValue:e.empleado.roles,"onUpdate:modelValue":[o[50]||(o[50]=a=>e.empleado.roles=a),e.verificarRolesSeleccionados],options:e.roles,"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"","use-chips":"",outlined:"",multiple:"",disable:e.disabled,readonly:e.disabled,"use-input":"","input-debounce":"0",onFilter:e.filtrarRoles,onPopupShow:o[51]||(o[51]=a=>e.ordenarLista(e.roles,"name")),"option-value":a=>a.name,"option-label":a=>a.name,error:!!e.v$.roles.$errors.length,"error-message":"Debes seleccionar uno o varios roles","emit-value":"","map-options":""},{option:i(({itemProps:a,opt:O,selected:K,toggleOption:_})=>[l(bo,ca(ba(a)),{default:i(()=>[l(je,null,{default:i(()=>[H(L(O.name)+" ",1),l(fa,{"inner-h-t-m-l":O.nombres},null,8,["inner-h-t-m-l"])]),_:2},1024),l(je,{side:""},{default:i(()=>[l(D,{"model-value":K,"onUpdate:modelValue":E=>_(O)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),error:i(()=>[l(p,{clave:"roles",v$:e.v$},null,8,["v$"])]),"no-option":i(()=>[l(n)]),_:1},8,["modelValue","options","disable","readonly","onFilter","onUpdate:modelValue","option-value","option-label","error"])]),s("div",si,[o[114]||(o[114]=s("label",{class:"q-mb-sm block"},"Tipo Contrato",-1)),l(P,{modelValue:e.empleado.tipo_contrato,"onUpdate:modelValue":o[52]||(o[52]=a=>e.empleado.tipo_contrato=a),options:e.tiposContratos,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",onBlur:e.v$.tipo_contrato.$touch,error:!!e.v$.tipo_contrato.$errors.length,"option-value":a=>a.id,"option-label":a=>a.nombre,"emit-value":"","map-options":""},{error:i(()=>[l(p,{clave:"tipo_contrato",v$:e.v$},null,8,["v$"])]),"no-option":i(()=>[l(n)]),_:1},8,["modelValue","options","disable","onBlur","error","option-value","option-label"])]),s("div",ii,[o[115]||(o[115]=s("label",{class:"q-mb-sm block"},"Nivel Academico",-1)),l(P,{modelValue:e.empleado.nivel_academico,"onUpdate:modelValue":o[53]||(o[53]=a=>e.empleado.nivel_academico=a),options:e.niveles_academicos,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,onBlur:e.v$.nivel_academico.$touch,error:!!e.v$.nivel_academico.$errors.length,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"","option-value":a=>a.nombre,"option-label":a=>a.nombre,"emit-value":"","map-options":""},{error:i(()=>[l(p,{clave:"nivel_academico",v$:e.v$},null,8,["v$"])]),"no-option":i(()=>[l(n)]),_:1},8,["modelValue","options","disable","onBlur","error","option-value","option-label"])]),s("div",ni,[o[116]||(o[116]=s("label",{class:"q-mb-sm block"},"T\xEDtulo",-1)),l(c,{modelValue:e.empleado.titulo,"onUpdate:modelValue":o[54]||(o[54]=a=>e.empleado.titulo=a),placeholder:"TITULO ACADEMICO",disable:e.disabled,error:!!e.v$.titulo.$errors.length,onBlur:e.v$.titulo.$touch,outlined:"",dense:""},{error:i(()=>[l(p,{clave:"titulo",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","error","onBlur"])]),s("div",ri,[o[117]||(o[117]=s("label",{class:"q-mb-sm block"},"Fecha de Ingreso",-1)),l(c,{modelValue:e.empleado.fecha_ingreso,"onUpdate:modelValue":o[56]||(o[56]=a=>e.empleado.fecha_ingreso=a),placeholder:"Obligatorio",error:!!e.v$.fecha_ingreso.$errors.length,onBlur:e.v$.fecha_ingreso.$touch,disable:e.disabled,readonly:"",outlined:"",dense:""},{append:i(()=>[l(F,{name:"event",class:"cursor-pointer"},{default:i(()=>[l(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[l(M,{modelValue:e.empleado.fecha_ingreso,"onUpdate:modelValue":o[55]||(o[55]=a=>e.empleado.fecha_ingreso=a),options:e.optionsFecha,mask:e.maskFecha,"today-btn":""},{default:i(()=>[s("div",di,[z(l(C,{label:"Cerrar",color:"primary",flat:""},null,512),[[Q]])])]),_:1},8,["modelValue","options","mask"])]),_:1})]),_:1})]),error:i(()=>[l(p,{clave:"fecha_ingreso",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","error","onBlur","disable"])]),s("div",ti,[l(ro,{class:"q-mt-lg q-pt-md",modelValue:e.empleado.modificar_fecha_vinculacion,"onUpdate:modelValue":o[57]||(o[57]=a=>e.empleado.modificar_fecha_vinculacion=a),label:"Modificar fecha Vinculacion",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),e.empleado.modificar_fecha_vinculacion?(t(),m("div",mi,[o[118]||(o[118]=s("label",{class:"q-mb-sm block"},"Fecha de vinculacion",-1)),l(c,{modelValue:e.empleado.fecha_vinculacion,"onUpdate:modelValue":o[59]||(o[59]=a=>e.empleado.fecha_vinculacion=a),placeholder:"Opcional",disable:e.disabled,readonly:"",outlined:"",dense:""},{append:i(()=>[l(F,{name:"event",class:"cursor-pointer"},{default:i(()=>[l(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[l(M,{modelValue:e.empleado.fecha_vinculacion,"onUpdate:modelValue":o[58]||(o[58]=a=>e.empleado.fecha_vinculacion=a),options:e.optionsFecha,mask:e.maskFecha,"today-btn":""},{default:i(()=>[s("div",ui,[z(l(C,{label:"Cerrar",color:"primary",flat:""},null,512),[[Q]])])]),_:1},8,["modelValue","options","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])])):$("",!0),s("div",pi,[o[119]||(o[119]=s("label",{class:"q-mb-sm block"},"Fecha de Salida",-1)),l(c,{modelValue:e.empleado.fecha_salida,"onUpdate:modelValue":o[61]||(o[61]=a=>e.empleado.fecha_salida=a),placeholder:"Opcional",disable:e.disabled,readonly:"",outlined:"",dense:""},{append:i(()=>[l(F,{name:"event",class:"cursor-pointer"},{default:i(()=>[l(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[l(M,{modelValue:e.empleado.fecha_salida,"onUpdate:modelValue":o[60]||(o[60]=a=>e.empleado.fecha_salida=a),mask:e.maskFecha,"today-btn":""},{default:i(()=>[s("div",ci,[z(l(C,{label:"Cerrar",color:"primary",flat:""},null,512),[[Q]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","disable"])]),s("div",bi,[o[120]||(o[120]=s("label",{class:"q-mb-sm block"},"Antiguedad",-1)),l(c,{modelValue:e.empleado.antiguedad,"onUpdate:modelValue":o[62]||(o[62]=a=>e.empleado.antiguedad=a),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),s("div",vi,[l(ro,{class:"q-mt-lg q-pt-md",modelValue:e.empleado.tiene_grupo,"onUpdate:modelValue":o[63]||(o[63]=a=>e.empleado.tiene_grupo=a),label:"Pertenece a un grupo",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),e.empleado.tiene_grupo?(t(),m("div",fi,[o[121]||(o[121]=s("label",{class:"q-mb-sm block"},"Grupo",-1)),l(P,{modelValue:e.empleado.grupo,"onUpdate:modelValue":o[64]||(o[64]=a=>e.empleado.grupo=a),options:e.grupos,"transition-show":"jump-up","transition-hide":"jump-down",disable:e.disabled,"options-dense":"",dense:"",outlined:"",clearable:"","use-input":"","input-debounce":"0",error:!!e.v$.grupo.$errors.length,onBlur:e.v$.grupo.$touch,onFilter:e.filtrarGrupos,onPopupShow:o[65]||(o[65]=a=>e.ordenarLista(e.grupos,"nombre")),"option-value":a=>a.id,"option-label":a=>a.nombre,"emit-value":"","map-options":""},{error:i(()=>[l(p,{clave:"grupo",v$:e.v$},null,8,["v$"])]),"no-option":i(()=>[l(n)]),_:1},8,["modelValue","options","disable","error","onBlur","onFilter","option-value","option-label"])])):$("",!0),e.esRecursosHumanos?(t(),m("div",gi,[o[122]||(o[122]=s("label",{class:"q-mb-sm block"},"Salario",-1)),l(c,{modelValue:e.empleado.salario,"onUpdate:modelValue":o[66]||(o[66]=a=>e.empleado.salario=a),placeholder:"Obligatorio",type:"number",disable:e.disabled,error:!!e.v$.salario.$errors.length,onBlur:e.v$.salario.$touch,outlined:"",dense:""},{error:i(()=>[l(p,{clave:"salario",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","error","onBlur"])])):$("",!0),s("div",$i,[o[123]||(o[123]=s("label",{class:"q-mb-sm block"},"Supa",-1)),l(c,{modelValue:e.empleado.supa,"onUpdate:modelValue":o[67]||(o[67]=a=>e.empleado.supa=a),placeholder:"Opcional",type:"number",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),s("div",Vi,[o[124]||(o[124]=s("label",{for:"q-mb-xl block"},"Firma",-1)),l(f,{file_extensiones:".jpg, image/*",imagen:e.empleado.firma_url,comprimir:!1,alto:"80px","onUpdate:modelValue":o[68]||(o[68]=a=>e.empleado.firma_url=a)},null,8,["imagen"])]),s("div",hi,[o[125]||(o[125]=s("label",{class:"q-mb-sm block"},"Tel\xE9fono empresa",-1)),l(c,{type:"tel",mask:"##########",modelValue:e.empleado.telefono_empresa,"onUpdate:modelValue":o[69]||(o[69]=a=>e.empleado.telefono_empresa=a),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),s("div",ki,[o[126]||(o[126]=s("label",{class:"q-mb-sm block"},"Extensi\xF3n",-1)),l(c,{type:"tel",mask:"####",modelValue:e.empleado.extension,"onUpdate:modelValue":o[70]||(o[70]=a=>e.empleado.extension=a),placeholder:"Opcional",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])]),s("div",yi,[o[127]||(o[127]=s("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),l(c,{modelValue:e.empleado.observacion,"onUpdate:modelValue":o[71]||(o[71]=a=>e.empleado.observacion=a),placeholder:"opcional",type:"textarea",disable:e.disabled,autogrow:"",outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),s("div",wi,[l(A,{ref:"refArchivo",label:"Carpeta Digitalizada del Empleado",mixin:e.mixin,disable:e.disabled,listarAlGuardar:!0,"permitir-eliminar":e.accion==e.acciones.nuevo||e.accion==e.acciones.editar,idModelo:e.idEmpleado},{"boton-subir":i(()=>[e.mostrarBotonSubirArchivos&&e.accion!=e.acciones.nuevo?(t(),J(C,{key:0,color:"positive",push:"","no-caps":"",class:"full-width q-mb-lg",onClick:o[72]||(o[72]=a=>e.subirArchivos())},{default:i(()=>[l(F,{name:"bi-upload",class:"q-mr-sm",size:"xs"}),o[128]||(o[128]=H(" Subir archivos seleccionados "))]),_:1})):$("",!0)]),_:1},8,["mixin","disable","permitir-eliminar","idModelo"])]),e.componenteCargado?(t(),m("div",qi,[e.mostrarComponenteInformacionLicencia?(t(),J(T,{key:0,mixin:e.mixin,conductor:e.conductor,identificacion:e.empleado.identificacion,validar:e.mostrarComponenteInformacionLicencia},null,8,["mixin","conductor","identificacion","validar"])):$("",!0)])):$("",!0),l(Z,{class:"overflow-hidden q-mb-md expansion",label:"Familiares","header-class":"text-bold bg-header-collapse","default-opened":""},{default:i(()=>[s("div",Ci,[e.habilitarBotonAgregarFamiliares?(t(),J(C,{key:0,color:"positive",class:va(["q-mx-lg",{"q-mb-sm":e.$q.screen.xs,"full-width":e.$q.screen.xs}]),push:"",rounded:"","no-caps":"",onClick:o[73]||(o[73]=a=>e.agregarFamiliares())},{default:i(()=>[l(F,{name:"bi-person-fill-add",size:"xs",class:"q-pr-sm"}),o[130]||(o[130]=s("span",null,"Agregar Familiares",-1)),l(Se,{class:"bg-dark"},{default:i(()=>o[129]||(o[129]=[H("Puede modificar o eliminar un familiar desde el panel familiares de empleados ")])),_:1})]),_:1},8,["class"])):$("",!0),s("div",Fi,[e.construccionConfiguracionColumnas?(t(),J(B,{key:0,ref:"refFamiliares",titulo:"Familiares",configuracionColumnas:[...e.configuracionColumnasFamiliaresEmpleado,e.accionesTabla],datos:e.empleado.familiares,permitirConsultar:!1,permitirEliminar:!1,permitirEditar:!1,mostrarBotones:!1,"permitir-editar-celdas":!0,"mostrar-header":!1,grid:!1,accion1:e.btnEliminarFamiliar,"alto-fijo":!1,ajustarCeldas:!0},null,8,["configuracionColumnas","datos","accion1"])):$("",!0)])])]),_:1})]),_:1})]),_:1},8,["mixin","configuracionColumnas","tab-options","tabDefecto","filtrar","accion1Header","accion1","accion2","accion3"]),l(h,{comportamiento:e.modales,persistente:!1},null,8,["comportamiento"])],64)}var Vo=Ae(ps,[["render",Ei]]),Vn=Object.freeze(Object.defineProperty({__proto__:null,default:Vo},Symbol.toStringTag,{value:"Module"}));export{ms as C,Vn as E};
