var P=Object.defineProperty;var Q=(o,e,l)=>e in o?P(o,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[e]=l;var d=(o,e,l)=>(Q(o,typeof e!="symbol"?e+"":e,l),l);import{Q as c,a as g}from"./QItemSection.3a5d4c83.js";import{Q as $}from"./QSelect.69d1b992.js";import{bx as F,s as N,d as S,bc as j,m as L,c as T,cz as D,cB as I,_ as O,t as U,v as a,P as E,F as s,z as r,y as n,x as t,H as u,G as f,D as C,I as z,a5 as A,K as b}from"./index.2ef7a81a.js";import{Q as M}from"./QForm.e1af9500.js";import{E as G}from"./entidadAuditable.75a46700.js";import{T as H}from"./TabLayout.5bc8ab45.js";import{u as K}from"./index.e8d8fb1e.js";import{C as R}from"./ContenedorSimpleMixin.617817a8.js";import{P as J}from"./PlanesController.6bbcc8bc.js";import"./QChip.c5c0b225.js";import"./QMenu.f50512a6.js";import"./position-engine.093dda28.js";import"./format.8ac60962.js";import"./QTabs.5cdabeb1.js";import"./QResizeObserver.8bc492d6.js";import"./QTabPanels.7f1e5320.js";import"./touch.9135741d.js";import"./QPopupProxy.567210a4.js";import"./utils.a862dc08.js";import"./QPage.2bc1c297.js";import"./buttonSubmits.35676009.js";import"./EssentialTable.f528a579.js";import"./QFile.f5c4066f.js";import"./QToolbar.ff7ff7d8.js";import"./use-fullscreen.a336d1b1.js";import"./QBadge.ebf9f349.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.9c11306d.js";import"./VisorImagen.12af3936.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.94e1365a.js";import"./i18n-validators.46fc4c83.js";import"./index.e1f41ef1.js";import"./EssentialTablePagination.73d42aee.js";class W extends G{constructor(){super();d(this,"plan");d(this,"plan_info");d(this,"forma_pago");d(this,"comision");d(this,"tipo_vendedor");this.plan=null,this.plan_info=null,this.forma_pago=null,this.comision=null,this.tipo_vendedor=null}}class X extends F{constructor(){super(N.comisiones)}}const Y=[{name:"plan_info",field:"plan_info",label:"Plan",align:"left",sortable:!0},{name:"forma_pago",field:"forma_pago",label:"Forma Pago",align:"left",sortable:!0},{name:"comision",field:"comision",label:"Comision",align:"left",sortable:!0},{name:"tipo_vendedor",field:"tipo_vendedor",label:"Tipo Vendedor",align:"left",sortable:!0}];var Z=S({components:{TabLayout:H},setup(){j().setQuasar(L());const o=new R(W,new X),{entidad:e,disabled:l,accion:y,listadosAuxiliares:m}=o.useReferencias(),{setValidador:V,obtenerListados:v,cargarVista:i}=o.useComportamiento(),w=K({plan:{required:!0},forma_pago:{required:!0},comision:{required:!0},tipo_vendedor:{required:!0}},e);V(w.value);const p=T([]);i(async()=>{await v({planes:{controller:new J,params:{campos:"id,nombre"}}}),p.value=m.planes});function q(_,B){if(_===""){B(()=>{p.value=m.planes});return}B(()=>{const h=_.toLowerCase();p.value=m.planes.filter(k=>k.nombres.toLowerCase().indexOf(h)>-1||k.apellidos.toLowerCase().indexOf(h)>-1)})}return{mixin:o,comision:e,tipos_vendedores:D,disabled:l,accion:y,v$:w,formas_pagos:I,planes:p,filtrarPlanes:q,configuracionColumnas:Y}}});const x={class:"row q-col-gutter-sm q-mb-md"},oo={class:"col-12 col-md-3"},eo={class:"error-msg"},io={class:"col-12 col-md-3"},so={class:"error-msg"},no={class:"col-12 col-md-3"},ro={class:"error-msg"},ao={class:"col-12 col-md-3"},lo={class:"error-msg"};function to(o,e,l,y,m,V){const v=U("tab-layout");return a(),E(v,{mixin:o.mixin,configuracionColumnas:o.configuracionColumnas},{formulario:s(()=>[r(M,{onSubmit:e[4]||(e[4]=A(()=>{},["prevent"]))},{default:s(()=>[n("div",x,[n("div",oo,[e[6]||(e[6]=n("label",{class:"q-mb-sm block"},"Plan",-1)),r($,{modelValue:o.comision.plan,"onUpdate:modelValue":e[0]||(e[0]=i=>o.comision.plan=i),options:o.planes,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"",disable:o.disabled,readonly:o.disabled,error:!!o.v$.plan.$errors.length,onBlur:o.v$.plan.$touch,"error-message":"Debes seleccionar un plan","use-input":"","input-debounce":"0",onFilter:o.filtrarPlanes,"option-value":i=>i.id,"option-label":i=>i.nombre,"emit-value":"","map-options":""},{error:s(()=>[(a(!0),t(f,null,u(o.v$.plan.$errors,i=>(a(),t("div",{key:i.$uid},[n("div",eo,b(i.$message),1)]))),128))]),"no-option":s(()=>[r(c,null,{default:s(()=>[r(g,{class:"text-grey"},{default:s(()=>e[5]||(e[5]=[C(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","readonly","error","onBlur","onFilter","option-value","option-label"])]),n("div",io,[e[8]||(e[8]=n("label",{class:"q-mb-sm block"},"Forma de Pago",-1)),r($,{modelValue:o.comision.forma_pago,"onUpdate:modelValue":e[1]||(e[1]=i=>o.comision.forma_pago=i),options:o.formas_pagos,"transition-show":"jump-up","transition-hide":"jump-down","options-dense":"",dense:"",outlined:"",disable:o.disabled,readonly:o.disabled,error:!!o.v$.forma_pago.$errors.length,onBlur:o.v$.forma_pago.$touch,"error-message":"Debes seleccionar una forma de pago","use-input":"","input-debounce":"0","option-value":i=>i.label,"option-label":i=>i.value,"emit-value":"","map-options":""},{error:s(()=>[(a(!0),t(f,null,u(o.v$.forma_pago.$errors,i=>(a(),t("div",{key:i.$uid},[n("div",so,b(i.$message),1)]))),128))]),"no-option":s(()=>[r(c,null,{default:s(()=>[r(g,{class:"text-grey"},{default:s(()=>e[7]||(e[7]=[C(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","readonly","error","onBlur","option-value","option-label"])]),n("div",no,[e[9]||(e[9]=n("label",{class:"q-mb-sm block"},"Comision",-1)),r(z,{modelValue:o.comision.comision,"onUpdate:modelValue":e[2]||(e[2]=i=>o.comision.comision=i),placeholder:"Obligatorio",type:"number",disable:o.disabled,error:!!o.v$.comision.$errors.length,onBlur:o.v$.comision.$touch,outlined:"",dense:""},{error:s(()=>[(a(!0),t(f,null,u(o.v$.comision.$errors,i=>(a(),t("div",{key:i.$uid},[n("div",ro,b(i.$message),1)]))),128))]),_:1},8,["modelValue","disable","error","onBlur"])]),n("div",ao,[e[11]||(e[11]=n("label",{class:"q-mb-sm block"},"Tipo de Vendedor",-1)),r($,{modelValue:o.comision.tipo_vendedor,"onUpdate:modelValue":e[3]||(e[3]=i=>o.comision.tipo_vendedor=i),options:o.tipos_vendedores,"transition-show":"jump-up","transition-hide":"jump-down",disable:o.disabled,"options-dense":"",dense:"",outlined:"","input-debounce":0,"use-input":"",hint:"Obligatorio",error:!!o.v$.tipo_vendedor.$errors.length,onBlur:o.v$.tipo_vendedor.$touch,"option-value":i=>i.nombre,"option-label":i=>i.descripcion,"emit-value":"","map-options":""},{error:s(()=>[(a(!0),t(f,null,u(o.v$.tipo_vendedor.$errors,i=>(a(),t("div",{key:i.$uid},[n("div",lo,b(i.$message),1)]))),128))]),"no-option":s(()=>[r(c,null,{default:s(()=>[r(g,{class:"text-grey"},{default:s(()=>e[10]||(e[10]=[C(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","error","onBlur","option-value","option-label"])])])]),_:1})]),_:1},8,["mixin","configuracionColumnas"])}var Ko=O(Z,[["render",to]]);export{Ko as default};
