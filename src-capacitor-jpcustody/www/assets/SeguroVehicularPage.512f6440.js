var z=Object.defineProperty;var F=(e,a,s)=>a in e?z(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s;var n=(e,a,s)=>(F(e,typeof a!="symbol"?a+"":a,s),s);import{bx as q,s as O,d as P,q as u,_ as Q,t as T,v as i,P as B,F as l,z as d,a5 as N,y as r,I as f,x as t,G as g,H as h,K as v,B as I,j,O as E,a8 as U}from"./index.2ef7a81a.js";import{Q as A,a as D,C as M}from"./QPopupProxy.567210a4.js";import{Q as G}from"./QForm.e1af9500.js";import{r as V}from"./i18n-validators.46fc4c83.js";import{u as H}from"./index.e8d8fb1e.js";import{T as L}from"./TabLayoutFilterTabs2.2c3270e4.js";import{C as K}from"./ContenedorSimpleMixin.617817a8.js";import{E as R}from"./entidadAuditable.75a46700.js";import{a as J}from"./vehiculos.utils.c31e027d.js";import{v as m,Q as y}from"./utils.a862dc08.js";const W=[{name:"nombre",field:"nombre",label:"Nombre",align:"left",sortable:!0},{name:"num_poliza",field:"num_poliza",label:"N\xB0 P\xF3liza",align:"left",sortable:!0,editable:!1},{name:"fecha_caducidad",field:"fecha_caducidad",label:"Fecha Caducidad",align:"left",sortable:!0},{name:"estado",field:"estado",label:"Estado",align:"left",sortable:!0}];class X extends R{constructor(){super();n(this,"nombre");n(this,"num_poliza");n(this,"fecha_caducidad");n(this,"estado");this.nombre=null,this.num_poliza=null,this.fecha_caducidad=null,this.estado=!0}}class Y extends q{constructor(){super(O.seguros)}}var Z=P({components:{TabLayoutFilterTabs2:L},setup(e,{emit:a}){const s=new K(X,new Y),{entidad:c,disabled:$,accion:_}=s.useReferencias(),{setValidador:b,listar:o}=s.useComportamiento(),{onGuardado:C}=s.useHooks();C((p,w)=>{a("cerrar-modal",!1),a("guardado",{formulario:"SeguroVehicularPage",id:p,modelo:w.modelo})});const k=H({nombre:{required:V},num_poliza:{required:V},fecha_caducidad:{required:V}},c);b(k.value);async function S(p){switch(p){case"1":await o({"fecha_caducidad[operator]":">=","fecha_caducidad[value]":y(m(),0,0,15,u)});break;case"2":await o({"fecha_caducidad[start]":m(u),"fecha_caducidad[end]":y(m(),0,0,15,u)});break;case"3":await o({"fecha_caducidad[operator]":"<","fecha_caducidad[value]":m(u)});break;default:await o()}}return{mixin:s,seguro:c,disabled:$,accion:_,v$:k,configuracionColumnas:W,maskFecha:u,tabOptionsSeguros:J,filtrarSeguros:S}}});const x={class:"row q-col-gutter-sm q-py-md"},ee={class:"col-12 col-md-3 q-mb-md"},ae={class:"error-msg"},oe={class:"col-12 col-md-3 q-mb-md"},re={class:"error-msg"},se={class:"col-6 col-md-3"},le={class:"row items-center justify-end"},de={class:"error-msg"},ie={class:"col-12 col-md-3"};function te(e,a,s,c,$,_){const b=T("tab-layout-filter-tabs2");return i(),B(b,{mixin:e.mixin,configuracionColumnas:e.configuracionColumnas,ajustarCeldas:!0,"tab-options":e.tabOptionsSeguros,tabDefecto:"1",filtrar:e.filtrarSeguros,"titulo-pagina":"Seguros Vehiculares"},{formulario:l(()=>[d(G,{onSubmit:a[5]||(a[5]=N(()=>{},["prevent"]))},{default:l(()=>[r("div",x,[r("div",ee,[a[6]||(a[6]=r("label",{class:"q-mb-sm block"},"Nombre",-1)),d(f,{modelValue:e.seguro.nombre,"onUpdate:modelValue":a[0]||(a[0]=o=>e.seguro.nombre=o),placeholder:"Obligatorio",readonly:e.disabled,disable:e.disabled,error:!!e.v$.nombre.$errors.length,outlined:"",dense:""},{error:l(()=>[(i(!0),t(g,null,h(e.v$.nombre.$errors,o=>(i(),t("div",{key:o.$uid},[r("div",ae,v(o.$message),1)]))),128))]),_:1},8,["modelValue","readonly","disable","error"])]),r("div",oe,[a[7]||(a[7]=r("label",{class:"q-mb-sm block"},"N\xB0 P\xF3liza",-1)),d(f,{modelValue:e.seguro.num_poliza,"onUpdate:modelValue":a[1]||(a[1]=o=>e.seguro.num_poliza=o),placeholder:"Obligatorio",readonly:e.disabled,disable:e.disabled,error:!!e.v$.num_poliza.$errors.length,outlined:"",dense:""},{error:l(()=>[(i(!0),t(g,null,h(e.v$.num_poliza.$errors,o=>(i(),t("div",{key:o.$uid},[r("div",re,v(o.$message),1)]))),128))]),_:1},8,["modelValue","readonly","disable","error"])]),r("div",se,[a[8]||(a[8]=r("label",{class:"q-mb-sm block"},"Fecha de caducidad",-1)),d(f,{modelValue:e.seguro.fecha_caducidad,"onUpdate:modelValue":a[3]||(a[3]=o=>e.seguro.fecha_caducidad=o),placeholder:"Obligatorio",error:!!e.v$.fecha_caducidad.$errors.length,disable:e.disabled,outlined:"",dense:""},{append:l(()=>[d(I,{name:"event",class:"cursor-pointer"},{default:l(()=>[d(A,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[d(D,{modelValue:e.seguro.fecha_caducidad,"onUpdate:modelValue":a[2]||(a[2]=o=>e.seguro.fecha_caducidad=o),mask:e.maskFecha,"today-btn":""},{default:l(()=>[r("div",le,[j(d(E,{label:"Cerrar",color:"primary",flat:""},null,512),[[M]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:l(()=>[(i(!0),t(g,null,h(e.v$.fecha_caducidad.$errors,o=>(i(),t("div",{key:o.$uid},[r("div",de,v(o.$message),1)]))),128))]),_:1},8,["modelValue","error","disable"])]),r("div",ie,[a[9]||(a[9]=r("label",{class:"q-mb-sm block"},"Estado",-1)),d(U,{modelValue:e.seguro.estado,"onUpdate:modelValue":a[4]||(a[4]=o=>e.seguro.estado=o),label:e.seguro.estado?"ACTIVO":"INACTIVO",color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:e.disabled},null,8,["modelValue","label","disable"])])])]),_:1})]),_:1},8,["mixin","configuracionColumnas","tab-options","filtrar"])}var ne=Q(Z,[["render",te]]),ke=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}));export{ne as S,Y as a,ke as b};
