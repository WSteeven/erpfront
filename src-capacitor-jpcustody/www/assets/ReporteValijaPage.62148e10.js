import{d as q,bd as R,m as v,e as P,q as S,A as E,bG as b,s as h,_ as F,t as A,v as B,P as U,F as r,z as o,be as x,bf as V,y as i,I as g,B as m,j as _,O as p,Q as I,c7 as O,D as C}from"./index.b8e09611.js";import{Q as $,a as w,C as k}from"./QPopupProxy.685eacb5.js";import{Q as D}from"./QPage.e6f8825d.js";import{C as N}from"./ContenedorSimpleMixin.4e22246b.js";import{V as z}from"./Valija.55ae864d.js";import{V as T}from"./ValijaController.15718e01.js";import{u as G}from"./index.70965bc7.js";import{r as Q}from"./i18n-validators.06abe774.js";import{E as L}from"./ErrorComponent.3c1fc91c.js";import{u as H,A as y}from"./utils.9344cd7e.js";import"./format.8ac60962.js";import"./QMenu.b3fb639b.js";import"./position-engine.799c9136.js";import"./entidadAuditable.75a46700.js";import"./index.ea415f98.js";var M=q({components:{ErrorComponent:L},setup(){const a=new N(z,new T),{disabled:e}=a.useReferencias(),{setValidador:f}=a.useComportamiento();R().setQuasar(v()),H().setQuasar(v());const l=P({fecha_inicio:"",fecha_fin:""}),t=G({fecha_inicio:{required:Q},fecha_fin:{required:Q}},l);f(t.value);async function n(s){if(await t.value.$validate()){const c=E.getInstance();let d;const u="Reporte de valija de "+l.fecha_inicio+" al "+l.fecha_fin;switch(s){case"excel":d=b.URL_BASE+"/"+c.getEndpoint(h.reporte_valijas)+"excel",await y(d,"POST","blob","xlsx",u,l);break;default:d=b.URL_BASE+"/"+c.getEndpoint(h.reporte_valijas)+"pdf",await y(d,"POST","blob","pdf",u,l)}}}return{reporte:l,disabled:e,v$:t,maskFecha:S,generarReporte:n}}});const J={class:"col-6 col-md-3"},K={class:"row items-center justify-end"},W={class:"col-6 col-md-3"},X={class:"row items-center justify-end"},Y={class:"col-md-6"},Z={class:"col-md-6"};function ee(a,e,f,l,j,t){const n=A("error-component");return B(),U(D,{padding:"",class:"flex flex-center"},{default:r(()=>[o(x,{flat:"",bordered:"",class:"my-card bg-desenfoque"},{default:r(()=>[o(V,null,{default:r(()=>e[6]||(e[6]=[i("div",{class:"row items-center no-wrap"},[i("div",{class:"col"},[i("div",{class:"text-h6"},"Generar Reporte de Env\xEDo de Valijas")])],-1)])),_:1}),o(V,null,{default:r(()=>[i("div",J,[e[7]||(e[7]=i("label",{class:"q-mb-sm block"},"Fecha Inicio:",-1)),o(g,{modelValue:a.reporte.fecha_inicio,"onUpdate:modelValue":e[1]||(e[1]=s=>a.reporte.fecha_inicio=s),placeholder:"Obligatorio",error:!!a.v$.fecha_inicio.$errors.length,disable:a.disabled,outlined:"",dense:""},{append:r(()=>[o(m,{name:"event",class:"cursor-pointer"},{default:r(()=>[o($,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[o(w,{modelValue:a.reporte.fecha_inicio,"onUpdate:modelValue":e[0]||(e[0]=s=>a.reporte.fecha_inicio=s),mask:a.maskFecha,"today-btn":""},{default:r(()=>[i("div",K,[_(o(p,{label:"Cerrar",color:"primary",flat:""},null,512),[[k]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:r(()=>[o(n,{clave:"fecha_inicio",v$:a.v$},null,8,["v$"])]),_:1},8,["modelValue","error","disable"])]),i("div",W,[e[8]||(e[8]=i("label",{class:"q-mb-sm block"},"Fecha Fin:",-1)),o(g,{modelValue:a.reporte.fecha_fin,"onUpdate:modelValue":e[3]||(e[3]=s=>a.reporte.fecha_fin=s),placeholder:"Obligatorio",error:!!a.v$.fecha_fin.$errors.length,disable:a.disabled,outlined:"",dense:""},{append:r(()=>[o(m,{name:"event",class:"cursor-pointer"},{default:r(()=>[o($,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[o(w,{modelValue:a.reporte.fecha_fin,"onUpdate:modelValue":e[2]||(e[2]=s=>a.reporte.fecha_fin=s),mask:a.maskFecha,"today-btn":""},{default:r(()=>[i("div",X,[_(o(p,{label:"Cerrar",color:"primary",flat:""},null,512),[[k]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:r(()=>[o(n,{clave:"fecha_fin",v$:a.v$},null,8,["v$"])]),_:1},8,["modelValue","error","disable"])])]),_:1}),o(I),o(O,{align:"around",class:"row q-col-gutter-xs"},{default:r(()=>[i("div",Y,[o(p,{color:"positive",onClick:e[4]||(e[4]=s=>a.generarReporte("excel")),class:"full-width",unelevated:"",square:""},{default:r(()=>[o(m,{name:"bi-file-earmark-excel-fill",size:"xs",class:"q-mr-sm"}),e[9]||(e[9]=C("Excel"))]),_:1})]),i("div",Z,[o(p,{color:"negative",onClick:e[5]||(e[5]=s=>a.generarReporte("pdf")),class:"full-width",unelevated:"",square:""},{default:r(()=>[o(m,{name:"bi-file-earmark-pdf-fill",size:"xs",class:"q-mr-sm"}),e[10]||(e[10]=C("PDF"))]),_:1})])]),_:1})]),_:1})]),_:1})}var be=F(M,[["render",ee]]);export{be as default};
