var co=Object.defineProperty;var mo=(e,o,k)=>o in e?co(e,o,{enumerable:!0,configurable:!0,writable:!0,value:k}):e[o]=k;var Ue=(e,o,k)=>(mo(e,typeof o!="symbol"?o+"":o,k),k);import{ab as bo,at as po,c as G,f as O,w as fo,ah as vo,aV as go,bK as Vo,b4 as ho,g as ko,k as qo,bx as $o,s as je,d as Le,u as Qe,q as me,v as m,P as S,F as s,y as l,z as i,I as v,V as u,U as yo,x as w,J as y,B as N,j as Se,O as de,G as ie,H as te,K as D,D as h,bg as wo,R as Co,bc as Io,m as Ae,A as Uo,by as Z,p as Ao,cK as Ee,bG as Eo,E as To,_ as Oo,t as x,a5 as Do,a8 as Te,M as ge,N as Ve,L as Fo,cO as he,cL as b}from"./index.2ef7a81a.js";import{Q as se,a as ee}from"./QSelect.69d1b992.js";import{Q as ue,a as ce}from"./QItemSection.3a5d4c83.js";import{Q as Ne,a as Re,C as Ke}from"./QPopupProxy.567210a4.js";import{a as Oe}from"./QToolbar.ff7ff7d8.js";import{u as He,Q as Po}from"./QCircularProgress.f92822f9.js";import{T as Bo}from"./TouchPan.819070cc.js";import{b as ke,n as De}from"./format.8ac60962.js";import{Q as H}from"./QExpansionItem.19ca5c53.js";import{Q as Mo}from"./QForm.e1af9500.js";import{r as B,a as j,c as zo}from"./i18n-validators.46fc4c83.js";import{u as Ge}from"./index.e8d8fb1e.js";import{T as jo}from"./TabLayoutFilterTabs2.2c3270e4.js";import{S as $e,E as Lo}from"./EssentialTable.f528a579.js";import{E as Qo}from"./EssentialPopupEditableTable.fe9e6dce.js";import{T as So,a as Ye,b as No}from"./TanqueoPage.ca147a64.js";import{C as Je}from"./ContenedorSimpleMixin.617817a8.js";import{B as Ro,a as Ko,u as Ho,C as Fe,b as Go,c as Pe}from"./Functions.113cfea4.js";import{u as We}from"./filtrosListadosGenerales.79b6e840.js";import{A as Yo}from"./AsignacionVehiculoController.3fe54357.js";import{v as Xe,u as Jo,S as Wo,z as Xo,C as Zo,L as _o}from"./utils.a862dc08.js";import{T as xo}from"./TareaController.f1ef1787.js";import{T as ea}from"./TicketController.c7414395.js";import{i as oa,j as aa,k as la,l as ia,m as sa}from"./vehiculos.utils.c31e027d.js";import{T as ra}from"./TransferenciaVehiculoController.2cb19392.js";import{V as qe}from"./VehiculoController.cda17fd9.js";import{C as na,a as ta}from"./ComponenteModal.domain.57cc3867.js";import{S as da}from"./SimpleLayout.8e717a1b.js";import{C as ua}from"./CombustibleController.ea4d2183.js";import{M as ca}from"./ModalEntidad.be40edc8.js";import{E as ma}from"./ErrorComponent.94e1365a.js";import{N as ba}from"./NoOptionComponent.264184d7.js";import"./QChip.c5c0b225.js";import"./QMenu.f50512a6.js";import"./position-engine.093dda28.js";import"./touch.9135741d.js";import"./index.e1f41ef1.js";import"./QTabs.5cdabeb1.js";import"./QResizeObserver.8bc492d6.js";import"./QTabPanels.7f1e5320.js";import"./QPage.2bc1c297.js";import"./EssentialTableTabs.3fb37590.js";import"./QBadge.ebf9f349.js";import"./EssentialTablePagination.73d42aee.js";import"./use-fullscreen.a336d1b1.js";import"./buttonSubmits.35676009.js";import"./QFile.f5c4066f.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.9c11306d.js";import"./VisorImagen.12af3936.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./TabLayout.5bc8ab45.js";import"./entidadAuditable.75a46700.js";import"./configuracion_general.ca1e935d.js";import"./ConfiguracionController.337fc7d3.js";const Be=[34,37,40,33,39,38],pa=Object.keys(He);var Me=bo({name:"QKnob",props:{...po,...He,modelValue:{type:Number,required:!0},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},tabindex:{type:[Number,String],default:0},disable:Boolean,readonly:Boolean},emits:["update:modelValue","change","dragValue"],setup(e,{slots:o,emit:k}){const{proxy:t}=ko(),{$q:U}=t,g=G(e.modelValue),F=G(!1),V=O(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),p=O(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax);let A;function L(){g.value=e.modelValue===null?V.value:ke(e.modelValue,V.value,p.value),W(!0)}fo(()=>`${e.modelValue}|${V.value}|${p.value}`,L),L();const E=O(()=>e.disable===!1&&e.readonly===!1),a=O(()=>"q-knob non-selectable"+(E.value===!0?" q-knob--editable":e.disable===!0?" disabled":"")),Y=O(()=>(String(e.step).trim().split(".")[1]||"").length),M=O(()=>e.step===0?1:e.step),J=O(()=>e.instantFeedback===!0||F.value===!0),oe=U.platform.is.mobile===!0?O(()=>E.value===!0?{onClick:ae}:{}):O(()=>E.value===!0?{onMousedown:d,onClick:ae,onKeydown:be,onKeyup:pe}:{}),q=O(()=>E.value===!0?{tabindex:e.tabindex}:{[`aria-${e.disable===!0?"disabled":"readonly"}`]:"true"}),_=O(()=>{const c={};return pa.forEach(C=>{c[C]=e[C]}),c});function Q(c){c.isFinal?(K(c.evt,!0),F.value=!1):(c.isFirst&&(n(),F.value=!0),K(c.evt))}const $=O(()=>[[Bo,Q,void 0,{prevent:!0,stop:!0,mouse:!0}]]);function n(){const{top:c,left:C,width:T,height:z}=t.$el.getBoundingClientRect();A={top:c+z/2,left:C+T/2}}function d(c){n(),K(c)}function ae(c){n(),K(c,!0)}function be(c){if(!Be.includes(c.keyCode))return;vo(c);const C=([34,33].includes(c.keyCode)?10:1)*M.value,T=[34,37,40].includes(c.keyCode)?-C:C;g.value=ke(parseFloat((g.value+T).toFixed(Y.value)),V.value,p.value),W()}function K(c,C){const T=go(c),z=Math.abs(T.top-A.top),re=Math.sqrt(z**2+Math.abs(T.left-A.left)**2);let I=Math.asin(z/re)*(180/Math.PI);T.top<A.top?I=A.left<T.left?90-I:270+I:I=A.left<T.left?I+90:270-I,U.lang.rtl===!0?I=De(-I-e.angle,0,360):e.angle&&(I=De(I-e.angle,0,360)),e.reverse===!0&&(I=360-I);let P=e.min+I/360*(e.max-e.min);if(M.value!==0){const X=P%M.value;P=P-X+(Math.abs(X)>=M.value/2?(X<0?-1:1)*M.value:0),P=parseFloat(P.toFixed(Y.value))}P=ke(P,V.value,p.value),k("dragValue",P),g.value!==P&&(g.value=P),W(C)}function pe(c){Be.includes(c.keyCode)&&W(!0)}function W(c){e.modelValue!==g.value&&k("update:modelValue",g.value),c===!0&&k("change",g.value)}const fe=Vo(e);function R(){return qo("input",fe.value)}return()=>{const c={class:a.value,role:"slider","aria-valuemin":V.value,"aria-valuemax":p.value,"aria-valuenow":e.modelValue,...q.value,..._.value,value:g.value,instantFeedback:J.value,...oe.value},C={default:o.default};return E.value===!0&&e.name!==void 0&&(C.internal=R),ho(Po,c,C,"knob",E.value,()=>$.value)}}});const fa=[{name:"id",field:"id",label:"N\xB0",align:"left",sortable:!0},{name:"vehiculo",field:"vehiculo",label:"Placa",align:"left",sortable:!0},{name:"chofer",field:"chofer",label:"Chofer",align:"left",sortable:!0},{name:"fecha",field:"fecha",label:"fecha",align:"left",sortable:!0},{name:"km_inicial",field:"km_inicial",label:"Km Inicio",align:"left",sortable:!0},{name:"km_final",field:"km_final",label:"Km Final",align:"left",sortable:!0},{name:"tanque_final",field:"tanque_final",label:"Tanque final",align:"left",sortable:!0},{name:"firmada",field:"firmada",label:"Firmada",align:"left",sortable:!0}],ze=[{name:"id",field:"id",label:"Id",align:"left",sortable:!0,editable:!1,visible:!1},{name:"fecha_hora",field:"fecha_hora",label:"Fecha y Hora",align:"left",sortable:!0,editable:!0,visible:!0},{name:"kilometraje",field:"kilometraje",label:"Kilometraje",align:"left",type:"number",editable:!0,visible:!0},{name:"actividad_realizada",field:"actividad_realizada",label:"Actividad Realizada",align:"left",type:"textarea",sortable:!0,editable:!0,visible:!0},{name:"tarea",field:"tarea",label:"Tarea",align:"left",type:"select",editable:!0,visible:!0}];class va extends $o{constructor(){super(je.ultima_bitacora)}}const ga=[{name:"fecha_hora",field:"fecha_hora",label:"Fecha",align:"left",sortable:!0,visible:!0},{name:"vehiculo",field:"vehiculo",label:"Vehiculo",align:"left",sortable:!0,visible:!0},{name:"solicitante",field:"solicitante",label:"Solicitante",align:"left",sortable:!0,visible:!0},{name:"km_tanqueo",field:"km_tanqueo",label:"Kilometraje",align:"left",sortable:!0,visible:!0},{name:"monto",field:"monto",label:"Monto ($)",align:"left",sortable:!0,visible:!0},{name:"combustible",field:"combustible",label:"Combustible",align:"left",sortable:!0,visible:!0}],Va={class:"row q-col-gutter-sm q-py-md"},ha={class:"col-12 col-md-3 col-sm-6"},ka={key:0,class:"col-12 col-md-3 col-sm-6"},qa={class:"col-12 col-md-3 col-sm-6"},$a={class:"row items-center justify-end"},ya={class:"error-msg"},wa={class:"col-12 col-md-3 col-sm-6"},Ca={class:"error-msg"},Ia={class:"col-12 col-md-3 col-sm-6"},Ua={class:"error-msg"},Aa={class:"col-12 col-md-3 col-sm-6 q-mb-md"},Ea={class:"error-msg"},Ta={class:"col-12 col-md-3 col-sm-6"},Oa={class:"col-12 col-md-3 col-sm-6"},Da={class:"row q-gutter-xs"},Fa=Le({__name:"TanqueoLitePage",props:{datos:Object},emits:["guardado","cerrar-modal"],setup(e,{emit:o}){const k=new Je(So,new Ye),{entidad:t,listadosAuxiliares:U,disabled:g}=k.useReferencias(),{cargarVista:F,obtenerListados:V,setValidador:p,guardar:A}=k.useComportamiento(),L=e,E=o,a=Qe(),{combustibles:Y,filtrarCombustibles:M}=We(U),J=L.datos.vehiculo;F(async()=>{await V({combustibles:new ua}),Y.value=U.combustibles,_()});const q=Ge({fecha_hora:{required:B},km_tanqueo:{required:B},monto:{required:B},combustible:{required:B},imagen_comprobante:{required:B},imagen_tablero:{required:B}},t);p(q.value);function _(){t.vehiculo=L.datos.vehiculo_id,t.bitacora=L.datos.bitacora_id,t.solicitante=a.nombreUsuario,t.fecha_hora=Xe(me)}async function Q(){const $=await A(t,!1);console.log($),E("guardado",{formulario:"TanqueoLitePage",modelo:$}),E("cerrar-modal",!1)}return($,n)=>(m(),S(da,{mixin:u(k),mostrarButtonSubmits:!1},{formulario:s(()=>[l("div",Va,[l("div",ha,[n[10]||(n[10]=l("label",{class:"q-mb-sm block"},"Veh\xEDculo",-1)),i(v,{modelValue:u(J),"onUpdate:modelValue":n[0]||(n[0]=d=>yo(J)?J.value=d:null),disable:"",outlined:"",dense:"",autogrow:""},null,8,["modelValue"])]),u(t).solicitante?(m(),w("div",ka,[n[11]||(n[11]=l("label",{class:"q-mb-sm block"},"Solicitante",-1)),i(v,{modelValue:u(t).solicitante,"onUpdate:modelValue":n[1]||(n[1]=d=>u(t).solicitante=d),disable:"",outlined:"",dense:"",autogrow:""},null,8,["modelValue"])])):y("",!0),l("div",qa,[n[12]||(n[12]=l("label",{class:"q-mb-sm block"},"Fecha",-1)),i(v,{modelValue:u(t).fecha_hora,"onUpdate:modelValue":n[3]||(n[3]=d=>u(t).fecha_hora=d),placeholder:"Obligatorio",error:!!u(q).fecha_hora.$errors.length,onBlur:u(q).fecha_hora.$touch,outlined:"",disable:"",dense:""},{append:s(()=>[i(N,{name:"event",class:"cursor-pointer"},{default:s(()=>[i(Ne,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s(()=>[i(Re,{modelValue:u(t).fecha_hora,"onUpdate:modelValue":n[2]||(n[2]=d=>u(t).fecha_hora=d),mask:u(me),"today-btn":""},{default:s(()=>[l("div",$a,[Se(i(de,{label:"Cerrar",color:"primary",flat:""},null,512),[[Ke]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:s(()=>[(m(!0),w(ie,null,te(u(q).fecha_hora.$errors,d=>(m(),w("div",{key:d.$uid},[l("div",ya,D(d.$message),1)]))),128))]),_:1},8,["modelValue","error","onBlur"])]),l("div",wa,[n[13]||(n[13]=l("label",{class:"q-mb-sm block"},"Km Tanqueo",-1)),i(v,{type:"number",modelValue:u(t).km_tanqueo,"onUpdate:modelValue":n[4]||(n[4]=d=>u(t).km_tanqueo=d),placeholder:"Obligatorio",readonly:u(g),error:!!u(q).km_tanqueo.$errors.length,outlined:"",dense:""},{error:s(()=>[(m(!0),w(ie,null,te(u(q).km_tanqueo.$errors,d=>(m(),w("div",{key:d.$uid},[l("div",Ca,D(d.$message),1)]))),128))]),_:1},8,["modelValue","readonly","error"])]),l("div",Ia,[n[14]||(n[14]=l("label",{class:"q-mb-sm block"},"Monto",-1)),i(v,{type:"number",modelValue:u(t).monto,"onUpdate:modelValue":n[5]||(n[5]=d=>u(t).monto=d),placeholder:"Obligatorio",readonly:u(g),error:!!u(q).monto.$errors.length,outlined:"",dense:""},{error:s(()=>[(m(!0),w(ie,null,te(u(q).monto.$errors,d=>(m(),w("div",{key:d.$uid},[l("div",Ua,D(d.$message),1)]))),128))]),_:1},8,["modelValue","readonly","error"])]),l("div",Aa,[n[16]||(n[16]=l("label",{class:"q-mb-sm block"},"Tipo de combustible",-1)),i(se,{modelValue:u(t).combustible,"onUpdate:modelValue":n[6]||(n[6]=d=>u(t).combustible=d),options:u(Y),"transition-show":"scale","transition-hide":"scale","options-dense":"",dense:"",outlined:"",disable:u(g),error:!!u(q).combustible.$errors.length,"use-input":"","input-debounce":"0",onFilter:u(M),"option-label":d=>d.nombre,"option-value":d=>d.id,"emit-value":"","map-options":""},{error:s(()=>[(m(!0),w(ie,null,te(u(q).combustible.$errors,d=>(m(),w("div",{key:d.$uid},[l("div",Ea,D(d.$message),1)]))),128))]),"no-option":s(()=>[i(ue,null,{default:s(()=>[i(ce,{class:"text-grey"},{default:s(()=>n[15]||(n[15]=[h(" No hay resultados ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","disable","error","onFilter","option-label","option-value"])]),l("div",Ta,[n[17]||(n[17]=l("label",{for:"q-mb-sm block"},"Imagen Comprobante",-1)),i($e,{file_extensiones:".jpg, image/*",placeholder:"Obligatorio",imagen:u(t).imagen_comprobante,error:!!u(q).imagen_comprobante.$errors.length,alto:"200px","onUpdate:modelValue":n[7]||(n[7]=d=>u(t).imagen_comprobante=d)},null,8,["imagen","error"])]),l("div",Oa,[n[18]||(n[18]=l("label",{for:"q-mb-sm block"},"Imagen Tablero",-1)),i($e,{file_extensiones:".jpg, image/*",placeholder:"Obligatorio",imagen:u(t).imagen_tablero,error:!!u(q).imagen_tablero.$errors.length,alto:"200px","onUpdate:modelValue":n[8]||(n[8]=d=>u(t).imagen_tablero=d)},null,8,["imagen","error"])])])]),"custom-buttons":s(()=>[l("div",Da,[i(de,{color:"primary",type:"submit",push:"","no-caps":"",disable:u(g),onClick:Q},{default:s(()=>[i(N,{name:"save",size:"xs",class:"q-pr-sm"}),n[19]||(n[19]=l("span",null,"Guardar",-1))]),_:1},8,["disable"]),i(de,{color:"negative",push:"","no-caps":"",onClick:n[9]||(n[9]=()=>{$.$emit("cancelar",!0),$.$emit("cerrar-modal",!1)})},{default:s(()=>[i(N,{name:"bi-x-lg",size:"xs",class:"q-pr-sm"}),n[20]||(n[20]=l("span",null,"Cancelar",-1))]),_:1})])]),_:1},8,["mixin"]))}});class Pa{constructor(){Ue(this,"TanqueoPage");this.TanqueoPage=wo(new na("Tanqueo de Combustible",Fa))}}class Ba extends ta{constructor(){super(new Pa)}}var Ma=Le({components:{NoOptionComponent:ba,ErrorComponent:ma,EssentialTable:Lo,TabLayoutFilterTabs2:jo,SelectorImagen:$e,EssentialPopupEditableTable:Qo,TanqueoPage:No,ModalesEntidad:ca},setup(){const e=new Je(Ro,new Ko),{entidad:o,disabled:k,listadosAuxiliares:t,accion:U}=e.useReferencias(),{setValidador:g,cargarVista:F,obtenerListados:V,reestablecer:p,listar:A}=e.useComportamiento(),{onReestablecer:L,onConsultado:E,onBeforeModificar:a,onModificado:Y}=e.useHooks(),{confirmar:M,notificarCorrecto:J,notificarAdvertencia:oe,notificarError:q}=Co(),_=new Ba;Io().setQuasar(Ae()),Jo().setQuasar(Ae());const Q=Qe(),$=new Wo,{vehiculos:n,filtrarVehiculos:d,empleados:ae,filtrarEmpleados:be,tareas:K,filtrarTareas:pe,tickets:W,filtrarTickets:fe}=We(t),R=G(),c=G(),C=G(!1),T=G(!1),z=G("0"),re=Uo.getInstance(),{imprimirPdf:I}=Ho();F(async()=>{R.value=await Ze(),we(),c.value=await ne(),ve(),await V({vehiculos:{controller:new qe,params:{tipo:"PROPIO"}}}),n.value=t.vehiculos}),L(async()=>{we(),c.value=await ne(),ve()}),E(async()=>{U.value==Z.editar&&(o.checklistAccesoriosVehiculo==null&&(o.checklistAccesoriosVehiculo=new Fe),o.checklistImagenVehiculo==null&&(o.checklistImagenVehiculo=new Go),o.checklistVehiculo==null&&(o.checklistVehiculo=new Pe),await V({tareas:{controller:new xo,params:{formulario:!0,empleado_id:Q.user.id,campos:"id,codigo_tarea,titulo"}},tickets:{controller:new ea,params:{responsable_id:o.chofer_id,campos:"id,codigo,asunto"}}}),K.value=t.tareas,W.value=t.tickets,ze.find(r=>r.field==="tarea").options=t.tareas.map(r=>({value:r.id,label:r.codigo_tarea}))),await Ie(),await ao()}),a(()=>{o.checklistAccesoriosVehiculo.bitacora_id=o.id,o.checklistImagenVehiculo.bitacora_id=o.id,o.checklistVehiculo.bitacora_id=o.id}),Y(()=>{A({firmada:z.value,chofer_id:Q.user.id})});const P={fecha:{required:B},hora_salida:{required:B},hora_llegada:{requiredIf:j(()=>U.value==Z.editar&&o.firmada)},km_inicial:{required:B},imagen_inicial:{required:B},km_final:{requiredIf:j(()=>U.value==Z.editar&&o.firmada)},tanque_inicio:{required:B},tanque_final:{requiredIf:j(()=>U.value==Z.editar&&o.firmada),minValue:zo(25)},vehiculo:{required:B},checklistImagenVehiculo:{imagen_frontal:{requiredIf:j(()=>o.firmada)},imagen_trasera:{requiredIf:j(()=>o.firmada)},imagen_lateral_derecha:{requiredIf:j(()=>o.firmada)},imagen_lateral_izquierda:{requiredIf:j(()=>o.firmada)},imagen_tablero_km:{requiredIf:j(()=>o.firmada)},imagen_tablero_radio:{requiredIf:j(()=>o.firmada)},imagen_asientos:{requiredIf:j(()=>o.firmada)},imagen_accesorios:{requiredIf:j(()=>o.firmada)}}},X=Ge(P,o);g(X.value);function ye(r){z.value=r,A({firmada:r,chofer_id:Q.user.id}),C.value=z.value!=="1"||Q.esAdministradorVehiculos}async function Ze(){try{$.activar();const r=await new Yo().listar({filtro:1,responsable_id:Q.user.id,estado:"ACEPTADO",transferido:0});return r.result.length==0?(await new ra().listar({filtro:1,responsable_id:Q.user.id,estado:"ACEPTADO"})).result[0]:r.result[0]}catch(r){oe(r)}finally{$.desactivar()}}async function _e(){const r=n.value.filter(f=>f.id===o.vehiculo)[0];o.vehiculo_id=r.id,o.chofer=r.custodio.length<2?"NO TIENE CUSTODIO ASIGNADO":r.custodio,o.chofer_id=r.custodio_id,c.value=await ne(),ve()}async function ne(){try{$.activar();const r=await new va().listar({vehiculo_id:o.vehiculo_id,firmada:1,filtrar:1});return console.log(r.response.data.modelo),r.response.data.modelo}catch(r){console.log("Error en obtenerUltimaBitacora",r)}finally{$.desactivar()}}function we(){console.log(R.value),R.value&&(o.vehiculo=R.value.vehiculo,o.vehiculo_id=R.value.vehiculo_id,o.chofer_id=R.value.responsable_id,o.chofer=R.value.responsable,o.fecha=Xe(me))}function ve(){c.value.id&&(o.checklistAccesoriosVehiculo=new Fe,o.checklistVehiculo=new Pe,o.checklistImagenVehiculo.observacion=" "),T.value=!1}function xe(r){const f=new Date,le=new Date(f.setDate(f.getDate()-1));return r>=Ee(le)&&r<=Ee(new Date)}function eo({posicion:r}){M("\xBFEst\xE1 seguro de continuar?",()=>o.actividadesRealizadas.splice(r,1))}async function oo(r){const f=await X.value.$validate();r&&M("\xBFEst\xE1 seguro de marcar como finalizada esta bit\xE1cora? Despu\xE9s de esto no podr\xE1s modificarla!",()=>M("Al dar click en OK se finalizar\xE1 y se firmar\xE1 automaticamente este registro!. \xBFDesea continuar? ",async()=>{f&&(await Ce(o.id),await p()),f||oe("Verifique el formulario")},()=>o.firmada=!1),()=>o.firmada=!1)}async function Ce(r){try{$.activar();const f=Eo.URL_BASE+"/"+re.getEndpoint(je.bitacoras_vehiculos)+"/firmar-bitacora/"+r,le=await re.post(f);return le.status==200&&J(le.data.mensaje),await ye("1"),c.value=await ne(),await p(),le}catch(f){await Xo(f)}finally{$.desactivar()}}async function ao(){const{result:r}=await new Ye().listar({bitacora_id:o.id});console.log(r),o.tiene_tanqueo=r.length>0,o.tanqueos=r}function lo(r){r.formulario=="TanqueoLitePage"&&(o.tanqueos.push(r.modelo),console.log("data recibida en el evento emitido de guardado",r))}async function io(){const{result:r}=await new To().listar({estado:1});t.empleados=r,ae.value=t.empleados}async function Ie(){let r;try{$.activar(),o.es_vehiculo_propio?r=await new qe().listar({tipo:"PROPIO"}):(r=await new qe().listar({tipo:"ALQUILADO"}),await io()),console.log(r),t.vehiculos=r.result,n.value=t.vehiculos}catch(f){q(`Ha ocurrido un error: ${f}`)}finally{$.desactivar()}}const so={titulo:"Agregar Registro de Tanqueo",icono:"bi-arrow-bar-down",color:"positive",tooltip:"Agregar tanqueo de combustible",accion:async()=>{const r=n.value.filter(f=>f.id===o.vehiculo)[0];console.log(r),_.abrirModalEntidad("TanqueoPage",{vehiculo:r.placa,vehiculo_id:r.id,bitacora_id:o.id})},visible:()=>U.value==Z.editar},ro={titulo:"Agregar Actividad",icono:"bi-arrow-bar-down",color:"positive",tooltip:"Agregar actividad realizada",accion:()=>{const r={id:null,fecha_hora:"",actividad:null};r.id=o.actividadesRealizadas.length?Zo(o.actividadesRealizadas)+1:1;const f=new Date;r.fecha_hora=_o(f,"YYYY-MM-DD HH:mm:ss","es"),o.actividadesRealizadas.unshift(r)},visible:()=>U.value==Z.editar},no={titulo:"Eliminar",icono:"bi-trash",color:"negative",accion:({posicion:r})=>{eo({posicion:r})},visible:()=>!0},to={titulo:"Imprimir",icono:"bi-printer",color:"secondary",accion:async({entidad:r})=>{await I(r.id)},visible:()=>z.value==="1"},uo={titulo:"Finalizar",icono:"bi-check2-circle",color:"positive",accion:async({entidad:r})=>{o.id=r.id,o.km_inicial=r.km_inicial,await Ce(r.id)},visible:()=>z.value==="0"};return{mixin:e,bitacora:o,disabled:k,v$:X,accion:U,acciones:Z,configuracionColumnas:fa,columnasActividades:ze,configuracionColumnasTanqueos:ga,maskFecha:me,accionesTabla:Ao,optionsDefault:oa,optionsEstadosCualitativos:aa,optionsEstados:la,optionsEstadosExtintor:ia,accepted:G("1"),tabDefecto:z,tabOptionsBitacoras:sa,bloquear_km_tanque:T,puedeEditar:C,vehiculos:n,filtrarVehiculos:d,choferes:ae,filtrarChoferes:be,tickets:W,filtrarTickets:fe,tareas:K,filtrarTareas:pe,TanqueFinalValido:O(()=>o.tanque_final<=100||o.tanque_final>=0),modales:_,guardado:lo,optionsFecha:xe,checkFinalizada:oo,obtenerVehiculos:Ie,filtrarBitacoras:ye,vehiculoSeleccionado:_e,btnAgregarTanqueo:so,btnAgregarActividad:ro,btnMarcarFinalizada:uo,btnEliminar:no,btnImprimir:to}}});const za={class:"row q-col-gutter-sm q-py-md"},ja={class:"col-12 col-md-3 col-sm-3"},La={class:"col-12 col-md-3 q-mb-md"},Qa={key:0,class:"col-12 col-md-3 q-mb-md"},Sa={key:1,class:"col-12 col-md-3 q-mb-md"},Na={class:"col-6 col-md-3"},Ra={class:"row items-center justify-end"},Ka={class:"col-3 col-md-3 col-sm-6 col-xs-6"},Ha={class:"col-3 col-md-3 col-sm-6 col-xs-6"},Ga={class:"col-6 col-md-3"},Ya={class:"col-6 col-md-3"},Ja={class:"q-mb-sm block"},Wa={class:"col-6 col-md-3"},Xa={class:"col-6 col-md-3"},Za={class:"col-6 col-md-3"},_a={key:2,class:"col-12 col-md-3"},xa={key:3,class:"col-12 col-md-3"},el={key:0,class:"col-12 col-md-3 q-mb-xl"},ol={class:"row q-col-gutter-sm q-pa-md"},al={class:"col-12 col-md-3 col-sm-3"},ll={key:0,class:"row q-col-gutter-sm q-pa-sm"},il={class:"col-12"},sl={class:"row q-col-gutter-sm q-pa-sm"},rl={class:"col-12"},nl={class:"col-12 col-md-12 rounded-card q-ma-sm q-py-sm text-center bg-light-blue-2"},tl={class:"col-12 col-md-12 q-ma-sm"},dl={class:"row q-col-gutter-sm q-pa-sm"},ul={class:"col-md-3 col-sm-4 col-xs-6"},cl={class:"col-md-3 col-sm-4 col-xs-6"},ml={class:"col-md-3 col-sm-4 col-xs-6"},bl={class:"col-md-3 col-sm-4 col-xs-6"},pl={class:"col-12"},fl={class:"row q-col-gutter-sm q-pa-sm"},vl={class:"col-md-3 col-sm-4 col-xs-6"},gl={class:"col-md-3 col-sm-4 col-xs-6"},Vl={class:"col-md-3 col-sm-4 col-xs-6"},hl={class:"col-md-3 col-sm-4 col-xs-6"},kl={class:"col-md-3 col-sm-4 col-xs-6"},ql={class:"col-md-3 col-sm-4 col-xs-6"},$l={class:"col-md-3 col-sm-4 col-xs-6"},yl={class:"col-md-3 col-sm-4 col-xs-6"},wl={class:"col-12"},Cl={class:"row q-col-gutter-sm q-pa-sm"},Il={class:"col-md-3 col-sm-4 col-xs-6"},Ul={class:"col-md-3 col-sm-4 col-xs-6"},Al={class:"col-md-3 col-sm-4 col-xs-6"},El={class:"col-md-3 col-sm-4 col-xs-6"},Tl={class:"col-12"},Ol={class:"row q-col-gutter-sm q-pa-sm"},Dl={class:"col-md-3 col-sm-4 col-xs-6"},Fl={class:"col-md-3 col-sm-4 col-xs-6"},Pl={class:"col-md-3 col-sm-4 col-xs-6"},Bl={class:"col-md-3 col-sm-4 col-xs-6"},Ml={class:"col-md-3 col-sm-4 col-xs-6"},zl={class:"col-md-3 col-sm-4 col-xs-6"},jl={class:"col-md-3 col-sm-4 col-xs-6"},Ll={class:"col-md-3 col-sm-4 col-xs-6"},Ql={class:"col-12"},Sl={class:"col-12 col-md-12 rounded-card q-ma-sm q-py-sm text-center bg-light-blue-2"},Nl={class:"row q-col-gutter-sm q-pa-sm"},Rl={class:"col-md-3 col-sm-4 col-xs-6"},Kl={class:"col-md-3 col-sm-4 col-xs-6"},Hl={class:"col-md-3 col-sm-4 col-xs-6"},Gl={class:"col-md-3 col-sm-4 col-xs-6"},Yl={class:"col-md-3 col-sm-4 col-xs-6"},Jl={class:"col-md-3 col-sm-4 col-xs-6"},Wl={class:"col-md-3 col-sm-4 col-xs-6"},Xl={class:"col-md-3 col-sm-4 col-xs-6"},Zl={class:"q-mb-sm block"},_l={class:"col-12"};function xl(e,o,k,t,U,g){const F=x("no-option-component"),V=x("error-component"),p=x("selector-imagen"),A=x("essential-table"),L=x("tab-layout-filter-tabs2"),E=x("modales-entidad");return m(),w(ie,null,[i(L,{mixin:e.mixin,configuracionColumnas:e.configuracionColumnas,"titulo-pagina":"Control diario de veh\xEDculos",ajustarCeldas:"","tab-options":e.tabOptionsBitacoras,tabDefecto:e.tabDefecto,permitirEditar:e.puedeEditar,filtrar:e.filtrarBitacoras,accion1:e.btnMarcarFinalizada,accion2:e.btnImprimir},{formulario:s(()=>[i(Mo,{onSubmit:o[60]||(o[60]=Do(()=>{},["prevent"]))},{default:s(()=>[l("div",za,[l("div",ja,[o[62]||(o[62]=l("label",{class:"q-mb-sm block"},"Tipo de veh\xEDculo",-1)),i(Te,{label:e.bitacora.es_vehiculo_propio?"PROPIO":"ALQUILADO",modelValue:e.bitacora.es_vehiculo_propio,"onUpdate:modelValue":[o[0]||(o[0]=a=>e.bitacora.es_vehiculo_propio=a),e.obtenerVehiculos],color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:e.disabled},null,8,["label","modelValue","disable","onUpdate:modelValue"])]),l("div",La,[o[63]||(o[63]=l("label",{class:"q-mb-sm block"},"Veh\xEDculo",-1)),i(se,{modelValue:e.bitacora.vehiculo,"onUpdate:modelValue":[o[1]||(o[1]=a=>e.bitacora.vehiculo=a),e.vehiculoSeleccionado],options:e.vehiculos,error:!!e.v$.vehiculo.$errors.length,disable:e.disabled,"options-dense":"",outlined:"",dense:"",onFilter:e.filtrarVehiculos,"use-input":"","input-debounce":"0","option-value":a=>a.id,"option-label":a=>a.placa,"emit-value":"","map-options":""},{option:s(a=>[i(ue,ge(Ve(a.itemProps)),{default:s(()=>[i(ce,null,{default:s(()=>[i(ee,null,{default:s(()=>[h(D(a.opt.placa),1)]),_:2},1024),i(ee,{caption:""},{default:s(()=>[h(D(a.opt.marca)+": "+D(a.opt.modelo),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"no-option":s(()=>[i(F)]),_:1},8,["modelValue","options","error","disable","onFilter","onUpdate:modelValue","option-value","option-label"])]),(e.accion==e.acciones.nuevo||e.bitacora.chofer)&&e.bitacora.es_vehiculo_propio?(m(),w("div",Qa,[o[64]||(o[64]=l("label",{class:"q-mb-sm block"},"Chofer",-1)),i(v,{modelValue:e.bitacora.chofer,"onUpdate:modelValue":o[2]||(o[2]=a=>e.bitacora.chofer=a),autogrow:"",disable:"",outlined:"",dense:""},null,8,["modelValue"])])):y("",!0),e.bitacora.es_vehiculo_propio?y("",!0):(m(),w("div",Sa,[o[65]||(o[65]=l("label",{class:"q-mb-sm block"},"Chofer",-1)),i(se,{modelValue:e.bitacora.chofer,"onUpdate:modelValue":[o[3]||(o[3]=a=>e.bitacora.chofer=a),o[4]||(o[4]=()=>e.bitacora.chofer_id=Number(e.bitacora.chofer))],options:e.choferes,disable:e.disabled,"options-dense":"",outlined:"",dense:"",onFilter:e.filtrarChoferes,"use-input":"","input-debounce":"0","option-label":a=>a.apellidos+" "+a.nombres,"option-value":a=>a.id,"emit-value":"","map-options":""},{"no-option":s(()=>[i(F)]),_:1},8,["modelValue","options","disable","onFilter","option-label","option-value"])])),l("div",Na,[o[66]||(o[66]=l("label",{class:"q-mb-sm block"},"Fecha",-1)),i(v,{modelValue:e.bitacora.fecha,"onUpdate:modelValue":o[6]||(o[6]=a=>e.bitacora.fecha=a),placeholder:"Obligatorio",error:!!e.v$.fecha.$errors.length,disable:e.disabled,mask:"####-##-##",outlined:"",dense:""},{append:s(()=>[i(N,{name:"event",class:"cursor-pointer"},{default:s(()=>[i(Ne,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s(()=>[i(Re,{modelValue:e.bitacora.fecha,"onUpdate:modelValue":o[5]||(o[5]=a=>e.bitacora.fecha=a),mask:e.maskFecha,"today-btn":""},{default:s(()=>[l("div",Ra,[Se(i(de,{label:"Cerrar",color:"primary",flat:""},null,512),[[Ke]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),error:s(()=>[i(V,{clave:"fecha",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","error","disable"])]),l("div",Ka,[o[67]||(o[67]=l("label",{class:"q-mb-sm block"},"Hora inicio labores veh\xEDculo",-1)),i(v,{modelValue:e.bitacora.hora_salida,"onUpdate:modelValue":o[7]||(o[7]=a=>e.bitacora.hora_salida=a),placeholder:"Obligatorio",disable:e.disabled,readonly:e.disabled,error:!!e.v$.hora_salida.$errors.length,type:"time",outlined:"",clearable:"",dense:""},{error:s(()=>[i(V,{clave:"hora_salida",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","readonly","error"])]),l("div",Ha,[o[68]||(o[68]=l("label",{class:"q-mb-sm block"},"Hora fin labores veh\xEDculo",-1)),i(v,{modelValue:e.bitacora.hora_llegada,"onUpdate:modelValue":o[8]||(o[8]=a=>e.bitacora.hora_llegada=a),placeholder:"Obligatorio",disable:e.disabled,readonly:e.disabled,error:!!e.v$.hora_llegada.$errors.length,type:"time",outlined:"",clearable:"",dense:""},{error:s(()=>[i(V,{clave:"hora_llegada",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","readonly","error"])]),l("div",Ga,[o[69]||(o[69]=l("label",{class:"q-mb-sm block"},"Km inicial",-1)),i(v,{type:"number",modelValue:e.bitacora.km_inicial,"onUpdate:modelValue":o[9]||(o[9]=a=>e.bitacora.km_inicial=a),placeholder:"Obligatorio",disable:e.disabled||e.bloquear_km_tanque,readonly:e.disabled,error:!!e.v$.km_inicial.$errors.length,outlined:"",dense:""},{error:s(()=>[i(V,{clave:"km_inicial",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","readonly","error"])]),l("div",Ya,[l("label",Ja,[o[71]||(o[71]=h("Fotograf\xEDa ")),o[72]||(o[72]=l("i",{class:"bi bi-info-circle"},null,-1)),i(Oe,null,{default:s(()=>o[70]||(o[70]=[h("Fotograf\xEDa del inicio del d\xEDa donde se muestre el kilometraje y combustible al inicio del d\xEDa ")])),_:1})]),i(p,{file_extensiones:".jpg, image/*",imagen:e.bitacora.imagen_inicial,disable:e.disabled,placeholder:"Obligatorio",error:!!e.v$.imagen_inicial.$errors.length,alto:"200px","onUpdate:modelValue":o[10]||(o[10]=a=>e.bitacora.imagen_inicial=a)},null,8,["imagen","disable","error"])]),l("div",Wa,[o[73]||(o[73]=l("label",{class:"q-mb-sm block"},"Km final",-1)),i(v,{type:"number",modelValue:e.bitacora.km_final,"onUpdate:modelValue":o[11]||(o[11]=a=>e.bitacora.km_final=a),placeholder:"Obligatorio",disable:e.disabled,readonly:e.disabled,error:!!e.v$.km_final.$errors.length,onBlur:e.v$.km_final.$touch,outlined:"",dense:""},{error:s(()=>[i(V,{clave:"km_final",v$:e.v$},null,8,["v$"])]),_:1},8,["modelValue","disable","readonly","error","onBlur"])]),l("div",Xa,[o[75]||(o[75]=l("label",{class:"q-mb-sm block"},"Tanque inicio",-1)),e.$q.screen.xs?y("",!0):(m(),S(v,{key:0,modelValue:e.bitacora.tanque_inicio,"onUpdate:modelValue":o[12]||(o[12]=a=>e.bitacora.tanque_inicio=a),type:"number",disable:e.disabled||e.bloquear_km_tanque,mask:"###",error:!!e.v$.tanque_inicio.$errors.length,dense:"",outlined:""},{error:s(()=>o[74]||(o[74]=[h("Ingresa un valor entre 0 y 100")])),prepend:s(()=>[i(N,{name:"bi-fuel-pump-fill"})]),append:s(()=>[i(N,{name:"bi-percent",size:"xs",color:"black"})]),_:1},8,["modelValue","disable","error"])),e.$q.platform.is.android||e.$q.screen.xs?(m(),S(Me,{key:1,"show-value":"",class:"text-white q-ma-md",modelValue:e.bitacora.tanque_inicio,"onUpdate:modelValue":o[13]||(o[13]=a=>e.bitacora.tanque_inicio=a),size:"90px",disable:e.disabled||e.bloquear_km_tanque,thickness:.2,color:e.bitacora.tanque_inicio>50?"green-5":"red-5","center-color":e.bitacora.tanque_inicio>50?"positive":"negative","track-color":"transparent","instant-feedback":""},{default:s(()=>[h(D(e.bitacora.tanque_inicio)+"% ",1)]),_:1},8,["modelValue","disable","color","center-color"])):y("",!0)]),l("div",Za,[o[77]||(o[77]=l("label",{class:"q-mb-sm block"},"Tanque final",-1)),e.$q.screen.xs?y("",!0):(m(),S(v,{key:0,ref:"tFinal",type:"number",modelValue:e.bitacora.tanque_final,"onUpdate:modelValue":o[14]||(o[14]=a=>e.bitacora.tanque_final=a),disable:e.disabled,mask:"###",error:!!e.v$.tanque_final.$errors.length,onBlur:e.v$.tanque_final.$touch,dense:"",outlined:""},{error:s(()=>o[76]||(o[76]=[h("Ingresa un valor entre 25 y 100")])),prepend:s(()=>[i(N,{name:"bi-fuel-pump-fill"})]),append:s(()=>[i(N,{name:"bi-percent",size:"xs",color:"black"})]),_:1},8,["modelValue","disable","error","onBlur"])),e.$q.platform.is.android||e.$q.screen.xs?(m(),S(Me,{key:1,"show-value":"",class:"text-white q-ma-md",modelValue:e.bitacora.tanque_final,"onUpdate:modelValue":o[15]||(o[15]=a=>e.bitacora.tanque_final=a),size:"90px",thickness:.2,color:e.bitacora.tanque_final>50?"green-5":"red-5","center-color":e.bitacora.tanque_final>50?"positive":"negative","track-color":"transparent","instant-feedback":""},{default:s(()=>[h(D(e.bitacora.tanque_final)+"% ",1)]),_:1},8,["modelValue","color","center-color"])):y("",!0)]),e.accion==e.acciones.editar||e.accion==e.acciones.consultar?(m(),w("div",_a,[o[78]||(o[78]=l("label",{class:"q-mb-sm block"},"Tareas",-1)),i(se,{modelValue:e.bitacora.tareas,"onUpdate:modelValue":o[16]||(o[16]=a=>e.bitacora.tareas=a),options:e.tareas,disable:e.disabled,"options-dense":"",clearable:"",dense:"",outlined:"","use-input":"","use-chips":"","input-debounce":"0",onFilter:e.filtrarTareas,multiple:"","option-label":a=>a.codigo_tarea,"option-value":a=>a.id,"emit-value":"","map-options":""},{option:s(a=>[i(ue,ge(Ve(a.itemProps)),{default:s(()=>[i(ce,null,{default:s(()=>[i(ee,null,{default:s(()=>[h(D(a.opt.codigo_tarea),1)]),_:2},1024),i(ee,{caption:""},{default:s(()=>[h(D(a.opt.titulo),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"no-option":s(()=>[i(F)]),_:1},8,["modelValue","options","disable","onFilter","option-label","option-value"])])):y("",!0),e.accion==e.acciones.editar||e.accion==e.acciones.consultar?(m(),w("div",xa,[o[79]||(o[79]=l("label",{class:"q-mb-sm block"},"Tickets",-1)),i(se,{modelValue:e.bitacora.tickets,"onUpdate:modelValue":o[17]||(o[17]=a=>e.bitacora.tickets=a),options:e.tickets,"options-dense":"",disable:e.disabled,clearable:"",dense:"",outlined:"","use-input":"","use-chips":"","input-debounce":"0",onFilter:e.filtrarTickets,multiple:"","option-label":a=>a.codigo,"option-value":a=>a.id,"emit-value":"","map-options":""},{option:s(a=>[i(ue,ge(Ve(a.itemProps)),{default:s(()=>[i(ce,null,{default:s(()=>[i(ee,null,{default:s(()=>[h(D(a.opt.codigo),1)]),_:2},1024),i(ee,{caption:""},{default:s(()=>[h(D(a.opt.asunto),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"no-option":s(()=>[i(F)]),_:1},8,["modelValue","options","disable","onFilter","option-label","option-value"])])):y("",!0)]),e.accion===e.acciones.editar||e.bitacora.firmada?(m(),w("div",el,[i(Fo,{class:"q-mt-lg q-pt-md",modelValue:e.bitacora.firmada,"onUpdate:modelValue":o[18]||(o[18]=a=>e.bitacora.firmada=a),label:"\xBFMarcar como finalizada?",disable:e.disabled,outlined:"",dense:""},null,8,["modelValue","disable"])])):y("",!0),e.accion==e.acciones.editar||e.accion==e.acciones.consultar?(m(),S(H,{key:1,class:"overflow-hidden q-mb-md expansion",label:"Tanqueo de combustible","header-class":"text-bold bg-header-collapse","default-opened":""},{default:s(()=>[l("div",ol,[l("div",al,[o[80]||(o[80]=l("label",{class:"q-mb-sm block"},"Registrar tanqueo combustible",-1)),i(Te,{label:e.bitacora.tiene_tanqueo?"SI":"NO",modelValue:e.bitacora.tiene_tanqueo,"onUpdate:modelValue":o[19]||(o[19]=a=>e.bitacora.tiene_tanqueo=a),color:"primary","keep-color":"",icon:"bi-check2-circle","unchecked-icon":"clear",disable:e.disabled},null,8,["label","modelValue","disable"])])]),e.bitacora.tiene_tanqueo?(m(),w("div",ll,[l("div",il,[i(A,{datos:e.bitacora.tanqueos,"configuracion-columnas":e.configuracionColumnasTanqueos,"accion1-header":e.btnAgregarTanqueo,"alto-fijo":!1},null,8,["datos","configuracion-columnas","accion1-header"])])])):y("",!0)]),_:1})):y("",!0),e.accion==e.acciones.editar||e.accion==e.acciones.consultar?(m(),S(H,{key:2,class:"overflow-hidden q-mb-md expansion",label:"Actividades Realizadas","header-class":"text-bold bg-header-collapse","default-opened":""},{default:s(()=>[l("div",sl,[l("div",rl,[i(A,{titulo:"Actividades realizadas",configuracionColumnas:e.accion===e.acciones.editar?[...e.columnasActividades,e.accionesTabla]:e.columnasActividades,datos:e.bitacora.actividadesRealizadas,permitirConsultar:!1,permitirEditarCeldas:e.accion==e.acciones.nuevo||e.accion==e.acciones.editar,permitirEditarModal:!0,permitirEditar:e.$q.screen.xs,permitirEliminar:!1,altoFijo:!1,accion1Header:e.btnAgregarActividad,accion1:e.btnEliminar},null,8,["configuracionColumnas","datos","permitirEditarCeldas","permitirEditar","accion1Header","accion1"])])])]),_:1})):y("",!0),e.accion==e.acciones.editar||e.accion==e.acciones.consultar?(m(),S(H,{key:3,class:"overflow-hidden q-mb-md expansion",label:"Checklist del Veh\xEDculo","header-class":"text-bold bg-header-collapse","default-opened":"",group:"checklist"},{default:s(()=>[l("div",nl,[l("div",null,[i(N,{name:"bi-info-circle-fill",class:"q-mr-xs q-ml-xs",size:"1em"}),o[81]||(o[81]=l("b",null," Informaci\xF3n ",-1)),o[82]||(o[82]=h("Las opciones se marcan con colores: "))]),l("div",null,[i(he,{modelValue:e.accepted,"onUpdate:modelValue":o[20]||(o[20]=a=>e.accepted=a),"checked-icon":"bi-check-circle-fill",color:"green",disable:"",val:"1",label:"OK"},null,8,["modelValue"]),i(he,{modelValue:e.accepted,"onUpdate:modelValue":o[21]||(o[21]=a=>e.accepted=a),"checked-icon":"bi-check-circle-fill",color:"orange",disable:"",val:"1",label:"Puede requerir atenci\xF3n"},null,8,["modelValue"]),i(he,{modelValue:e.accepted,"onUpdate:modelValue":o[22]||(o[22]=a=>e.accepted=a),"checked-icon":"bi-check-circle-fill",color:"red",disable:"",val:"1",label:"Requiere atenci\xF3n inmediata"},null,8,["modelValue"])])]),l("div",tl,[i(H,{class:"overflow-hidden q-mb-md expansion",label:"1. Interior","header-class":"text-bold bg-header-collapse","default-opened":""},{default:s(()=>[l("div",dl,[l("div",ul,[o[83]||(o[83]=l("label",{class:"q-mb-sm block"},"Parabrisas/ Vidrios Ventanas",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.parabrisas,"onUpdate:modelValue":o[23]||(o[23]=a=>e.bitacora.checklistVehiculo.parabrisas=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",cl,[o[84]||(o[84]=l("label",{class:"q-mb-sm block"},"Limpiaparabrisas",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.limpiaparabrisas,"onUpdate:modelValue":o[24]||(o[24]=a=>e.bitacora.checklistVehiculo.limpiaparabrisas=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",ml,[o[85]||(o[85]=l("label",{class:"q-mb-sm block"},"Luces interiores y tablero",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.luces_interiores,"onUpdate:modelValue":o[25]||(o[25]=a=>e.bitacora.checklistVehiculo.luces_interiores=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",bl,[o[86]||(o[86]=l("label",{class:"q-mb-sm block"},"Aire Acondicionado",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.aire_acondicionado,"onUpdate:modelValue":o[26]||(o[26]=a=>e.bitacora.checklistVehiculo.aire_acondicionado=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",pl,[o[87]||(o[87]=l("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(v,{autogrow:"",modelValue:e.bitacora.checklistVehiculo.observacion_checklist_interior,"onUpdate:modelValue":o[27]||(o[27]=a=>e.bitacora.checklistVehiculo.observacion_checklist_interior=a),placeholder:"Opcional",disable:e.disabled,hint:"Ingresa alguna observaci\xF3n o novedad presentada en el interior del veh\xEDculo",outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(H,{class:"overflow-hidden q-mb-md expansion",label:"2. Bajo el cap\xF3","header-class":"text-bold bg-header-collapse","default-opened":""},{default:s(()=>[l("div",fl,[l("div",vl,[o[88]||(o[88]=l("label",{class:"q-mb-sm block"},"Aceite de motor",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.aceite_motor,"onUpdate:modelValue":o[28]||(o[28]=a=>e.bitacora.checklistVehiculo.aceite_motor=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",gl,[o[89]||(o[89]=l("label",{class:"q-mb-sm block"},"Aceite Hidraulico",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.aceite_hidraulico,"onUpdate:modelValue":o[29]||(o[29]=a=>e.bitacora.checklistVehiculo.aceite_hidraulico=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",Vl,[o[90]||(o[90]=l("label",{class:"q-mb-sm block"},"Liqu\xEDdo de freno",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.liquido_freno,"onUpdate:modelValue":o[30]||(o[30]=a=>e.bitacora.checklistVehiculo.liquido_freno=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",hl,[o[91]||(o[91]=l("label",{class:"q-mb-sm block"},"L\xEDquido refrigerante",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.liquido_refrigerante,"onUpdate:modelValue":o[31]||(o[31]=a=>e.bitacora.checklistVehiculo.liquido_refrigerante=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",kl,[o[92]||(o[92]=l("label",{class:"q-mb-sm block"},"Agua Plumas/Radiador",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.agua_plumas_radiador,"onUpdate:modelValue":o[32]||(o[32]=a=>e.bitacora.checklistVehiculo.agua_plumas_radiador=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",ql,[o[93]||(o[93]=l("label",{class:"q-mb-sm block"},"Filtro de combustible",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.filtro_combustible,"onUpdate:modelValue":o[33]||(o[33]=a=>e.bitacora.checklistVehiculo.filtro_combustible=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",$l,[o[94]||(o[94]=l("label",{class:"q-mb-sm block"},"Bater\xEDa",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.bateria,"onUpdate:modelValue":o[34]||(o[34]=a=>e.bitacora.checklistVehiculo.bateria=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",yl,[o[95]||(o[95]=l("label",{class:"q-mb-sm block"},"Cables y Conexiones",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.cables_conexiones,"onUpdate:modelValue":o[35]||(o[35]=a=>e.bitacora.checklistVehiculo.cables_conexiones=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",wl,[o[96]||(o[96]=l("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(v,{autogrow:"",modelValue:e.bitacora.checklistVehiculo.observacion_checklist_bajo_capo,"onUpdate:modelValue":o[36]||(o[36]=a=>e.bitacora.checklistVehiculo.observacion_checklist_bajo_capo=a),disable:e.disabled,placeholder:"Opcional",hint:"Ingresa alguna observaci\xF3n o novedad presentada bajo el cap\xF3 del veh\xEDculo",outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1}),i(H,{class:"overflow-hidden q-mb-md expansion",label:"3. Bajo el veh\xEDculo y exterior","header-class":"text-bold bg-header-collapse","default-opened":""},{default:s(()=>[l("div",Cl,[l("div",Il,[o[97]||(o[97]=l("label",{class:"q-mb-sm block"},"Luces exteriores",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.luces_exteriores,"onUpdate:modelValue":o[37]||(o[37]=a=>e.bitacora.checklistVehiculo.luces_exteriores=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",Ul,[o[98]||(o[98]=l("label",{class:"q-mb-sm block"},"Frenos (pastillas/zapatas)",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.frenos,"onUpdate:modelValue":o[38]||(o[38]=a=>e.bitacora.checklistVehiculo.frenos=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",Al,[o[99]||(o[99]=l("label",{class:"q-mb-sm block"},"Amortiguadores",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.amortiguadores,"onUpdate:modelValue":o[39]||(o[39]=a=>e.bitacora.checklistVehiculo.amortiguadores=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",El,[o[100]||(o[100]=l("label",{class:"q-mb-sm block"},"Llantas ",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistVehiculo.llantas,"onUpdate:modelValue":o[40]||(o[40]=a=>e.bitacora.checklistVehiculo.llantas=a),options:e.optionsDefault,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",Tl,[o[101]||(o[101]=l("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(v,{autogrow:"",modelValue:e.bitacora.checklistVehiculo.observacion_checklist_exterior,"onUpdate:modelValue":o[41]||(o[41]=a=>e.bitacora.checklistVehiculo.observacion_checklist_exterior=a),disable:e.disabled,placeholder:"Opcional",hint:"Ingresa alguna observaci\xF3n o novedad presentada bajo el veh\xEDculo y en el exterior",outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1})])]),_:1})):y("",!0),e.accion==e.acciones.editar||e.accion==e.acciones.consultar?(m(),S(H,{key:4,class:"overflow-hidden q-mb-md expansion",label:"Checklist de Accesorios Veh\xEDculo","header-class":"text-bold bg-header-collapse",group:"checklist"},{default:s(()=>[l("div",Ol,[l("div",Dl,[o[102]||(o[102]=l("label",{class:"q-mb-sm block"},"Botiqu\xEDn",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistAccesoriosVehiculo.botiquin,"onUpdate:modelValue":o[42]||(o[42]=a=>e.bitacora.checklistAccesoriosVehiculo.botiquin=a),placeholder:"Obligatorio",options:e.optionsEstadosCualitativos,"keep-color":"",inline:e.$q.screen.xs&&e.$q.screen.width>540||e.$q.screen.sm&&e.$q.screen.width>780||e.$q.screen.md&&e.$q.screen.width>1024||e.$q.screen.lg||e.$q.screen.xl},null,8,["disable","modelValue","options","inline"])]),l("div",Fl,[o[103]||(o[103]=l("label",{class:"q-mb-sm block"},"Caja de Herramientas",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistAccesoriosVehiculo.caja_herramientas,"onUpdate:modelValue":o[43]||(o[43]=a=>e.bitacora.checklistAccesoriosVehiculo.caja_herramientas=a),placeholder:"Obligatorio",options:e.optionsEstadosCualitativos,"keep-color":"",inline:e.$q.screen.xs&&e.$q.screen.width>540||e.$q.screen.sm&&e.$q.screen.width>780||e.$q.screen.md&&e.$q.screen.width>1024||e.$q.screen.lg||e.$q.screen.xl},null,8,["disable","modelValue","options","inline"])]),l("div",Pl,[o[104]||(o[104]=l("label",{class:"q-mb-sm block"},"Tri\xE1ngulos de Seguridad",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistAccesoriosVehiculo.triangulos,"onUpdate:modelValue":o[44]||(o[44]=a=>e.bitacora.checklistAccesoriosVehiculo.triangulos=a),placeholder:"Obligatorio",options:e.optionsEstados,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",Bl,[o[105]||(o[105]=l("label",{class:"q-mb-sm block"},"Llanta Emergencia",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistAccesoriosVehiculo.llanta_emergencia,"onUpdate:modelValue":o[45]||(o[45]=a=>e.bitacora.checklistAccesoriosVehiculo.llanta_emergencia=a),placeholder:"Obligatorio",options:e.optionsEstados,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",Ml,[o[106]||(o[106]=l("label",{class:"q-mb-sm block"},"Cinturones de Seguridad",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistAccesoriosVehiculo.cinturones,"onUpdate:modelValue":o[46]||(o[46]=a=>e.bitacora.checklistAccesoriosVehiculo.cinturones=a),placeholder:"Obligatorio",options:e.optionsEstados,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",zl,[o[107]||(o[107]=l("label",{class:"q-mb-sm block"},"Gata Hidr\xE1ulica",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistAccesoriosVehiculo.gata,"onUpdate:modelValue":o[47]||(o[47]=a=>e.bitacora.checklistAccesoriosVehiculo.gata=a),placeholder:"Obligatorio",options:e.optionsEstados,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",jl,[o[108]||(o[108]=l("label",{class:"q-mb-sm block"},"Portaescalera",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistAccesoriosVehiculo.portaescalera,"onUpdate:modelValue":o[48]||(o[48]=a=>e.bitacora.checklistAccesoriosVehiculo.portaescalera=a),placeholder:"Obligatorio",options:e.optionsEstados,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",Ll,[o[109]||(o[109]=l("label",{class:"q-mb-sm block"},"Extintor",-1)),i(b,{disable:e.disabled,modelValue:e.bitacora.checklistAccesoriosVehiculo.extintor,"onUpdate:modelValue":o[49]||(o[49]=a=>e.bitacora.checklistAccesoriosVehiculo.extintor=a),placeholder:"Obligatorio",options:e.optionsEstadosExtintor,"keep-color":"",inline:""},null,8,["disable","modelValue","options"])]),l("div",Ql,[o[110]||(o[110]=l("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(v,{autogrow:"",modelValue:e.bitacora.checklistAccesoriosVehiculo.observacion_accesorios_vehiculo,"onUpdate:modelValue":o[50]||(o[50]=a=>e.bitacora.checklistAccesoriosVehiculo.observacion_accesorios_vehiculo=a),disable:e.disabled,placeholder:"Opcional",hint:"Ingresa alguna observaci\xF3n o novedad acerca de los accesorios del veh\xEDculo",outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1})):y("",!0),e.accion==e.acciones.editar||e.accion==e.acciones.consultar?(m(),S(H,{key:5,class:"overflow-hidden q-mb-md expansion",label:"Checklist de Im\xE1genes del veh\xEDculo","header-class":"text-bold bg-header-collapse",group:"checklist"},{default:s(()=>[l("div",Sl,[l("div",null,[i(N,{name:"bi-info-circle-fill",class:"q-mr-xs q-ml-xs",size:"1em"}),o[111]||(o[111]=l("b",null," Informaci\xF3n ",-1)),o[112]||(o[112]=h("Todas las im\xE1genes son obligatorias en cada bit\xE1cora "))])]),l("div",Nl,[l("div",Rl,[o[113]||(o[113]=l("label",{class:"q-mb-sm block"},"Parte Delantera",-1)),i(p,{file_extensiones:".jpg, image/*",imagen:e.bitacora.checklistImagenVehiculo.imagen_frontal,disable:e.disabled,error:!!e.v$.checklistImagenVehiculo.imagen_frontal.$errors.length,alto:"200px","onUpdate:modelValue":o[51]||(o[51]=a=>e.bitacora.checklistImagenVehiculo.imagen_frontal=a)},null,8,["imagen","disable","error"])]),l("div",Kl,[o[114]||(o[114]=l("label",{class:"q-mb-sm block"},"Parte trasera",-1)),i(p,{file_extensiones:".jpg, image/*",imagen:e.bitacora.checklistImagenVehiculo.imagen_trasera,disable:e.disabled,error:!!e.v$.checklistImagenVehiculo.imagen_trasera.$errors.length,alto:"200px","onUpdate:modelValue":o[52]||(o[52]=a=>e.bitacora.checklistImagenVehiculo.imagen_trasera=a)},null,8,["imagen","disable","error"])]),l("div",Hl,[o[115]||(o[115]=l("label",{class:"q-mb-sm block"},"Parte Lateral Izq.",-1)),i(p,{file_extensiones:".jpg, image/*",imagen:e.bitacora.checklistImagenVehiculo.imagen_lateral_izquierda,disable:e.disabled,error:!!e.v$.checklistImagenVehiculo.imagen_lateral_izquierda.$errors.length,alto:"200px","onUpdate:modelValue":o[53]||(o[53]=a=>e.bitacora.checklistImagenVehiculo.imagen_lateral_izquierda=a)},null,8,["imagen","disable","error"])]),l("div",Gl,[o[116]||(o[116]=l("label",{class:"q-mb-sm block"},"Parte Lateral Der.",-1)),i(p,{file_extensiones:".jpg, image/*",imagen:e.bitacora.checklistImagenVehiculo.imagen_lateral_derecha,disable:e.disabled,error:!!e.v$.checklistImagenVehiculo.imagen_lateral_derecha.$errors.length,alto:"200px","onUpdate:modelValue":o[54]||(o[54]=a=>e.bitacora.checklistImagenVehiculo.imagen_lateral_derecha=a)},null,8,["imagen","disable","error"])]),l("div",Yl,[o[117]||(o[117]=l("label",{class:"q-mb-sm block"},"Tablero (kilometraje)",-1)),i(p,{file_extensiones:".jpg, image/*",imagen:e.bitacora.checklistImagenVehiculo.imagen_tablero_km,disable:e.disabled,error:!!e.v$.checklistImagenVehiculo.imagen_tablero_km.$errors.length,alto:"200px","onUpdate:modelValue":o[55]||(o[55]=a=>e.bitacora.checklistImagenVehiculo.imagen_tablero_km=a)},null,8,["imagen","disable","error"])]),l("div",Jl,[o[118]||(o[118]=l("label",{class:"q-mb-sm block"},"Tablero (radio)",-1)),i(p,{file_extensiones:".jpg, image/*",imagen:e.bitacora.checklistImagenVehiculo.imagen_tablero_radio,disable:e.disabled,error:!!e.v$.checklistImagenVehiculo.imagen_tablero_radio.$errors.length,alto:"200px","onUpdate:modelValue":o[56]||(o[56]=a=>e.bitacora.checklistImagenVehiculo.imagen_tablero_radio=a)},null,8,["imagen","disable","error"])]),l("div",Wl,[o[119]||(o[119]=l("label",{class:"q-mb-sm block"},"Asientos",-1)),i(p,{file_extensiones:".jpg, image/*",imagen:e.bitacora.checklistImagenVehiculo.imagen_asientos,disable:e.disabled,error:!!e.v$.checklistImagenVehiculo.imagen_asientos.$errors.length,alto:"200px","onUpdate:modelValue":o[57]||(o[57]=a=>e.bitacora.checklistImagenVehiculo.imagen_asientos=a)},null,8,["imagen","disable","error"])]),l("div",Xl,[l("label",Zl,[o[121]||(o[121]=h("Herramientas y accesorios ")),i(Oe,{class:"bg-dark"},{default:s(()=>o[120]||(o[120]=[h("La im\xE1gen debe incluir tri\xE1ngulos, extintor, gata, conos, caja de herramientas ")])),_:1})]),i(p,{file_extensiones:".jpg, image/*",imagen:e.bitacora.checklistImagenVehiculo.imagen_accesorios,disable:e.disabled,error:!!e.v$.checklistImagenVehiculo.imagen_accesorios.$errors.length,alto:"200px","onUpdate:modelValue":o[58]||(o[58]=a=>e.bitacora.checklistImagenVehiculo.imagen_accesorios=a)},null,8,["imagen","disable","error"])]),l("div",_l,[o[122]||(o[122]=l("label",{class:"q-mb-sm block"},"Observaci\xF3n",-1)),i(v,{autogrow:"",modelValue:e.bitacora.checklistImagenVehiculo.observacion,"onUpdate:modelValue":o[59]||(o[59]=a=>e.bitacora.checklistImagenVehiculo.observacion=a),disable:e.disabled,placeholder:"Opcional",hint:"Ingresa alguna observaci\xF3n o novedad presentada en el veh\xEDculo",outlined:"",dense:""},null,8,["modelValue","disable"])])])]),_:1})):y("",!0)]),_:1})]),_:1},8,["mixin","configuracionColumnas","tab-options","tabDefecto","permitirEditar","filtrar","accion1","accion2"]),i(E,{comportamiento:e.modales,persistente:!1,"mostrar-listado":!1,onGuardado:o[61]||(o[61]=a=>e.guardado(a))},null,8,["comportamiento"])],64)}var as=Oo(Ma,[["render",xl]]);export{as as default};
