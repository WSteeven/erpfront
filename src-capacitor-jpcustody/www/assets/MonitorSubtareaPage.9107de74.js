import{d as Q,m as q,u as N,c as S,f as L,h as $,bW as g,p as G,by as k,_ as W,t as _,v as Z,P as H,F as C,y as c,z as n,O as J,D as K,B as U}from"./index.2ef7a81a.js";import{Q as X}from"./QPage.2bc1c297.js";import{c as Y}from"./configuracionColumnasSubtarea.8c536551.js";import{u as x}from"./BotonesTablaSubtarea.0f44e33a.js";import{S as oo}from"./Subtarea.3371ad54.js";import{t as ao}from"./tareas.utils.309e0dff.js";import{u as to}from"./ArchivoSeguimiento.e6fa0c0b.js";import{u as ro}from"./utils.a862dc08.js";import{E as io}from"./EssentialTableTabs.3fb37590.js";import{M as eo}from"./ModalEntidad.be40edc8.js";import{C as no}from"./CausaIntervencionController.dc3bd3ed.js";import{M as so}from"./MotivoSuspendidoController.36e551f0.js";import{C as mo}from"./ComportamientoModalesSubtarea.48cda70b.js";import{M as po}from"./MotivoPausaController.809d093c.js";import{C as lo}from"./ContenedorSimpleMixin.617817a8.js";import{S as co}from"./SubtareaController.17c816d7.js";import"./EssentialTable.f528a579.js";import"./QSelect.69d1b992.js";import"./QChip.c5c0b225.js";import"./QItemSection.3a5d4c83.js";import"./QMenu.f50512a6.js";import"./position-engine.093dda28.js";import"./format.8ac60962.js";import"./QFile.f5c4066f.js";import"./QToolbar.ff7ff7d8.js";import"./use-fullscreen.a336d1b1.js";import"./QBadge.ebf9f349.js";import"./QPopupProxy.567210a4.js";import"./_commonjsHelpers.8402d862.js";import"./QImg.9c11306d.js";import"./VisorImagen.12af3936.js";import"./seleccionContratacionPersonal.utils.e3e1ed3d.js";import"./ErrorComponent.94e1365a.js";import"./i18n-validators.46fc4c83.js";import"./index.e1f41ef1.js";import"./BotonesTablaTicket.e7e622e1.js";import"./ComponenteModal.domain.57cc3867.js";import"./index.e8d8fb1e.js";import"./DepartamentoController.3b247c8d.js";import"./FiltrosListadosTicket.585bfc8e.js";import"./filtrosListadosGenerales.79b6e840.js";import"./QScrollArea.0279c0c6.js";import"./QResizeObserver.8bc492d6.js";import"./QScrollObserver.42cd2ac8.js";import"./TouchPan.819070cc.js";import"./touch.9135741d.js";import"./es.edeb524b.js";import"./dayjs.min.80d1628b.js";import"./entidadAuditable.75a46700.js";import"./TablaFilasDinamicas.15460688.js";import"./buttonSubmits.35676009.js";import"./Archivo.c26f5472.js";import"./use-slider.d33deb34.js";import"./TicketController.c7414395.js";import"./CategoriaTipoTicketController.ef27cb48.js";import"./TipoTicketController.5a985bad.js";import"./MotivoCanceladoTicketController.be313527.js";import"./QTabs.5cdabeb1.js";import"./QTabPanels.7f1e5320.js";import"./trabajoAsignado.e3e10b9e.js";import"./ComportamientoModalesTicketAsignado.09d28e4a.js";import"./FiltroMiBodegaEmpleado.17e6ec3a.js";import"./ClienteMaterialEmpleadoController.d7fd393e.js";import"./listadoMaterialesDevolucion.45ff826c.js";import"./FiltroMiBodegaProyecto.2d9cfe83.js";import"./EtapaController.fd57e676.js";import"./ProyectoController.03d7427c.js";import"./movilizacionSubtarea.69c3376e.js";import"./QUploader.6e8b7051.js";import"./QCircularProgress.f92822f9.js";import"./configuracionColumnasArchivoSubtarea.215f4ffd.js";import"./EssentialTablePagination.73d42aee.js";import"./configuracion_general.ca1e935d.js";import"./ConfiguracionController.337fc7d3.js";import"./QExpansionItem.19ca5c53.js";import"./configuracionColumnasMovilizacionSubtarea.e610a352.js";import"./configuracionColumnasEmpleadoGrupo.222e165b.js";import"./FiltrosListadosTarea.dcf41243.js";import"./DesignarResponsableTrabajo.1675f6ce.js";import"./QBtnToggle.af3458e4.js";import"./EssentialSelectableTable.97da6dd3.js";import"./selector.4bfc5776.js";import"./SelectorController.438cc9af.js";import"./Empleado.20234ba0.js";import"./GrupoController.23616581.js";import"./LabelAbrirModal.4e2d6fbb.js";import"./TabLayout.5bc8ab45.js";import"./ArchivoSubtareaController.578a1c77.js";import"./TipoTrabajoController.e56227e1.js";import"./AlimentacionGrupoPage.4fb0ba7d.js";import"./QForm.e1af9500.js";import"./TareaController.f1ef1787.js";import"./ClienteFinalController.d7d6390b.js";import"./MovilizacionSubtareaController.c9de9480.js";import"./ClienteFinalPage.73ec26ba.js";import"./ClienteController.34c1759e.js";import"./ProvinciaController.6d15d81e.js";import"./RegistroTendido.efbf60a5.js";import"./configuracionColumnasProductos.4f52212a.js";var uo=Q({components:{EssentialTableTabs:io,ModalesEntidad:eo},setup(){const o=to();ro().setQuasar(q());const a=N(),r=new lo(oo,new co),{listado:i,listadosAuxiliares:d,filtros:u}=r.useReferencias(),{filtrar:e,listar:s,cargarVista:h,obtenerListados:v}=r.useComportamiento();h(async()=>{await v({motivosSuspendidos:new so,motivosPausas:new po,causasIntervenciones:new no})});const m=new mo,{btnIniciar:M,btnPausar:j,btnReanudar:F,btnSeguimiento:E,btnReagendar:T,btnRealizar:A,btnSuspender:w,btnCancelar:V,btnFinalizar:y,btnVerAlimentacion:I,setFiltrarTrabajoAsignado:P,guardadoModalesSubtarea:z}=x(i,m,d);P(l);const b=S(),p=S(),O=L(()=>!i.value.length),R=!a.esContabilidad,B={titulo:"M\xE1s detalles",icono:"bi-eye",accion:({entidad:t})=>{o.idSubtareaSeleccionada=t.id,o.accion=k.consultar,m.abrirModalEntidad("SubtareaPage")}};function l(t){const f="id,codigo_tarea,codigo_subtarea,titulo,estado,grupo,grupo_id,empleado_responsable,empleado_responsable_id,coordinador,tipo_trabajo,cantidad_adjuntos,fecha_solicitud,es_ventana,fecha_hora_creacion,fecha_inicio_trabajo,hora_inicio_trabajo,hora_fin_trabajo,fecha_hora_asignacion,fecha_hora_agendado,fecha_hora_ejecucion,fecha_hora_realizado,fecha_hora_finalizacion,dias_ocupados,fecha_hora_suspendido,motivo_suspendido,fecha_hora_cancelado,motivo_cancelado,subtarea_dependiente,canton,cliente,cliente_id,proyecto,proyecto_id,puede_ejecutar,puede_suspender,es_responsable,tarea_id";u.fields={estado:t,campos:f},b.value=t,p.value.getSearchValue()?p.value.toSearch():s({estado:t,campos:f,paginate:!0})}$(()=>l(a.esContabilidad?g.FINALIZADO:g.AGENDADO));function D(t){e(t)}return{refTabla:p,mixin:r,tabActual:b,columnasSubtareas:[...Y,G],listado:i,tabOptionsEstadosSubtareasMonitor:ao,btnConsultarSubtarea:B,btnIniciar:M,btnPausar:j,btnReanudar:F,btnRealizar:A,modalesSubtarea:m,btnSeguimiento:E,btnReagendar:T,btnSuspender:w,btnCancelar:V,btnFinalizar:y,btnVerAlimentacion:I,filtrarSubtareas:l,filtrar:e,aplicarFiltro:D,altoFijo:O,mostrarTabs:R,guardadoModalesSubtarea:z}}});const bo={class:"column q-mb-md q-gutter-sm items-center"};function fo(o,a,r,i,d,u){const e=_("essential-table-tabs"),s=_("modales-entidad");return Z(),H(X,{padding:""},{default:C(()=>[c("div",bo,[a[2]||(a[2]=c("b",{class:"text-h5 text-bold"},"Monitor",-1)),a[3]||(a[3]=c("small",null,"Ten una visi\xF3n completa de todos los trabajos y sus estados.",-1)),n(J,{color:"primary",class:"q-px-md",to:{name:"tareas"},"no-caps":"",dense:"",square:"",unelevated:""},{default:C(()=>[a[1]||(a[1]=K("Ir a Control de tareas ")),n(U,{name:"bi-box-arrow-in-right",class:"q-ml-sm"})]),_:1})]),n(e,{ref:"refTabla",class:"custom-shadow5 borde rounded",titulo:"Existen "+o.listado.length+" subtarea(s) en estado "+o.tabActual+".",configuracionColumnas:o.columnasSubtareas,datos:o.listado,tabOptions:o.tabOptionsEstadosSubtareasMonitor,accion1:o.btnConsultarSubtarea,accion2:o.btnIniciar,accion3:o.btnPausar,accion4:o.btnReanudar,accion5:o.btnRealizar,accion6:o.btnReagendar,accion7:o.btnSeguimiento,accion8:o.btnSuspender,accion9:o.btnCancelar,accion10:o.btnFinalizar,accion11:o.btnVerAlimentacion,separador:"cell",permitirConsultar:!1,permitirEditar:!1,permitirEliminar:!1,"mostrar-botones":!1,"mostrar-footer":"",permitirFiltrar:!0,onTabSeleccionado:o.filtrarSubtareas,tabDefecto:o.tabActual,altoFijo:o.altoFijo,onFiltrar:o.aplicarFiltro,onLimpiarListado:a[0]||(a[0]=()=>o.listado=[]),mostrarExportar:!0,"ajustar-celdas":"",paginate:"",mixin:o.mixin},null,8,["titulo","configuracionColumnas","datos","tabOptions","accion1","accion2","accion3","accion4","accion5","accion6","accion7","accion8","accion9","accion10","accion11","onTabSeleccionado","tabDefecto","altoFijo","onFiltrar","mixin"]),n(s,{comportamiento:o.modalesSubtarea,"mixin-modal":o.mixin,"confirmar-cerrar":!1,persistente:!1,onGuardado:o.guardadoModalesSubtarea},null,8,["comportamiento","mixin-modal","onGuardado"])]),_:1})}var mt=W(uo,[["render",fo]]);export{mt as default};
